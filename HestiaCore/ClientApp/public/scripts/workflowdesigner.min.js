(function(){var e=function(){return this}();e||"undefined"==typeof window||(e=window);var r=function(e,t,i){"string"==typeof e?(2==arguments.length&&(i=t),r.modules[e]||(r.payloads[e]=i,r.modules[e]=null)):r.original?r.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};r.modules={},r.payloads={};function o(e,t,i){if("string"==typeof t){var n=c(e,t);if(null!=n)return i&&i(),n}else if("[object Array]"===Object.prototype.toString.call(t)){for(var r=[],o=0,s=t.length;o<s;++o){var a=c(e,t[o]);if(null==a&&l.original)return;r.push(a)}return i&&i.apply(null,r)||!0}}var t,i,l=function(e,t){var i=o("",e,t);return null==i&&l.original?l.original.apply(this,arguments):i},s=function(e,t){if(-1!==t.indexOf("!")){var i=t.split("!");return s(e,i[0])+"!"+s(e,i[1])}if("."==t.charAt(0))for(t=e.split("/").slice(0,-1).join("/")+"/"+t;-1!==t.indexOf(".")&&n!=t;){var n=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return t},c=function(e,i){i=s(e,i);var t,n=r.modules[i];return n||("function"==typeof(n=r.payloads[i])&&(e={id:i,uri:"",exports:t={},packaged:!0},t=n(function(e,t){return o(i,e,t)},t,e)||e.exports,r.modules[i]=t,delete r.payloads[i]),n=r.modules[i]=t||n),n};i=e,(t="ace")&&(e[t]||(e[t]={}),i=e[t]),i.define&&i.define.packaged||(r.original=i.define,i.define=r,i.define.packaged=!0),i.require&&i.require.packaged||(l.original=i.require,i.require=l,i.require.packaged=!0)})(),ace.define("ace/lib/regexp",["require","exports","module"],function(e,t,i){"use strict";var n,o={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},s=void 0===o.exec.call(/()??/,"")[1],a=(n=/^/g,o.test.call(n,""),!n.lastIndex);a&&s||(RegExp.prototype.exec=function(e){var t,i,n=o.exec.apply(this,arguments);if("string"==typeof e&&n){if(!s&&1<n.length&&-1<function(e,t,i){if(Array.prototype.indexOf)return e.indexOf(t,i);for(var n=i||0;n<e.length;n++)if(e[n]===t)return n;return-1}(n,"")&&(i=RegExp(this.source,o.replace.call(((i=this).global?"g":"")+(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.extended?"x":"")+(i.sticky?"y":""),"g","")),o.replace.call(e.slice(n.index),i,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(n[e]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var r=1;r<n.length;r++)(t=this._xregexp.captureNames[r-1])&&(n[t]=n[r]);!a&&this.global&&!n[0].length&&this.lastIndex>n.index&&this.lastIndex--}return n},a||(RegExp.prototype.test=function(e){e=o.exec.call(this,e);return e&&this.global&&!e[0].length&&this.lastIndex>e.index&&this.lastIndex--,!!e}))}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(e,t,i){function o(){}function n(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(e){}}function r(e){return(e=+e)!=e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(0<e||-1)*Math.floor(Math.abs(e))),e}Function.prototype.bind||(Function.prototype.bind=function(t){var i=this;if("function"!=typeof i)throw new TypeError("Function.prototype.bind called on incompatible "+i);var n=g.call(arguments,1),r=function(){if(this instanceof r){var e=i.apply(this,n.concat(g.call(arguments)));return Object(e)===e?e:this}return i.apply(t,n.concat(g.call(arguments)))};return i.prototype&&(o.prototype=i.prototype,r.prototype=new o,o.prototype=null),r});var s,a,l,c,h,u,d=Function.prototype.call,f=Array.prototype,p=Object.prototype,g=f.slice,m=d.bind(p.toString),v=d.bind(p.hasOwnProperty);function y(e){e=new Array(e+2);return e[0]=e[1]=0,e}(h=v(p,"__defineGetter__"))&&(s=d.bind(p.__defineGetter__),a=d.bind(p.__defineSetter__),l=d.bind(p.__lookupGetter__),c=d.bind(p.__lookupSetter__)),2!=[1,2].splice(0).length&&((x=[]).splice.apply(x,y(20)),x.splice.apply(x,y(26)),d=x.length,x.splice(5,0,"XXX"),x.length,(d+1==x.length?1:void 0)?(u=Array.prototype.splice,Array.prototype.splice=function(e,t){return arguments.length?u.apply(this,[void 0===e?0:e,void 0===t?this.length-e:t].concat(g.call(arguments,2))):[]}):Array.prototype.splice=function(e,t){var i=this.length;0<e?i<e&&(e=i):null==e?e=0:e<0&&(e=Math.max(i+e,0)),e+t<i||(t=i-e);var n=this.slice(e,e+t),r=g.call(arguments,2),o=r.length;if(e===i)o&&this.push.apply(this,r);else{var s=Math.min(t,i-e),a=e+s,l=a+o-s,c=i-a,s=i-s;if(l<a)for(var h=0;h<c;++h)this[l+h]=this[a+h];else if(a<l)for(h=c;h--;)this[l+h]=this[a+h];if(o&&e===s)this.length=s,this.push.apply(this,r);else for(this.length=s+o,h=0;h<o;++h)this[e+h]=r[h]}return n}),Array.isArray||(Array.isArray=function(e){return"[object Array]"==m(e)});var b,w,x=Object("a"),C="a"!=x[0]||!(0 in x);Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=$(this),i=C&&"[object String]"==m(this)?this.split(""):t,n=arguments[1],r=-1,o=i.length>>>0;if("[object Function]"!=m(e))throw new TypeError;for(;++r<o;)r in i&&e.call(n,i[r],r,t)}),Array.prototype.map||(Array.prototype.map=function(e){var t=$(this),i=C&&"[object String]"==m(this)?this.split(""):t,n=i.length>>>0,r=Array(n),o=arguments[1];if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");for(var s=0;s<n;s++)s in i&&(r[s]=e.call(o,i[s],s,t));return r}),Array.prototype.filter||(Array.prototype.filter=function(e){var t,i=$(this),n=C&&"[object String]"==m(this)?this.split(""):i,r=n.length>>>0,o=[],s=arguments[1];if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");for(var a=0;a<r;a++)a in n&&(t=n[a],e.call(s,t,a,i)&&o.push(t));return o}),Array.prototype.every||(Array.prototype.every=function(e){var t=$(this),i=C&&"[object String]"==m(this)?this.split(""):t,n=i.length>>>0,r=arguments[1];if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");for(var o=0;o<n;o++)if(o in i&&!e.call(r,i[o],o,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=$(this),i=C&&"[object String]"==m(this)?this.split(""):t,n=i.length>>>0,r=arguments[1];if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");for(var o=0;o<n;o++)if(o in i&&e.call(r,i[o],o,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=$(this),i=C&&"[object String]"==m(this)?this.split(""):t,n=i.length>>>0;if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,o=0;if(2<=arguments.length)r=arguments[1];else for(;;){if(o in i){r=i[o++];break}if(++o>=n)throw new TypeError("reduce of empty array with no initial value")}for(;o<n;o++)o in i&&(r=e.call(void 0,r,i[o],o,t));return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=$(this),i=C&&"[object String]"==m(this)?this.split(""):t,n=i.length>>>0;if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var r,o=n-1;if(2<=arguments.length)r=arguments[1];else for(;;){if(o in i){r=i[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}for(;o in this&&(r=e.call(void 0,r,i[o],o,t)),o--;);return r}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(e){var t=C&&"[object String]"==m(this)?this.split(""):$(this),i=t.length>>>0;if(!i)return-1;var n=0;for(1<arguments.length&&(n=r(arguments[1])),n=0<=n?n:Math.max(0,i+n);n<i;n++)if(n in t&&t[n]===e)return n;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(e){var t=C&&"[object String]"==m(this)?this.split(""):$(this),i=t.length>>>0;if(!i)return-1;var n=i-1;for(1<arguments.length&&(n=Math.min(n,r(arguments[1]))),n=0<=n?n:i-Math.abs(n);0<=n;n--)if(n in t&&e===t[n])return n;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:p)}),Object.getOwnPropertyDescriptor||(Object.getOwnPropertyDescriptor=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+e);if(v(e,t)){var i={enumerable:!0,configurable:!0};if(h){var n=e.__proto__;e.__proto__=p;var r=l(e,t),o=c(e,t);if(e.__proto__=n,r||o)return r&&(i.get=r),o&&(i.set=o),i}return i.value=e[t],i}}),Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),Object.create||(b=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var e,t={};for(e in t)t[e]=null;return t.constructor=t.hasOwnProperty=t.propertyIsEnumerable=t.isPrototypeOf=t.toLocaleString=t.toString=t.valueOf=t.__proto__=null,t},Object.create=function(e,t){var i;if(null===e)i=b();else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");function n(){}n.prototype=e,(i=new n).__proto__=e}return void 0!==t&&Object.defineProperties(i,t),i}),Object.defineProperty&&(x=n({}),A="undefined"==typeof document||n(document.createElement("div")),x&&A||(w=Object.defineProperty)),Object.defineProperty&&!w||(Object.defineProperty=function(e,t,i){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.defineProperty called on non-object: "+e);if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError("Property description must be an object: "+i);if(w)try{return w.call(Object,e,t,i)}catch(e){}if(v(i,"value")){var n;h&&(l(e,t)||c(e,t))?(n=e.__proto__,e.__proto__=p,delete e[t],e[t]=i.value,e.__proto__=n):e[t]=i.value}else{if(!h)throw new TypeError("getters & setters can not be defined on this javascript engine");v(i,"get")&&s(e,t,i.get),v(i,"set")&&a(e,t,i.set)}return e}),Object.defineProperties||(Object.defineProperties=function(e,t){for(var i in t)v(t,i)&&Object.defineProperty(e,i,t[i]);return e}),Object.seal||(Object.seal=function(e){return e}),Object.freeze||(Object.freeze=function(e){return e});try{Object.freeze(function(){})}catch(e){Object.freeze=function(t){return function(e){return"function"==typeof e?e:t(e)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(e){return e}),Object.isSealed||(Object.isSealed=function(e){return!1}),Object.isFrozen||(Object.isFrozen=function(e){return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)===e)throw new TypeError;for(var t="";v(e,t);)t+="?";e[t]=!0;var i=v(e,t);return delete e[t],i}),!Object.keys){var S,_=!0,k=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],M=k.length;for(S in{toString:null})_=!1;Object.keys=function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on a non-object");var t,i=[];for(t in e)v(e,t)&&i.push(t);if(_)for(var n=0,r=M;n<r;n++){var o=k[n];v(e,o)&&i.push(o)}return i}}Date.now||(Date.now=function(){return(new Date).getTime()});var T,D,A="\t\n\v\f\r                　\u2028\u2029\ufeff";String.prototype.trim||(A="[\t\n\v\f\r                　\u2028\u2029\ufeff]",T=new RegExp("^"+A+A+"*"),D=new RegExp(A+A+"*$"),String.prototype.trim=function(){return String(this).replace(T,"").replace(D,"")});var $=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)}}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(e,t,i){"use strict";e("./regexp"),e("./es5-shim"),"undefined"==typeof Element||Element.prototype.remove||Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})}),ace.define("ace/lib/useragent",["require","exports","module"],function(e,t,i){"use strict";t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var n="object"==typeof navigator?navigator:{},r=(/mac|win|linux/i.exec(n.platform)||["other"])[0].toLowerCase(),o=n.userAgent||"",n=n.appName||"";t.isWin="win"==r,t.isMac="mac"==r,t.isLinux="linux"==r,t.isIE="Microsoft Internet Explorer"==n||0<=n.indexOf("MSAppHost")?parseFloat((o.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((o.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=o.match(/ Gecko\/\d+/),t.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(o.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(o.split(" Chrome/")[1])||void 0,t.isEdge=parseFloat(o.split(" Edge/")[1])||void 0,t.isAIR=0<=o.indexOf("AdobeAIR"),t.isAndroid=0<=o.indexOf("Android"),t.isChromeOS=0<=o.indexOf(" CrOS "),t.isIOS=/iPad|iPhone|iPod/.test(o)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIOS||t.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(e,o,t){"use strict";var i=e("./useragent");o.buildDom=function e(t,i,n){if("string"==typeof t&&t){var r=document.createTextNode(t);return i&&i.appendChild(r),r}if(!Array.isArray(t))return t&&t.appendChild&&i&&i.appendChild(t),t;if("string"!=typeof t[0]||!t[0]){for(var o=[],s=0;s<t.length;s++){var a=e(t[s],i,n);a&&o.push(a)}return o}var l=document.createElement(t[0]),c=t[1],r=1;c&&"object"==typeof c&&!Array.isArray(c)&&(r=2);for(s=r;s<t.length;s++)e(t[s],l,n);return 2==r&&Object.keys(c).forEach(function(e){var t=c[e];"class"===e?l.className=Array.isArray(t)?t.join(" "):t:"function"==typeof t||"value"==e||"$"==e[0]?l[e]=t:"ref"===e?n&&(n[t]=l):null!=t&&l.setAttribute(e,t)}),i&&i.appendChild(l),l},o.getDocumentHead=function(e){return(e=e||document).head||e.getElementsByTagName("head")[0]||e.documentElement},o.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},o.removeChildren=function(e){e.innerHTML=""},o.createTextNode=function(e,t){return(t?t.ownerDocument:document).createTextNode(e)},o.createFragment=function(e){return(e?e.ownerDocument:document).createDocumentFragment()},o.hasCssClass=function(e,t){return-1!==(e.className+"").split(/\s+/g).indexOf(t)},o.addCssClass=function(e,t){o.hasCssClass(e,t)||(e.className+=" "+t)},o.removeCssClass=function(e,t){for(var i=e.className.split(/\s+/g);;){var n=i.indexOf(t);if(-1==n)break;i.splice(n,1)}e.className=i.join(" ")},o.toggleCssClass=function(e,t){for(var i=e.className.split(/\s+/g),n=!0;;){var r=i.indexOf(t);if(-1==r)break;n=!1,i.splice(r,1)}return n&&i.push(t),e.className=i.join(" "),n},o.setCssClass=function(e,t,i){i?o.addCssClass(e,t):o.removeCssClass(e,t)},o.hasCssString=function(e,t){var i,n=0;if(i=(t=t||document).querySelectorAll("style"))for(;n<i.length;)if(i[n++].id===e)return!0},o.importCssString=function(e,t,i){var n=i;i&&i.getRootNode&&(n=i.getRootNode())&&n!=i||(n=document);var r=n.ownerDocument||n;if(t&&o.hasCssString(t,n))return null;t&&(e+="\n/*# sourceURL=ace/css/"+t+" */");i=o.createElement("style");i.appendChild(r.createTextNode(e)),t&&(i.id=t),n==r&&(n=o.getDocumentHead(r)),n.insertBefore(i,n.firstChild)},o.importCssStylsheet=function(e,t){o.buildDom(["link",{rel:"stylesheet",href:e}],o.getDocumentHead(t))},o.scrollbarWidth=function(e){var t=o.createElement("ace_inner");t.style.width="100%",t.style.minWidth="0px",t.style.height="200px",t.style.display="block";var i=o.createElement("ace_outer"),n=i.style;n.position="absolute",n.left="-10000px",n.overflow="hidden",n.width="200px",n.minWidth="0px",n.height="150px",n.display="block",i.appendChild(t);var r=e.documentElement;r.appendChild(i);e=t.offsetWidth;n.overflow="scroll";t=t.offsetWidth;return e==t&&(t=i.clientWidth),r.removeChild(i),e-t},"undefined"==typeof document&&(o.importCssString=function(){}),o.computedStyle=function(e,t){return window.getComputedStyle(e,"")||{}},o.setStyle=function(e,t,i){e[t]!==i&&(e[t]=i)},o.HAS_CSS_ANIMATION=!1,o.HAS_CSS_TRANSFORMS=!1,o.HI_DPI=!i.isWin||"undefined"!=typeof window&&1.5<=window.devicePixelRatio,"undefined"!=typeof document&&(e=document.createElement("div"),o.HI_DPI&&void 0!==e.style.transform&&(o.HAS_CSS_TRANSFORMS=!0),i.isEdge||void 0===e.style.animationName||(o.HAS_CSS_ANIMATION=!0),e=null),o.HAS_CSS_TRANSFORMS?o.translate=function(e,t,i){e.style.transform="translate("+Math.round(t)+"px, "+Math.round(i)+"px)"}:o.translate=function(e,t,i){e.style.top=Math.round(i)+"px",e.style.left=Math.round(t)+"px"}}),ace.define("ace/lib/oop",["require","exports","module"],function(e,i,t){"use strict";i.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},i.mixin=function(e,t){for(var i in t)e[i]=t[i];return e},i.implement=function(e,t){i.mixin(e,t)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(e,t,i){"use strict";var n=e("./oop"),r=function(){var e,t,i={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in i.FUNCTION_KEYS)e=i.FUNCTION_KEYS[t].toLowerCase(),i[e]=parseInt(t,10);for(t in i.PRINTABLE_KEYS)e=i.PRINTABLE_KEYS[t].toLowerCase(),i[e]=parseInt(t,10);return n.mixin(i,i.MODIFIER_KEYS),n.mixin(i,i.PRINTABLE_KEYS),n.mixin(i,i.FUNCTION_KEYS),i.enter=i.return,i.escape=i.esc,i.del=i.delete,i[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)i.KEY_MODS[t]=e.filter(function(e){return t&i.KEY_MODS[e]}).join("-")+"-"}(),i.KEY_MODS[0]="",i.KEY_MODS[-1]="input-",i}();n.mixin(t,r),t.keyCodeToString=function(e){var t=r[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,u,t){"use strict";function r(){return null==i&&function(){i=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){i={passive:!1}}})}catch(e){}}(),i}function o(e,t,i){this.elem=e,this.type=t,this.callback=i}function s(e,t,i){var n,r=g(t);if(!d.isMac&&c){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(r|=8),c.altGr){if(3==(3&r))return;c.altGr=0}18!==i&&17!==i||(n="location"in t?t.location:t.keyLocation,17===i&&1===n?1==c[i]&&(h=t.timeStamp):18===i&&3===r&&2===n&&t.timeStamp-h<50&&(c.altGr=!0))}if((i in l.MODIFIER_KEYS&&(i=-1),!r&&13===i)&&(3===(n="location"in t?t.location:t.keyLocation)&&(e(t,r,-i),t.defaultPrevented)))return;if(d.isChromeOS&&8&r){if(e(t,r,i),t.defaultPrevented)return;r&=-9}return!!(r||i in l.FUNCTION_KEYS||i in l.PRINTABLE_KEYS)&&e(t,r,i)}function a(){c=Object.create(null)}var i,l=e("./keys"),d=e("./useragent"),c=null,h=0;o.prototype.destroy=function(){p(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var f=u.addListener=function(e,t,i,n){e.addEventListener(t,i,r()),n&&n.$toDestroy.push(new o(e,t,i))},p=u.removeListener=function(e,t,i){e.removeEventListener(t,i,r())};u.stopEvent=function(e){return u.stopPropagation(e),u.preventDefault(e),!1},u.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation()},u.preventDefault=function(e){e.preventDefault&&e.preventDefault()},u.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||d.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.button},u.capture=function(e,t,i){function n(e){t&&t(e),i&&i(e),p(document,"mousemove",t),p(document,"mouseup",n),p(document,"dragstart",n)}return f(document,"mousemove",t),f(document,"mouseup",n),f(document,"dragstart",n),n},u.addMouseWheelListener=function(e,t,i){"onmousewheel"in e?f(e,"mousewheel",function(e){void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/8,e.wheelY=-e.wheelDeltaY/8):(e.wheelX=0,e.wheelY=-e.wheelDelta/8),t(e)},i):"onwheel"in e?f(e,"wheel",function(e){switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.35*e.deltaX||0,e.wheelY=.35*e.deltaY||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}t(e)},i):f(e,"DOMMouseScroll",function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),t(e)},i)},u.addMultiMouseDownListener=function(e,i,n,r,t){function o(e){var t;if(0!==u.getButton(e)?c=0:1<e.detail?4<++c&&(c=1):c=1,d.isIE&&(t=5<Math.abs(e.clientX-s)||5<Math.abs(e.clientY-a),l&&!t||(c=1),l&&clearTimeout(l),l=setTimeout(function(){l=null},i[c-1]||600),1==c&&(s=e.clientX,a=e.clientY)),e._clicks=c,n[r]("mousedown",e),4<c)c=0;else if(1<c)return n[r](h[c],e)}var s,a,l,c=0,h={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(e)||(e=[e]),e.forEach(function(e){f(e,"mousedown",o,t)})};function g(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}var m;u.getModifierString=function(e){return l.KEY_MODS[g(e)]},u.addCommandKeyListener=function(e,i,t){var n,r;d.isOldGecko||d.isOpera&&!("KeyboardEvent"in window)?(n=null,f(e,"keydown",function(e){n=e.keyCode},t),f(e,"keypress",function(e){return s(i,e,n)},t)):(r=null,f(e,"keydown",function(e){c[e.keyCode]=(c[e.keyCode]||0)+1;var t=s(i,e,e.keyCode);return r=e.defaultPrevented,t},t),f(e,"keypress",function(e){r&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(u.stopEvent(e),r=null)},t),f(e,"keyup",function(e){c[e.keyCode]=null},t),c||(a(),f(window,"focus",a)))},"object"==typeof window&&window.postMessage&&!d.isOldIE&&(m=1,u.nextTick=function(t,i){i=i||window;var n="zero-timeout-message-"+m++,r=function(e){e.data==n&&(u.stopPropagation(e),p(i,"message",r),t())};f(i,"message",r),i.postMessage(n,"*")}),u.$idleBlocked=!1,u.onIdle=function(t,e){return setTimeout(function e(){u.$idleBlocked?setTimeout(e,100):t()},e)},u.$idleBlockId=null,u.blockIdle=function(e){u.$idleBlockId&&clearTimeout(u.$idleBlockId),u.$idleBlocked=!0,u.$idleBlockId=setTimeout(function(){u.$idleBlocked=!1},e||100)},u.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),u.nextFrame?u.nextFrame=u.nextFrame.bind(window):u.nextFrame=function(e){setTimeout(e,17)}}),ace.define("ace/range",["require","exports","module"],function(e,t,i){"use strict";function o(e,t,i,n){this.start={row:e,column:t},this.end={row:i,column:n}}(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t=e.end,e=e.start,t=this.compare(t.row,t.column);return 1==t?1==(t=this.compare(e.row,e.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(e.row,e.column))?-1:1==t?42:0},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){e=this.compareRange(e);return-1==e||0==e||1==e},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row!==e||t<=this.end.column?0:1:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){var i,n;return this.end.row>t?i={row:t+1,column:0}:this.end.row<e&&(i={row:e,column:0}),this.start.row>t?n={row:t+1,column:0}:this.start.row<e&&(n={row:e,column:0}),o.fromPoints(n||this.start,i||this.end)},this.extend=function(e,t){var i,n,r=this.compare(e,t);return 0==r?this:(-1==r?i={row:e,column:t}:n={row:e,column:t},o.fromPoints(i||this.start,n||this.end))},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return o.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new o(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new o(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),e=e.documentToScreenPosition(this.end);return new o(t.row,t.column,e.row,e.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(o.prototype),o.fromPoints=function(e,t){return new o(e.row,e.column,t.row,t.column)},o.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},o.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=o}),ace.define("ace/lib/lang",["require","exports","module"],function(e,t,i){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var i="";0<t;)1&t&&(i+=e),(t>>=1)&&(e+=e);return i};var n=/^\s\s*/,r=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(n,"")},t.stringTrimRight=function(e){return e.replace(r,"")},t.copyObject=function(e){var t,i={};for(t in e)i[t]=e[t];return i},t.copyArray=function(e){for(var t=[],i=0,n=e.length;i<n;i++)e[i]&&"object"==typeof e[i]?t[i]=this.copyObject(e[i]):t[i]=e[i];return t},t.deepCopy=function e(t){if("object"!=typeof t||!t)return t;var i;if(Array.isArray(t)){i=[];for(var n=0;n<t.length;n++)i[n]=e(t[n]);return i}if("[object Object]"!==Object.prototype.toString.call(t))return t;for(n in i={},t)i[n]=e(t[n]);return i},t.arrayToMap=function(e){for(var t={},i=0;i<e.length;i++)t[e[i]]=1;return t},t.createMap=function(e){var t,i=Object.create(null);for(t in e)i[t]=e[t];return i},t.arrayRemove=function(e,t){for(var i=0;i<=e.length;i++)t===e[i]&&e.splice(i,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return(""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var i=[];return e.replace(t,function(e){i.push({offset:arguments[arguments.length-2],length:e.length})}),i},t.deferredCall=function(e){function t(){i=null,e()}var i=null,n=function(e){return n.cancel(),i=setTimeout(t,e||0),n};return(n.schedule=n).call=function(){return this.cancel(),e(),n},n.cancel=function(){return clearTimeout(i),i=null,n},n.isPending=function(){return i},n},t.delayedCall=function(e,t){function i(){r=null,e()}function n(e){null==r&&(r=setTimeout(i,e||t))}var r=null;return n.delay=function(e){r&&clearTimeout(r),r=setTimeout(i,e||t)},(n.schedule=n).call=function(){this.cancel(),e()},n.cancel=function(){r&&clearTimeout(r),r=null},n.isPending=function(){return r},n}}),ace.define("ace/clipboard",["require","exports","module"],function(e,t,i){"use strict";var n;i.exports={lineMode:!1,pasteCancelled:function(){return!!(n&&n>Date.now()-50)||(n=!1)},cancel:function(){n=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(e,t,i){"use strict";var R=e("../lib/event"),P=e("../lib/useragent"),F=e("../lib/dom"),z=e("../lib/lang"),W=e("../clipboard"),B=P.isChrome<18,j=P.isIE,H=63<P.isChrome,K=e("../lib/keys"),V=K.KEY_MODS,U=P.isIOS,G=U?/\s/:/\n/,Y=P.isMobile;t.TextInput=function(e,u){function t(){i=!0,d.blur(),d.focus(),i=!1}function s(){clearTimeout($),$=setTimeout(function(){l&&(d.style.cssText=l,l=""),u.renderer.$isMousePressed=!1,u.renderer.$keepTextAreaAtCursor&&u.renderer.$moveTextAreaToCursor()},0)}var d=F.createElement("textarea");d.className="ace_text-input",d.setAttribute("wrap","off"),d.setAttribute("autocorrect","off"),d.setAttribute("autocapitalize","off"),d.setAttribute("spellcheck",!1),d.style.opacity="0",e.insertBefore(d,e.firstChild);var o=!1,f=!1,a=!1,p=!1,l="";Y||(d.style.fontSize="1px");var g=!1,i=!1,m="",v=0,y=0,b=0;try{var c=document.activeElement===d}catch(e){}R.addListener(d,"blur",function(e){i||(u.onBlur(e),c=!1)},u),R.addListener(d,"focus",function(e){if(!i){if(c=!0,P.isEdge)try{if(!document.hasFocus())return}catch(e){}u.onFocus(e),P.isEdge?setTimeout(w):w()}},u),this.$focusScroll=!1,this.focus=function(){if(l||H||"browser"==this.$focusScroll)return d.focus({preventScroll:!0});var e=d.style.top;d.style.position="fixed",d.style.top="0px";try{var t=0!=d.getBoundingClientRect().top}catch(e){return}var i=[];if(t)for(var n=d.parentElement;n&&1==n.nodeType;)i.push(n),n.setAttribute("ace_nocontext",!0),n=!n.parentElement&&n.getRootNode?n.getRootNode().host:n.parentElement;d.focus({preventScroll:!0}),t&&i.forEach(function(e){e.removeAttribute("ace_nocontext")}),setTimeout(function(){d.style.position="","0px"==d.style.top&&(d.style.top=e)},0)},this.blur=function(){d.blur()},this.isFocused=function(){return c},u.on("beforeEndOperation",function(){var e=u.curOp,t=e&&e.command&&e.command.name;"insertstring"!=t&&(e=t&&(e.docChanged||e.selectionChanged),a&&e&&(m=d.value="",D()),w())});var w=U?function(e){var t;!c||o&&!e||p||((t="\n ab"+(e=e||"")+"cde fg\n")!=d.value&&(d.value=m=t),e=4+(e.length||(u.selection.isEmpty()?0:1)),4==v&&y==e||d.setSelectionRange(4,e),v=4,y=e)}:function(){if(!a&&!p&&(c||k)){a=!0;var e,t,i,n=0,r=0,o="";u.session&&(e=(t=u.selection).getRange(),t=t.cursor.row,n=e.start.column,r=e.end.column,o=u.session.getLine(t),e.start.row!=t?(i=u.session.getLine(t-1),n=e.start.row<t-1?0:n,r+=i.length+1,o=i+"\n"+o):e.end.row!=t?(i=u.session.getLine(t+1),r=e.end.row>t+1?i.length:r,r+=o.length+1,o=o+"\n"+i):Y&&0<t&&(o="\n"+o,r+=1,n+=1),400<o.length&&(n<400&&r<400?o=o.slice(0,400):(o="\n",n=0,r=1)));o=o+"\n\n";if(o!=m&&(d.value=m=o,v=y=o.length),k&&(v=d.selectionStart,y=d.selectionEnd),y!=r||v!=n||d.selectionEnd!=y)try{d.setSelectionRange(n,r),v=n,y=r}catch(e){}a=!1}};this.resetSelection=w,c&&u.onFocus();var n=null;this.setInputHandler=function(e){n=e};function r(e,t){if(k=k&&!1,f)return w(),e&&u.onPaste(e),f=!1,"";for(var i=d.selectionStart,n=d.selectionEnd,r=v,o=m.length-y,s=e,a=e.length-i,l=e.length-n,c=0;0<r&&m[c]==e[c];)c++,r--;for(s=s.slice(c),c=1;0<o&&m.length-c>v-1&&m[m.length-c]==e[e.length-c];)c++,o--;a-=c-1,l-=c-1;var h=s.length-c+1;return h<0&&(r=-h,h=0),s=s.slice(0,h),t||s||a||r||o||l?(p=!0,s&&!r&&!o&&!a&&!l||g?u.onTextInput(s):u.onTextInput(s,{extendLeft:r,extendRight:o,restoreStart:a,restoreEnd:l}),p=!1,m=e,v=i,y=n,b=l,s):""}function h(e){if(a)return T();if(e&&e.inputType){if("historyUndo"==e.inputType)return u.execCommand("undo");if("historyRedo"==e.inputType)return u.execCommand("redo")}var t=d.value,e=r(t,!0);(500<t.length||G.test(e)||Y&&v<1&&v==y)&&w()}function x(e,t){var i=u.getCopyText();if(!i)return R.preventDefault(e);M(e,i)?(U&&(w(i),o=i,setTimeout(function(){o=!1},10)),t?u.onCut():u.onCopy(),R.preventDefault(e)):(o=!0,d.value=i,d.select(),setTimeout(function(){o=!1,w(),t?u.onCut():u.onCopy()}))}function C(e){x(e,!0)}function S(e){x(e,!1)}function _(e){var t=M(e);W.pasteCancelled()||("string"==typeof t?(t&&u.onPaste(t,e),P.isIE&&setTimeout(w),R.preventDefault(e)):(d.value="",f=!0))}var k=!(this.getInputHandler=function(){return n}),M=function(e,t,i){var n=e.clipboardData||window.clipboardData;if(n&&!B){var r=j||i?"Text":"text/plain";try{return t?!1!==n.setData(r,t):n.getData(r)}catch(e){if(!i)return M(e,t,!0)}}};R.addCommandKeyListener(d,u.onCommandKey.bind(u),u),R.addListener(d,"select",function(e){var t;a||(o?o=!1:0===(t=d).selectionStart&&t.selectionEnd>=m.length&&t.value===m&&m&&t.selectionEnd!==y?(u.selectAll(),w()):Y&&d.selectionStart!=v&&w())},u),R.addListener(d,"input",h,u),R.addListener(d,"cut",C,u),R.addListener(d,"copy",S,u),R.addListener(d,"paste",_,u),"oncut"in d&&"oncopy"in d&&"onpaste"in d||R.addListener(e,"keydown",function(e){if((!P.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:S(e);break;case 86:_(e);break;case 88:C(e)}},u);var T=function(){var e;if(a&&u.onCompositionUpdate&&!u.$readOnly)return g?t():void(a.useTextareaForIME?u.onCompositionUpdate(d.value):(e=d.value,r(e),a.markerRange&&(a.context&&(a.markerRange.start.column=a.selectionStart=a.context.compositionStartOffset),a.markerRange.end.column=a.markerRange.start.column+y-a.selectionStart+b)))},D=function(e){u.onCompositionEnd&&!u.$readOnly&&(a=!1,u.onCompositionEnd(),u.off("mousedown",t),e&&h())},A=z.delayedCall(T,50).schedule.bind(null,null);R.addListener(d,"compositionstart",function(e){a||!u.onCompositionStart||u.$readOnly||(a={},g||(e.data&&(a.useTextareaForIME=!1),setTimeout(T,0),u._signal("compositionStart"),u.on("mousedown",t),(e=u.getSelectionRange()).end.row=e.start.row,e.end.column=e.start.column,a.markerRange=e,a.selectionStart=v,u.onCompositionStart(a),a.useTextareaForIME?(m=d.value="",y=v=0):(d.msGetInputContext&&(a.context=d.msGetInputContext()),d.getInputContext&&(a.context=d.getInputContext()))))},u),R.addListener(d,"compositionupdate",T,u),R.addListener(d,"keyup",function(e){27==e.keyCode&&d.value.length<d.selectionStart&&(a||(m=d.value),v=y=-1,w()),A()},u),R.addListener(d,"keydown",A,u),R.addListener(d,"compositionend",D,u),this.getElement=function(){return d},this.setCommandMode=function(e){g=e,d.readOnly=!1},this.setReadOnly=function(e){g||(d.readOnly=e)},this.setCopyWithEmptySelection=function(e){},this.onContextMenu=function(e){k=!0,w(),u._emit("nativecontextmenu",{target:u,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,t){l=l||d.style.cssText,d.style.cssText=(t?"z-index:100000;":"")+(P.isIE?"opacity:0.1;":"")+"text-indent: -"+(v+y)*u.renderer.characterWidth*.5+"px;";var i=u.container.getBoundingClientRect(),t=F.computedStyle(u.container),n=i.top+(parseInt(t.borderTopWidth)||0),r=i.left+(parseInt(i.borderLeftWidth)||0),o=i.bottom-n-d.clientHeight-2,i=function(e){F.translate(d,e.clientX-r-2,Math.min(e.clientY-n-2,o))};i(e),"mousedown"==e.type&&(u.renderer.$isMousePressed=!0,clearTimeout($),P.isWin&&R.capture(u.container,i,s))},this.onContextMenuClose=s;var $,E,L,I,N,e=function(e){u.textInput.onContextMenu(e),s()};function O(e){var t,i,n,r;document.activeElement===L&&(N||a||E.$mouseHandler.isMousePressed||o||(t=L.selectionStart,i=L.selectionEnd,r=null,(n=0)==t?r=K.up:1==t?r=K.home:y<i&&"\n"==m[i]?r=K.end:t<v&&" "==m[t-1]?(r=K.left,n=V.option):t<v||t==v&&y!=v&&t==i?r=K.left:y<i&&2<m.slice(0,i).split("\n").length?r=K.down:y<i&&" "==m[i-1]?(r=K.right,n=V.option):(y<i||i==y&&y!=v&&t==i)&&(r=K.right),t!==i&&(n|=V.shift),r&&(!E.onCommandKey({},n,r)&&E.commands&&(r=K.keyCodeToString(r),(r=E.commands.findKeyCommand(n,r))&&E.execCommand(r)),v=t,y=i,w(""))))}R.addListener(d,"mouseup",e,u),R.addListener(d,"mousedown",function(e){e.preventDefault(),s()},u),R.addListener(u.renderer.scroller,"contextmenu",e,u),R.addListener(d,"contextmenu",e,u),U&&(E=u,I=null,N=!1,(L=d).addEventListener("keydown",function(e){I&&clearTimeout(I),N=!0},!0),L.addEventListener("keyup",function(e){I=setTimeout(function(){N=!1},100)},!0),document.addEventListener("selectionchange",O),E.on("destroy",function(){document.removeEventListener("selectionchange",O)}))},t.$setUserAgentForTests=function(e,t){Y=e,U=t}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(e,t,i){"use strict";function n(t){t.$clickSelection=null;var e=t.editor;e.setDefaultHandler("mousedown",this.onMouseDown.bind(t)),e.setDefaultHandler("dblclick",this.onDoubleClick.bind(t)),e.setDefaultHandler("tripleclick",this.onTripleClick.bind(t)),e.setDefaultHandler("quadclick",this.onQuadClick.bind(t)),e.setDefaultHandler("mousewheel",this.onMouseWheel.bind(t));["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach(function(e){t[e]=this[e]},this),t.selectByLines=this.extendSelectionBy.bind(t,"getLineRange"),t.selectByWords=this.extendSelectionBy.bind(t,"getWordRange")}function s(e,t){return(e.start.row==e.end.row?2*t.column-e.start.column-e.end.column:e.start.row!=e.end.row-1||e.start.column||e.end.column?2*t.row-e.start.row-e.end.row:t.column-4)<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}var o=e("../lib/useragent");(function(){this.onMouseDown=function(e){var t=e.inSelection(),i=e.getDocumentPosition();this.mousedownEvent=e;var n=this.editor,r=e.getButton();return 0!==r?(!n.getSelectionRange().isEmpty()&&1!=r||n.selection.moveToPosition(i),void(2==r&&(n.textInput.onContextMenu(e.domEvent),o.isMozilla||e.preventDefault()))):(this.mousedownEvent.time=Date.now(),!t||n.isFocused()||(n.focus(),!this.$focusTimeout||this.$clickSelection||n.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(i,1<e.domEvent._clicks),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e)))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var i=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?i.selection.selectToPosition(e):t||i.selection.moveToPosition(e),t||this.select(),i.renderer.scroller.setCapture&&i.renderer.scroller.setCapture(),i.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var e,t,i=this.editor,n=i.renderer.screenToTextCoordinates(this.x,this.y);this.$clickSelection&&(t=-1==(e=this.$clickSelection.comparePoint(n))?this.$clickSelection.end:1==e?this.$clickSelection.start:(n=(t=s(this.$clickSelection,n)).cursor,t.anchor),i.selection.setSelectionAnchor(t.row,t.column)),i.selection.selectToPosition(n),i.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,i,n=this.editor,r=n.renderer.screenToTextCoordinates(this.x,this.y),o=n.selection[e](r.row,r.column);this.$clickSelection&&(t=this.$clickSelection.comparePoint(o.start),e=this.$clickSelection.comparePoint(o.end),-1==t&&e<=0?(i=this.$clickSelection.end,o.end.row==r.row&&o.end.column==r.column||(r=o.start)):1==e&&0<=t?(i=this.$clickSelection.start,o.start.row==r.row&&o.start.column==r.column||(r=o.end)):i=-1==t&&1==e?(r=o.end,o.start):(r=(o=s(this.$clickSelection,r)).cursor,o.anchor),n.selection.setSelectionAnchor(i.row,i.column)),n.selection.selectToPosition(r),n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e,t,i,n,n=(e=this.mousedownEvent.x,t=this.mousedownEvent.y,i=this.x,n=this.y,Math.sqrt(Math.pow(i-e,2)+Math.pow(n-t,2))),t=Date.now();(0<n||t-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),i=this.editor,e=i.session.getBracketRange(t);e?(e.isEmpty()&&(e.start.column--,e.end.column++),this.setState("select")):(e=i.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=e,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),i=this.editor;this.setState("selectByLines");e=i.getSelectionRange();e.isMultiLine()&&e.contains(t.row,t.column)?(this.$clickSelection=i.selection.getLineRange(e.start.row),this.$clickSelection.end=i.selection.getLineRange(e.end.row).end):this.$clickSelection=i.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var i=this.$lastScroll,n=e.domEvent.timeStamp,r=n-i.t,o=r?e.wheelX/r:i.vx,s=r?e.wheelY/r:i.vy;r<550&&(o=(o+i.vx)/2,s=(s+i.vy)/2);var a=Math.abs(o/s),r=!1;return 1<=a&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(r=!0),a<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(r=!0),r?i.allowed=n:n-i.allowed<550&&(Math.abs(o)<=1.5*Math.abs(i.vx)&&Math.abs(s)<=1.5*Math.abs(i.vy)?(r=!0,i.allowed=n):i.allowed=0),i.t=n,i.vx=o,i.vy=s,r?(t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}}}).call(n.prototype),t.DefaultHandlers=n}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(e,t,i){"use strict";function n(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}e("./lib/oop");var r=e("./lib/dom");(function(){this.$init=function(){return this.$element=r.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){this.getElement().textContent=e},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){r.addCssClass(this.getElement(),e)},this.show=function(e,t,i){null!=e&&this.setText(e),null!=t&&null!=i&&this.setPosition(t,i),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(n.prototype),t.Tooltip=n}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(e,t,i){"use strict";function u(e){s.call(this,e)}var d=e("../lib/dom"),n=e("../lib/oop"),f=e("../lib/event"),s=e("../tooltip").Tooltip;n.inherits(u,s),function(){this.setPosition=function(e,t){var i=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),o=this.getHeight();i<(e+=15)+r&&(e-=e+r-i),n<(t+=15)+o&&(t-=20+o),s.prototype.setPosition.call(this,e,t)}}.call(u.prototype),t.GutterHandler=function(n){function r(){i=i&&clearTimeout(i),a&&(h.hide(),a=null,l._signal("hideGutterTooltip",h),l.off("mousewheel",r))}function o(e){h.setPosition(e.x,e.y)}var i,s,a,l=n.editor,c=l.renderer.$gutterLayer,h=new u(l.container);n.editor.setDefaultHandler("guttermousedown",function(e){if(l.isFocused()&&0==e.getButton()&&"foldWidgets"!=c.getRegion(e)){var t=e.getDocumentPosition().row,i=l.session.selection;if(e.getShiftKey())i.selectTo(t,0);else{if(2==e.domEvent.detail)return l.selectAll(),e.preventDefault();n.$clickSelection=l.selection.getLineRange(t)}return n.setState("selectByLines"),n.captureMouse(e),e.preventDefault()}}),n.editor.setDefaultHandler("guttermousemove",function(e){var t=e.domEvent.target||e.domEvent.srcElement;if(d.hasCssClass(t,"ace_fold-widget"))return r();a&&n.$tooltipFollowsMouse&&o(e),s=e,i=i||setTimeout(function(){i=null,(s&&!n.isMousePressed?function(){var e=s.getDocumentPosition().row,t=c.$annotations[e];if(!t)return r();if(e==l.session.getLength()){var e=l.renderer.pixelToScreenCoordinates(0,s.y).row,i=s.$pos;if(e>l.session.documentToScreenRow(i.row,i.column))return r()}a!=t&&(a=t.text.join("<br/>"),h.setHtml(a),h.show(),l._signal("showGutterTooltip",h),l.on("mousewheel",r),n.$tooltipFollowsMouse?o(s):(i=s.domEvent.target.getBoundingClientRect(),(t=h.getElement().style).left=i.right+"px",t.top=i.bottom+"px"))}:r)()},50)}),f.addListener(l.renderer.$gutter,"mouseout",function(e){s=null,a&&!i&&(i=setTimeout(function(){i=null,r()},50))},l),l.on("changeSession",r)}}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,i){"use strict";var n=e("../lib/event"),r=e("../lib/useragent"),t=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){n.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){n.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e,t=this.editor.getSelectionRange();return t.isEmpty()?this.$inSelection=!1:(e=this.getDocumentPosition(),this.$inSelection=t.contains(e.row,e.column)),this.$inSelection},this.getButton=function(){return n.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=r.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(t.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,i){"use strict";function n(t){function e(){var e,t,i,n,r,o,s,a,l=p;p=c.renderer.screenToTextCoordinates(h,u),r=p,o=l,s=Date.now(),a=!o||r.row!=o.row,o=!o||r.column!=o.column,!y||a||o?(c.moveCursorToPosition(r),y=s,b={x:h,y:u}):5<S(b.x,b.y,h,u)?y=null:200<=s-y&&(c.renderer.scrollCursorIntoView(),y=null),e=p,t=l,i=Date.now(),n=c.renderer.layerConfig.lineHeight,a=c.renderer.layerConfig.characterWidth,o=c.renderer.scroller.getBoundingClientRect(),r={x:{left:h-o.left,right:o.right-h},y:{top:u-o.top,bottom:o.bottom-u}},s=Math.min(r.x.left,r.x.right),l=Math.min(r.y.top,r.y.bottom),o={row:e.row,column:e.column},s/a<=2&&(o.column+=r.x.left<r.x.right?-3:2),l/n<=1&&(o.row+=r.y.top<r.y.bottom?-1:1),n=e.row!=o.row,r=e.column!=o.column,t=!t||e.row!=t.row,n||r&&!t?v?200<=i-v&&c.renderer.scrollCursorIntoView(o):v=i:v=null}function i(){f=c.selection.toOrientedRange(),l=c.session.addMarker(f,"ace_selection",c.getSelectionStyle()),c.clearSelection(),c.isFocused()&&c.renderer.$cursorLayer.setBlinking(!1),clearInterval(d),e(),d=setInterval(e,20),x=0,k.addListener(document,"mousemove",r)}function n(){clearInterval(d),c.session.removeMarker(l),l=null,c.selection.fromOrientedRange(f),c.isFocused()&&!m&&c.$resetCursorStyle(),x=0,y=v=p=f=null,k.removeListener(document,"mousemove",r)}function r(){null==C&&(C=setTimeout(function(){null!=C&&l&&n()},20))}function o(e){e=e.types;return!e||Array.prototype.some.call(e,function(e){return"text/plain"==e||"Text"==e})}function s(e){var t=["copy","copymove","all","uninitialized"],i=M.isMac?e.altKey:e.ctrlKey,n="uninitialized";try{n=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var r="none";return i&&0<=t.indexOf(n)?r="copy":0<=["move","copymove","linkmove","all","uninitialized"].indexOf(n)?r="move":0<=t.indexOf(n)&&(r="copy"),r}var c=t.editor,a=_.createElement("img");a.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",M.isOpera&&(a.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(e){t[e]=this[e]},this),c.on("mousedown",this.onMouseDown.bind(t));var l,h,u,d,f,p,g,m,v,y,b,w=c.container,x=0;this.onDragStart=function(e){if(this.cancelDrag||!w.draggable){var t=this;return setTimeout(function(){t.startSelect(),t.captureMouse(e)},0),e.preventDefault()}f=c.getSelectionRange();var i=e.dataTransfer;i.effectAllowed=c.getReadOnly()?"copy":"copyMove",M.isOpera&&(c.container.appendChild(a),a.scrollTop=0),i.setDragImage&&i.setDragImage(a,0,0),M.isOpera&&c.container.removeChild(a),i.clearData(),i.setData("Text",c.session.getTextRange()),m=!0,this.setState("drag")},this.onDragEnd=function(e){w.draggable=!1,m=!1,this.setState(null),c.getReadOnly()||(e=e.dataTransfer.dropEffect,g||"move"!=e||c.session.remove(c.getSelectionRange()),c.$resetCursorStyle()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!c.getReadOnly()&&o(e.dataTransfer))return h=e.clientX,u=e.clientY,l||i(),x++,e.dataTransfer.dropEffect=g=s(e),k.preventDefault(e)},this.onDragOver=function(e){if(!c.getReadOnly()&&o(e.dataTransfer))return h=e.clientX,u=e.clientY,l||(i(),x++),null!==C&&(C=null),e.dataTransfer.dropEffect=g=s(e),k.preventDefault(e)},this.onDragLeave=function(e){if(--x<=0&&l)return n(),g=null,k.preventDefault(e)},this.onDrop=function(e){if(p){var t=e.dataTransfer;if(m)switch(g){case"move":f=f.contains(p.row,p.column)?{start:p,end:p}:c.moveText(f,p);break;case"copy":f=c.moveText(f,p,!0)}else{t=t.getData("Text");f={start:p,end:c.session.insert(p,t)},c.focus(),g=null}return n(),k.preventDefault(e)}},k.addListener(w,"dragstart",this.onDragStart.bind(t),c),k.addListener(w,"dragend",this.onDragEnd.bind(t),c),k.addListener(w,"dragenter",this.onDragEnter.bind(t),c),k.addListener(w,"dragover",this.onDragOver.bind(t),c),k.addListener(w,"dragleave",this.onDragLeave.bind(t),c),k.addListener(w,"drop",this.onDrop.bind(t),c);var C=null}function S(e,t,i,n){return Math.sqrt(Math.pow(i-e,2)+Math.pow(n-t,2))}var _=e("../lib/dom"),k=e("../lib/event"),M=e("../lib/useragent");(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var t=M.isWin?"default":"move";e.renderer.setCursorStyle(t),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;M.isIE&&"dragReady"==this.state&&3<S(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)&&t.dragDrop(),"dragWait"===this.state&&0<S(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))},this.onMouseDown=function(e){var t,i,n;this.$dragEnabled&&(this.mousedownEvent=e,t=this.editor,n=e.inSelection(),i=e.getButton(),1===(e.domEvent.detail||1)&&0===i&&n&&(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey())||(this.mousedownEvent.time=Date.now(),"unselectable"in(n=e.domEvent.target||e.domEvent.srcElement)&&(n.unselectable="on"),t.getDragDelay()?(M.isWebKit&&(this.cancelDrag=!0,t.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0)))}}).call(n.prototype),t.DragdropHandler=n}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(e,t,i){"use strict";var C=e("./mouse_event").MouseEvent,s=e("../lib/event"),a=e("../lib/dom");t.addTouchListeners=function(e,l){function i(){function t(e){var t,i=e.target.getAttribute("action");if("more"==i||!r)return r=!r,t=l.getCopyText(),e=l.session.getUndoManager().hasUndo(),void o.replaceChild(a.buildDom(r?["span",!t&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],t&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],t&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],n&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],e&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Pallete"]]:["span"]),o.firstChild);"paste"==i?n.readText().then(function(e){l.execCommand(i,e)}):i&&("cut"!=i&&"copy"!=i||(n?n.writeText(l.getCopyText()):document.execCommand("copy")),l.execCommand(i)),o.firstChild.style.display="none",r=!1,"openCommandPallete"!=i&&l.focus()}var n=window.navigator&&window.navigator.clipboard,r=!1;o=a.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(e){v="menu",e.stopPropagation(),e.preventDefault(),l.textInput.focus()},ontouchend:function(e){e.stopPropagation(),e.preventDefault(),t(e)},onclick:t},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],l.container)}function n(){o||i();var e=l.selection.cursor,t=l.renderer.textToScreenCoordinates(e.row,e.column),e=l.container.getBoundingClientRect();o.style.top=t.pageY-e.top-3+"px",o.style.right="10px",o.style.display="",o.firstChild.style.display="none",l.on("input",r)}function r(e){o&&(o.style.display="none"),l.off("input",r)}function c(){p=null,clearTimeout(p);var e=l.selection.getRange(),t=e.contains(g.row,g.column);!e.isEmpty()&&t||(l.selection.moveToPosition(g),l.selection.selectWord()),v="wait",n()}var h,u,d,f,p,t,g,m,o,v="scroll",y=0,b=0,w=0,x=0;s.addListener(e,"contextmenu",function(e){m&&l.textInput.getElement().focus()},l),s.addListener(e,"touchstart",function(e){var t=e.touches;if(p||1<t.length)return clearTimeout(p),p=null,d=-1,void(v="zoom");m=l.$mouseHandler.isMousePressed=!0;var i=l.renderer.layerConfig.lineHeight,n=l.renderer.layerConfig.lineHeight,r=e.timeStamp;f=r;var o=t[0],s=o.clientX,a=o.clientY;Math.abs(h-s)+Math.abs(u-a)>i&&(d=-1),h=e.clientX=s,u=e.clientY=a,w=x=0;o=new C(e,l);if(g=o.getDocumentPosition(),r-d<500&&1==t.length&&!y)b++,e.preventDefault(),e.button=0,function(){p=null,clearTimeout(p),l.selection.moveToPosition(g);var e=2<=b?l.selection.getLineRange(g.row):l.session.getBracketRange(g);e&&!e.isEmpty()?l.selection.setRange(e):l.selection.selectWord(),v="wait"}();else{b=0;s=l.selection.cursor,a=l.selection.isEmpty()?s:l.selection.anchor,o=l.renderer.$cursorLayer.getPixelPosition(s,!0),t=l.renderer.$cursorLayer.getPixelPosition(a,!0),s=l.renderer.scroller.getBoundingClientRect(),a=function(e,t){return(e/=n)*e+(t=t/i-.75)*t};if(e.clientX<s.left)return void(v="zoom");o=a(e.clientX-s.left-o.left,e.clientY-s.top-o.top),t=a(e.clientX-s.left-t.left,e.clientY-s.top-t.top);o<3.5&&t<3.5&&(v=t<o?"cursor":"anchor"),v=t<3.5?"anchor":o<3.5?"cursor":"scroll",p=setTimeout(c,450)}d=r},l),s.addListener(e,"touchend",function(e){m=l.$mouseHandler.isMousePressed=!1,t&&clearInterval(t),"zoom"==v?(v="",y=0):p?(l.selection.moveToPosition(g),y=0,n()):"scroll"==v?(y+=60,t=setInterval(function(){y--<=0&&(clearInterval(t),t=null),Math.abs(w)<.01&&(w=0),Math.abs(x)<.01&&(x=0),y<20&&(w*=.9),y<20&&(x*=.9);var e=l.session.getScrollTop();l.renderer.scrollBy(10*w,10*x),e==l.session.getScrollTop()&&(y=0)},10),r()):n(),clearTimeout(p),p=null},l),s.addListener(e,"touchmove",function(e){p&&(clearTimeout(p),p=null);var t=e.touches;if(!(1<t.length||"zoom"==v)){var i=t[0],n=h-i.clientX,r=u-i.clientY;if("wait"==v){if(!(4<n*n+r*r))return e.preventDefault();v="cursor"}h=i.clientX,u=i.clientY,e.clientX=i.clientX,e.clientY=i.clientY;var o,t=e.timeStamp,i=t-f;f=t,"scroll"==v?((o=new C(e,l)).speed=1,o.wheelX=n,o.wheelY=r,10*Math.abs(n)<Math.abs(r)&&(n=0),10*Math.abs(r)<Math.abs(n)&&(r=0),0!=i&&(w=n/i,x=r/i),l._emit("mousewheel",o),o.propagationStopped||(w=x=0)):(o=new C(e,l).getDocumentPosition(),"cursor"==v?l.selection.moveCursorToPosition(o):"anchor"==v&&l.selection.setSelectionAnchor(o.row,o.column),l.renderer.scrollCursorIntoView(o),e.preventDefault())}},l)}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";var r=e("./dom");t.get=function(e,t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.onreadystatechange=function(){4===i.readyState&&t(i.responseText)},i.send(null)},t.loadScript=function(e,i){var t=r.getDocumentHead(),n=document.createElement("script");n.src=e,t.appendChild(n),n.onload=n.onreadystatechange=function(e,t){!t&&n.readyState&&"loaded"!=n.readyState&&"complete"!=n.readyState||(n=n.onload=n.onreadystatechange=null,t||i())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(e,t,i){"use strict";function o(){this.propagationStopped=!0}function s(){this.defaultPrevented=!0}var n={};n._emit=n._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var i=this._eventRegistry[e]||[],n=this._defaultHandlers[e];if(i.length||n){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=o),t.preventDefault||(t.preventDefault=s),i=i.slice();for(var r=0;r<i.length&&(i[r](t,this),!t.propagationStopped);r++);return n&&!t.defaultPrevented?n(t,this):void 0}},n._signal=function(e,t){var i=(this._eventRegistry||{})[e];if(i){i=i.slice();for(var n=0;n<i.length;n++)i[n](t,this)}},n.once=function(t,i){var n=this;if(this.on(t,function e(){n.off(t,e),i.apply(null,arguments)}),!i)return new Promise(function(e){i=e})},n.setDefaultHandler=function(e,t){var i,n,r=this._defaultHandlers;(r=r||(this._defaultHandlers={_disabled_:{}}))[e]&&(n=r[e],(i=r._disabled_[e])||(r._disabled_[e]=i=[]),i.push(n),-1!=(n=i.indexOf(t))&&i.splice(n,1)),r[e]=t},n.removeDefaultHandler=function(e,t){var i,n=this._defaultHandlers;n&&(i=n._disabled_[e],n[e]==t?i&&this.setDefaultHandler(e,i.pop()):!i||-1!=(t=i.indexOf(t))&&i.splice(t,1))},n.on=n.addEventListener=function(e,t,i){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];return-1==(n=n||(this._eventRegistry[e]=[])).indexOf(t)&&n[i?"unshift":"push"](t),t},n.off=n.removeListener=n.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};e=this._eventRegistry[e];!e||-1!==(t=e.indexOf(t))&&e.splice(t,1)},n.removeAllListeners=function(e){e||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[e]=void 0),this._defaultHandlers&&(this._defaultHandlers[e]=void 0)},t.EventEmitter=n}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,i){function n(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function r(e,t){var i=new Error(e);i.data=t,"object"==typeof console&&console.error&&console.error(i),setTimeout(function(){throw i})}var o=e("./oop"),s=e("./event_emitter").EventEmitter,a={setOptions:function(t){Object.keys(t).forEach(function(e){this.setOption(e,t[e])},this)},getOptions:function(e){var t,i={};return e?Array.isArray(e)||(i=e,e=Object.keys(i)):(t=this.$options,e=Object.keys(t).filter(function(e){return!t[e].hidden})),e.forEach(function(e){i[e]=this.getOption(e)},this),i},setOption:function(e,t){if(this["$"+e]!==t){var i=this.$options[e];return i?i.forwardTo?this[i.forwardTo]&&this[i.forwardTo].setOption(e,t):(i.handlesSet||(this["$"+e]=t),void(i&&i.set&&i.set.call(this,t))):n('misspelled option "'+e+'"')}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:n('misspelled option "'+e+'"')}},e=function(){this.$defaultOptions={}};(function(){o.implement(this,s),this.defineOptions=function(i,e,n){return i.$options||(this.$defaultOptions[e]=i.$options={}),Object.keys(n).forEach(function(e){var t=n[e];"string"==typeof t&&(t={forwardTo:t}),t.name||(t.name=e),"initialValue"in(i.$options[t.name]=t)&&(i["$"+t.name]=t.initialValue)}),o.implement(i,a),this},this.resetOptions=function(i){Object.keys(i.$options).forEach(function(e){var t=i.$options[e];"value"in t&&i.setOption(e,t.value)})},this.setDefaultValue=function(e,t,i){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][t])break;if(!this.$defaultOptions[e][t])return!1}var n=this.$defaultOptions[e]||(this.$defaultOptions[e]={});n[t]&&(n.forwardTo?this.setDefaultValue(n.forwardTo,t,i):n[t].value=i)},this.setDefaultValues=function(t,i){Object.keys(i).forEach(function(e){this.setDefaultValue(t,e,i[e])},this)},this.warn=n,this.reportError=r}).call(e.prototype),t.AppConfig=e}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(d,f,p){var e=d("./lib/lang"),r=(d("./lib/oop"),d("./lib/net")),t=d("./lib/app_config").AppConfig;p.exports=f=new t;var g=function(){return this||"undefined"!=typeof window&&window}(),m={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1};f.get=function(e){if(!m.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return m[e]},f.set=function(e,t){if(m.hasOwnProperty(e))m[e]=t;else if(0==this.setDefaultValue("",e,t))throw new Error("Unknown config key: "+e)},f.all=function(){return e.copyObject(m)},f.$modes={},f.moduleUrl=function(e,t){if(m.$moduleUrls[e])return m.$moduleUrls[e];var i=e.split("/"),n="snippets"==(t=t||i[i.length-2]||"")?"/":"-",r=i[i.length-1];"worker"==t&&"-"==n&&(e=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g"),r=r.replace(e,"")),(!r||r==t)&&1<i.length&&(r=i[i.length-2]);i=m[t+"Path"];return null==i?i=m.basePath:"/"==n&&(t=n=""),i&&"/"!=i.slice(-1)&&(i+="/"),i+t+n+r+this.get("suffix")},f.setModuleUrl=function(e,t){return m.$moduleUrls[e]=t},f.$loading={},f.loadModule=function(i,e){var t,n;Array.isArray(i)&&(n=i[0],i=i[1]);try{t=d(i)}catch(e){}if(t&&!f.$loading[i])return e&&e(t);if(f.$loading[i]||(f.$loading[i]=[]),f.$loading[i].push(e),!(1<f.$loading[i].length)){e=function(){d([i],function(t){f._emit("load.module",{name:i,module:t});var e=f.$loading[i];f.$loading[i]=null,e.forEach(function(e){e&&e(t)})})};if(!f.get("packaged"))return e();r.loadScript(f.moduleUrl(i,n),e),o()}};var o=function(){m.basePath||m.workerPath||m.modePath||m.themePath||Object.keys(m.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),o=function(){})};f.init=function(e){if(g&&g.document){m.packaged=e||d.packaged||p.packaged||g.define&&define.packaged;for(var t,i={},n="",e=document.currentScript||document._currentScript,r=(e&&e.ownerDocument||document).getElementsByTagName("script"),o=0;o<r.length;o++){var s=r[o],a=s.src||s.getAttribute("src");if(a){for(var l=s.attributes,c=0,h=l.length;c<h;c++){var u=l[c];0===u.name.indexOf("data-ace-")&&(i[u.name.replace(/^data-ace-/,"").replace(/-(.)/g,function(e,t){return t.toUpperCase()})]=u.value)}a=a.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);a&&(n=a[1])}}for(t in n&&(i.base=i.base||n,i.packaged=!0),i.basePath=i.base,i.workerPath=i.workerPath||i.base,i.modePath=i.modePath||i.base,i.themePath=i.themePath||i.base,delete i.base,i)void 0!==i[t]&&f.set(t,i[t])}},f.version="1.4.10"}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(e,t,i){"use strict";var h=e("../lib/event"),u=e("../lib/useragent"),o=e("./default_handlers").DefaultHandlers,s=e("./default_gutter_handler").GutterHandler,d=e("./mouse_event").MouseEvent,a=e("./dragdrop_handler").DragdropHandler,l=e("./touch_handler").addTouchListeners,n=e("../config"),e=function(n){var r=this;this.editor=n,new o(this),new s(this),new a(this);function e(e){document.hasFocus&&document.hasFocus()&&(n.isFocused()||document.activeElement!=(n.textInput&&n.textInput.getElement()))||window.focus(),n.focus()}var t=n.renderer.getMouseEventTarget();h.addListener(t,"click",this.onMouseEvent.bind(this,"click"),n),h.addListener(t,"mousemove",this.onMouseMove.bind(this,"mousemove"),n),h.addMultiMouseDownListener([t,n.renderer.scrollBarV&&n.renderer.scrollBarV.inner,n.renderer.scrollBarH&&n.renderer.scrollBarH.inner,n.textInput&&n.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",n),h.addMouseWheelListener(n.container,this.onMouseWheel.bind(this,"mousewheel"),n),l(n.container,n);var i=n.renderer.$gutter;h.addListener(i,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),n),h.addListener(i,"click",this.onMouseEvent.bind(this,"gutterclick"),n),h.addListener(i,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),n),h.addListener(i,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),n),h.addListener(t,"mousedown",e,n),h.addListener(i,"mousedown",e,n),u.isIE&&n.renderer.scrollBarV&&(h.addListener(n.renderer.scrollBarV.element,"mousedown",e,n),h.addListener(n.renderer.scrollBarH.element,"mousedown",e,n)),n.on("mousemove",function(e){var t,i;r.state||r.$dragDelay||!r.$dragEnabled||(t=n.renderer.screenToTextCoordinates(e.x,e.y),i=n.session.selection.getRange(),e=n.renderer,!i.isEmpty()&&i.insideStart(t.row,t.column)?e.setCursorStyle("default"):e.setCursorStyle(""))},n)};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new d(t,this.editor))},this.onMouseMove=function(e,t){var i=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;i&&i.length&&this.editor._emit(e,new d(t,this.editor))},this.onMouseWheel=function(e,t){var i=new d(t,this.editor);i.speed=2*this.$scrollSpeed,i.wheelX=t.wheelX,i.wheelY=t.wheelY,this.editor._emit(e,i)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var i=this.editor,n=this.editor.renderer;n.$isMousePressed=!0;function r(e){if(e)return u.isWebKit&&!e.which&&s.releaseMouse?s.releaseMouse():(s.x=e.clientX,s.y=e.clientY,t&&t(e),s.mouseEvent=new d(e,s.editor),void(s.$mouseMoved=!0))}function o(e){i.off("beforeEndOperation",l),clearInterval(c),a(),s[s.state+"End"]&&s[s.state+"End"](e),s.state="",s.isMousePressed=n.$isMousePressed=!1,n.$keepTextAreaAtCursor&&n.$moveTextAreaToCursor(),s.$onCaptureMouseMove=s.releaseMouse=null,e&&s.onMouseEvent("mouseup",e),i.endOperation()}var s=this,a=function(){s[s.state]&&s[s.state](),s.$mouseMoved=!1};if(u.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout(function(){o(e)});var l=function(e){s.releaseMouse&&i.curOp.command.name&&i.curOp.selectionChanged&&(s[s.state+"End"]&&s[s.state+"End"](),s.state="",s.releaseMouse())};i.on("beforeEndOperation",l),i.startOperation({command:{name:"mouse"}}),s.$onCaptureMouseMove=r,s.releaseMouse=h.capture(this.editor.container,r,o);var c=setInterval(a,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var t=function(e){e&&e.domEvent&&"contextmenu"!=e.domEvent.type||(this.editor.off("nativecontextmenu",t),e&&e.domEvent&&h.stopEvent(e.domEvent))}.bind(this);setTimeout(t,10),this.editor.on("nativecontextmenu",t)}}).call(e.prototype),n.defineOptions(e.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:u.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=e}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";var n=e("../lib/dom");t.FoldHandler=function(r){r.on("click",function(e){var t=e.getDocumentPosition(),i=r.session,t=i.getFoldAt(t.row,t.column,1);t&&(e.getAccelKey()?i.removeFold(t):i.expandFold(t),e.stop());e=e.domEvent&&e.domEvent.target;e&&n.hasCssClass(e,"ace_inline_button")&&n.hasCssClass(e,"ace_toggle_wrap")&&(i.setOption("wrap",!i.getUseWrapMode()),r.renderer.scrollCursorIntoView())}),r.on("gutterclick",function(e){var t,i;"foldWidgets"==r.renderer.$gutterLayer.getRegion(e)&&(t=e.getDocumentPosition().row,(i=r.session).foldWidgets&&i.foldWidgets[t]&&r.session.onFoldWidgetClick(t,e),r.isFocused()||r.focus(),e.stop())}),r.on("gutterdblclick",function(e){var t,i,n;"foldWidgets"==r.renderer.$gutterLayer.getRegion(e)&&(n=e.getDocumentPosition().row,(i=(i=(t=r.session).getParentFoldRangeData(n,!0)).range||i.firstRange)&&(n=i.start.row,(n=t.getFoldAt(n,t.getLine(n).length,1))?t.removeFold(n):(t.addFold("...",i),r.renderer.scrollCursorIntoView({row:i.start.row,column:0}))),e.stop())})}}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(e,t,i){"use strict";var r=e("../lib/keys"),l=e("../lib/event"),e=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){var i;e&&("function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e),-1!=(i=this.$handlers.indexOf(e))&&this.$handlers.splice(i,1),null==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==i&&e.attach&&e.attach(this.$editor))},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var t=this.$data,i=t.editor;return this.$handlers.map(function(e){return e.getStatusText&&e.getStatusText(i,t)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,i,n){for(var r,o=!1,s=this.$editor.commands,a=this.$handlers.length;a--&&!((r=this.$handlers[a].handleKeyboard(this.$data,e,t,i,n))&&r.command&&((o="null"==r.command||s.exec(r.command,this.$editor,r.args,n))&&n&&-1!=e&&1!=r.passEvent&&1!=r.command.passEvent&&l.stopEvent(n),o)););return o||-1!=e||(r={command:"insertstring"},o=s.exec("insertstring",this.$editor,t)),o&&this.$editor._signal&&this.$editor._signal("keyboardActivity",r),o},this.onCommandKey=function(e,t,i){var n=r.keyCodeToString(i);return this.$callKeyboardHandlers(t,n,i,e)},this.onTextInput=function(e){return this.$callKeyboardHandlers(-1,e)}}).call(e.prototype),t.KeyBinding=e}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(e,l,t){"use strict";function c(e,t,i,n){var r,o,s,a,l=m?C:x,c=0,h=-1,u=null,d=null,f=[];if(!n)for(u=0,n=[];u<i;u++)n[u]=g(e[u]);for(v=m,w=b=y=!1,d=0;d<i;d++){if(r=c,f[d]=o=function(e,t,i,n){var r,o,s,a,l=t[n];switch(l){case S:case _:y=!1;case T:case M:return l;case k:return y?M:k;case $:return y=!0,_;case E:return T;case L:return n<1||n+1>=t.length||(r=i[n-1])!=k&&r!=M||(o=t[n+1])!=k&&o!=M?T:(y&&(o=M),o==r?o:T);case I:return(r=0<n?i[n-1]:D)==k&&n+1<t.length&&t[n+1]==k?k:T;case N:if(0<n&&i[n-1]==k)return k;if(y)return T;for(a=n+1,s=t.length;a<s&&t[a]==N;)a++;return a<s&&t[a]==k?k:T;case O:for(s=t.length,a=n+1;a<s&&t[a]==O;)a++;if(a<s){e=e[n],e=1425<=e&&e<=2303||64286==e;if(r=t[a],e&&(r==_||r==$))return _}return n<1||(r=t[n-1])==D?T:i[n-1];case D:return b=!(y=!1),m;case A:return w=!0,T;case R:case P:case z:case W:case F:y=!1;case B:return T}}(e,n,f,d),a=240&(c=l[r][o]),c&=15,t[d]=s=l[c][5],0<a)if(16==a){for(u=h;u<d;u++)t[u]=1;h=-1}else h=-1;if(l[c][6])-1==h&&(h=d);else if(-1<h){for(u=h;u<d;u++)t[u]=s;h=-1}n[d]==D&&(t[d]=0),v|=s}if(w)for(u=0;u<i;u++)if(n[u]==A){t[u]=m;for(var p=u-1;0<=p&&n[p]==E;p--)t[p]=m}}function h(e,t,i){if(!(v<e))if(1!=e||1!=m||b)for(var n,r,o,s,a=i.length,l=0;l<a;){if(t[l]>=e){for(n=l+1;n<a&&t[n]>=e;)n++;for(r=l,o=n-1;r<o;r++,o--)s=i[r],i[r]=i[o],i[o]=s;l=n}l++}else i.reverse()}function g(e){var t=e.charCodeAt(0),i=t>>8;return 0==i?191<t?S:n[t]:5==i?/[\u0591-\u05f4]/.test(e)?_:S:6==i?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?O:/[\u0660-\u0669\u066b-\u066c]/.test(e)?M:1642==t?N:/[\u06f0-\u06f9]/.test(e)?k:$:32==i&&t<=8287?r[255&t]:254==i&&65136<=t?$:T}var m=0,v=0,y=!1,b=!1,w=!1,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],C=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S=0,_=1,k=2,M=3,T=4,D=5,A=6,$=7,E=8,L=9,I=10,N=11,O=12,R=13,P=14,F=15,z=16,W=17,B=18,n=[B,B,B,B,B,B,B,B,B,A,D,A,E,D,B,B,B,B,B,B,B,B,B,B,B,B,B,B,D,D,D,A,E,T,T,N,N,N,T,T,T,T,T,I,L,I,L,L,k,k,k,k,k,k,k,k,k,k,L,T,T,T,T,T,T,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,T,T,T,T,T,T,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,T,T,T,T,B,B,B,B,B,B,D,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,L,T,N,N,N,N,T,T,T,T,S,T,T,B,T,T,N,N,k,k,T,S,T,T,T,k,S,T,T,T,T,T],r=[E,E,E,E,E,E,E,E,E,E,E,B,B,B,S,_,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,E,D,R,P,F,z,W,L,N,N,N,N,N,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,L,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,E];l.L=S,l.R=_,l.EN=k,l.ON_R=3,l.AN=4,l.R_H=5,l.B=6,l.RLE=7,l.DOT="·",l.doBidiReorder=function(e,t,i){if(e.length<2)return{};var n=e.split(""),r=new Array(n.length),o=new Array(n.length),s=[];m=i?1:0,c(n,s,n.length,t);for(var a=0;a<r.length;r[a]=a,a++);h(2,s,r),h(1,s,r);for(a=0;a<r.length-1;a++)t[a]===M?s[a]=l.AN:s[a]===_&&(t[a]>$&&t[a]<R||t[a]===T||t[a]===B)?s[a]=l.ON_R:0<a&&"ل"===n[a-1]&&/\u0622|\u0623|\u0625|\u0627/.test(n[a])&&(s[a-1]=s[a]=l.R_H,a++);n[n.length-1]===l.DOT&&(s[n.length-1]=l.B),"‫"===n[0]&&(s[0]=l.RLE);for(a=0;a<r.length;a++)o[a]=s[r[a]];return{logicalFromVisual:r,bidiLevels:o}},l.hasBidiCharacters=function(e,t){for(var i=!1,n=0;n<e.length;n++)t[n]=g(e.charAt(n)),i||t[n]!=_&&t[n]!=$&&t[n]!=M||(i=!0);return i},l.getVisualFromLogicalIdx=function(e,t){for(var i=0;i<t.logicalFromVisual.length;i++)if(t.logicalFromVisual[i]==e)return i;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(e,t,i){"use strict";var a=e("./lib/bidiutil"),s=e("./lib/lang"),n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,e=function(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=a,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="¶",this.RLE="‫",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=n.test(e.getValue())};(function(){this.isBidiRow=function(e,t,i){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,i),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&n.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;return!t.length||0<=(t=this.session.$getRowCacheIndex(t,this.currentRow))&&(e=this.session.$docRowCache[t]),e},this.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var i,n=this.session.$getRowCacheIndex(t,this.currentRow);0<this.currentRow-e&&(i=this.session.$getRowCacheIndex(t,this.currentRow-e-1))===n;)n=i,e++;else e=this.currentRow;return e},this.updateRowLine=function(e,t){void 0===e&&(e=this.getDocumentRow());var i=e===this.session.getLength()-1?this.EOF:this.EOL;this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode?((e=this.session.$wrapData[e])&&(void 0===t&&(t=this.getSplitIndex()),0<t&&e.length?(this.wrapIndent=e.indent,this.wrapOffset=this.wrapIndent*this.charWidths[a.L],this.line=t<e.length?this.line.substring(e[t-1],e[t]):this.line.substring(e[e.length-1])):this.line=this.line.substring(0,e[t])),t==e.length&&(this.line+=this.showInvisibles?i:a.DOT)):this.line+=this.showInvisibles?i:a.DOT;var n,r=this.session,o=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(e,t){return"\t"===e||r.isFullWidth(e.charCodeAt(0))?(n="\t"===e?r.getScreenTabSize(t+o):2,o+=n-1,s.stringRepeat(a.DOT,n)):e}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==a.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var e=[];a.hasBidiCharacters(this.line,e)||this.isRtlDir?this.bidiMap=a.doBidiReorder(this.line,e,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(e){var t;this.characterWidth!==e.$characterSize.width&&(this.fontMetrics=e,t=this.characterWidth=e.$characterSize.width,e=e.$measureCharWidth("ה"),this.charWidths[a.L]=this.charWidths[a.EN]=this.charWidths[a.ON_R]=t,this.charWidths[a.R]=this.charWidths[a.AN]=e,this.charWidths[a.R_H]=.45*e,this.charWidths[a.B]=this.charWidths[a.RLE]=0,this.currentRow=null)},this.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},this.setEolChar=function(e){this.EOL=e},this.setContentWidth=function(e){this.contentWidth=e},this.isRtlLine=function(e){return!!this.$isRtl||(null!=e?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(e,t){for(var i=e.getCursorPosition(),n=e.selection.getSelectionAnchor().row;n<=i.row;n++)t||e.session.getLine(n).charAt(0)!==e.session.$bidiHandler.RLE?t&&e.session.getLine(n).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:n},e.session.$bidiHandler.RLE):e.session.doc.removeInLine(n,0,1)},this.getPosLeft=function(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,i=t<e?this.session.getOverwrite()?e:e-1:t,n=a.getVisualFromLogicalIdx(i,this.bidiMap),r=this.bidiMap.bidiLevels,o=0;!this.session.getOverwrite()&&e<=t&&r[n]%2!=0&&n++;for(var s=0;s<n;s++)o+=this.charWidths[r[s]];return!this.session.getOverwrite()&&t<e&&r[n]%2==0&&(o+=this.charWidths[r[n]]),this.wrapIndent&&(o+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(o+=this.rtlLineOffset),o},this.getSelections=function(e,t){var i,n=this.bidiMap,r=n.bidiLevels,o=[],s=0,a=Math.min(e,t)-this.wrapIndent,l=Math.max(e,t)-this.wrapIndent,c=!1,h=!1,u=0;this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var d,f=0;f<r.length;f++)d=n.logicalFromVisual[f],i=r[f],(c=a<=d&&d<l)&&!h?u=s:!c&&h&&o.push({left:u,width:s-u}),s+=this.charWidths[i],h=c;if(c&&f===r.length&&o.push({left:u,width:s-u}),this.isRtlDir)for(var p=0;p<o.length;p++)o[p].left+=this.rtlLineOffset;return o},this.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,e=Math.max(e,0),i=0,n=0,r=this.bidiMap.bidiLevels,o=this.charWidths[r[n]];for(this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);i+o/2<e;){if(i+=o,n===r.length-1){o=0;break}o=this.charWidths[r[++n]]}return 0===(t=0<n&&r[n-1]%2!=0&&r[n]%2==0?(e<i&&n--,this.bidiMap.logicalFromVisual[n]):0<n&&r[n-1]%2==0&&r[n]%2!=0?1+(i<e?this.bidiMap.logicalFromVisual[n]:this.bidiMap.logicalFromVisual[n-1]):this.isRtlDir&&n===r.length-1&&0===o&&r[n-1]%2==0||!this.isRtlDir&&0===n&&r[n]%2!=0?1+this.bidiMap.logicalFromVisual[n]:(0<n&&r[n-1]%2!=0&&0!==o&&n--,this.bidiMap.logicalFromVisual[n]))&&this.isRtlDir&&t++,t+this.wrapIndent}}).call(e.prototype),t.BidiHandler=e}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(e,t,i){"use strict";var n=e("./lib/oop"),r=e("./lib/lang"),o=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,e=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",function(e){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),t.$isEmpty||t.$silent||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)}),this.anchor.on("change",function(){t.$anchorChanged=!0,t.$isEmpty||t.$silent||t._emit("changeSelection")})};(function(){n.implement(this,o),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?s.fromPoints(t,t):this.isBackwards()?s.fromPoints(t,e):s.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(e,t){var i=t?e.end:e.start,e=t?e.start:e.end;this.$setSelection(i.row,i.column,e.row,e.column)},this.$setSelection=function(e,t,i,n){var r,o;this.$silent||(r=this.$isEmpty,o=this.inMultiSelectMode,this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(i,n),this.$isEmpty=!s.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||r!=this.$isEmpty||o)&&this._emit("changeSelection"))},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t)})},this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){var i;return void 0===t&&(e=(i=e||this.lead).row,t=i.column),this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),e=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(e)},this.getLineRange=function(e,t){var i="number"==typeof e?e:this.lead.row,e=this.session.getFoldLine(i),e=e?(i=e.start.row,e.end.row):i;return!0===t?new s(i,0,e,this.session.getLine(e).length):new s(i,0,e+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(e,t,i){var n=e.column,r=e.column+t;return i<0&&(n=e.column-t,r=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(n,r).split(" ").length-1==t},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();(e=this.session.getFoldAt(t.row,t.column,-1))?this.moveCursorTo(e.start.row,e.start.column):0===t.column?0<t.row&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length):(e=this.session.getTabSize(),this.wouldMoveIntoSoftTab(t,e,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-e):this.moveCursorBy(0,-1))},this.moveCursorRight=function(){var e,t=this.lead.getPosition();(e=this.session.getFoldAt(t.row,t.column,1))?this.moveCursorTo(e.end.row,e.end.column):this.lead.column==this.doc.getLine(this.lead.row).length?this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0):(e=this.session.getTabSize(),t=this.lead,this.wouldMoveIntoSoftTab(t,e,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,e):this.moveCursorBy(0,1))},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,i=this.session.documentToScreenRow(e,t),i=this.session.screenToDocumentPosition(i,0),e=this.session.getDisplayLine(e,null,i.row,i.column).match(/^\s*/);e[0].length==t||this.session.$useEmacsStyleLineStart||(i.column+=e[0].length),this.moveCursorToPosition(i)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);this.lead.column==t.column&&(e=this.session.getLine(t.row),t.column!=e.length||0<(e=e.search(/\s+$/))&&(t.column=e)),this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,i=this.doc.getLine(e),n=i.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(e,t,1);if(r)this.moveCursorTo(r.end.row,r.end.column);else{if(this.session.nonTokenRe.exec(n)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,n=i.substring(t)),t>=i.length)return this.moveCursorTo(e,i.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(n)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},this.moveCursorLongWordLeft=function(){var e=this.lead.row,t=this.lead.column;if(i=this.session.getFoldAt(e,t,-1))this.moveCursorTo(i.start.row,i.start.column);else{var i=this.session.getFoldStringAt(e,t,-1);null==i&&(i=this.doc.getLine(e).substring(0,t));i=r.stringReverse(i);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(i)&&(t-=this.session.nonTokenRe.lastIndex,i=i.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),t<=0)return this.moveCursorTo(e,0),this.moveCursorLeft(),void(0<e&&this.moveCursorWordLeft());this.session.tokenRe.exec(i)&&(t-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},this.$shortWordEndIndex=function(e){var t,i=0,n=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(e))i=this.session.tokenRe.lastIndex;else{for(;(t=e[i])&&n.test(t);)i++;if(i<1)for(r.lastIndex=0;(t=e[i])&&!r.test(t);)if(r.lastIndex=0,i++,n.test(t)){if(2<i){i--;break}for(;(t=e[i])&&n.test(t);)i++;if(2<i)break}}return r.lastIndex=0,i},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,i=this.doc.getLine(e),n=i.substring(t),r=this.session.getFoldAt(e,t,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(t==i.length){for(var o=this.doc.getLength();e++,n=this.doc.getLine(e),e<o&&/^\s*$/.test(n););/^\s+/.test(n)||(n=""),t=0}i=this.$shortWordEndIndex(n);this.moveCursorTo(e,t+i)},this.moveCursorShortWordLeft=function(){var e=this.lead.row,t=this.lead.column;if(n=this.session.getFoldAt(e,t,-1))return this.moveCursorTo(n.start.row,n.start.column);var i=this.session.getLine(e).substring(0,t);if(0===t){for(;e--,i=this.doc.getLine(e),0<e&&/^\s*$/.test(i););t=i.length,/\s+$/.test(i)||(i="")}var n=r.stringReverse(i),n=this.$shortWordEndIndex(n);return this.moveCursorTo(e,t-n)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var i,n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(n.row,this.lead.row)?(r=this.session.$bidiHandler.getPosLeft(n.column),n.column=Math.round(r/this.session.$bidiHandler.charWidths[0])):r=n.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column),0!=e&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]&&(i=this.session.lineWidgets[this.lead.row],e<0?e-=i.rowsAbove||0:0<e&&(e+=i.rowCount-(i.rowsAbove||0)));var r=this.session.screenToDocumentPosition(n.row+e,n.column,r);0!==e&&0===t&&r.row===this.lead.row&&(r.column,this.lead.column),this.moveCursorTo(r.row,r.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,i){var n=this.session.getFoldAt(e,t,1);n&&(e=n.start.row,t=n.start.column),this.$keepDesiredColumnOnChange=!0;n=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(n.charAt(t))&&n.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?--t:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,i||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,i){t=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(t.row,t.column,i)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var i=this.getCursor();return s.fromPoints(t,i)}catch(e){return s.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){var e;return this.rangeCount?e=this.ranges.map(function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t}):(e=this.getRange()).isBackwards=this.isBackwards(),e},this.fromJSON=function(e){if(null==e.start){if(this.rangeList&&1<e.length){this.toSingleRange(e[0]);for(var t=e.length;t--;){var i=s.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(i.cursor=i.start),this.addRange(i,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(e.prototype),t.Selection=e}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(e,t,i){"use strict";var n=e("./config"),y=2e3,e=function(e){for(var t in this.states=e,this.regExps={},this.matchMappings={},this.states){for(var i=this.states[t],n=[],r=0,o=this.matchMappings[t]={defaultToken:"text"},s="g",a=[],l=0;l<i.length;l++){var c,h,u=i[l];u.defaultToken&&(o.defaultToken=u.defaultToken),u.caseInsensitive&&(s="gi"),null!=u.regex&&(u.regex instanceof RegExp&&(u.regex=u.regex.toString().slice(1,-1)),c=u.regex,h=new RegExp("(?:("+c+")|(.))").exec("a").length-2,Array.isArray(u.token)?1==u.token.length||1==h?u.token=u.token[0]:h-1!=u.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:u,groupCount:h-1}),u.token=u.token[0]):(u.tokenArray=u.token,u.token=null,u.onMatch=this.$arrayTokens):"function"!=typeof u.token||u.onMatch||(u.onMatch=1<h?this.$applyToken:u.token),1<h&&(c=/\\\d/.test(u.regex)?u.regex.replace(/\\([0-9]+)/g,function(e,t){return"\\"+(parseInt(t,10)+r+1)}):(h=1,this.removeCapturingGroups(u.regex)),u.splitRegex||"string"==typeof u.token||a.push(u)),o[r]=l,r+=h,n.push(c),u.onMatch||(u.onMatch=null))}n.length||(o[0]=0,n.push("$")),a.forEach(function(e){e.splitRegex=this.createSplitterRegexp(e.regex,s)},this),this.regExps[t]=new RegExp("("+n.join(")|(")+")|($)",s)}};(function(){this.$setMaxTokenCount=function(e){y=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),i=this.token.apply(this,t);if("string"==typeof i)return[{type:i,value:e}];for(var n=[],r=0,o=i.length;r<o;r++)t[r]&&(n[n.length]={type:i[r],value:t[r]});return n},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var i=[],n=this.tokenArray,r=0,o=n.length;r<o;r++)t[r+1]&&(i[i.length]={type:n[r],value:t[r+1]});return i},this.removeCapturingGroups=function(e){return e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!]|(\()/g,function(e,t){return t?"(?:":e})},this.createSplitterRegexp=function(e,t){var s,a,l;return-1!=e.indexOf("(?=")&&(s=0,a=!1,l={},e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(e,t,i,n,r,o){return a?a="]"!=r:r?a=!0:n?(s==l.stack&&(l.end=o+1,l.stack=-1),s--):i&&(s++,1!=i.length&&(l.stack=s,l.start=o)),e}),null!=l.end&&/^\)*$/.test(e.substr(l.end))&&(e=e.substring(0,l.start)+e.substr(l.end))),"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){var i;t&&"string"!=typeof t?"#tmp"===(t=(i=t.slice(0))[0])&&(i.shift(),t=i.shift()):i=[];var n=t||"start",r=this.states[n];r||(n="start",r=this.states[n]);for(var o,s=this.matchMappings[n],a=this.regExps[n],l=[],c=a.lastIndex=0,h=0,u={type:null,value:""};o=a.exec(e);){var d,f=s.defaultToken,p=null,g=o[0],m=a.lastIndex;m-g.length>c&&(d=e.substring(c,m-g.length),u.type==f?u.value+=d:(u.type&&l.push(u),u={type:f,value:d}));for(var v=0;v<o.length-2;v++)if(void 0!==o[v+1]){f=(p=r[s[v]]).onMatch?p.onMatch(g,n,i,e):p.token,p.next&&(n="string"==typeof p.next?p.next:p.next(n,i),(r=this.states[n])||(this.reportError("state doesn't exist",n),n="start",r=this.states[n]),s=this.matchMappings[n],c=m,(a=this.regExps[n]).lastIndex=m),p.consumeLineEnd&&(c=m);break}if(g)if("string"==typeof f)p&&!1===p.merge||u.type!==f?(u.type&&l.push(u),u={type:f,value:g}):u.value+=g;else if(f){u.type&&l.push(u),u={type:null,value:""};for(v=0;v<f.length;v++)l.push(f[v])}if(c==e.length)break;if(c=m,h++>y){for(h>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});c<e.length;)u.type&&l.push(u),u={value:e.substring(c,c+=500),type:"overflow"};n="start",i=[];break}}return u.type&&l.push(u),1<i.length&&i[0]!==n&&i.unshift("#tmp",n),{tokens:l,state:i.length?i:n}},this.reportError=n.reportError}).call(e.prototype),t.Tokenizer=e}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(e,t,i){"use strict";var l=e("../lib/lang"),e=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var i in e){for(var n=e[i],r=0;r<n.length;r++){var o=n[r];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(t)&&(o.next=t+o.next),o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState))}this.$rules[t+i]=n}else for(var i in e)this.$rules[i]=e[i]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,i,n,r){e="function"==typeof e?(new e).getRules():e;if(n)for(var o=0;o<n.length;o++)n[o]=t+n[o];else for(var s in n=[],e)n.push(t+s);if(this.addRules(e,t),i)for(var a=Array.prototype[r?"push":"unshift"],o=0;o<n.length;o++)a.apply(this.$rules[n[o]],l.deepCopy(i));this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};function u(e,t){return"start"==e&&!t.length||t.unshift(this.nextState,e),this.nextState}function d(e,t){return t.shift(),t.shift()||"start"}this.normalizeRules=function(){var c=0,h=this.$rules;Object.keys(h).forEach(function e(t){var i=h[t];i.processed=!0;for(var n=0;n<i.length;n++){var r=i[n],o=null;Array.isArray(r)&&(o=r,r={}),!r.regex&&r.start&&(r.regex=r.start,r.next||(r.next=[]),r.next.push({defaultToken:r.token},{token:r.token+".end",regex:r.end||r.start,next:"pop"}),r.token=r.token+".start",r.push=!0);var s,a=r.next||r.push;if(a&&Array.isArray(a)?((s=r.stateName)||("string"!=typeof(s=r.token)&&(s=s[0]||""),h[s]&&(s+=c++)),h[s]=a,e(r.next=s)):"pop"==a&&(r.next=d),r.push&&(r.nextState=r.next||r.push,r.next=u,delete r.push),r.rules)for(var l in r.rules)h[l]?h[l].push&&h[l].push.apply(h[l],r.rules[l]):h[l]=r.rules[l];(a="string"==typeof r?r:r.include)&&(o=Array.isArray(a)?a.map(function(e){return h[e]}):h[a]),o&&(o=[n,1].concat(o),r.noEscape&&(o=o.filter(function(e){return!e.next})),i.splice.apply(i,o),n--),r.keywordMap&&(r.token=this.createKeywordMapper(r.keywordMap,r.defaultToken||"text",r.caseInsensitive),delete r.defaultToken)}},this)},this.createKeywordMapper=function(r,t,o,s){var a=Object.create(null);return Object.keys(r).forEach(function(e){var t=r[e];o&&(t=t.toLowerCase());for(var i=t.split(s||"|"),n=i.length;n--;)a[i[n]]=e}),Object.getPrototypeOf(a)&&(a.__proto__=null),this.$keywordList=Object.keys(a),r=null,o?function(e){return a[e.toLowerCase()]||t}:function(e){return a[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(e.prototype),t.TextHighlightRules=e}),ace.define("ace/mode/behaviour",["require","exports","module"],function(e,t,i){"use strict";function n(){this.$behaviours={}}(function(){this.add=function(e,t,i){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=i},this.addBehaviours=function(e){for(var t in e)for(var i in e[t])this.add(t,i,e[t][i])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){t=("function"==typeof e?new e:e).getBehaviours(t),this.addBehaviours(t)},this.getBehaviours=function(e){if(!e)return this.$behaviours;for(var t={},i=0;i<e.length;i++)this.$behaviours[e[i]]&&(t[e[i]]=this.$behaviours[e[i]]);return t}}).call(n.prototype),t.Behaviour=n}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(e,t,i){"use strict";var n=e("./range").Range,e=function(e,t,i){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);i=e.getTokenAt(t,i);this.$tokenIndex=i?i.index:-1};(function(){this.stepBackward=function(){for(--this.$tokenIndex;this.$tokenIndex<0;){if(--this.$row,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var e;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e=e||this.$session.getLength(),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,i=e[t].start;if(void 0!==i)return i;for(i=0;0<t;)i+=e[--t].value.length;return i},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new n(this.$row,t,this.$row,t+e.value.length)}}).call(e.prototype),t.TokenIterator=e}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t,i){"use strict";function d(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,l.rangeCount!=e.multiSelect.rangeCount&&(l={rangeCount:e.multiSelect.rangeCount})),l[t])return u=l[t];u=l[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}}function f(e,t,i,n){var r=e.end.row-e.start.row;return{text:i+t+n,selection:[0,e.start.column+1,r,e.end.column+(r?0:1)]}}var u,n=e("../../lib/oop"),r=e("../behaviour").Behaviour,o=e("../../token_iterator").TokenIterator,p=e("../../lib/lang"),s=["text","paren.rparen","rparen","paren","punctuation.operator"],a=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],l={},g={'"':'"',"'":"'"},m=function(h){this.add("braces","insertion",function(e,t,i,n,r){var o=i.getCursorPosition(),s=n.doc.getLine(o.row);if("{"==r){d(i);var a=i.getSelectionRange(),l=n.doc.getTextRange(a);return""!==l&&"{"!==l&&i.getWrapBehavioursEnabled()?f(a,l,"{","}"):m.isSaneInsertion(i,n)?/[\]\}\)]/.test(s[o.column])||i.inMultiSelectMode||h&&h.braces?(m.recordAutoInsert(i,n,"}"),{text:"{}",selection:[1,1]}):(m.recordMaybeInsert(i,n,"{"),{text:"{",selection:[1,1]}):void 0}if("}"==r){if(d(i),"}"==s.substring(o.column,o.column+1))if(null!==n.$findOpeningBracket("}",{column:o.column+1,row:o.row})&&m.isAutoInsertedClosing(o,s,r))return m.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==r||"\r\n"==r){d(i);i="";if(m.isMaybeInsertedClosing(o,s)&&(i=p.stringRepeat("}",u.maybeInsertedBrackets),m.clearMaybeInsertedClosing()),"}"===s.substring(o.column,o.column+1)){var c=n.findMatchingBracket({row:o.row,column:o.column+1},"}");if(!c)return null;c=this.$getIndent(n.getLine(c.row))}else{if(!i)return void m.clearMaybeInsertedClosing();c=this.$getIndent(s)}n=c+n.getTabString();return{text:"\n"+n+"\n"+c+i,selection:[1,n.length,1,n.length]}}m.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(e,t,i,n,r){var o=n.doc.getTextRange(r);if(!r.isMultiLine()&&"{"==o){if(d(i),"}"==n.doc.getLine(r.start.row).substring(r.end.column,r.end.column+1))return r.end.column++,r;u.maybeInsertedBrackets--}}),this.add("parens","insertion",function(e,t,i,n,r){if("("==r){d(i);var o=i.getSelectionRange(),s=n.doc.getTextRange(o);return""!==s&&i.getWrapBehavioursEnabled()?f(o,s,"(",")"):m.isSaneInsertion(i,n)?(m.recordAutoInsert(i,n,")"),{text:"()",selection:[1,1]}):void 0}if(")"==r){d(i);s=i.getCursorPosition(),i=n.doc.getLine(s.row);if(")"==i.substring(s.column,s.column+1))if(null!==n.$findOpeningBracket(")",{column:s.column+1,row:s.row})&&m.isAutoInsertedClosing(s,i,r))return m.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("parens","deletion",function(e,t,i,n,r){var o=n.doc.getTextRange(r);if(!r.isMultiLine()&&"("==o&&(d(i),")"==n.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r}),this.add("brackets","insertion",function(e,t,i,n,r){if("["==r){d(i);var o=i.getSelectionRange(),s=n.doc.getTextRange(o);return""!==s&&i.getWrapBehavioursEnabled()?f(o,s,"[","]"):m.isSaneInsertion(i,n)?(m.recordAutoInsert(i,n,"]"),{text:"[]",selection:[1,1]}):void 0}if("]"==r){d(i);s=i.getCursorPosition(),i=n.doc.getLine(s.row);if("]"==i.substring(s.column,s.column+1))if(null!==n.$findOpeningBracket("]",{column:s.column+1,row:s.row})&&m.isAutoInsertedClosing(s,i,r))return m.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("brackets","deletion",function(e,t,i,n,r){var o=n.doc.getTextRange(r);if(!r.isMultiLine()&&"["==o&&(d(i),"]"==n.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r}),this.add("string_dquotes","insertion",function(e,t,i,n,r){var o=n.$mode.$quotes||g;if(1==r.length&&o[r]&&(!this.lineCommentStart||-1==this.lineCommentStart.indexOf(r))){d(i);var s=r,a=i.getSelectionRange(),l=n.doc.getTextRange(a);if(""!==l&&(1!=l.length||!o[l])&&i.getWrapBehavioursEnabled())return f(a,l,s,s);if(!l){var c=i.getCursorPosition(),h=n.doc.getLine(c.row),r=h.substring(c.column-1,c.column),o=h.substring(c.column,c.column+1),a=n.getTokenAt(c.row,c.column),l=n.getTokenAt(c.row,c.column+1);if("\\"==r&&a&&/escape/.test(a.type))return null;var u,i=a&&/string|escape/.test(a.type),a=!l||/string|escape/.test(l.type);if(o==s)(u=i!==a)&&/string\.end/.test(l.type)&&(u=!1);else{if(i&&!a)return null;if(i&&a)return null;i=n.$mode.tokenRe;i.lastIndex=0;a=i.test(r);i.lastIndex=0;n=i.test(r);if(a||n)return null;if(o&&!/[\s;,.})\]\\]/.test(o))return null;c=h[c.column-2];if(r==s&&(c==s||i.test(c)))return null;u=!0}return{text:u?s+s:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(e,t,i,n,r){var o=n.$mode.$quotes||g,s=n.doc.getTextRange(r);if(!r.isMultiLine()&&o.hasOwnProperty(s)&&(d(i),n.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==s))return r.end.column++,r})};m.isSaneInsertion=function(e,t){var i=e.getCursorPosition(),n=new o(t,i.row,i.column);if(!this.$matchTokenType(n.getCurrentToken()||"text",s)){if(/[)}\]]/.test(e.session.getLine(i.row)[i.column]))return!0;t=new o(t,i.row,i.column+1);if(!this.$matchTokenType(t.getCurrentToken()||"text",s))return!1}return n.stepForward(),n.getCurrentTokenRow()!==i.row||this.$matchTokenType(n.getCurrentToken()||"text",a)},m.$matchTokenType=function(e,t){return-1<t.indexOf(e.type||e)},m.recordAutoInsert=function(e,t,i){e=e.getCursorPosition(),t=t.doc.getLine(e.row);this.isAutoInsertedClosing(e,t,u.autoInsertedLineEnd[0])||(u.autoInsertedBrackets=0),u.autoInsertedRow=e.row,u.autoInsertedLineEnd=i+t.substr(e.column),u.autoInsertedBrackets++},m.recordMaybeInsert=function(e,t,i){e=e.getCursorPosition(),t=t.doc.getLine(e.row);this.isMaybeInsertedClosing(e,t)||(u.maybeInsertedBrackets=0),u.maybeInsertedRow=e.row,u.maybeInsertedLineStart=t.substr(0,e.column)+i,u.maybeInsertedLineEnd=t.substr(e.column),u.maybeInsertedBrackets++},m.isAutoInsertedClosing=function(e,t,i){return 0<u.autoInsertedBrackets&&e.row===u.autoInsertedRow&&i===u.autoInsertedLineEnd[0]&&t.substr(e.column)===u.autoInsertedLineEnd},m.isMaybeInsertedClosing=function(e,t){return 0<u.maybeInsertedBrackets&&e.row===u.maybeInsertedRow&&t.substr(e.column)===u.maybeInsertedLineEnd&&t.substr(0,e.column)==u.maybeInsertedLineStart},m.popAutoInsertedClosing=function(){u.autoInsertedLineEnd=u.autoInsertedLineEnd.substr(1),u.autoInsertedBrackets--},m.clearMaybeInsertedClosing=function(){u&&(u.maybeInsertedBrackets=0,u.maybeInsertedRow=-1)},n.inherits(m,r),t.CstyleBehaviour=m}),ace.define("ace/unicode",["require","exports","module"],function(e,t,i){"use strict";for(var n=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],r=0,o=[],s=0;s<n.length;s+=2)o.push(r+=n[s]),n[s+1]&&o.push(45,r+=n[s+1]);t.wordChars=String.fromCharCode.apply(null,o)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(e,t,i){"use strict";var s=e("../config"),n=e("../tokenizer").Tokenizer,r=e("./text_highlight_rules").TextHighlightRules,o=e("./behaviour/cstyle").CstyleBehaviour,a=e("../unicode"),x=e("../lib/lang"),g=e("../token_iterator").TokenIterator,m=e("../range").Range,e=function(){this.HighlightRules=r};(function(){this.$defaultBehaviour=new o,this.tokenRe=new RegExp("^["+a.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+a.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new n(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,r,i,n){function t(e){for(var t=i;t<=n;t++)e(o.getLine(t),t)}var o=r.doc,s=!0,a=!0,l=1/0,c=r.getTabSize(),h=!1;if(this.lineCommentStart){m=Array.isArray(this.lineCommentStart)?(y=this.lineCommentStart.map(x.escapeRegExp).join("|"),this.lineCommentStart[0]):(y=x.escapeRegExp(this.lineCommentStart),this.lineCommentStart),y=new RegExp("^(\\s*)(?:"+y+") ?"),h=r.getUseSoftTabs();var u=function(e,t){var i,n,r=e.match(y);r&&(i=r[1].length,n=r[0].length,g(e,i,n)||" "!=r[0][n-1]||n--,o.removeInLine(t,i,n))},d=m+" ",f=function(e,t){s&&!/\S/.test(e)||(g(e,l,l)?o.insertInLine({row:t,column:l},d):o.insertInLine({row:t,column:l},m))},p=function(e,t){return y.test(e)},g=function(e,t,i){for(var n=0;t--&&" "==e.charAt(t);)n++;if(n%c!=0)return!1;for(n=0;" "==e.charAt(i++);)n++;return 2<c?n%c!=c-1:n%c==0}}else{if(!this.blockComment)return!1;var m=this.blockComment.start,v=this.blockComment.end,y=new RegExp("^(\\s*)(?:"+x.escapeRegExp(m)+")"),b=new RegExp("(?:"+x.escapeRegExp(v)+")\\s*$"),f=function(e,t){p(e,t)||s&&!/\S/.test(e)||(o.insertInLine({row:t,column:e.length},v),o.insertInLine({row:t,column:l},m))},u=function(e,t){var i;(i=e.match(b))&&o.removeInLine(t,e.length-i[0].length,e.length),(i=e.match(y))&&o.removeInLine(t,i[1].length,i[0].length)},p=function(e,t){if(y.test(e))return!0;for(var i=r.getTokens(t),n=0;n<i.length;n++)if("comment"===i[n].type)return!0}}var w=1/0;t(function(e,t){var i=e.search(/\S/);-1!==i?(i<l&&(l=i),a&&!p(e,t)&&(a=!1)):w>e.length&&(w=e.length)}),l==1/0&&(l=w,a=s=!1),h&&l%c!=0&&(l=Math.floor(l/c)*c),t(a?u:f)},this.toggleBlockComment=function(e,t,i,n){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var o,s,a=(d=new g(t,n.row,n.column)).getCurrentToken(),l=(t.selection,t.selection.toOrientedRange());if(a&&/comment/.test(a.type)){for(;a&&/comment/.test(a.type);){if(-1!=(f=a.value.indexOf(r.start))){var c=d.getCurrentTokenRow(),h=d.getCurrentTokenColumn()+f,u=new m(c,h,c,h+r.start.length);break}a=d.stepBackward()}for(var d,f,a=(d=new g(t,n.row,n.column)).getCurrentToken();a&&/comment/.test(a.type);){if(-1!=(f=a.value.indexOf(r.end))){var c=d.getCurrentTokenRow(),h=d.getCurrentTokenColumn()+f,p=new m(c,h,c,h+r.end.length);break}a=d.stepForward()}p&&t.remove(p),u&&(t.remove(u),o=u.start.row,s=-r.start.length)}else s=r.start.length,o=i.start.row,t.insert(i.end,r.end),t.insert(i.start,r.start);l.start.row==o&&(l.start.column+=s),l.end.row==o&&(l.end.column+=s),t.selection.fromOrientedRange(l)}},this.getNextLineIndent=function(e,t,i){return this.$getIndent(t)},this.checkOutdent=function(e,t,i){return!1},this.autoOutdent=function(e,t,i){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){for(var n in this.$embeds=[],this.$modes={},e){var t,i,r;e[n]&&(i=(t=e[n]).prototype.$id,(r=s.$modes[i])||(s.$modes[i]=r=new t),s.$modes[n]||(s.$modes[n]=r),this.$embeds.push(n),this.$modes[n]=r)}for(var o=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],n=0;n<o.length;n++)!function(e){var t=o[n],i=e[t];e[o[n]]=function(){return this.$delegator(t,arguments,i)}}(this)},this.$delegator=function(e,t,i){var n=t[0]||"start";if("string"!=typeof n){if(Array.isArray(n[2])){var r=n[2][n[2].length-1];if(s=this.$modes[r])return s[e].apply(s,[n[1]].concat([].slice.call(t,1)))}n=n[0]||"start"}for(var o=0;o<this.$embeds.length;o++)if(this.$modes[this.$embeds[o]]){var s,a=n.split(this.$embeds[o]);if(!a[0]&&a[1])return t[0]=a[1],(s=this.$modes[this.$embeds[o]])[e].apply(s,t)}r=i.apply(this,t);return i?r:void 0},this.transformAction=function(e,t,i,n,r){if(this.$behaviour){var o,s=this.$behaviour.getBehaviours();for(o in s)if(s[o][t]){var a=s[o][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,i=[];for(n in t)for(var n,r=t[n],o=0,s=r.length;o<s;o++)if("string"==typeof r[o].token)/keyword|support|storage/.test(r[o].token)&&i.push(r[o].regex);else if("object"==typeof r[o].token)for(var a=0,l=r[o].token.length;a<l;a++){/keyword|support|storage/.test(r[o].token[a])&&(n=r[o].regex.match(/\(.+?\)/g)[a],i.push(n.substr(1,n.length-2)))}this.completionKeywords=i}return e?i.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,i,n){return(this.$keywordList||this.$createKeywordList()).map(function(e){return{name:e,value:e,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(e.prototype),t.Mode=e}),ace.define("ace/apply_delta",["require","exports","module"],function(e,t,i){"use strict";t.applyDelta=function(e,t,i){var n=t.start.row,r=t.start.column,o=e[n]||"";switch(t.action){case"insert":1===t.lines.length?e[n]=o.substring(0,r)+t.lines[0]+o.substring(r):(s=[n,1].concat(t.lines),e.splice.apply(e,s),e[n]=o.substring(0,r)+e[n],e[n+t.lines.length-1]+=o.substring(r));break;case"remove":var s=t.end.column,t=t.end.row;n===t?e[n]=o.substring(0,r)+o.substring(s):e.splice(n,t-n+1,o.substring(0,r)+e[t].substring(s))}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,t=t.Anchor=function(e,t,i){this.$onChange=this.onChange.bind(this),this.attach(e),void 0===i?this.setPosition(t.row,t.column):this.setPosition(t,i)};(function(){function a(e,t,i){i=i?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&i}n.implement(this,r),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){var t,i,n,r,o,s;e.start.row==e.end.row&&e.start.row!=this.row||e.start.row>this.row||(t=e,i={row:this.row,column:this.column},n=this.$insertRight,r="insert"==t.action,o=(r?1:-1)*(t.end.row-t.start.row),s=(r?1:-1)*(t.end.column-t.start.column),e=t.start,t=r?e:t.end,e=a(i,e,n)?{row:i.row,column:i.column}:a(t,i,!n)?{row:i.row+o,column:i.column+(i.row==t.row?s:0)}:{row:e.row,column:e.column},this.setPosition(e.row,e.column,!0))},this.setPosition=function(e,t,i){e=i?{row:e,column:t}:this.$clipPositionToDocument(e,t);this.row==e.row&&this.column==e.column||(t={row:this.row,column:this.column},this.row=e.row,this.column=e.column,this._signal("change",{old:t,value:e}))},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var i={};return e>=this.document.getLength()?(i.row=Math.max(0,this.document.getLength()-1),i.column=this.document.getLine(i.row).length):e<0?(i.row=0,i.column=0):(i.row=e,i.column=Math.min(this.document.getLine(i.row).length,Math.max(0,t))),t<0&&(i.column=0),i}}).call(t.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(e,t,i){"use strict";var n=e("./lib/oop"),r=e("./apply_delta").applyDelta,o=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,a=e("./anchor").Anchor,e=function(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){n.implement(this,o),this.setValue=function(e){var t=this.getLength()-1;this.remove(new s(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new a(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){e=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=e?e[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t,i;return e.start.row===e.end.row?t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)]:((t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||"").substring(e.start.column),i=t.length-1,e.end.row-e.start.row==i&&(t[i]=t[i].substring(0,e.end.column))),t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var i=this.clippedPos(e.row,e.column),e=this.pos(e.row,e.column+t.length);return this.applyDelta({start:i,end:e,action:"insert",lines:[t]},!0),this.clonePos(e)},this.clippedPos=function(e,t){var i=this.getLength();void 0===e?e=i:e<0?e=0:i<=e&&(e=i-1,t=void 0);i=this.getLine(e);return null==t&&(t=i.length),{row:e,column:t=Math.min(Math.max(t,0),i.length)}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){var i=0,i=(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([""]),0):(t=[""].concat(t),e--,this.$lines[e].length);this.insertMergedLines({row:e,column:i},t)},this.insertMergedLines=function(e,t){var i=this.clippedPos(e.row,e.column),e={row:i.row+t.length-1,column:(1==t.length?i.column:0)+t[t.length-1].length};return this.applyDelta({start:i,end:e,action:"insert",lines:t}),this.clonePos(e)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),e=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:e,action:"remove",lines:this.getLinesForRange({start:t,end:e})}),this.clonePos(t)},this.removeInLine=function(e,t,i){t=this.clippedPos(e,t),i=this.clippedPos(e,i);return this.applyDelta({start:t,end:i,action:"remove",lines:this.getLinesForRange({start:t,end:i})},!0),this.clonePos(t)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var i=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&0<e,n=t<this.getLength()-1,r=i?e-1:e,o=i?this.getLine(r).length:0,i=n?t+1:t,n=n?0:this.getLine(i).length,n=new s(r,o,i,n),t=this.$lines.slice(e,t+1);return this.applyDelta({start:n.start,end:n.end,action:"remove",lines:this.getLinesForRange(n)}),t},this.removeNewLine=function(e){e<this.getLength()-1&&0<=e&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){return e instanceof s||(e=s.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;0<=t;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var i="insert"==e.action;(i?e.lines.length<=1&&!e.lines[0]:!s.comparePoints(e.start,e.end))||(i&&2e4<e.lines.length?this.$splitAndapplyLargeDelta(e,2e4):(r(this.$lines,e,t),this._signal("change",e)))},this.$safeApplyDelta=function(e){var t=this.$lines.length;("remove"==e.action&&e.start.row<t&&e.end.row<t||"insert"==e.action&&e.start.row<=t)&&this.applyDelta(e)},this.$splitAndapplyLargeDelta=function(e,t){for(var i=e.lines,n=i.length-t+1,r=e.start.row,o=e.start.column,s=0,a=0;s<n;s=a){a+=t-1;var l=i.slice(s,a);l.push(""),this.applyDelta({start:this.pos(r+s,o),end:this.pos(r+a,o=0),action:e.action,lines:l},!0)}e.lines=i.slice(s),e.start.row=r+s,e.start.column=o,this.applyDelta(e,!0)},this.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var i=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,r=t||0,o=i.length;r<o;r++)if((e-=i[r].length+n)<0)return{row:r,column:e+i[r].length+n};return{row:o-1,column:e+i[o-1].length+n}},this.positionToIndex=function(e,t){for(var i=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,r=0,o=Math.min(e.row,i.length),s=t||0;s<o;++s)r+=i[s].length+n;return r+e.column}}).call(e.prototype),t.Document=e}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,e=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var a=this;this.$worker=function(){if(a.running){for(var e=new Date,t=a.currentLine,i=-1,n=a.doc,r=t;a.lines[t];)t++;var o=n.getLength(),s=0;for(a.running=!1;t<o;){for(a.$tokenizeRow(t),i=t;t++,a.lines[t];);if(++s%5==0&&20<new Date-e){a.running=setTimeout(a.$worker,20);break}}a.currentLine=t,-1==i&&(i=t),r<=i&&a.fireUpdateEvent(r,i)}}};(function(){n.implement(this,r),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){t={first:e,last:t};this._signal("update",{data:t})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,i=e.end.row-t;0==i?this.lines[t]=null:"remove"==e.action?(this.lines.splice(t,1+i,null),this.states.splice(t,1+i,null)):((i=Array(1+i)).unshift(t,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)),this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),i=this.states[e-1],i=this.tokenizer.getLineTokens(t,i,e);return this.states[e]+""!=i.state+""?(this.states[e]=i.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=i.tokens}}).call(e.prototype),t.BackgroundTokenizer=e}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,i){"use strict";var c=e("./lib/lang"),h=(e("./lib/oop"),e("./range").Range),e=function(e,t,i){this.setRegexp(e),this.clazz=t,this.type=i||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,i,n){if(this.regExp)for(var r=n.firstRow,o=n.lastRow,s=r;s<=o;s++){var a=this.cache[s];null==a&&((a=c.getMatchOffsets(i.getLine(s),this.regExp)).length>this.MAX_RANGES&&(a=a.slice(0,this.MAX_RANGES)),a=a.map(function(e){return new h(s,e.offset,s,e.offset+e.length)}),this.cache[s]=a.length?a:"");for(var l=a.length;l--;)t.drawSingleLineMarker(e,a[l].toScreenRange(i),this.clazz,n)}}}).call(e.prototype),t.SearchHighlight=e}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(e,t,i){"use strict";function r(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];e=t[t.length-1];this.range=new n(t[0].start.row,t[0].start.column,e.end.row,e.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this)},this)}var n=e("../range").Range;(function(){this.shiftRow=function(t){this.start.row+=t,this.end.row+=t,this.folds.forEach(function(e){e.start.row+=t,e.end.row+=t})},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort(function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)}),0<this.range.compareEnd(e.start.row,e.start.column)?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,i){var n,r,o=0,s=this.folds,a=!0;null==t&&(t=this.end.row,i=this.end.column);for(var l=0;l<s.length;l++){if(-1==(r=(n=s[l]).range.compareStart(t,i)))return void e(null,t,i,o,a);if(!e(null,n.start.row,n.start.column,o,a)&&e(n.placeholder,n.start.row,n.start.column,o)||0===r)return;a=!n.sameRow,o=n.end.column}e(null,t,i,o,a)},this.getNextFoldTo=function(e,t){for(var i,n,r=0;r<this.folds.length;r++){if(-1==(n=(i=this.folds[r]).range.compareEnd(e,t)))return{fold:i,kind:"after"};if(0===n)return{fold:i,kind:"inside"}}return null},this.addRemoveChars=function(e,t,i){var n,r,o=this.getNextFoldTo(e,t);if(o)if(n=o.fold,"inside"==o.kind&&n.start.column!=t&&n.start.row!=e)window.console&&window.console.log(e,t,n);else if(n.start.row==e){var s=(r=this.folds).indexOf(n);for(0===s&&(this.start.column+=i);s<r.length;s++){if((n=r[s]).start.column+=i,!n.sameRow)return;n.end.column+=i}this.end.column+=i}},this.split=function(e,t){var i=this.getNextFoldTo(e,t);if(!i||"inside"==i.kind)return null;var n=i.fold,e=this.folds,t=this.foldData,i=e.indexOf(n),n=e[i-1];this.end.row=n.end.row,this.end.column=n.end.column;e=new r(t,e=e.splice(i,e.length-i));return t.splice(t.indexOf(this)+1,0,e),e},this.merge=function(e){for(var t=e.folds,i=0;i<t.length;i++)this.addFold(t[i]);var n=this.foldData;n.splice(n.indexOf(e),1)},this.toString=function(){var t=[this.range.toString()+": ["];return this.folds.forEach(function(e){t.push("  "+e.toString())}),t.push("]"),t.join("\n")},this.idxToPosition=function(e){for(var t=0,i=0;i<this.folds.length;i++){var n=this.folds[i];if((e-=n.start.column-t)<0)return{row:n.start.row,column:n.start.column+e};if((e-=n.placeholder.length)<0)return n.start;t=n.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(r.prototype),t.FoldLine=r}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(e,t,i){"use strict";var a=e("./range").Range.comparePoints,e=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=a,this.pointIndex=function(e,t,i){for(var n=this.ranges,r=i||0;r<n.length;r++){var o=n[r],s=a(e,o.end);if(!(0<s)){o=a(e,o.start);return 0===s?t&&0!==o?-r-2:r:0<o||0===o&&!t?r:-r-1}}return-r-1},this.add=function(e){var t=!e.isEmpty(),i=this.pointIndex(e.start,t);i<0&&(i=-i-1);t=this.pointIndex(e.end,t,i);return t<0?t=-t-1:t++,this.ranges.splice(i,t-i,e)},this.addList=function(e){for(var t=[],i=e.length;i--;)t.push.apply(t,this.add(e[i]));return t},this.substractPoint=function(e){e=this.pointIndex(e);if(0<=e)return this.ranges.splice(e,1)},this.merge=function(){for(var e,t=[],i=this.ranges,n=(i=i.sort(function(e,t){return a(e.start,t.start)}))[0],r=1;r<i.length;r++){e=n,n=i[r];var o=a(e.end,n.start);o<0||(0!=o||e.isEmpty()||n.isEmpty())&&(a(e.end,n.end)<0&&(e.end.row=n.end.row,e.end.column=n.end.column),i.splice(r,1),t.push(n),n=e,r--)}return this.ranges=i,t},this.contains=function(e,t){return 0<=this.pointIndex({row:e,column:t})},this.containsPoint=function(e){return 0<=this.pointIndex(e)},this.rangeAtPoint=function(e){e=this.pointIndex(e);if(0<=e)return this.ranges[e]},this.clipRows=function(e,t){var i=this.ranges;if(i[0].start.row>t||i[i.length-1].start.row<e)return[];e=this.pointIndex({row:e,column:0});e<0&&(e=-e-1);var n=this.pointIndex({row:t,column:0},e);n<0&&(n=-n-1);for(var r=[],o=e;o<n;o++)r.push(i[o]);return r},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){for(var t=e.start,i=e.end,n=t.row,r=i.row,o=this.ranges,s=0,a=o.length;s<a;s++){if((h=o[s]).end.row>=n)break}if("insert"==e.action)for(var l=r-n,c=-t.column+i.column;s<a;s++){if((h=o[s]).start.row>n)break;h.start.row==n&&h.start.column>=t.column&&(h.start.column==t.column&&this.$bias<=0||(h.start.column+=c,h.start.row+=l)),h.end.row==n&&h.end.column>=t.column&&(h.end.column==t.column&&this.$bias<0||(h.end.column==t.column&&0<c&&s<a-1&&h.end.column>h.start.column&&h.end.column==o[s+1].start.column&&(h.end.column-=c),h.end.column+=c,h.end.row+=l))}else for(var h,l=n-r,c=t.column-i.column;s<a;s++){if((h=o[s]).start.row>r)break;h.end.row<r&&(n<h.end.row||n==h.end.row&&t.column<h.end.column)?(h.end.row=n,h.end.column=t.column):h.end.row==r?h.end.column<=i.column?(l||h.end.column>t.column)&&(h.end.column=t.column,h.end.row=t.row):(h.end.column+=c,h.end.row+=l):h.end.row>r&&(h.end.row+=l),h.start.row<r&&(n<h.start.row||n==h.start.row&&t.column<h.start.column)?(h.start.row=n,h.start.column=t.column):h.start.row==r?h.start.column<=i.column?(l||h.start.column>t.column)&&(h.start.column=t.column,h.start.row=t.row):(h.start.column+=c,h.start.row+=l):h.start.row>r&&(h.start.row+=l)}if(0!=l&&s<a)for(;s<a;s++){(h=o[s]).start.row+=l,h.end.row+=l}}}).call(e.prototype),t.RangeList=e}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],function(e,t,i){"use strict";function u(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function n(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}var r=e("../range_list").RangeList,e=e("../lib/oop"),o=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};e.inherits(o,r),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(t){this.foldLine=t,this.subFolds.forEach(function(e){e.setFoldLine(t)})},this.clone=function(){var e=this.range.clone(),t=new o(e,this.placeholder);return this.subFolds.forEach(function(e){t.subFolds.push(e.clone())}),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){o=e,s=this.start,u(o.start,s),u(o.end,s);for(var t=e.start.row,i=e.start.column,n=0,r=-1;n<this.subFolds.length&&1==(r=this.subFolds[n].range.compare(t,i));n++);var o=this.subFolds[n],s=0;if(0==r){if(o.range.containsRange(e))return o.addSubFold(e);s=1}for(var t=e.range.end.row,i=e.range.end.column,a=n,r=-1;a<this.subFolds.length&&1==(r=this.subFolds[a].range.compare(t,i));a++);0==r&&a++;for(var l=this.subFolds.splice(n,a-n,e),c=0==r?l.length-1:l.length,h=s;h<c;h++)e.addSubFold(l[h]);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return t=e,e=this.start,n(t.start,e),void n(t.end,e);var t}}.call(o.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(e,t,i){"use strict";var c=e("../range").Range,d=e("./fold_line").FoldLine,f=e("./fold").Fold,h=e("../token_iterator").TokenIterator;t.Folding=function(){this.getFoldAt=function(e,t,i){var n=this.getFoldLine(e);if(!n)return null;for(var r=n.folds,o=0;o<r.length;o++){var s=r[o].range;if(s.contains(e,t)&&(1!=i||!s.isEnd(e,t)||s.isEmpty())&&(-1!=i||!s.isStart(e,t)||s.isEmpty()))return r[o]}},this.getFoldsInRange=function(e){var t=e.start,i=e.end,n=this.$foldData,r=[];t.column+=1,--i.column;for(var o=0;o<n.length;o++){if(2!=(l=n[o].range.compareRange(e))){if(-2==l)break;for(var s=n[o].folds,a=0;a<s.length;a++){var l,c=s[a];if(-2==(l=c.range.compareRange(e)))break;if(2!=l){if(42==l)break;r.push(c)}}}}return--t.column,i.column+=1,r},this.getFoldsInRangeList=function(e){var t;return Array.isArray(e)?(t=[],e.forEach(function(e){t=t.concat(this.getFoldsInRange(e))},this)):t=this.getFoldsInRange(e),t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,i=0;i<t.length;i++)for(var n=0;n<t[i].folds.length;n++)e.push(t[i].folds[n]);return e},this.getFoldStringAt=function(e,t,i,n){if(!(n=n||this.getFoldLine(e)))return null;for(var r,o,s={end:{column:0}},a=0;a<n.folds.length;a++){var l=(o=n.folds[a]).range.compareEnd(e,t);if(-1==l){r=this.getLine(o.start.row).substring(s.end.column,o.start.column);break}if(0===l)return null;s=o}return r=r||this.getLine(o.start.row).substring(s.end.column),-1==i?r.substring(0,t-s.end.column):1==i?r.substring(t-s.end.column):r},this.getFoldLine=function(e,t){var i=this.$foldData,n=0;for(t&&(n=i.indexOf(t)),-1==n&&(n=0);n<i.length;n++){var r=i[n];if(r.start.row<=e&&r.end.row>=e)return r;if(r.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var i=this.$foldData,n=0;for(t&&(n=i.indexOf(t)),-1==n&&(n=0);n<i.length;n++){var r=i[n];if(r.end.row>=e)return r}return null},this.getFoldedRowCount=function(e,t){for(var i=this.$foldData,n=t-e+1,r=0;r<i.length;r++){var o=i[r],s=o.end.row,o=o.start.row;if(t<=s){o<t&&(e<=o?n-=t-o:n=0);break}e<=s&&(n-=e<=o?s-o:s-e+1)}return n},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(e,t){return e.start.row-t.start.row}),e},this.addFold=function(e,t){var i,n=this.$foldData,r=!1;e instanceof f?i=e:(i=new f(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(i.range);var o=i.start.row,s=i.start.column,a=i.end.row,l=i.end.column,e=this.getFoldAt(o,s,1),t=this.getFoldAt(a,l,-1);if(e&&t==e)return e.addSubFold(i);e&&!e.range.isStart(o,s)&&this.removeFold(e),t&&!t.range.isEnd(a,l)&&this.removeFold(t);t=this.getFoldsInRange(i.range);0<t.length&&(this.removeFolds(t),t.forEach(function(e){i.addSubFold(e)}));for(var c=0;c<n.length;c++){var h=n[c];if(a==h.start.row){h.addFold(i),r=!0;break}if(o==h.end.row){if(h.addFold(i),r=!0,!i.sameRow){var u=n[c+1];if(u&&u.start.row==a){h.merge(u);break}}break}if(a<=h.start.row)break}return r||(h=this.$addFoldLine(new d(this.$foldData,i))),this.$useWrapMode?this.$updateWrapData(h.start.row,h.start.row):this.$updateRowLengthCache(h.start.row,h.start.row),this.$modified=!0,this._signal("changeFold",{data:i,action:"add"}),i},this.addFolds=function(e){e.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(e){var t=e.foldLine,i=t.start.row,n=t.end.row,r=this.$foldData,o=t.folds;1==o.length?r.splice(r.indexOf(t),1):t.range.isEnd(e.end.row,e.end.column)?(o.pop(),t.end.row=o[o.length-1].end.row,t.end.column=o[o.length-1].end.column):t.range.isStart(e.start.row,e.start.column)?(o.shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column):e.sameRow?o.splice(o.indexOf(e),1):((o=(t=t.split(e.start.row,e.start.column)).folds).shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column),this.$updating||(this.$useWrapMode?this.$updateWrapData(i,n):this.$updateRowLengthCache(i,n)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i]);t.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(t){this.removeFold(t),t.subFolds.forEach(function(e){t.restoreRange(e),this.addFold(e)},this),0<t.collapseChildren&&this.foldAll(t.start.row+1,t.end.row,t.collapseChildren-1),t.subFolds=[]},this.expandFolds=function(e){e.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(e,t){var i;if(null==e?(i=new c(0,0,this.getLength(),0),t=!0):i="number"==typeof e?new c(e,0,e,this.getLine(e).length):"row"in e?c.fromPoints(e,e):e,e=this.getFoldsInRangeList(i),t)this.removeFolds(e);else for(var n=e;n.length;)this.expandFolds(n),n=this.getFoldsInRangeList(i);if(e.length)return e},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){t=this.getFoldLine(e,t);return t?t.end.row:e},this.getRowFoldStart=function(e,t){t=this.getFoldLine(e,t);return t?t.start.row:e},this.getFoldDisplayLine=function(e,t,i,r,o){null==r&&(r=e.start.row),null==o&&(o=0),null==t&&(t=e.end.row),null==i&&(i=this.getLine(t).length);var s=this.doc,a="";return e.walk(function(e,t,i,n){if(!(t<r)){if(t==r){if(i<o)return;n=Math.max(o,n)}a+=null!=e?e:s.getLine(t).substring(n,i)}},t,i),a},this.getDisplayLine=function(e,t,i,n){var r=this.getFoldLine(e);if(r)return this.getFoldDisplayLine(r,e,t,i,n);e=this.doc.getLine(e);return e.substring(n||0,t||e.length)},this.$cloneFoldData=function(){var t=[];return t=this.$foldData.map(function(e){e=e.folds.map(function(e){return e.clone()});return new d(t,e)})},this.toggleFold=function(e){var t,i=this.selection.getRange();if(i.isEmpty()){var n=i.start;if(r=this.getFoldAt(n.row,n.column))return void this.expandFold(r);(t=this.findMatchingBracket(n))?1==i.comparePoint(t)?i.end=t:(i.start=t,i.start.column++,i.end.column--):(t=this.findMatchingBracket({row:n.row,column:n.column+1}))?(1==i.comparePoint(t)?i.end=t:i.start=t,i.start.column++):i=this.getCommentFoldRange(n.row,n.column)||i}else{n=this.getFoldsInRange(i);if(e&&n.length)return void this.expandFolds(n);1==n.length&&(r=n[0])}if((r=r||this.getFoldAt(i.start.row,i.start.column))&&r.range.toString()==i.toString())this.expandFold(r);else{var r="...";if(!i.isMultiLine()){if((r=this.getTextRange(i)).length<4)return;r=r.trim().substring(0,2)+".."}this.addFold(r,i)}},this.getCommentFoldRange=function(e,t,i){var n=new h(this,e,t),r=n.getCurrentToken(),o=r.type;if(r&&/^comment|string/.test(o)){"comment"==(o=o.match(/comment|string/)[0])&&(o+="|doc-start");var s=new RegExp(o),o=new c;if(1!=i){for(;(r=n.stepBackward())&&s.test(r.type););n.stepForward()}if(o.start.row=n.getCurrentTokenRow(),o.start.column=n.getCurrentTokenColumn()+2,n=new h(this,e,t),-1!=i){var a=-1;do{if(r=n.stepForward(),-1==a){var l=this.getState(n.$row);s.test(l)||(a=n.$row)}else if(n.$row>a)break}while(r&&s.test(r.type));r=n.stepBackward()}else r=n.getCurrentToken();return o.end.row=n.getCurrentTokenRow(),o.end.column=n.getCurrentTokenColumn()+r.value.length-2,o}},this.foldAll=function(e,t,i){null==i&&(i=1e5);var n=this.foldWidgets;if(n){t=t||this.getLength();for(var r=e=e||0;r<t;r++)if(null==n[r]&&(n[r]=this.getFoldWidget(r)),"start"==n[r]){var o=this.getFoldWidgetRange(r);if(o&&o.isMultiLine()&&o.end.row<=t&&o.start.row>=e){r=o.end.row;try{var s=this.addFold("...",o);s&&(s.collapseChildren=i)}catch(e){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");this.$foldStyle!=e&&("manual"==(this.$foldStyle=e)&&this.unfold(),e=this.$foldMode,this.$setFolding(null),this.$setFolding(e))},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var i=this.foldWidgets;if(!i||t&&i[e])return{};for(var n=e-1;0<=n;){var r=i[n];if(null==r&&(r=i[n]=this.getFoldWidget(n)),"start"==r){var o=this.getFoldWidgetRange(n),s=s||o;if(o&&o.end.row>=e)break}n--}return{range:-1!==n&&o,firstRange:s}},this.onFoldWidgetClick=function(e,t){var i={children:(t=t.domEvent).shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};this.$toggleFoldWidget(e,i)||(t=t.target||t.srcElement)&&/ace_fold-widget/.test(t.className)&&(t.className+=" ace_invalid")},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var i=this.getFoldWidget(e),n=this.getLine(e),i="end"===i?-1:1,n=this.getFoldAt(e,-1==i?0:n.length,i);if(n)return t.children||t.all?this.removeFold(n):this.expandFold(n),n;var r,o,i=this.getFoldWidgetRange(e,!0);return i&&!i.isMultiLine()&&(n=this.getFoldAt(i.start.row,i.start.column,1))&&i.isEqual(n.range)?(this.removeFold(n),n):(t.siblings?((n=this.getParentFoldRangeData(e)).range&&(r=n.range.start.row+1,o=n.range.end.row),this.foldAll(r,o,t.all?1e4:0)):t.children?(o=i?i.end.row:this.getLength(),this.foldAll(e+1,o,t.all?1e4:0)):i&&(t.all&&(i.collapseChildren=1e4),this.addFold("...",i)),i)}},this.toggleFoldWidget=function(e){var t,i=this.selection.getCursor().row,i=this.getRowFoldStart(i),n=this.$toggleFoldWidget(i,{});n||(n=(t=this.getParentFoldRangeData(i,!0)).range||t.firstRange)&&(i=n.start.row,(i=this.getFoldAt(i,this.getLine(i).length,1))?this.removeFold(i):this.addFold("...",n))},this.updateFoldWidgets=function(e){var t=e.start.row,i=e.end.row-t;0==i?this.foldWidgets[t]=null:"remove"==e.action?this.foldWidgets.splice(t,1+i,null):((i=Array(1+i)).unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,i))},this.tokenizerUpdateFoldWidgets=function(e){e=e.data;e.first!=e.last&&this.foldWidgets.length>e.first&&this.foldWidgets.splice(e.first,this.foldWidgets.length)}}}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(e,t,i){"use strict";var u=e("../token_iterator").TokenIterator,a=e("../range").Range;t.BracketMatch=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;t=t||this.getLine(e.row).charAt(e.column-1);if(""==t)return null;t=t.match(/([\(\[\{])|([\)\]\}])/);return t?t[1]?this.$findClosingBracket(t[1],e):this.$findOpeningBracket(t[2],e):null},this.getBracketRange=function(e){var t,i,n=this.getLine(e.row),r=!0,o=n.charAt(e.column-1),s=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(s||(o=n.charAt(e.column),e={row:e.row,column:e.column+1},s=o&&o.match(/([\(\[\{])|([\)\]\}])/),r=!1),!s)return null;if(s[1]){if(!(i=this.$findClosingBracket(s[1],e)))return null;t=a.fromPoints(e,i),r||(t.end.column++,t.start.column--),t.cursor=t.end}else{if(!(i=this.$findOpeningBracket(s[2],e)))return null;t=a.fromPoints(i,e),r||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.getMatchingBracketRanges=function(e){var t=this.getLine(e.row),i=t.charAt(e.column-1),n=i&&i.match(/([\(\[\{])|([\)\]\}])/);if(n||(i=t.charAt(e.column),e={row:e.row,column:e.column+1},n=i&&i.match(/([\(\[\{])|([\)\]\}])/)),!n)return null;i=new a(e.row,e.column-1,e.row,e.column),e=n[1]?this.$findClosingBracket(n[1],e):this.$findOpeningBracket(n[2],e);return e?[i,new a(e.row,e.column,e.row,e.column+1)]:[i]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(e,t,i){var n=this.$brackets[e],r=1,o=new u(this,t.row,t.column),s=o.getCurrentToken();if(s=s||o.stepForward()){i=i||new RegExp("(\\.?"+s.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+");for(var a=t.column-o.getCurrentTokenColumn()-2,l=s.value;;){for(;0<=a;){var c=l.charAt(a);if(c==n){if(0==--r)return{row:o.getCurrentTokenRow(),column:a+o.getCurrentTokenColumn()}}else c==e&&(r+=1);--a}for(;(s=o.stepBackward())&&!i.test(s.type););if(null==s)break;a=(l=s.value).length-1}return null}},this.$findClosingBracket=function(e,t,i){var n=this.$brackets[e],r=1,o=new u(this,t.row,t.column),s=o.getCurrentToken();if(s=s||o.stepForward()){i=i||new RegExp("(\\.?"+s.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+");for(var a=t.column-o.getCurrentTokenColumn();;){for(var l=s.value,c=l.length;a<c;){var h=l.charAt(a);if(h==n){if(0==--r)return{row:o.getCurrentTokenRow(),column:a+o.getCurrentTokenColumn()}}else h==e&&(r+=1);a+=1}for(;(s=o.stepForward())&&!i.test(s.type););if(null==s)break;a=0}return null}}}}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(e,t,i){"use strict";var n=e("./lib/oop"),r=e("./lib/lang"),o=e("./bidihandler").BidiHandler,s=e("./config"),l=e("./lib/event_emitter").EventEmitter,a=e("./selection").Selection,c=e("./mode/text").Mode,h=e("./range").Range,u=e("./document").Document,d=e("./background_tokenizer").BackgroundTokenizer,f=e("./search_highlight").SearchHighlight,p=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++p.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new u(e)),this.setDocument(e),this.selection=new a(this),this.$bidiHandler=new o(this),s.resetOptions(this),this.setMode(t),s._signal("session",this)};p.$uid=0,function(){function a(e){return!(e<4352)&&(4352<=e&&e<=4447||4515<=e&&e<=4519||4602<=e&&e<=4607||9001<=e&&e<=9002||11904<=e&&e<=11929||11931<=e&&e<=12019||12032<=e&&e<=12245||12272<=e&&e<=12283||12288<=e&&e<=12350||12353<=e&&e<=12438||12441<=e&&e<=12543||12549<=e&&e<=12589||12593<=e&&e<=12686||12688<=e&&e<=12730||12736<=e&&e<=12771||12784<=e&&e<=12830||12832<=e&&e<=12871||12880<=e&&e<=13054||13056<=e&&e<=19903||19968<=e&&e<=42124||42128<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||55216<=e&&e<=55238||55243<=e&&e<=55291||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65106||65108<=e&&e<=65126||65128<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510)}n.implement(this,l),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),(this.doc=e).on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,e=this.$getRowCacheIndex(this.$docRowCache,e)+1;e<t&&(this.$docRowCache.splice(e,t),this.$screenRowCache.splice(e,t))},this.$getRowCacheIndex=function(e,t){for(var i=0,n=e.length-1;i<=n;){var r=i+n>>1,o=e[r];if(o<t)i=1+r;else{if(!(t<o))return r;n=r-1}}return i-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){e=e.data;this.$resetRowCache(e.start.row)},this.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var i=this.bgTokenizer.getTokens(e),n=0;if(null==t)var r=i.length-1,n=this.getLine(e).length;else for(r=0;r<i.length&&!(t<=(n+=i[r].value.length));r++);return(e=i[r])?(e.index=r,e.start=n-e.value.length,e):null},this.setUndoManager=function(e){var t;this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e?(t=this,e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=r.delayedCall(this.$syncInformUndoManager)):this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?r.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(e){this.setOption("navigateWithinSoftTabs",e)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,i,n){var r=this.$markerId++,t={range:e,type:i||"line",renderer:"function"==typeof i?i:null,clazz:t,inFront:!!n,id:r};return n?(this.$frontMarkers[r]=t,this._signal("changeFrontMarker")):(this.$backMarkers[r]=t,this._signal("changeBackMarker")),r},this.addDynamicMarker=function(e,t){if(e.update){var i=this.$markerId++;return e.id=i,e.inFront=!!t,t?(this.$frontMarkers[i]=e,this._signal("changeFrontMarker")):(this.$backMarkers[i]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];t&&(delete(t.inFront?this.$frontMarkers:this.$backMarkers)[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){var t;this.$searchHighlight||(t=new f(null,"ace_selected-word","text"),this.$searchHighlight=this.addDynamicMarker(t)),this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,i,n){"number"!=typeof t&&(i=t,t=e),i=i||"ace_step";t=new h(e,0,t,1/0);return t.id=this.addMarker(t,i,"fullLine",n),t},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){e=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=e?e[1]:"\n"},this.getWordRange=function(e,t){var i,n=this.getLine(e),r=!1;0<t&&(r=!!n.charAt(t-1).match(this.tokenRe)),i=(r=r||!!n.charAt(t).match(this.tokenRe))?this.tokenRe:/^\s+$/.test(n.slice(t-1,t+1))?/\s/:this.nonTokenRe;var o=t;if(0<o){for(;0<=--o&&n.charAt(o).match(i););o++}for(var s=t;s<n.length&&n.charAt(s).match(i);)s++;return new h(e,o,e,s)},this.getAWordRange=function(e,t){for(var i=this.getWordRange(e,t),n=this.getLine(i.end.row);n.charAt(i.end.column).match(/[ \t]/);)i.end.column+=1;return i},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes=s.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var i=e,n=i.path}else n=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[n]&&!i)return this.$onChangeMode(this.$modes[n]),void(t&&t());this.$modeId=n,s.loadModule(["mode",n],function(e){if(this.$modeId!==n)return t&&t();this.$modes[n]&&!i?this.$onChangeMode(this.$modes[n]):e&&e.Mode&&(e=new e.Mode(i),i||((this.$modes[n]=e).$id=n),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(e,t){var i,n,r,o;t||(this.$modeId=e.$id),this.$mode!==e&&(i=this.$mode,this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker(),void 0!==(n=e.getTokenizer()).on&&(r=this.onReloadTokenizer.bind(this),n.on("update",r)),this.bgTokenizer?this.bgTokenizer.setTokenizer(n):(this.bgTokenizer=new d(n),(o=this).bgTokenizer.on("update",function(e){o._signal("tokenizerUpdate",e)})),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:i,mode:e})))},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){s.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var t=0;return this.lineWidgets.forEach(function(e){e&&e.screenWidth>t&&(t=e.screenWidth)}),this.lineWidgetWidth=t},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),i=this.$rowLengthCache,n=0,r=0,o=this.$foldData[r],s=o?o.start.row:1/0,a=t.length,l=0;l<a;l++){if(s<l){if(a<=(l=o.end.row+1))break;s=(o=this.$foldData[r++])?o.start.row:1/0}null==i[l]&&(i[l]=this.$getStringScreenWidth(t[l])[0]),i[l]>n&&(n=i[l])}this.screenWidth=n}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var i=e.length-1;-1!=i;i--){var n=e[i];"insert"==n.action||"remove"==n.action?this.doc.revertDelta(n):n.folds&&this.addFolds(n.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var i=0;i<e.length;i++){var n=e[i];"insert"!=n.action&&"remove"!=n.action||this.doc.$safeApplyDelta(n)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t){function i(e){return t?"insert"!==e.action:"insert"===e.action}for(var n,r,o=0;o<e.length;o++){var s=e[o];s.start&&(n?i(s)?(r=s.start,-1==n.compare(r.row,r.column)&&n.setStart(r),r=s.end,1==n.compare(r.row,r.column)&&n.setEnd(r)):(r=s.start,-1==n.compare(r.row,r.column)&&(n=h.fromPoints(s.start,s.start))):n=i(s)?h.fromPoints(s.start,s.end):h.fromPoints(s.start,s.start))}return n},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,i){var n,r,o,s=this.getTextRange(e),a=this.getFoldsInRange(e),t=h.fromPoints(t,t);return i||(this.remove(e),r=e.start.row-e.end.row,(o=r?-e.end.column:e.start.column-e.end.column)&&(t.start.row==e.end.row&&t.start.column>e.end.column&&(t.start.column+=o),t.end.row==e.end.row&&t.end.column>e.end.column&&(t.end.column+=o)),r&&t.start.row>=e.end.row&&(t.start.row+=r,t.end.row+=r)),t.end=this.insert(t.start,s),a.length&&(n=e.start,e=t.start,r=e.row-n.row,o=e.column-n.column,this.addFolds(a.map(function(e){return(e=e.clone()).start.row==n.row&&(e.start.column+=o),e.end.row==n.row&&(e.end.column+=o),e.start.row+=r,e.end.row+=r,e}))),t},this.indentRows=function(e,t,i){i=i.replace(/\t/g,this.getTabString());for(var n=e;n<=t;n++)this.doc.insertInLine({row:n,column:0},i)},this.outdentRows=function(e){for(var t=e.collapseRows(),i=new h(0,0,0,0),n=this.getTabSize(),r=t.start.row;r<=t.end.row;++r){var o=this.getLine(r);i.start.row=r,i.end.row=r;for(var s=0;s<n&&" "==o.charAt(s);++s);s<n&&"\t"==o.charAt(s)?(i.start.column=s,i.end.column=s+1):(i.start.column=0,i.end.column=s),this.remove(i)}},this.$moveLines=function(e,t,i){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),i<0){if((r=this.getRowFoldStart(e+i))<0)return 0;var n=r-e}else if(0<i){if((r=this.getRowFoldEnd(t+i))>this.doc.getLength()-1)return 0;n=r-t}else{e=this.$clipRowToDocument(e);n=(t=this.$clipRowToDocument(t))-e+1}var r=new h(e,0,t,Number.MAX_VALUE),r=this.getFoldsInRange(r).map(function(e){return(e=e.clone()).start.row+=n,e.end.row+=n,e}),t=0==i?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+n,t),r.length&&this.addFolds(r),n},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){var i;return t=Math.max(0,t),t=e<0?e=0:(i=this.doc.getLength())<=e?(e=i-1,this.doc.getLine(i-1).length):Math.min(this.doc.getLine(e).length,t),{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){e!=this.$useWrapMode&&(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e&&(e=this.getLength(),this.$wrapData=Array(e),this.$updateWrapData(0,e-1)),this._signal("changeWrapMode"))},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var i=this.$wrapLimitRange;i.max<0&&(i={min:t,max:t});i=this.$constrainWrapLimit(e,i.min,i.max);return i!=this.$wrapLimit&&1<i&&(this.$wrapLimit=i,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,i){return t&&(e=Math.max(t,e)),i&&(e=Math.min(i,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,i=e.action,n=e.start,r=e.end,o=n.row,s=r.row,a=s-o,l=null;if(this.$updating=!0,0!=a)if("remove"===i){this[t?"$wrapData":"$rowLengthCache"].splice(o,a);var c=this.$foldData,l=this.getFoldsInRange(e);this.removeFolds(l);var h=0;for((f=this.getFoldLine(r.row))&&(f.addRemoveChars(r.row,r.column,n.column-r.column),f.shiftRow(-a),(d=this.getFoldLine(o))&&d!==f&&(d.merge(f),f=d),h=c.indexOf(f)+1);h<c.length;h++){(f=c[h]).start.row>=r.row&&f.shiftRow(-a)}s=o}else{var u=Array(a);u.unshift(o,0);var d=t?this.$wrapData:this.$rowLengthCache;d.splice.apply(d,u);c=this.$foldData,h=0;for((f=this.getFoldLine(o))&&(0==(u=f.range.compareInside(n.row,n.column))?(f=f.split(n.row,n.column))&&(f.shiftRow(a),f.addRemoveChars(s,0,r.column-n.column)):-1==u&&(f.addRemoveChars(o,0,r.column-n.column),f.shiftRow(a)),h=c.indexOf(f)+1);h<c.length;h++){(f=c[h]).start.row>=o&&f.shiftRow(a)}}else{var f,a=Math.abs(e.start.column-e.end.column);"remove"===i&&(l=this.getFoldsInRange(e),this.removeFolds(l),a=-a),(f=this.getFoldLine(o))&&f.addRemoveChars(o,n.column,a)}return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(o,s):this.$updateRowLengthCache(o,s),l},this.$updateRowLengthCache=function(e,t,i){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(e,t){var s,i,a=this.doc.getAllLines(),n=this.getTabSize(),r=this.$wrapData,o=this.$wrapLimit,l=e;for(t=Math.min(t,a.length-1);l<=t;)(i=this.getFoldLine(l,i))?(s=[],i.walk(function(e,t,i,n){var r;if(null!=e){(r=this.$getDisplayTokens(e,s.length))[0]=p;for(var o=1;o<r.length;o++)r[o]=g}else r=this.$getDisplayTokens(a[t].substring(n,i),s.length);s=s.concat(r)}.bind(this),i.end.row,a[i.end.row].length+1),r[i.start.row]=this.$computeWrapSplits(s,o,n),l=i.end.row+1):(s=this.$getDisplayTokens(a[l]),r[l]=this.$computeWrapSplits(s,o,n),l++)};var p=3,g=4;this.$computeWrapSplits=function(r,e,o){function t(e){for(var t=e-a,i=a;i<e;i++){var n=r[i];12!==n&&2!==n||--t}s.length||(d=function(){var e=0;if(0===u)return e;if(h)for(var t=0;t<r.length;t++){var i=r[t];if(10==i)e+=1;else{if(11!=i){if(12==i)continue;break}e+=o}}return c&&!1!==h&&(e+=o),Math.min(e,u)}(),s.indent=d),l+=t,s.push(l),a=e}if(0==r.length)return[];for(var s=[],i=r.length,a=0,l=0,c=this.$wrapAsCode,h=this.$indentedSoftWrap,u=e<=Math.max(2*o,8)||!1===h?0:Math.floor(e/2),d=0;e-d<i-a;){var n=a+e-d;if(10<=r[n-1]&&10<=r[n])t(n);else if(r[n]!=p&&r[n]!=g){for(var f=Math.max(n-(e-(e>>2)),a-1);f<n&&r[n]<p;)n--;if(c){for(;f<n&&r[n]<p;)n--;for(;f<n&&9==r[n];)n--}else for(;f<n&&r[n]<10;)n--;f<n?t(++n):(2==r[n=a+e]&&n--,t(n-d))}else{for(;n!=a-1&&r[n]!=p;n--);if(a<n)t(n);else{for(n=a+e;n<r.length&&r[n]==g;n++);if(n==r.length)break;t(n)}}}return s},this.$getDisplayTokens=function(e,t){var i,n=[];t=t||0;for(var r=0;r<e.length;r++){var o=e.charCodeAt(r);if(9==o){i=this.getScreenTabSize(n.length+t),n.push(11);for(var s=1;s<i;s++)n.push(12)}else 32==o?n.push(10):39<o&&o<48||57<o&&o<64?n.push(9):4352<=o&&a(o)?n.push(1,2):n.push(1)}return n},this.$getStringScreenWidth=function(e,t,i){if(0==t)return[0,0];var n,r;for(null==t&&(t=1/0),i=i||0,r=0;r<e.length&&(9==(n=e.charCodeAt(r))?i+=this.getScreenTabSize(i):4352<=n&&a(n)?i+=2:i+=1,!(t<i));r++);return[i,r]},this.lineWidgets=null,this.getRowLength=function(e){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0),this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+t:t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),e=this.$wrapData[t.row];return e.length&&e[0]<t.column?e.indent:0}return 0},this.getScreenLastRowColumn=function(e){e=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(e.row,e.column)},this.getDocumentLastRowColumn=function(e,t){t=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(t)},this.getDocumentLastRowColumnPosition=function(e,t){t=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(t,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-(e%this.$tabSize|0)},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t,i){if(e<0)return{row:0,column:0};var n,r,o,s=0,a=0,l=0,c=0,h=this.$screenRowCache,u=this.$getRowCacheIndex(h,e),d=h.length;o=d&&0<=u?(l=h[u],s=this.$docRowCache[u],e>h[d-1]):!d;for(var f=this.getLength()-1,p=this.getNextFoldLine(s),g=p?p.start.row:1/0;l<=e&&!(e<l+(c=this.getRowLength(s))||f<=s);)l+=c,g<++s&&(s=p.end.row+1,g=(p=this.getNextFoldLine(s,p))?p.start.row:1/0),o&&(this.$docRowCache.push(s),this.$screenRowCache.push(l));if(p&&p.start.row<=s)n=this.getFoldDisplayLine(p),s=p.start.row;else{if(l+c<=e||f<s)return{row:f,column:this.getLine(f).length};n=this.getLine(s),p=null}u=0,h=Math.floor(e-l);return!this.$useWrapMode||(d=this.$wrapData[s])&&(r=d[h],0<h&&d.length&&(u=d.indent,a=d[h-1]||d[d.length-1],n=n.substring(a))),void 0!==i&&this.$bidiHandler.isBidiRow(l+h,s,h)&&(t=this.$bidiHandler.offsetToCol(i)),a+=this.$getStringScreenWidth(n,t-u)[1],this.$useWrapMode&&r<=a&&(a=r-1),p?p.idxToPosition(a):{row:s,column:a}},this.documentToScreenPosition=function(e,t){var i=void 0===t?this.$clipPositionToDocument(e.row,e.column):this.$clipPositionToDocument(e,t);e=i.row,t=i.column;var n=0,r=null,o=null;(o=this.getFoldAt(e,t,1))&&(e=o.start.row,t=o.start.column);var s,a,l=0,c=this.$docRowCache,i=this.$getRowCacheIndex(c,e),o=c.length;a=o&&0<=i?(l=c[i],n=this.$screenRowCache[i],e>c[o-1]):!o;for(var h=this.getNextFoldLine(l),u=h?h.start.row:1/0;l<e;){if(u<=l){if(e<(s=h.end.row+1))break;u=(h=this.getNextFoldLine(s,h))?h.start.row:1/0}else s=l+1;n+=this.getRowLength(l),l=s,a&&(this.$docRowCache.push(l),this.$screenRowCache.push(n))}var d="",r=h&&u<=l?(d=this.getFoldDisplayLine(h,e,t),h.start.row):(d=this.getLine(e).substring(0,t),e),t=0;if(this.$useWrapMode){var f=this.$wrapData[r];if(f){for(var p=0;d.length>=f[p];)n++,p++;d=d.substring(f[p-1]||0,d.length),t=0<p?f.indent:0}}return this.lineWidgets&&this.lineWidgets[l]&&this.lineWidgets[l].rowsAbove&&(n+=this.lineWidgets[l].rowsAbove),{row:n,column:t+this.$getStringScreenWidth(d)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var i=this.$wrapData.length,n=0,r=0,o=(t=this.$foldData[r++])?t.start.row:1/0;n<i;){var s=this.$wrapData[n];e+=s?s.length+1:1,o<++n&&(n=t.end.row+1,o=(t=this.$foldData[r++])?t.start.row:1/0)}else{e=this.getLength();for(var a=this.$foldData,r=0;r<a.length;r++)e-=(t=a[r]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(o){this.$enableVarChar&&(this.$getStringScreenWidth=function(e,t,i){if(0===t)return[0,0];var n,r;for(t=t||1/0,i=i||0,r=0;r<e.length&&!(t<(i+="\t"===(n=e.charAt(r))?this.getScreenTabSize(i):o.getCharacterWidth(n)));r++);return[i,r]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker(),this.removeAllListeners(),this.selection.detach()},this.isFullWidth=a}.call(p.prototype),e("./edit_session/folding").Folding.call(p.prototype),e("./edit_session/bracket_match").BracketMatch.call(p.prototype),s.defineOptions(p.prototype,"session",{wrap:{set:function(e){e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e&&((this.$wrap=e)?(e="number"==typeof e?e:null,this.setWrapLimitRange(e,e),this.setUseWrapMode(!0)):this.setUseWrapMode(!1))},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){0<(e=parseInt(e))&&this.$tabSize!==e&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=p}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,i){"use strict";var y=e("./lib/lang"),n=e("./lib/oop"),b=e("./range").Range,e=function(){this.$options={}};(function(){this.set=function(e){return n.mixin(this.$options,e),this},this.getOptions=function(){return y.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var r=this.$options,e=this.$matchIterator(e,r);if(!e)return!1;var o=null;return e.forEach(function(e,t,i,n){return o=new b(e,t,i,n),!(t==n&&r.start&&r.start.start&&0!=r.skipCurrent&&o.isEqual(r.start))||(o=null,!1)}),o},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var i=t.range,n=i?e.getLines(i.start.row,i.end.row):e.doc.getAllLines(),r=[],o=t.re;if(t.$isMultiLine){var s,a=o.length,l=n.length-a;e:for(var c=o.offset||0;c<=l;c++){for(var h=0;h<a;h++)if(-1==n[c+h].search(o[h]))continue e;var u=n[c],d=n[c+a-1],u=u.length-u.match(o[0])[0].length,d=d.match(o[a-1])[0].length;s&&s.end.row===c&&s.end.column>u||(r.push(s=new b(c,u,c+a-1,d)),2<a&&(c=c+a-2))}}else for(var f=0;f<n.length;f++)for(var p=y.getMatchOffsets(n[f],o),h=0;h<p.length;h++){var g=p[h];r.push(new b(f,g.offset,f,g.offset+g.length))}if(i){for(var m=i.start.column,v=i.start.column,f=0,h=r.length-1;f<h&&r[f].start.column<m&&r[f].start.row==i.start.row;)f++;for(;f<h&&r[h].end.column>v&&r[h].end.row==i.end.row;)h--;for(r=r.slice(f,h+1),f=0,h=r.length;f<h;f++)r[f].start.row+=i.start.row,r[f].end.row+=i.start.row}return r},this.replace=function(e,t){var i=this.$options,n=this.$assembleRegExp(i);if(i.$isMultiLine)return t;if(n){var r=n.exec(e);if(!r||r[0].length!=e.length)return null;if(t=e.replace(n,t),i.preserveCase){t=t.split("");for(var o=Math.min(e.length,e.length);o--;){var s=e[o];s&&s.toLowerCase()!=s?t[o]=t[o].toUpperCase():t[o]=t[o].toLowerCase()}t=t.join("")}return t}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var i,n,r=e.needle;if(!e.needle)return e.re=!1;function o(e){return/\w/.test(e)||n.regExp?"\\b":""}e.regExp||(r=y.escapeRegExp(r)),e.wholeWord&&(n=e,r=o((i=r)[0])+i+o(i[i.length-1]));var s=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(r),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(r,s);try{var a=new RegExp(r,s)}catch(e){a=!1}return e.re=a},this.$assembleMultilineRegExp=function(e,t){for(var i=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),n=[],r=0;r<i.length;r++)try{n.push(new RegExp(i[r],t))}catch(e){return!1}return n},this.$matchIterator=function(h,i){var u=this.$assembleRegExp(i);if(!u)return!1;var a=1==i.backwards,e=0!=i.skipCurrent,t=i.range,n=i.start;(n=n||(t?t[a?"end":"start"]:h.selection.getRange())).start&&(n=n[e!=a?"end":"start"]);var l,r,o=t?t.start.row:0,s=t?t.end.row:h.getLength()-1;return t=a?function(e){var t=n.row;if(!r(t,n.column,e)){for(t--;o<=t;t--)if(r(t,Number.MAX_VALUE,e))return;if(0!=i.wrap)for(t=s,o=n.row;o<=t;t--)if(r(t,Number.MAX_VALUE,e))return}}:function(e){var t=n.row;if(!r(t,n.column,e)){for(t+=1;t<=s;t++)if(r(t,0,e))return;if(0!=i.wrap)for(t=o,s=n.row;t<=s;t++)if(r(t,0,e))return}},r=i.$isMultiLine?(l=u.length,function(e,t,i){var n=a?e-l+1:e;if(!(n<0)){var r=h.getLine(n),o=r.search(u[0]);if(!(!a&&o<t||-1===o)){for(var s=1;s<l;s++)if(-1==(r=h.getLine(n+s)).search(u[s]))return;e=r.match(u[l-1])[0].length;if(!(a&&t<e))return!!i(n,o,n+l-1,e)||void 0}}}):a?function(e,t,i){var n,r=h.getLine(e),o=[];for(u.lastIndex=0;n=u.exec(r);){var s=n[0].length,a=n.index;if(!s){if(a>=r.length)break;u.lastIndex=a+=1}if(n.index+s>t)break;o.push(n.index,s)}for(var l=o.length-1;0<=l;l-=2){var c=o[l-1];if(i(e,c,e,c+(s=o[l])))return!0}}:function(e,t,i){var n=h.getLine(e);for(u.lastIndex=t;r=u.exec(n);){var r,o=r[0].length;if(i(e,r=r.index,e,r+o))return!0;if(!o&&(u.lastIndex=r+=1,r>=n.length))return!1}},{forEach:t}}}).call(e.prototype),t.Search=e}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,i){"use strict";function n(e,t){this.platform=t||(o.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function r(e,t){n.call(this,e,t),this.$singleCommand=!1}var a=e("../lib/keys"),o=e("../lib/useragent"),l=a.KEY_MODS;r.prototype=n.prototype,function(){function s(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),(this.commands[e.name]=e).bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var i=e&&("string"==typeof e?e:e.name);e=this.commands[i],t||delete this.commands[i];var n,r=this.commandKeyBinding;for(n in r){var o,s=r[n];s==e?delete r[n]:!Array.isArray(s)||-1!=(o=s.indexOf(e))&&(s.splice(o,1),1==s.length&&(r[n]=s[0]))}},this.bindKey=function(e,n,r){if("object"==typeof e&&e&&(null==r&&(r=e.position),e=e[this.platform]),e)return"function"==typeof n?this.addCommand({exec:n,bindKey:e,name:n.name||e}):void e.split("|").forEach(function(e){var t,i="";-1!=e.indexOf(" ")&&(e=(t=e.split(/\s+/)).pop(),t.forEach(function(e){e=this.parseKeys(e),e=l[e.hashId]+e.key;i+=(i?" ":"")+e,this._addCommandToBinding(i,"chainKeys")},this),i+=" ");e=this.parseKeys(e),e=l[e.hashId]+e.key;this._addCommandToBinding(i+e,n,r)},this)},this._addCommandToBinding=function(e,t,i){var n=this.commandKeyBinding;if(t)if(!n[e]||this.$singleCommand)n[e]=t;else{Array.isArray(n[e])?-1!=(o=n[e].indexOf(t))&&n[e].splice(o,1):n[e]=[n[e]],"number"!=typeof i&&(i=s(t));for(var r=n[e],o=0;o<r.length;o++){if(i<s(r[o]))break}r.splice(o,0,t)}else delete n[e]},this.addCommands=function(i){i&&Object.keys(i).forEach(function(e){var t=i[e];if(t){if("string"==typeof t)return this.bindKey(t,e);"function"==typeof t&&(t={exec:t}),"object"==typeof t&&(t.name||(t.name=e),this.addCommand(t))}},this)},this.removeCommands=function(t){Object.keys(t).forEach(function(e){this.removeCommand(t[e])},this)},this.bindKeys=function(t){Object.keys(t).forEach(function(e){this.bindKey(e,t[e])},this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e){return e}),i=t.pop(),n=a[i];if(a.FUNCTION_KEYS[n])i=a.FUNCTION_KEYS[n].toLowerCase();else{if(!t.length)return{key:i,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:i.toUpperCase(),hashId:-1}}for(var r=0,o=t.length;o--;){var s=a.KEY_MODS[t[o]];if(null==s)return"undefined"!=typeof console&&console.error("invalid modifier "+t[o]+" in "+e),!1;r|=s}return{key:i,hashId:r}},this.findKeyCommand=function(e,t){t=l[e]+t;return this.commandKeyBinding[t]},this.handleKeyboard=function(e,t,i,n){if(!(n<0)){var r=l[t]+i,o=this.commandKeyBinding[r];return(e.$keyChain&&(e.$keyChain+=" "+r,o=this.commandKeyBinding[e.$keyChain]||o),!o||"chainKeys"!=o&&"chainKeys"!=o[o.length-1])?(e.$keyChain&&(t&&4!=t||1!=i.length?(-1==t||0<n)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-r.length-1)),{command:o}):(e.$keyChain=e.$keyChain||r,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}.call(n.prototype),t.HashHandler=n,t.MultiHashHandler=r}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("../lib/oop"),r=e("../keyboard/hash_handler").MultiHashHandler,o=e("../lib/event_emitter").EventEmitter,e=function(e,t){r.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};n.inherits(e,r),function(){n.implement(this,o),this.exec=function(e,t,i){if(Array.isArray(e)){for(var n=e.length;n--;)if(this.exec(e[n],t,i))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;if(0!=this.$checkCommandState&&e.isAvailable&&!e.isAvailable(t))return!1;var r={editor:t,command:e,args:i};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),!1!==r.returnValue},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(t){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(t);try{this.$inReplay=!0,this.macro.forEach(function(e){"string"==typeof e?this.exec(e,t):this.exec(e[0],t,e[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map(function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e})}}.call(e.prototype),t.CommandManager=e}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(e,t,i){"use strict";function n(e,t){return{win:e,mac:t}}var l=e("../lib/lang"),r=e("../config"),c=e("../range").Range;t.commands=[{name:"showSettingsMenu",bindKey:n("Ctrl-,","Command-,"),exec:function(t){r.loadModule("ace/ext/settings_menu",function(e){e.init(t),t.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:n("Alt-E","F4"),exec:function(t){r.loadModule("./ext/error_marker",function(e){e.showErrorMarker(t,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:n("Alt-Shift-E","Shift-F4"),exec:function(t){r.loadModule("./ext/error_marker",function(e){e.showErrorMarker(t,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:n("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:n(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:n("Ctrl-L","Command-L"),exec:function(e,t){"number"!=typeof t||isNaN(t)||e.gotoLine(t),e.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:n("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:n("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:n("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:n("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:n(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:n("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:n("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:n("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:n("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:n("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:n("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:n("Ctrl-F","Command-F"),exec:function(t){r.loadModule("ace/ext/searchbox",function(e){e.Search(t)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:n("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:n("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:n("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:n("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:n("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:n("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:n("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:n("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:n("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:n("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:n("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:n("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:n("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:n("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:n("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:n("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:n("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:n("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:n("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:n("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:n(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:n("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:n(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:n("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:n("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:n("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:n("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:n("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:n("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:n("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:n(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(e){},readOnly:!0},{name:"cut",description:"Cut",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty()?e.selection.getLineRange():e.selection.getRange();e._emit("cut",t),t.isEmpty()||e.session.remove(t),e.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:n("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:n("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:n("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:n("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:n("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:n("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:n("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:n("Ctrl-H","Command-Option-F"),exec:function(t){r.loadModule("ace/ext/searchbox",function(e){e.Search(t,!0)})}},{name:"undo",description:"Undo",bindKey:n("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",description:"Redo",bindKey:n("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:n("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:n("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:n("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:n("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:n("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:n("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:n("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:n("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:n("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:n("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:n("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:n("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:n("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:n("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:n("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:n("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:n("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(e,t){e.insert(l.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:n(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:n("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:n("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:n("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:n(null,null),exec:function(e){e.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:n("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",description:"Join lines",bindKey:n(null,null),exec:function(e){for(var t=e.selection.isBackwards(),i=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),n=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),r=e.session.doc.getLine(i.row).length,t=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,o=e.session.doc.getLine(i.row),s=i.row+1;s<=n.row+1;s++){var a=l.stringTrimLeft(l.stringTrimRight(e.session.doc.getLine(s)));0!==a.length&&(a=" "+a),o+=a}n.row+1<e.session.doc.getLength()-1&&(o+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new c(i.row,0,n.row+2,0),o),0<t?(e.selection.moveCursorTo(i.row,i.column),e.selection.selectTo(i.row,i.column+t)):(r=e.session.doc.getLine(i.row).length>r?r+1:r,e.selection.moveCursorTo(i.row,r))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:n(null,null),exec:function(e){var t=e.session.doc.getLength()-1,i=e.session.doc.getLine(t).length,n=e.selection.rangeList.ranges,r=[];n.length<1&&(n=[e.selection.getRange()]);for(var o=0;o<n.length;o++)o!=n.length-1||n[o].end.row===t&&n[o].end.column===i||r.push(new c(n[o].end.row,n[o].end.column,t,i)),0===o?0===n[o].start.row&&0===n[o].start.column||r.push(new c(0,0,n[o].start.row,n[o].start.column)):r.push(new c(n[o-1].end.row,n[o-1].end.column,n[o].start.row,n[o].start.column));e.exitMultiSelectMode(),e.clearSelection();for(o=0;o<r.length;o++)e.selection.addRange(r[o],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",exec:function(e){e.selection.clearSelection(),e.navigateLineEnd(),e.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",exec:function(e){e.selection.clearSelection();var t=e.getCursorPosition();e.selection.moveTo(t.row-1,Number.MAX_VALUE),e.insert("\n"),0===t.row&&e.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command pallete",bindKey:n("F1","F1"),exec:function(e){e.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:n(null,null),exec:function(e){e.prompt({$type:"modes"})},readOnly:!0}]}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],function(e,t,i){"use strict";e("./lib/fixoldbrowsers");var r=e("./lib/oop"),n=e("./lib/dom"),g=e("./lib/lang"),o=e("./lib/useragent"),s=e("./keyboard/textinput").TextInput,a=e("./mouse/mouse_handler").MouseHandler,l=e("./mouse/fold_handler").FoldHandler,c=e("./keyboard/keybinding").KeyBinding,h=e("./edit_session").EditSession,u=e("./search").Search,m=e("./range").Range,d=e("./lib/event_emitter").EventEmitter,f=e("./commands/command_manager").CommandManager,p=e("./commands/default_commands").commands,v=e("./config"),y=e("./token_iterator").TokenIterator,b=e("./clipboard"),w=function(e,t,i){this.$toDestroy=[];var n=e.getContainerElement();this.container=n,this.renderer=e,this.id="editor"+ ++w.$uid,this.commands=new f(o.isMac?"mac":"win",p),"object"==typeof document&&(this.textInput=new s(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new a(this),new l(this)),this.keyBinding=new c(this),this.$search=(new u).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=g.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(e,t){t._$emitInputEvent.schedule(31)}),this.setSession(t||i&&i.session||new h("")),v.resetOptions(this),i&&this.setOptions(i),v._signal("editor",this)};w.$uid=0,function(){r.implement(this,d),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=g.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(e){if(this.curOp&&this.session){if(e&&!1===e.returnValue||!this.session)return this.curOp=null;if((1!=e||!this.curOp.command||"mouse"!=this.curOp.command.name)&&(this._signal("beforeEndOperation"),this.curOp)){var t=this.curOp.command,i=t&&t.scrollIntoView;if(i){switch(i){case"center-animate":i="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":e=this.selection.getRange(),t=this.renderer.layerConfig;(e.start.row>=t.lastRow||e.end.row<=t.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==i&&this.renderer.animateScrolling(this.curOp.scrollTop)}i=this.selection.toJSON();this.curOp.selectionAfter=i,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(i),this.prevOp=this.curOp,this.curOp=null}}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){var t,i,n,r;this.$mergeUndoDeltas&&(t=this.prevOp,i=this.$mergeableCommands,n=t.command&&e.command.name==t.command.name,"insertstring"==e.command.name?(r=e.args,void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),n=n&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(t.args)),this.mergeNextCommand=!0):n=n&&-1!==i.indexOf(e.command.name),"always"!=this.$mergeUndoDeltas&&2e3<Date.now()-this.sequenceStartTime&&(n=!1),n?this.session.mergeUndoDeltas=!0:-1!==i.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now()))},this.setKeyboardHandler=function(t,i){var n;t&&"string"==typeof t&&"ace"!=t?(this.$keybindingId=t,n=this,v.loadModule(["keybinding",t],function(e){n.$keybindingId==t&&n.keyBinding.setKeyboardHandler(e&&e.handler),i&&i()})):(this.$keybindingId=null,this.keyBinding.setKeyboardHandler(t),i&&i())},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){var t,i;this.session!=e&&(this.curOp&&this.endOperation(),this.curOp={},(t=this.session)&&(this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),(i=this.session.getSelection()).off("changeCursor",this.$onCursorChange),i.off("changeSelection",this.$onSelectionChange)),(this.session=e)?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&e.bgTokenizer&&e.bgTokenizer.scheduleStart())},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||n.computedStyle(this.container).fontSize},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){var n;this.$highlightPending||((n=this).$highlightPending=!0,setTimeout(function(){n.$highlightPending=!1;var e,t,i=n.session;i&&i.bgTokenizer&&(i.$bracketHighlight&&(i.$bracketHighlight.markerIds.forEach(function(e){i.removeMarker(e)}),i.$bracketHighlight=null),!(e=i.getMatchingBracketRanges(n.getCursorPosition()))&&i.$mode.getMatching&&(e=i.$mode.getMatching(n.session)),e&&(t="ace_bracket",Array.isArray(e)?1==e.length&&(t="ace_error_bracket"):e=[e],2==e.length&&(0==m.comparePoints(e[0].end,e[1].start)?e=[m.fromPoints(e[0].start,e[1].end)]:0==m.comparePoints(e[0].start,e[1].end)&&(e=[m.fromPoints(e[1].start,e[0].end)])),i.$bracketHighlight={ranges:e,markerIds:e.map(function(e){return i.addMarker(e,t,"text")})}))},50))},this.$highlightTags=function(){var l;this.$highlightTagPending||((l=this).$highlightTagPending=!0,setTimeout(function(){l.$highlightTagPending=!1;var e=l.session;if(e&&e.bgTokenizer){var t=l.getCursorPosition(),i=new y(l.session,t.row,t.column),n=i.getCurrentToken();if(!n||!/\b(?:tag-open|tag-name)/.test(n.type))return e.removeMarker(e.$tagHighlight),void(e.$tagHighlight=null);if(-1==n.type.indexOf("tag-open")||(n=i.stepForward())){var r=n.value,o=0,s=i.stepBackward();if("<"==s.value)for(;s=n,(n=i.stepForward())&&n.value===r&&-1!==n.type.indexOf("tag-name")&&("<"===s.value?o++:"</"===s.value&&o--),n&&0<=o;);else{for(;n=s,s=i.stepBackward(),n&&n.value===r&&-1!==n.type.indexOf("tag-name")&&("<"===s.value?o++:"</"===s.value&&o--),s&&o<=0;);i.stepForward()}if(!n)return e.removeMarker(e.$tagHighlight),void(e.$tagHighlight=null);var a=i.getCurrentTokenRow(),t=i.getCurrentTokenColumn(),a=new m(a,t,a,t+n.value.length),t=e.$backMarkers[e.$tagHighlight];e.$tagHighlight&&null!=t&&0!==a.compareRange(t.range)&&(e.removeMarker(e.$tagHighlight),e.$tagHighlight=null),e.$tagHighlight||(e.$tagHighlight=e.addMarker(a,"ace_bracket","text"))}}},50))},this.focus=function(){var e=this;setTimeout(function(){e.isFocused()||e.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,i=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,i,t),this._signal("change",e),this.$cursorChange()},this.onTokenizerUpdate=function(e){e=e.data;this.renderer.updateLines(e.first,e.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t,i=this.getSession();this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(e=!1),!this.renderer.$maxLines||1!==this.session.getLength()||1<this.renderer.$minLines||(e=!1)),i.$highlightLineMarker&&!e?(i.removeMarker(i.$highlightLineMarker.id),i.$highlightLineMarker=null):!i.$highlightLineMarker&&e?((t=new m(e.row,e.column,e.row,1/0)).id=i.addMarker(t,"ace_active-line","screenLine"),i.$highlightLineMarker=t):e&&(i.$highlightLineMarker.start.row=e.row,i.$highlightLineMarker.end.row=e.row,i.$highlightLineMarker.start.column=e.column,i._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t,i=this.session;i.$selectionMarker&&i.removeMarker(i.$selectionMarker),i.$selectionMarker=null,this.selection.isEmpty()?this.$updateHighlightActiveLine():(t=this.selection.getRange(),n=this.getSelectionStyle(),i.$selectionMarker=i.addMarker(t,"ace_selection",n));var n=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(n),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var i=t.start.column,n=t.end.column,e=e.getLine(t.start.row),t=e.substring(i,n);if(!(5e3<t.length)&&/[\w\d]/.test(t)){t=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:t}),n=e.substring(i-1,n+1);if(t.test(n))return t}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),i=!1;if(!e&&this.$copyWithEmptySelection){i=!0;for(var n=this.selection.getAllRanges(),r=0;r<n.length;r++){var o=n[r];r&&n[r-1].start.row==o.start.row||(e+=this.session.getLine(o.start.row)+t)}}var s={text:e};return this._signal("copy",s),b.lineMode=i?s.text:"",s.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){t={text:e,event:t};this.commands.exec("paste",this,t)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text,e=t==b.lineMode,i=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)e?i.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(e)this.selection.rangeList.ranges.forEach(function(e){i.insert({row:e.start.row,column:0},t)});else{var n=t.split(/\r\n|\r|\n/),r=this.selection.rangeList.ranges,e=!(2!=n.length||n[0]&&n[1]);if(n.length!=r.length||e)return this.commands.exec("insertstring",this,t);for(var o=r.length;o--;){var s=r[o];s.isEmpty()||i.remove(s),i.insert(s.start,n[o])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var i,n=this.session,r=n.getMode(),o=this.getCursorPosition();!this.getBehavioursEnabled()||t||(i=r.transformAction(n.getState(o.row),"insertion",this,n,e))&&(e!==i.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=i.text),"\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty()?this.session.getOverwrite()&&-1==e.indexOf("\n")&&((s=new m.fromPoints(o,o)).end.column+=e.length,this.session.remove(s)):(s=this.getSelectionRange(),o=this.session.remove(s),this.clearSelection()),"\n"!=e&&"\r\n"!=e||(a=n.getLine(o.row),o.column>a.search(/\S|$/)&&(l=a.substr(o.column).search(/\S|$/),n.doc.removeInLine(o.row,o.column,o.column+l))),this.clearSelection();var t=o.column,s=n.getState(o.row),a=n.getLine(o.row),l=r.checkOutdent(s,a,e);n.insert(o,e),i&&i.selection&&(2==i.selection.length?this.selection.setSelectionRange(new m(o.row,t+i.selection[0],o.row,t+i.selection[1])):this.selection.setSelectionRange(new m(o.row+i.selection[0],i.selection[1],o.row+i.selection[2],i.selection[3]))),this.$enableAutoIndent&&(n.getDocument().isNewLine(e)&&(a=r.getNextLineIndent(s,a.slice(0,o.column),n.getTabString()),n.insert({row:o.row+1,column:0},a)),l&&r.autoOutdent(s,n,o.row))},this.autoIndent=function(){var e,t,i,n=this.session,r=n.getMode();i=this.selection.isEmpty()?(t=0,n.doc.getLength()-1):(t=(e=this.getSelectionRange()).start.row,e.end.row);for(var o,s,a="",l="",c=n.getTabString(),h=t;h<=i;h++)0<h&&(a=n.getState(h-1),o=n.getLine(h-1),l=r.getNextLineIndent(a,o,c)),s=n.getLine(h),l!==(s=r.$getIndent(s))&&(0<s.length&&(s=new m(h,0,h,s.length),n.remove(s)),0<l.length&&n.insert({row:h,column:0},l)),r.autoOutdent(a,n,h)},this.onTextInput=function(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:"insertstring"}});t=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(t):t(),this.endOperation()},this.applyComposition=function(e,t){var i;(t.extendLeft||t.extendRight)&&((i=this.selection.getRange()).start.column-=t.extendLeft,i.end.column+=t.extendRight,i.start.column<0&&(i.start.row--,i.start.column+=this.session.getLine(i.start.row).length+1),this.selection.setRange(i),e||i.isEmpty()||this.remove()),!e&&this.selection.isEmpty()||this.insert(e,!0),(t.restoreStart||t.restoreEnd)&&((i=this.selection.getRange()).start.column-=t.restoreStart,i.end.column-=t.restoreEnd,this.selection.setRange(i))},this.onCommandKey=function(e,t,i){return this.keyBinding.onCommandKey(e,t,i)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t,i,n=this.getSelectionRange();this.getBehavioursEnabled()&&(t=(i=this.session).getState(n.start.row),e=i.getMode().transformAction(t,"deletion",this,i,n),0!==n.end.column||"\n"==(t=i.getTextRange(n))[t.length-1]&&(i=i.getLine(n.end.row),/^\s+$/.test(i)&&(n.end.column=i.length)),e&&(n=e)),this.session.remove(n),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){var e,t,i,n;!this.selection.isEmpty()||0!==(n=(e=this.getCursorPosition()).column)&&(n=n<(t=this.session.getLine(e.row)).length?(i=t.charAt(n)+t.charAt(n-1),new m(e.row,n-1,e.row,n+1)):(i=t.charAt(n-1)+t.charAt(n-2),new m(e.row,n-2,e.row,n)),this.session.replace(n,i),this.session.selection.moveToPosition(n.end))},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),i=this.session.getTextRange(t);this.session.replace(t,i.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),i=this.session.getTextRange(t);this.session.replace(t,i.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var i=e.getTextRange(t);if(!/^\s+$/.test(i)){a=this.$getSelectedRows();return void e.indentRows(a.first,a.last,"\t")}}var n=e.getLine(t.start.row),r=t.start,i=e.getTabSize(),r=e.documentToScreenColumn(r.row,r.column);if(this.session.getUseSoftTabs())var o=i-r%i,s=g.stringRepeat(" ",o);else{for(o=r%i;" "==n[t.start.column-1]&&o;)t.start.column--,o--;this.selection.setSelectionRange(t),s="\t"}return this.insert(s)}var a=this.$getSelectedRows();e.indentRows(a.first,a.last,"\t")},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){for(var e=this.$getSelectedRows(),t=this.session,i=[],n=e.first;n<=e.last;n++)i.push(t.getLine(n));i.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0});for(var r=new m(0,0,0,0),n=e.first;n<=e.last;n++){var o=t.getLine(n);r.start.row=n,r.end.row=n,r.end.column=o.length,t.replace(r,i[n-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),i=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,i,e)},this.getNumberAt=function(e,t){var i=/[\-]?[0-9]+(?:\.[0-9]+)?/g;i.lastIndex=0;for(var n=this.session.getLine(e);i.lastIndex<t;){var r=i.exec(n);if(r.index<=t&&r.index+r[0].length>=t)return{value:r[0],start:r.index,end:r.index+r[0].length}}return null},this.modifyNumber=function(e){var t,i,n=this.selection.getCursor().row,r=this.selection.getCursor().column,o=new m(n,r-1,n,r),s=this.session.getTextRange(o);!isNaN(parseFloat(s))&&isFinite(s)?(t=this.getNumberAt(n,r))&&(i=0<=t.value.indexOf(".")?t.start+t.value.indexOf(".")+1:t.end,o=t.start+t.value.length-i,s=parseFloat(t.value),s*=Math.pow(10,o),i!==t.end&&r<i?e*=Math.pow(10,t.end-r-1):e*=Math.pow(10,t.end-r),s+=e,s=(s/=Math.pow(10,o)).toFixed(o),o=new m(n,t.start,n,t.end),this.session.replace(o,s),this.moveCursorTo(n,Math.max(t.start+1,r+s.length-t.value.length))):this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var i=this.selection.getCursor().row,e=this.selection.getCursor().column;this.selection.selectWord();var n=this.getSelectedText(),r=this.selection.getWordRange().start.column,t=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),o=e-r-1;o<0&&(o=0);var s,a=0,l=this;n.match(/[A-Za-z0-9_]+/)&&t.forEach(function(e,t){s=a+e.length,a<=o&&o<=s&&(n=e,l.selection.clearSelection(),l.moveCursorTo(i,a+r),l.selection.selectTo(i,s+r)),a=s});for(var c=this.$toggleWordPairs,h=0;h<c.length;h++)for(var u=c[h],d=0;d<=1;d++){var f=+!d,p=n.match(new RegExp("^\\s?_?("+g.escapeRegExp(u[d])+")\\s?$","i"));p&&n.match(new RegExp("([_]|^|\\s)("+g.escapeRegExp(p[1])+")($|\\s)","g"))&&(p=n.replace(new RegExp(g.escapeRegExp(u[d]),"i"),function(e){var t=u[f];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+u[f].charAt(0).toUpperCase()+t.substr(1)),t}),this.insert(p))}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e,t=this.selection,i=this.session,n=t.getRange(),r=t.isBackwards();n.isEmpty()?(e=n.start.row,i.duplicateLines(e,e)):(e=r?n.start:n.end,i=i.insert(e,i.getTextRange(n),!1),n.start=e,n.end=i,t.setSelectionRange(n,r))},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,i){return this.session.moveText(e,t,i)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var i=this.selection;if(!i.inMultiSelectMode||this.inVirtualSelectionMode){var n=i.toOrientedRange(),r=this.$getSelectedRows(n),o=this.session.$moveLines(r.first,r.last,t?0:e);t&&-1==e&&(o=0),n.moveBy(o,0),i.fromOrientedRange(n)}else{var s=i.rangeList.ranges;i.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=s.length,h=0;h<c;h++){var u=h;s[h].moveBy(a,0);for(var d=(r=this.$getSelectedRows(s[h])).first,f=r.last;++h<c;){l&&s[h].moveBy(l,0);var p=this.$getSelectedRows(s[h]);if(t&&p.first!=f)break;if(!t&&p.first>f+1)break;f=p.last}for(h--,a=this.session.$moveLines(d,f,t?0:e),t&&-1==e&&(u=h+1);u<=h;)s[u].moveBy(a,0),u++;t||(a=0),l+=a}i.fromOrientedRange(i.ranges[0]),i.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(e)},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var i=this.renderer,n=this.renderer.layerConfig,r=e*Math.floor(n.height/n.lineHeight);!0===t?this.selection.$moveSelection(function(){this.moveCursorBy(r,0)}):!1===t&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection());e=i.scrollTop;i.scrollBy(0,r*n.lineHeight),null!=t&&i.scrollCursorIntoView(null,.5),i.animateScrolling(e)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,i,n){this.renderer.scrollToLine(e,t,i,n)},this.centerSelection=function(){var e=this.getSelectionRange(),e={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(e,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var i=this.getCursorPosition(),n=new y(this.session,i.row,i.column),r=n.getCurrentToken(),o=r||n.stepForward();if(o){var s,a,l,c=!1,h={},u=i.column-o.start,d={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;u<o.value.length&&!c;u++)if(d[o.value[u]])switch(a=d[o.value[u]]+"."+o.type.replace("rparen","lparen"),isNaN(h[a])&&(h[a]=0),o.value[u]){case"(":case"[":case"{":h[a]++;break;case")":case"]":case"}":h[a]--,-1===h[a]&&(s="bracket",c=!0)}}else-1!==o.type.indexOf("tag-name")&&(isNaN(h[o.value])&&(h[o.value]=0),"<"===r.value?h[o.value]++:"</"===r.value&&h[o.value]--,-1===h[o.value]&&(s="tag",c=!0));c||(r=o,o=n.stepForward(),u=0)}while(o&&!c);if(s){if("bracket"===s)(f=this.session.getBracketRange(i))||(l=(f=new m(n.getCurrentTokenRow(),n.getCurrentTokenColumn()+u-1,n.getCurrentTokenRow(),n.getCurrentTokenColumn()+u-1)).start,(t||l.row===i.row&&Math.abs(l.column-i.column)<2)&&(f=this.session.getBracketRange(l)));else if("tag"===s){if(!o||-1===o.type.indexOf("tag-name"))return;var f,p=o.value;if(0===(f=new m(n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2,n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2)).compare(i.row,i.column))for(c=!1;o=r,(r=n.stepBackward())&&(-1!==r.type.indexOf("tag-close")&&f.setEnd(n.getCurrentTokenRow(),n.getCurrentTokenColumn()+1),o.value===p&&-1!==o.type.indexOf("tag-name")&&("<"===r.value?h[p]++:"</"===r.value&&h[p]--,0===h[p]&&(c=!0))),r&&!c;);o&&o.type.indexOf("tag-name")&&((l=f.start).row==i.row&&Math.abs(l.column-i.column)<2&&(l=f.end))}(l=f&&f.cursor||l)&&(e?f&&t?this.selection.setRange(f):f&&f.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(l.row,l.column):this.selection.moveTo(l.row,l.column))}}},this.gotoLine=function(e,t,i){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,i)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var i=this.$search.find(this.session),t=0;return i&&(this.$tryReplace(i,e)&&(t=1),this.selection.setSelectionRange(i),this.renderer.scrollSelectionIntoView(i.start,i.end)),t},this.replaceAll=function(e,t){t&&this.$search.set(t);var i=this.$search.findAll(this.session),n=0;if(!i.length)return n;t=this.getSelectionRange();this.selection.moveTo(0,0);for(var r=i.length-1;0<=r;--r)this.$tryReplace(i[r],e)&&n++;return this.selection.setSelectionRange(t),n},this.$tryReplace=function(e,t){var i=this.session.getTextRange(e);return null!==(t=this.$search.replace(i,t))?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,i){t=t||{},"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&r.mixin(t,e);var n=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(n)||this.$search.$options.needle)||(n=this.session.getWordRange(n.start.row,n.start.column),e=this.session.getTextRange(n)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:n});e=this.$search.find(this.session);return t.preventScroll?e:e?(this.revealRange(e,i),e):(t.backwards?n.start=n.end:n.end=n.start,void this.selection.setRange(n))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var i=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(i)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(e){e.destroy()}),this.$toDestroy=null),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(e){var n,r,o,s,t,i,a;e&&(o=!1,(r=this).$scrollAnchor||(this.$scrollAnchor=document.createElement("div")),(s=this.$scrollAnchor).style.cssText="position:absolute",this.container.insertBefore(s,this.container.firstChild),t=this.on("changeSelection",function(){o=!0}),i=this.renderer.on("beforeRender",function(){o&&(n=r.renderer.container.getBoundingClientRect())}),a=this.renderer.on("afterRender",function(){var e,t,i;o&&n&&(r.isFocused()||r.searchBox&&r.searchBox.isFocused())&&(e=(i=r.renderer).$cursorLayer.$pixelPos,t=i.layerConfig,i=e.top-t.offset,null!=(o=0<=e.top&&i+n.top<0||!(e.top<t.height&&e.top+n.top+t.lineHeight>window.innerHeight)&&null)&&(s.style.top=i+"px",s.style.left=e.left+"px",s.style.height=t.lineHeight+"px",s.scrollIntoView(o)),o=n=null)}),this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",t),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",i))})},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,n.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))},this.prompt=function(t,i,n){var r=this;v.loadModule("./ext/prompt",function(e){e.prompt(r,t,i,n)})}}.call(w.prototype),v.defineOptions(w.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?x.attach(this):x.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?x.attach(this):x.detach(this)}},placeholder:{set:function(e){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var e=this.session&&(this.renderer.$composition||this.getValue());e&&this.renderer.placeholderNode?(this.renderer.off("afterRender",this.$updatePlaceholder),n.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null):e||this.renderer.placeholderNode?!e&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||""):(this.renderer.on("afterRender",this.$updatePlaceholder),n.addCssClass(this.container,"ace_hasPlaceholder"),(e=n.createElement("div")).className="ace_placeholder",e.textContent=this.$placeholder||"",this.renderer.placeholderNode=e,this.renderer.content.appendChild(this.renderer.placeholderNode))}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var x={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?"·":""))+""},getWidth:function(e,t,i){return Math.max(t.toString().length,(i.lastRow+1).toString().length,2)*i.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on("changeSelection",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off("changeSelection",this.update),this.update(null,e)}};t.Editor=w}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(e,t,i){"use strict";function r(e,t){for(var i=t;i--;){var n=e[i];if(n&&!n[0].ignore){for(;i<t-1;){var r=function(e,t){for(var i=e.length;i--;)for(var n=0;n<t.length;n++)if(!s(e[i],t[n])){for(;i<e.length;){for(;n--;)s(t[n],e[i]);n=t.length,i++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}(e[i],e[i+1]);e[i]=r[0],e[i+1]=r[1],i++}return 1}}}function a(e){return{row:e.row,column:e.column}}function n(e){if(e=e||this,Array.isArray(e))return e.map(n).join("\n");var t="";return e.action?(t="insert"==e.action?"+":"-",t+="["+e.lines+"]"):e.value&&(t=Array.isArray(e.value)?e.value.map(o).join("\n"):o(e.value)),e.start&&(t+=o(e)),(e.id||e.rev)&&(t+="\t("+(e.id||e.rev)+")"),t}function o(e){return e.start.row+":"+e.start.column+"=>"+e.end.row+":"+e.end.column}function s(e,t){var i="insert"==e.action,n="insert"==t.action;if(i&&n)if(0<=p(t.start,e.end))l(t,e,-1);else{if(!(p(t.start,e.start)<=0))return;l(e,t,1)}else if(i&&!n)if(0<=p(t.start,e.end))l(t,e,-1);else{if(!(p(t.end,e.start)<=0))return;l(e,t,-1)}else if(!i&&n)if(0<=p(t.start,e.start))l(t,e,1);else{if(!(p(t.start,e.start)<=0))return;l(e,t,1)}else if(!i&&!n)if(0<=p(t.start,e.start))l(t,e,1);else{if(!(p(t.end,e.start)<=0))return;l(e,t,-1)}return 1}function l(e,t,i){c(e.start,t.start,t.end,i),c(e.end,t.start,t.end,i)}function c(e,t,i,n){e.row==(1==n?t:i).row&&(e.column+=n*(i.column-t.column)),e.row+=n*(i.row-t.row)}function h(e,t){var i=e.lines,n=e.end;e.end=a(t);var r=e.end.row-e.start.row,o=i.splice(r,i.length),r=r?t.column:t.column-e.start.column;return i.push(o[0].substring(0,r)),o[0]=o[0].substr(r),{start:a(t),end:n,lines:o,action:e.action}}function u(e,t){var i;t={start:a((i=t).start),end:a(i.end),action:i.action,lines:i.lines.slice()};for(var n=e.length;n--;){for(var r=e[n],o=0;o<r.length;o++){var s=function(e,t){var i,n,r="insert"==e.action,o="insert"==t.action;if(r&&o)p(e.start,t.start)<0?l(t,e,1):l(e,t,1);else if(r&&!o)0<=p(e.start,t.end)?l(e,t,-1):(p(e.start,t.start)<=0||l(e,f.fromPoints(t.start,e.start),-1),l(t,e,1));else if(!r&&o)0<=p(t.start,e.end)?l(t,e,-1):(p(t.start,e.start)<=0||l(t,f.fromPoints(e.start,t.start),-1),l(e,t,1));else if(!r&&!o)if(0<=p(t.start,e.end))l(t,e,-1);else{if(!(p(t.end,e.start)<=0))return p(e.start,t.start)<0&&(e=h(i=e,t.start)),0<p(e.end,t.end)&&(n=h(e,t.end)),c(t.end,e.start,e.end,-1),n&&!i&&(e.lines=n.lines,e.start=n.start,e.end=n.end,n=e),[t,i,n].filter(Boolean);l(e,t,-1)}return[t,e]}(r[o],t);t=s[0],2!=s.length&&(s[2]?(r.splice(o+1,1,s[1],s[2]),o++):s[1]||(r.splice(o,1),o--))}r.length||e.splice(n,1)}return e}function d(){this.$maxRev=0,this.$fromUndo=!1,this.reset()}(function(){this.addSession=function(e){this.$session=e},this.add=function(e,t,i){this.$fromUndo||e!=this.$lastDelta&&(this.$keepRedoStack||(this.$redoStack.length=0),!1!==t&&this.lastDeltas||(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev),"remove"!=e.action&&"insert"!=e.action||(this.$lastDelta=e),this.lastDeltas.push(e))},this.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(e,t){null==t&&(t=this.$rev+1);for(var i=this.$undoStack,n=i.length;n--;){var r=i[n][0];if(r.id<=e)break;r.id<t&&(r.ignore=!0)}this.lastDeltas=null},this.getSelection=function(e,t){for(var i=this.selections,n=i.length;n--;){var r=i[n];if(r.rev<e)return t&&(r=i[n+1]),r}},this.getRevision=function(){return this.$rev},this.getDeltas=function(e,t){null==t&&(t=this.$rev+1);for(var i=this.$undoStack,n=null,r=0,o=i.length;o--;){var s=i[o][0];if(s.id<t&&!n&&(n=o+1),s.id<=e){r=o+1;break}}return i.slice(r,n)},this.getChangedRanges=function(e,t){null==t&&(t=this.$rev+1)},this.getChangedLines=function(e,t){null==t&&(t=this.$rev+1)},this.undo=function(e,t){this.lastDeltas=null;var i=this.$undoStack;if(r(i,i.length)){e=e||this.$session,this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var n=i.pop(),i=null;return n&&(i=e.undoChanges(n,t),this.$redoStack.push(n),this.$syncRev()),this.$fromUndo=!1,i}},this.redo=function(e,t){this.lastDeltas=null,e=e||this.$session,this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev&&(n=this.getDeltas(this.$redoStackBaseRev,this.$rev+1),function(e,t){for(var i=0;i<t.length;i++)for(var n=t[i],r=0;r<n.length;r++)u(e,n[r])}(this.$redoStack,n),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(e){e[0].id=++this.$maxRev},this));var i=this.$redoStack.pop(),n=null;return i&&(n=e.redoChanges(i,t),this.$undoStack.push(i),this.$syncRev()),this.$fromUndo=!1,n},this.$syncRev=function(){var e=this.$undoStack,e=e[e.length-1],e=e&&e[0].id||0;this.$redoStackBaseRev=e,this.$rev=e},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return 0<this.$undoStack.length},this.canRedo=function(){return 0<this.$redoStack.length},this.bookmark=function(e){null==e&&(e=this.$rev),this.mark=e},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(e){return e?n(e):n(this.$undoStack)+"\n---\n"+n(this.$redoStack)}}).call(d.prototype);var f=e("./range").Range,p=f.comparePoints;f.comparePoints;t.UndoManager=d}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";var s=e("../lib/dom"),e=function(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(e){s.translate(this.element,0,-(e.firstRowScreen*e.lineHeight%this.canvasHeight)-e.offset*this.$offsetCoefficient)},this.pageChanged=function(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},this.computeLineTop=function(e,t,i){var n=t.firstRowScreen*t.lineHeight,n=Math.floor(n/this.canvasHeight);return i.documentToScreenRow(e,0)*t.lineHeight-n*this.canvasHeight},this.computeLineHeight=function(e,t,i){return t.lineHeight*i.getRowLineCount(e)},this.getLength=function(){return this.cells.length},this.get=function(e){return this.cells[e]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);for(var t=s.createFragment(this.element),i=0;i<e.length;i++)t.appendChild(e[i].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)},this.unshift=function(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);for(var t=s.createFragment(this.element),i=0;i<e.length;i++)t.appendChild(e[i].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement("afterbegin",e.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(e){e&&(e.element.remove(),this.cellCache.push(e))},this.createCell=function(e,t,i,n){var r,o=this.cellCache.pop();return o||(r=s.createElement("div"),n&&n(r),this.element.appendChild(r),o={element:r,text:"",row:e}),o.row=e,o}}).call(e.prototype),t.Lines=e}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],function(e,t,i){"use strict";function c(e){var t=document.createTextNode("");e.appendChild(t);t=m.createElement("span");return e.appendChild(t),e}var m=e("../lib/dom"),n=e("../lib/oop"),o=e("../lib/lang"),r=e("../lib/event_emitter").EventEmitter,s=e("./lines").Lines,e=function(e){this.element=m.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new s(this.element),this.$lines.$offsetCoefficient=1};(function(){n.implement(this,r),this.setSession=function(e){this.session&&this.session.off("change",this.$updateAnnotations),(this.session=e)&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var i=e[t],n=i.row,r=(r=this.$annotations[n])||(this.$annotations[n]={text:[]}),n=(n=i.text)?o.escapeHTML(n):i.html||"";-1===r.text.indexOf(n)&&r.text.push(n);i=i.type;"error"==i?r.className=" ace_error":"warning"==i&&" ace_error"!=r.className?r.className=" ace_warning":"info"!=i||r.className||(r.className=" ace_info")}},this.$updateAnnotations=function(e){var t,i;this.$annotations.length&&(t=e.start.row,0!=(i=e.end.row-t)&&("remove"==e.action?this.$annotations.splice(t,1+i,null):((i=new Array(1+i)).unshift(t,1),this.$annotations.splice.apply(this.$annotations,i))))},this.update=function(e){this.config=e;var t=this.session,i=e.firstRow,n=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=n,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var r=t.getNextFoldLine(i),o=r?r.start.row:1/0,s=null,a=-1,l=i;;){if(o<l&&(l=r.end.row+1,o=(r=t.getNextFoldLine(l,r))?r.start.row:1/0),n<l){for(;this.$lines.getLength()>a+1;)this.$lines.pop();break}(s=this.$lines.get(++a))?s.row=l:(s=this.$lines.createCell(l,e,this.session,c),this.$lines.push(s)),this.$renderCell(s,e,r,l),l++}this._signal("afterRender"),this.$updateGutterWidth(e)},this.$updateGutterWidth=function(e){var t=this.session,i=t.gutterRenderer||this.$renderer,n=t.$firstLineNumber,r=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(r=t.getLength()+n-1);r=i?i.getWidth(t,r,e):r.toString().length*e.characterWidth,e=this.$padding||this.$computePadding();(r+=e.left+e.right)===this.gutterWidth||isNaN(r)||(this.gutterWidth=r,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",r))},this.$updateCursorRow=function(){var e;this.$highlightGutterLine&&(e=this.session.selection.getCursor(),this.$cursorRow!==e.row&&(this.$cursorRow=e.row))},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var i=0;i<t.length;i++){var n=t[i];if(n.row>=this.$cursorRow){if(n.row>this.$cursorRow){var r=this.session.getFoldLine(this.$cursorRow);if(!(0<i&&r&&r.start.row==t[i-1].row))break;n=t[i-1]}n.element.className="ace_gutter-active-line "+n.element.className,this.$cursorCell=n;break}}}}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var i=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),n=this.oldLastRow;if(this.oldLastRow=i,!t||n<e.firstRow)return this.update(e);if(i<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);0<r;r--)this.$lines.shift();if(i<n)for(r=this.session.getFoldedRowCount(i+1,n);0<r;r--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),n<i&&this.$lines.push(this.$renderLines(e,n+1,i)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)},this.$renderLines=function(e,t,i){for(var n=[],r=t,o=this.session.getNextFoldLine(r),s=o?o.start.row:1/0;s<r&&(r=o.end.row+1,s=(o=this.session.getNextFoldLine(r,o))?o.start.row:1/0),!(i<r);){var a=this.$lines.createCell(r,e,this.session,c);this.$renderCell(a,e,o,r),n.push(a),r++}return n},this.$renderCell=function(e,t,i,n){var r,o=e.element,s=this.session,a=o.childNodes[0],l=o.childNodes[1],c=s.$firstLineNumber,h=s.$breakpoints,u=s.$decorations,d=s.gutterRenderer||this.$renderer,f=this.$showFoldWidgets&&s.foldWidgets,p=i?i.start.row:Number.MAX_VALUE,g="ace_gutter-cell ";this.$highlightGutterLine&&(n==this.$cursorRow||i&&n<this.$cursorRow&&p<=n&&this.$cursorRow<=i.end.row)&&(g+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),h[n]&&(g+=h[n]),u[n]&&(g+=u[n]),this.$annotations[n]&&(g+=this.$annotations[n].className),o.className!=g&&(o.className=g),!f||null==(r=f[n])&&(r=f[n]=s.getFoldWidget(n)),r?(g="ace_fold-widget ace_"+r,"start"==r&&n==p&&n<i.end.row?g+=" ace_closed":g+=" ace_open",l.className!=g&&(l.className=g),g=t.lineHeight+"px",m.setStyle(l.style,"height",g),m.setStyle(l.style,"display","inline-block")):l&&m.setStyle(l.style,"display","none");c=(d?d.getText(s,n):n+c).toString();return c!==a.data&&(a.data=c),m.setStyle(e.element.style,"height",this.$lines.computeLineHeight(n,t,s)+"px"),m.setStyle(e.element.style,"top",this.$lines.computeLineTop(n,t,s)+"px"),e.text=c,e},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?m.addCssClass(this.element,"ace_folding-enabled"):m.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=m.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),i=this.element.getBoundingClientRect();return e.x<t.left+i.left?"markers":this.$showFoldWidgets&&e.x>i.right-t.right?"foldWidgets":void 0}}).call(e.prototype),t.Gutter=e}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(e,t,i){"use strict";var f=e("../range").Range,n=e("../lib/dom"),e=function(e){this.element=n.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.elt=function(e,t){var i=-1!=this.i&&this.element.childNodes[this.i];i?this.i++:(i=document.createElement("div"),this.element.appendChild(i),this.i=-1),i.style.cssText=t,i.className=e},this.update=function(e){if(e){var t,i;for(i in this.config=e,this.i=0,this.markers){var n,r,o,s=this.markers[i];s.range?(o=s.range.clipRows(e.firstRow,e.lastRow)).isEmpty()||(o=o.toScreenRange(this.session),s.renderer?(n=this.$getTop(o.start.row,e),r=this.$padding+o.start.column*e.characterWidth,s.renderer(t,o,r,n,e)):"fullLine"==s.type?this.drawFullLineMarker(t,o,s.clazz,e):"screenLine"==s.type?this.drawScreenLineMarker(t,o,s.clazz,e):o.isMultiLine()?"text"==s.type?this.drawTextMarker(t,o,s.clazz,e):this.drawMultiLineMarker(t,o,s.clazz,e):this.drawSingleLineMarker(t,o,s.clazz+" ace_start ace_br15",e)):s.update(t,this,this.session,e)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(e,t,i,n,r){for(var o,s=this.session,a=t.start.row,l=t.end.row,c=a,h=0,u=s.getScreenLastRowColumn(c),d=new f(c,t.start.column,c,h);c<=l;c++)d.start.row=d.end.row=c,d.start.column=c==a?t.start.column:s.getRowWrapIndent(c),o=h,h=d.end.column=u,u=c+1<l?s.getScreenLastRowColumn(c+1):c==l?0:t.end.column,this.drawSingleLineMarker(e,d,i+(c==a?" ace_start":"")+" ace_br"+((c==a||c==a+1&&t.start.column?1:0)|(o<h?2:0)|(u<h?4:0)|(c==l?8:0)),n,c==l?0:1,r)},this.drawMultiLineMarker=function(e,t,i,n,r){var o,s=this.$padding,a=n.lineHeight,l=this.$getTop(t.start.row,n),c=s+t.start.column*n.characterWidth;r=r||"",this.session.$bidiHandler.isBidiRow(t.start.row)?((o=t.clone()).end.row=o.start.row,o.end.column=this.session.getLine(o.start.row).length,this.drawBidiSingleLineMarker(e,o,i+" ace_br1 ace_start",n,null,r)):this.elt(i+" ace_br1 ace_start","height:"+a+"px;right:0;top:"+l+"px;left:"+c+"px;"+(r||"")),this.session.$bidiHandler.isBidiRow(t.end.row)?((o=t.clone()).start.row=o.end.row,o.start.column=0,this.drawBidiSingleLineMarker(e,o,i+" ace_br12",n,null,r)):(l=this.$getTop(t.end.row,n),o=t.end.column*n.characterWidth,this.elt(i+" ace_br12","height:"+a+"px;width:"+o+"px;top:"+l+"px;left:"+s+"px;"+(r||""))),(a=(t.end.row-t.start.row-1)*n.lineHeight)<=0||(l=this.$getTop(t.start.row+1,n),t=(t.start.column?1:0)|(t.end.column?0:8),this.elt(i+(t?" ace_br"+t:""),"height:"+a+"px;right:0;top:"+l+"px;left:"+s+"px;"+(r||"")))},this.drawSingleLineMarker=function(e,t,i,n,r,o){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,i,n,r,o);var s=n.lineHeight,e=(t.end.column+(r||0)-t.start.column)*n.characterWidth,r=this.$getTop(t.start.row,n),n=this.$padding+t.start.column*n.characterWidth;this.elt(i,"height:"+s+"px;width:"+e+"px;top:"+r+"px;left:"+n+"px;"+(o||""))},this.drawBidiSingleLineMarker=function(e,t,i,n,r,o){var s=n.lineHeight,a=this.$getTop(t.start.row,n),l=this.$padding;this.session.$bidiHandler.getSelections(t.start.column,t.end.column).forEach(function(e){this.elt(i,"height:"+s+"px;width:"+e.width+(r||0)+"px;top:"+a+"px;left:"+(l+e.left)+"px;"+(o||""))},this)},this.drawFullLineMarker=function(e,t,i,n,r){var o=this.$getTop(t.start.row,n),s=n.lineHeight;t.start.row!=t.end.row&&(s+=this.$getTop(t.end.row,n)-o),this.elt(i,"height:"+s+"px;top:"+o+"px;left:0;right:0;"+(r||""))},this.drawScreenLineMarker=function(e,t,i,n,r){t=this.$getTop(t.start.row,n),n=n.lineHeight;this.elt(i,"height:"+n+"px;top:"+t+"px;left:0;right:0;"+(r||""))}}).call(e.prototype),t.Marker=e}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("../lib/oop"),c=e("../lib/dom"),v=e("../lib/lang"),r=e("./lines").Lines,o=e("../lib/event_emitter").EventEmitter,e=function(e){this.dom=c,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new r(this.element)};(function(){n.implement(this,o),this.EOF_CHAR="¶",this.EOL_CHAR_LF="¬",this.EOL_CHAR_CRLF="¤",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="—",this.SPACE_CHAR="·",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var e=this.session.doc,e="\n"==e.getNewLineCharacter()&&"windows"!=e.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=e)return this.EOL_CHAR=e,!0},this.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){(this.session=e)&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&("string"==typeof(this.showInvisibles=e)?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t,i,n,r,o,s,a=this.$tabStrings=[0],l=1;l<e+1;l++){this.showTabs?((s=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",s.textContent=v.stringRepeat(this.TAB_CHAR,l),a.push(s)):a.push(this.dom.createTextNode(v.stringRepeat(" ",l),this.element))}this.displayIndentGuides&&(this.$indentGuideRe=/\s\S| \t|\t |\s$/,t="ace_indent-guide",i=this.showSpaces?" ace_invisible ace_invisible_space":"",n=this.showSpaces?v.stringRepeat(this.SPACE_CHAR,this.tabSize):v.stringRepeat(" ",this.tabSize),r=this.showTabs?" ace_invisible ace_invisible_tab":"",o=this.showTabs?v.stringRepeat(this.TAB_CHAR,this.tabSize):n,(s=this.dom.createElement("span")).className=t+i,s.textContent=n,this.$tabStrings[" "]=s,(s=this.dom.createElement("span")).className=t+r,s.textContent=o,this.$tabStrings["\t"]=s)},this.updateLines=function(e,t,i){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var n=Math.max(t,e.firstRow),r=Math.min(i,e.lastRow),o=this.element.childNodes,s=0,a=e.firstRow;a<n;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(n)){n=l.start.row;break}a=l.end.row}s++}for(var l,c=!1,a=n,h=(l=this.session.getNextFoldLine(a))?l.start.row:1/0;h<a&&(a=l.end.row+1,h=(l=this.session.getNextFoldLine(a,l))?l.start.row:1/0),!(r<a);){var u,d=o[s++];d&&(this.dom.removeChildren(d),this.$renderLine(d,a,a==h&&l),c&&(d.style.top=this.$lines.computeLineTop(a,e,this.session)+"px"),u=e.lineHeight*this.session.getRowLength(a)+"px",d.style.height!=u&&(c=!0,d.style.height=u)),a++}if(c)for(;s<this.$lines.cells.length;){var f=this.$lines.cells[s++];f.element.style.top=this.$lines.computeLineTop(f.row,e,this.session)+"px"}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var i=e.lastRow,n=t?t.lastRow:-1;if(!t||n<e.firstRow)return this.update(e);if(i<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);0<r;r--)this.$lines.shift();if(t.lastRow>e.lastRow)for(r=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);0<r;r--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow))},this.$renderLinesFragment=function(e,t,i){for(var n=[],r=t,o=this.session.getNextFoldLine(r),s=o?o.start.row:1/0;s<r&&(r=o.end.row+1,s=(o=this.session.getNextFoldLine(r,o))?o.start.row:1/0),!(i<r);){var a=this.$lines.createCell(r,e,this.session),l=a.element;this.dom.removeChildren(l),c.setStyle(l.style,"height",this.$lines.computeLineHeight(r,e,this.session)+"px"),c.setStyle(l.style,"top",this.$lines.computeLineTop(r,e,this.session)+"px"),this.$renderLine(l,r,r==s&&o),this.$useLineGroups()?l.className="ace_line_group":l.className="ace_line",n.push(a),r++}return n},this.update=function(e){this.$lines.moveContainer(e);for(var t=(this.config=e).firstRow,i=e.lastRow,n=this.$lines;n.getLength();)n.pop();n.push(this.$renderLinesFragment(e,t,i))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,i,n){for(var r,o=this,s=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,a=this.dom.createFragment(this.element),l=0;h=s.exec(n);){var c,h,u,d=h[1],f=h[2],p=h[3],g=h[4],m=h[5];!o.showSpaces&&f||(c=l!=h.index?n.slice(l,h.index):"",l=h.index+h[0].length,c&&a.appendChild(this.dom.createTextNode(c,this.element)),d?(h=o.session.getScreenTabSize(t+h.index),a.appendChild(o.$tabStrings[h].cloneNode(!0)),t+=h-1):f?o.showSpaces?((u=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",u.textContent=v.stringRepeat(o.SPACE_CHAR,f.length),a.appendChild(u)):a.appendChild(this.com.createTextNode(f,this.element)):p?((u=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",u.textContent=v.stringRepeat(o.SPACE_CHAR,p.length),a.appendChild(u)):g?(t+=1,(u=this.dom.createElement("span")).style.width=2*o.config.characterWidth+"px",u.className=o.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",u.textContent=o.showSpaces?o.SPACE_CHAR:g,a.appendChild(u)):m&&(t+=1,(u=this.dom.createElement("span")).style.width=2*o.config.characterWidth+"px",u.className="ace_cjk",u.textContent=m,a.appendChild(u)))}return a.appendChild(this.dom.createTextNode(l?n.slice(l):n,this.element)),this.$textToken[i.type]?e.appendChild(a):(r="ace_"+i.type.replace(/\./g," ace_"),u=this.dom.createElement("span"),"fold"==i.type&&(u.style.width=i.value.length*this.config.characterWidth+"px"),u.className=r,u.appendChild(a),e.appendChild(u)),t+n.length},this.renderIndentGuide=function(e,t,i){var n=t.search(this.$indentGuideRe);if(n<=0||i<=n)return t;if(" "==t[0]){for(var r=(n-=n%this.tabSize)/this.tabSize,o=0;o<r;o++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return t.substr(n)}if("\t"!=t[0])return t;for(o=0;o<n;o++)e.appendChild(this.$tabStrings["\t"].cloneNode(!0));return t.substr(n)},this.$createLineElement=function(e){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t},this.$renderWrappedLine=function(e,t,i){var n=0,r=0,o=i[0],s=0,a=this.$createLineElement();e.appendChild(a);for(var l=0;l<t.length;l++){var c=t[l],h=c.value;if(0==l&&this.displayIndentGuides){if(n=h.length,!(h=this.renderIndentGuide(a,h,o)))continue;n-=h.length}if(n+h.length<o)s=this.$renderToken(a,s,c,h),n+=h.length;else{for(;n+h.length>=o;)s=this.$renderToken(a,s,c,h.substring(0,o-n)),h=h.substring(o-n),n=o,a=this.$createLineElement(),e.appendChild(a),a.appendChild(this.dom.createTextNode(v.stringRepeat(" ",i.indent),this.element)),s=0,o=i[++r]||Number.MAX_VALUE;0!=h.length&&(n+=h.length,s=this.$renderToken(a,s,c,h))}}i[i.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(a,s,null,"",!0)},this.$renderSimpleLine=function(e,t){var i=0,n=t[0],r=n.value;this.displayIndentGuides&&(r=this.renderIndentGuide(e,r)),r&&(i=this.$renderToken(e,i,n,r));for(var o=1;o<t.length;o++){if(i+(r=(n=t[o]).value).length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,i,n,r);i=this.$renderToken(e,i,n,r)}},this.$renderOverflowMessage=function(e,t,i,n,r){i&&this.$renderToken(e,t,i,n.slice(0,this.MAX_LINE_LENGTH-t));t=this.dom.createElement("span");t.className="ace_inline_button ace_keyword ace_toggle_wrap",t.textContent=r?"<hide>":"<click to see more...>",e.appendChild(t)},this.$renderLine=function(e,t,i){var n;i||0==i||(i=this.session.getFoldLine(t));var r,o=e;(n=i?this.$getFoldLineTokens(t,i):this.session.getTokens(t)).length?(r=this.session.getRowSplitData(t))&&r.length?(this.$renderWrappedLine(e,n,r),o=e.lastChild):(o=e,this.$useLineGroups()&&(o=this.$createLineElement(),e.appendChild(o)),this.$renderSimpleLine(o,n)):this.$useLineGroups()&&(o=this.$createLineElement(),e.appendChild(o)),this.showEOL&&o&&(i&&(t=i.end.row),(i=this.dom.createElement("span")).className="ace_invisible ace_invisible_eol",i.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,o.appendChild(i))},this.$getFoldLineTokens=function(e,t){var o=this.session,s=[],a=o.getTokens(e);return t.walk(function(e,t,i,n,r){null!=e?s.push({type:"fold",value:e}):(r&&(a=o.getTokens(t)),a.length&&function(e,t,i){for(var n,r=0,o=0;o+e[r].value.length<t;)if(o+=e[r].value.length,++r==e.length)return;for(o!=t&&((n=e[r].value.substring(t-o)).length>i-t&&(n=n.substring(0,i-t)),s.push({type:e[r].type,value:n}),o=t+n.length,r+=1);o<i&&r<e.length;){(n=e[r].value).length+o>i?s.push({type:e[r].type,value:n.substring(0,i-o)}):s.push(e[r]),o+=n.length,r+=1}}(a,n,i))},t.end.row,this.session.getLine(t.end.row).length),s},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(e.prototype),t.Text=e}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";var c=e("../lib/dom"),e=function(e){this.element=c.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),c.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(e){for(var t=this.cursors,i=t.length;i--;)c.setStyle(t[i].style,"opacity",e?"":"0")},this.$startCssAnimation=function(){for(var e=this.cursors,t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+"ms";setTimeout(function(){c.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){c.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,c.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var e=c.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(1<this.cursors.length){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,c.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,c.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e,t=this.$updateCursors;clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&c.removeCssClass(this.element,"ace_smooth-blinking"),t(!0),this.isBlinking&&this.blinkInterval&&this.isVisible?(this.smoothBlinking&&setTimeout(function(){c.addCssClass(this.element,"ace_smooth-blinking")}.bind(this)),c.HAS_CSS_ANIMATION?this.$startCssAnimation():(e=function(){this.timeoutId=setTimeout(function(){t(!1)},.6*this.blinkInterval)}.bind(this),this.intervalId=setInterval(function(){t(!0),e()},this.blinkInterval),e())):this.$stopCssAnimation()},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e=e||this.session.selection.getCursor();var i=this.session.documentToScreenPosition(e);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,e.row)?this.session.$bidiHandler.getPosLeft(i.column):i.column*this.config.characterWidth),top:(i.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(e,t){return 0<=e.top&&e.top<t.maxHeight},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,i=0,n=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]);for(var i=0,r=t.length;i<r;i++){var o,s,a=this.getPixelPosition(t[i].cursor,!0);(a.top>e.height+e.offset||a.top<0)&&1<i||(s=(o=this.cursors[n++]||this.addCursor()).style,this.drawCursor?this.drawCursor(o,a,e,t[i],this.session):this.isCursorInView(a,e)?(c.setStyle(s,"display","block"),c.translate(o,a.left,a.top),c.setStyle(s,"width",Math.round(e.characterWidth)+"px"),c.setStyle(s,"height",e.lineHeight+"px")):c.setStyle(s,"display","none"))}for(;this.cursors.length>n;)this.removeCursor();var l=this.session.getOverwrite();this.$setOverwrite(l),this.$pixelPos=a,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&((this.overwrite=e)?c.addCssClass(this.element,"ace_overwrite-cursors"):c.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(e.prototype),t.Cursor=e}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,t,i){"use strict";function n(e){this.element=o.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=o.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent=" ",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addListener(this.element,"scroll",this.onScroll.bind(this)),s.addListener(this.element,"mousedown",s.preventDefault)}var r=e("./lib/oop"),o=e("./lib/dom"),s=e("./lib/event"),a=e("./lib/event_emitter").EventEmitter;(function(){r.implement(this,a),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(n.prototype);function l(e,t){n.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=o.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0}r.inherits(l,n),function(){this.classSuffix="-v",this.onScroll=function(){var e;this.skipEvent||(this.scrollTop=this.element.scrollTop,1!=this.coeff&&(e=this.element.clientHeight/this.scrollHeight,this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)),this._emit("scroll",{data:this.scrollTop})),this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=this.setScrollHeight=function(e){32768<(this.scrollHeight=e)?(this.coeff=32768/e,e=32768):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}.call(l.prototype);e=function(e,t){n.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};r.inherits(e,n),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(e.prototype),t.ScrollBar=l,t.ScrollBarV=l,t.ScrollBarH=e,t.VScrollBar=l,t.HScrollBar=e}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(e,t,i){"use strict";var n=e("./lib/event"),e=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var i=this;this._flush=function(e){i.pending=!1;var t=i.changes;t&&(n.blockIdle(100),i.changes=0,i.onRender(t)),i.changes?i.$recursionLimit--<0||i.schedule():i.$recursionLimit=2}};(function(){this.schedule=function(e){this.changes=this.changes|e,this.changes&&!this.pending&&(n.nextFrame(this._flush),this.pending=!0)},this.clear=function(e){var t=this.changes;return this.changes=0,t}}).call(e.prototype),t.RenderLoop=e}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,i){var n=e("../lib/oop"),r=e("../lib/dom"),o=e("../lib/lang"),s=e("../lib/event"),a=e("../lib/useragent"),l=e("../lib/event_emitter").EventEmitter,c="function"==typeof ResizeObserver,t=t.FontMetrics=function(e){this.el=r.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=r.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=r.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.textContent=o.stringRepeat("X",256),this.$characterSize={width:0,height:0},c?this.$addObserver():this.checkForSizeChanges()};(function(){n.implement(this,l),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",a.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(e){var t;void 0===e&&(e=this.$measureSizes()),!e||this.$characterSize.width===e.width&&this.$characterSize.height===e.height||(this.$measureNode.style.fontWeight="bold",t=this.$measureSizes(),this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e}))},this.$addObserver=function(){var t=this;this.$observer=new window.ResizeObserver(function(e){t.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var t=this;return this.$pollSizeChangesTimer=s.onIdle(function e(){t.checkForSizeChanges(),s.onIdle(e,500)},500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(e){e={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/256};return 0===e.width||0===e.height?null:e},this.$measureCharWidth=function(e){return this.$main.textContent=o.stringRepeat(e,256),this.$main.getBoundingClientRect().width/256},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function e(t){return t?(window.getComputedStyle(t).zoom||1)*e(t.parentElement):1},this.$initTransformMeasureNodes=function(){function e(e,t){return["div",{style:"position: absolute;top:"+e+"px;left:"+t+"px;"}]}this.els=r.buildDom([e(0,0),e(200,0),e(0,200),e(200,200)],this.el)},this.transformCoordinates=function(e,t){function i(e,t,i){var n=e[1]*t[0]-e[0]*t[1];return[(-t[1]*i[0]+t[0]*i[1])/n,(+e[1]*i[0]-e[0]*i[1])/n]}function n(e,t){return[e[0]-t[0],e[1]-t[1]]}function r(e,t){return[e[0]+t[0],e[1]+t[1]]}function o(e,t){return[e*t[0],e*t[1]]}function s(e){e=e.getBoundingClientRect();return[e.left,e.top]}e=e&&o(1/this.$getZoom(this.el),e),this.els||this.$initTransformMeasureNodes();var a=s(this.els[0]),l=s(this.els[1]),c=s(this.els[2]),h=s(this.els[3]),u=i(n(h,l),n(h,c),n(r(l,c),r(h,a))),h=o(1+u[0],n(l,a)),l=o(1+u[1],n(c,a));if(t){c=u[0]*t[0]/200+u[1]*t[1]/200+1,t=r(o(t[0],h),o(t[1],l));return r(o(1/c/200,t),a)}a=n(e,a),a=i(n(h,o(u[0],a)),n(l,o(u[1],a)),a);return o(200,a)}}).call(t.prototype)}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/lib/useragent"],function(e,t,i){"use strict";var n=e("./lib/oop"),a=e("./lib/dom"),o=e("./config"),r=e("./layer/gutter").Gutter,s=e("./layer/marker").Marker,l=e("./layer/text").Text,c=e("./layer/cursor").Cursor,h=e("./scrollbar").HScrollBar,u=e("./scrollbar").VScrollBar,d=e("./renderloop").RenderLoop,f=e("./layer/font_metrics").FontMetrics,p=e("./lib/event_emitter").EventEmitter,g='.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;padding: 0;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;font-variant-ligatures: no-common-ligatures;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_error_bracket {position: absolute;border-bottom: 1px solid #DE5555;border-radius: 0;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);transform-origin: left;white-space: pre;opacity: 0.7;margin: 0 10px;}',m=e("./lib/useragent"),v=m.isIE;a.importCssString(g,"ace_editor.css");e=function(e,t){var i=this;this.container=e||a.createElement("div"),a.addCssClass(this.container,"ace_editor"),a.HI_DPI&&a.addCssClass(this.container,"ace_hidpi"),this.setTheme(t),this.$gutter=a.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=a.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=a.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new r(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new s(this.content);t=this.$textLayer=new l(this.content);this.canvas=t.element,this.$markerFront=new s(this.content),this.$cursorLayer=new c(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new u(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.on("scroll",function(e){i.$scrollAnimation||i.session.setScrollTop(e.data-i.scrollMargin.top)}),this.scrollBarH.on("scroll",function(e){i.$scrollAnimation||i.session.setScrollLeft(e.data-i.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new f(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(e){i.updateCharacterSize(),i.onResize(!0,i.gutterWidth,i.$size.width,i.$size.height),i._signal("changeCharacterSize",e)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!m.isIOS,this.$loop=new d(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),o.resetOptions(this),o._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,n.implement(this,p),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),a.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),(this.session=e)&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,i){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!i)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,i,n){if(!(2<this.resizing)){0<this.resizing?this.resizing++:this.resizing=e?1:0;var r=this.container;n=n||(r.clientHeight||r.scrollHeight),i=i||(r.clientWidth||r.scrollWidth);t=this.$updateCachedSize(e,t,i,n);if(!this.$size.scrollerHeight||!i&&!n)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(t|this.$changes,!0):this.$loop.schedule(t|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(e,t,i,n){n-=this.$extraHeight||0;var r=0,o=this.$size,s={width:o.width,height:o.height,scrollerHeight:o.scrollerHeight,scrollerWidth:o.scrollerWidth};return n&&(e||o.height!=n)&&(o.height=n,r|=this.CHANGE_SIZE,o.scrollerHeight=o.height,this.$horizScroll&&(o.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",r|=this.CHANGE_SCROLL),i&&(e||o.width!=i)&&(r|=this.CHANGE_SIZE,o.width=i,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,a.setStyle(this.scrollBarH.element.style,"left",t+"px"),a.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),o.scrollerWidth=Math.max(0,i-t-this.scrollBarV.getWidth()-this.margin.h),a.setStyle(this.$gutter.style,"left",this.margin.left+"px"),t=this.scrollBarV.getWidth()+"px",a.setStyle(this.scrollBarH.element.style,"right",t),a.setStyle(this.scroller.style,"right",t),a.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(r|=this.CHANGE_FULL)),o.$dirty=!i||!n,r&&this._signal("resize",s),r},this.onGutterResize=function(e){e=this.$showGutter?e:0;e!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,e,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,e=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(e,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){var e;(this.$showPrintMargin||this.$printMarginEl)&&(this.$printMarginEl||((e=a.createElement("div")).className="ace_layer ace_print-margin-layer",this.$printMarginEl=a.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)),(e=this.$printMarginEl.style).left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",e.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit())},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){var e,t,i,n,r,o,s;this.$isMousePressed||(e=this.textarea.style,o=this.$composition,this.$keepTextAreaAtCursor||o?(s=this.$cursorLayer.$pixelPos)&&(o&&o.markerRange&&(s=this.$cursorLayer.getPixelPosition(o.markerRange.start,!0)),r=this.layerConfig,t=s.top,i=s.left,t-=r.offset,n=o&&o.useTextareaForIME?this.lineHeight:v?0:1,t<0||t>r.height-n?a.translate(this.textarea,0,0):(s=1,r=this.$size.height-n,o?o.useTextareaForIME?(o=this.textarea.value,s=this.characterWidth*this.session.$getStringScreenWidth(o)[0]):t+=this.lineHeight+2:t+=this.lineHeight,(i-=this.scrollLeft)>this.$size.scrollerWidth-s&&(i=this.$size.scrollerWidth-s),i+=this.gutterWidth+this.margin.left,a.setStyle(e,"height",n+"px"),a.setStyle(e,"width",s+"px"),a.translate(this.textarea,Math.min(i,this.$size.scrollerWidth-s),Math.min(t,r)))):a.translate(this.textarea,-100,0))},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,i,n){var r=this.scrollMargin;r.top=0|e,r.bottom=0|t,r.right=0|n,r.left=0|i,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()},this.setMargin=function(e,t,i,n){var r=this.margin;r.top=0|e,r.bottom=0|t,r.right=0|n,r.left=0|i,r.v=r.top+r.bottom,r.h=r.left+r.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",e),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var i,n=this.layerConfig;return(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL)&&(e|=this.$computeLayerConfig()|this.$loop.clear(),n.firstRow==this.layerConfig.firstRow||n.firstRowScreen!=this.layerConfig.firstRowScreen||0<(i=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight)&&(this.scrollTop=i,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear()),n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),a.translate(this.content,-this.scrollLeft,-n.offset),t=n.width+2*this.$padding+"px",i=n.minHeight+"px",a.setStyle(this.content.style,"width",t),a.setStyle(this.content.style,"height",i)),e&this.CHANGE_H_SCROLL&&(a.translate(this.content,-this.scrollLeft,-n.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL?(this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor()):e&this.CHANGE_SCROLL?(this.$changedLines=null,e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(n):this.$gutterLayer.scrollLines(n)),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor()):(e&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(n):e&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(n),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n)),void this._signal("afterRender",e)}this.$changes|=e},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,i=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(i+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&i>this.$maxPixelHeight&&(i=this.$maxPixelHeight);e=!(i<=2*this.lineHeight)&&t<e;i==this.desiredHeight&&this.$size.height==this.desiredHeight&&e==this.$vScroll||(e!=this.$vScroll&&(this.$vScroll=e,this.scrollBarV.setVisible(e)),e=this.container.clientWidth,this.container.style.height=i+"px",this.$updateCachedSize(!0,this.$gutterWidth,e,i),this.desiredHeight=i,this._signal("autosize"))},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,i=t.height<=2*this.lineHeight,n=this.session.getScreenLength()*this.lineHeight,r=this.$getLongestLine(),o=!i&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-r-2*this.$padding<0),s=this.$horizScroll!==o;s&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var a=this.$vScroll;this.$maxLines&&1<this.lineHeight&&this.$autosize();var l=t.scrollerHeight+this.lineHeight,c=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;n+=c;var h=this.scrollMargin;this.session.setScrollTop(Math.max(-h.top,Math.min(this.scrollTop,n-t.scrollerHeight+h.bottom))),this.session.setScrollLeft(Math.max(-h.left,Math.min(this.scrollLeft,r+2*this.$padding-t.scrollerWidth+h.right)));var u=!i&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-n+c<0||this.scrollTop>h.top),d=a!==u;d&&(this.$vScroll=u,this.scrollBarV.setVisible(u));var o=this.scrollTop%this.lineHeight,i=Math.ceil(l/this.lineHeight)-1,h=(c=Math.max(0,Math.round((this.scrollTop-o)/this.lineHeight)))+i,a=this.lineHeight,c=e.screenToDocumentRow(c,0),u=e.getFoldLine(c);u&&(c=u.start.row),i=e.documentToScreenRow(c,0),u=e.getRowLength(c)*a,h=Math.min(e.screenToDocumentRow(h,0),e.getLength()-1),l=t.scrollerHeight+e.getRowLength(h)*a+u,o=this.scrollTop-i*a;u=0;return this.layerConfig.width==r&&!s||(u=this.CHANGE_H_SCROLL),(s||d)&&(u|=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),d&&(r=this.$getLongestLine())),this.layerConfig={width:r,padding:this.$padding,firstRow:c,firstRowScreen:i,lastRow:h,lineHeight:a,characterWidth:this.characterWidth,minHeight:l,maxHeight:n,offset:o,gutterOffset:a?Math.max(0,Math.ceil((o+t.height-t.scrollerHeight)/a)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(r-this.$padding),u},this.$updateLines=function(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var i=this.layerConfig;if(!(e>i.lastRow+1||t<i.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(i),void this.$textLayer.update(i)):(this.$textLayer.updateLines(i,e,t),!0)}},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,i){this.scrollCursorIntoView(e,i),this.scrollCursorIntoView(t,i)},this.scrollCursorIntoView=function(e,t,i){var n,r,o;0!==this.$size.scrollerHeight&&(n=(o=this.$cursorLayer.getPixelPosition(e)).left,r=o.top,e=i&&i.top||0,o=i&&i.bottom||0,r<(i=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop)+e?(t&&i+e>r+this.lineHeight&&(r-=t*this.$size.scrollerHeight),0===r&&(r=-this.scrollMargin.top),this.session.setScrollTop(r)):i+this.$size.scrollerHeight-o<r+this.lineHeight&&(t&&i+this.$size.scrollerHeight-o<r-this.lineHeight&&(r+=t*this.$size.scrollerHeight),this.session.setScrollTop(r+this.lineHeight+o-this.$size.scrollerHeight)),n<(o=this.scrollLeft)?(n<this.$padding+2*this.layerConfig.characterWidth&&(n=-this.scrollMargin.left),this.session.setScrollLeft(n)):o+this.$size.scrollerWidth<n+this.characterWidth?this.session.setScrollLeft(Math.round(n+this.characterWidth-this.$size.scrollerWidth)):o<=this.$padding&&n-o<this.characterWidth&&this.session.setScrollLeft(0))},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var i=this.$cursorLayer.getPixelPosition(e),e=this.$size.scrollerHeight-this.lineHeight,t=i.top-e*(t||0);return this.session.setScrollTop(t),t},this.STEPS=8,this.$calcSteps=function(e,t){for(var i,n,r=0,o=this.STEPS,s=[],r=0;r<o;++r)s.push((i=r/this.STEPS,(t-(n=e))*(Math.pow(i-1,3)+1)+n));return s},this.scrollToLine=function(e,t,i,n){e=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(e-=this.$size.scrollerHeight/2);t=this.scrollTop;this.session.setScrollTop(e),!1!==i&&this.animateScrolling(t,n)},this.animateScrolling=function(e,t){var i=this.scrollTop;if(this.$animatedScroll){var n=this;if(e!=i){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(e=r[0])==i)return}var o=n.$calcSteps(e,i);this.$scrollAnimation={from:e,to:i,steps:o},clearInterval(this.$timer),n.session.setScrollTop(o.shift()),n.session.$scrollTop=i,this.$timer=setInterval(function(){return n.session?void(o.length?(n.session.setScrollTop(o.shift()),n.session.$scrollTop=i):null!=i?(n.session.$scrollTop=-1,n.session.setScrollTop(i),i=null):(n.$timer=clearInterval(n.$timer),n.$scrollAnimation=null,t&&t())):clearInterval(n.$timer)},10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(0<t&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(0<e&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(e,t){this.$hasCssTransforms?(n={top:0,left:0},e=(i=this.$fontMetrics.transformCoordinates([e,t]))[1]-this.gutterWidth-this.margin.left,t=i[0]):n=this.scroller.getBoundingClientRect();var i=e+this.scrollLeft-n.left-this.$padding,e=i/this.characterWidth,t=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),n=this.$blockCursor?Math.floor(e):Math.round(e);return{row:t,column:n,side:0<e-n?1:-1,offsetX:i}},this.screenToTextCoordinates=function(e,t){this.$hasCssTransforms?(n={top:0,left:0},e=(i=this.$fontMetrics.transformCoordinates([e,t]))[1]-this.gutterWidth-this.margin.left,t=i[0]):n=this.scroller.getBoundingClientRect();var i=e+this.scrollLeft-n.left-this.$padding,e=i/this.characterWidth,e=this.$blockCursor?Math.floor(e):Math.round(e),n=Math.floor((t+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(n,Math.max(e,0),i)},this.textToScreenCoordinates=function(e,t){var i=this.scroller.getBoundingClientRect(),t=this.session.documentToScreenPosition(e,t),e=this.$padding+(this.session.$bidiHandler.isBidiRow(t.row,e)?this.session.$bidiHandler.getPosLeft(t.column):Math.round(t.column*this.characterWidth)),t=t.row*this.lineHeight;return{pageX:i.left+e-this.scrollLeft,pageY:i.top+t-this.scrollTop}},this.visualizeFocus=function(){a.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){a.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){(this.$composition=e).cssText||(e.cssText=this.textarea.style.cssText),null==e.useTextareaForIME&&(e.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(a.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):e.markerId=this.session.addMarker(e.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(e){var t=this.session.selection.cursor;this.addToken(e,"composition_placeholder",t.row,t.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){var e;this.$composition&&(this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),a.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText,e=this.session.selection.cursor,this.removeExtraToken(e.row,e.column),this.$composition=null,this.$cursorLayer.element.style.display="")},this.addToken=function(e,t,i,n){var r=this.session;r.bgTokenizer.lines[i]=null;var o={type:t,value:e},s=r.getTokens(i);if(null==n)s.push(o);else for(var a=0,l=0;l<s.length;l++){var c=s[l];if(n<=(a+=c.value.length)){var h=c.value.length-(a-n),u=c.value.slice(0,h),h=c.value.slice(h);s.splice(l,1,{type:c.type,value:u},o,{type:c.type,value:h});break}}this.updateLines(i,i)},this.removeExtraToken=function(e,t){this.updateLines(e,e)},this.setTheme=function(i,n){function e(e){if(r.$themeId!=i)return n&&n();if(!e||!e.cssClass)throw new Error("couldn't load module "+i+" or it didn't call define");e.$id&&(r.$themeId=e.$id),a.importCssString(e.cssText,e.cssClass,r.container),r.theme&&a.removeCssClass(r.container,r.theme.cssClass);var t="padding"in e?e.padding:"padding"in(r.theme||{})?4:r.$padding;r.$padding&&t!=r.$padding&&r.setPadding(t),r.$theme=e.cssClass,r.theme=e,a.addCssClass(r.container,e.cssClass),a.setCssClass(r.container,"ace_dark",e.isDark),r.$size&&(r.$size.width=0,r.$updateSizeAsync()),r._dispatchEvent("themeLoaded",{theme:e}),n&&n()}var t,r=this;this.$themeId=i,r._dispatchEvent("themeChange",{theme:i}),i&&"string"!=typeof i?e(i):(t=i||this.$options.theme.initialValue,o.loadModule(["theme",t],e))},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){a.setCssClass(this.container,e,!1!==t)},this.unsetStyle=function(e){a.removeCssClass(this.container,e)},this.setCursorStyle=function(e){a.setStyle(this.scroller.style,"cursor",e)},this.setMouseCursor=function(e){a.setStyle(this.scroller.style,"cursor",e)},this.attachToShadowRoot=function(){a.importCssString(g,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""}}).call(e.prototype),o.defineOptions(e.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){a.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!m.isMobile&&!m.isIE}}),t.VirtualRenderer=e}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(a,e,t){"use strict";function l(e){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(u.get("loadWorkerFromBlob")){var t=function(t){var i="importScripts('"+n.qualifyURL(t)+"');";try{return new Blob([i],{type:"application/javascript"})}catch(e){t=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return t.append(i),t.getBlob("application/javascript")}}(e),t=(window.URL||window.webkitURL).createObjectURL(t);return new Worker(t)}return new Worker(e)}function c(e){e.postMessage||(e=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=e,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage}var i=a("../lib/oop"),n=a("../lib/net"),h=a("../lib/event_emitter").EventEmitter,u=a("../config");(function(){i.implement(this,h),this.$createWorkerFromOldConfig=function(e,t,i,n,r){var o,s;return a.nameToUrl&&!a.toUrl&&(a.toUrl=a.nameToUrl),u.get("packaged")||!a.toUrl?n=n||u.moduleUrl(t,"worker"):(o=this.$normalizePath,n=n||o(a.toUrl("ace/worker/worker.js",null,"_")),s={},e.forEach(function(e){s[e]=o(a.toUrl(e,null,"_").replace(/(\.js)?(\?.*)?$/,""))})),this.$worker=l(n),r&&this.send("importScripts",r),this.$worker.postMessage({init:!0,tlns:s,module:t,classname:i}),this.$worker},this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":e=this.callbacks[t.id];e&&(e(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return n.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,i){var n;i&&(n=this.callbackId++,this.callbacks[n]=i,t.push(n)),this.send(e,t)},this.emit=function(e,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code}),this.$worker.postMessage({event:e,data:{data:t.data}})}catch(e){console.error(e.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,50<e.length&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))}}).call(c.prototype);e.UIWorkerClient=function(e,t,i){var n=null,r=!1,o=Object.create(h),s=[],a=new c({messageBuffer:s,terminate:function(){},postMessage:function(e){s.push(e),n&&(r?setTimeout(l):l())}});a.setEmitSync=function(e){r=e};var l=function(){var e=s.shift();e.command?n[e.command].apply(n,e.args):e.event&&o._signal(e.event,e.data)};return o.postMessage=function(e){a.onMessage({data:e})},o.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},o.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},u.loadModule(["worker",t],function(e){for(n=new e[i](o);s.length;)l()}),a},e.WorkerClient=c,e.createWorker=l}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(e,t,i){"use strict";var l=e("./range").Range,n=e("./lib/event_emitter").EventEmitter,r=e("./lib/oop"),e=function(e,t,i,n,r,o){var s=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=r,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=n,this.$onCursorChange=function(){setTimeout(function(){s.onCursorChange()})},this.$pos=i;i=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=i.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){r.implement(this,n),this.setup=function(){var t=this,i=this.doc,e=this.session;this.selectionBefore=e.selection.toJSON(),e.selection.inMultiSelectMode&&e.selection.toSingleRange(),this.pos=i.createAnchor(this.$pos.row,this.$pos.column);var n=this.pos;n.$insertRight=!0,n.detach(),n.markerId=e.addMarker(new l(n.row,n.column,n.row,n.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(e){e=i.createAnchor(e.row,e.column);e.$insertRight=!0,e.detach(),t.others.push(e)}),e.setUndoSelect(!1)},this.showOtherMarkers=function(){var t,i;this.othersActive||(t=this.session,(i=this).othersActive=!0,this.others.forEach(function(e){e.markerId=t.addMarker(new l(e.row,e.column,e.row,e.column+i.length),i.othersClass,null,!1)}))},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var i="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,n=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,r=t.start.column-this.pos.column;if(this.updateAnchors(e),n&&(this.length+=i),n&&!this.session.$fromUndo)if("insert"===e.action)for(var o=this.others.length-1;0<=o;o--){var s={row:(a=this.others[o]).row,column:a.column+r};this.doc.insertMergedLines(s,e.lines)}else if("remove"===e.action)for(o=this.others.length-1;0<=o;o--){var a,s={row:(a=this.others[o]).row,column:a.column+r};this.doc.remove(new l(s.row,s.column,s.row,s.column-i))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var i=this,n=this.session,e=function(e,t){n.removeMarker(e.markerId),e.markerId=n.addMarker(new l(e.row,e.column,e.row,e.column+i.length),t,null,!1)};e(this.pos,this.mainClass);for(var t=this.others.length;t--;)e(this.others[t],this.othersClass)}},this.onCursorChange=function(e){var t;!this.$updating&&this.session&&((t=this.session.selection.getCursor()).row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e)))},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,i=0;i<t;i++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(e.prototype),t.PlaceHolder=e}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,i){function k(e,t){return e.row==t.row&&e.column==t.column}var M=e("../lib/event"),T=e("../lib/useragent");t.onMouseDown=function(e){var t=e.domEvent,i=t.altKey,n=t.shiftKey,r=t.ctrlKey,o=e.getAccelKey(),s=e.getButton();if(r&&T.isMac&&(s=t.button),e.editor.inMultiSelectMode&&2==s)e.editor.textInput.onContextMenu(e.domEvent);else if(r||i||o){if(0===s){var a,l,c,h=e.editor,u=h.selection,d=h.inMultiSelectMode,f=e.getDocumentPosition(),p=u.getCursor(),p=e.inSelection()||u.isEmpty()&&k(f,p),g=e.x,m=e.y,v=h.session,y=h.renderer.pixelToScreenCoordinates(g,m),b=y;if(h.$mouseHandler.$enableJumpToDef)r&&i||o&&i?a=n?"block":"add":i&&h.$blockSelectEnabled&&(a="block");else if(o&&!i){if(a="add",!d&&n)return}else i&&h.$blockSelectEnabled&&(a="block");if(a&&T.isMac&&t.ctrlKey&&h.$mouseHandler.cancelContextMenu(),"add"==a)!d&&p||(d||(l=u.toOrientedRange(),h.addSelectionMarker(l)),c=u.rangeList.rangeAtPoint(f),h.inVirtualSelectionMode=!0,n&&(c=null,l=u.ranges[0]||l,h.removeSelectionMarker(l)),h.once("mouseup",function(){var e=u.toOrientedRange();c&&e.isEmpty()&&k(c.cursor,e.cursor)?u.substractPoint(e.cursor):(n?u.substractPoint(l.cursor):l&&(h.removeSelectionMarker(l),u.addRange(l)),u.addRange(e)),h.inVirtualSelectionMode=!1}));else if("block"==a){e.stop(),h.inVirtualSelectionMode=!0;function w(){var e=h.renderer.pixelToScreenCoordinates(g,m),t=v.screenToDocumentPosition(e.row,e.column,e.offsetX);k(b,e)&&k(t,u.lead)||(b=e,h.selection.moveToPosition(t),h.renderer.scrollCursorIntoView(),h.removeSelectionMarkers(C),C=u.rectangularRangeBlock(b,y),h.$mouseHandler.$clickSelection&&1==C.length&&C[0].isEmpty()&&(C[0]=h.$mouseHandler.$clickSelection.clone()),C.forEach(h.addSelectionMarker,h),h.updateSelectionMarkers())}var x,C=[];d&&!o?u.toSingleRange():!d&&o&&(x=u.toOrientedRange(),h.addSelectionMarker(x)),n?y=v.documentToScreenPosition(u.lead):u.moveToPosition(f),b={row:-1,column:-1};var S=w;M.capture(h.container,function(e){g=e.clientX,m=e.clientY},function(e){w(),clearInterval(_),h.removeSelectionMarkers(C),C.length||(C=[u.toOrientedRange()]),x&&(h.removeSelectionMarker(x),u.toSingleRange(x));for(var t=0;t<C.length;t++)u.addRange(C[t]);h.inVirtualSelectionMode=!1,h.$mouseHandler.$clickSelection=null});var _=setInterval(function(){S()},20);return e.preventDefault()}}}else 0===s&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(e,t,i){t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(e){1<e.multiSelect.rangeCount?e.multiSelect.joinSelections():e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];e=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new e(t.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(e,t,i){function n(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",o),e.commands.addCommands(a.defaultCommands),function(t){function i(e){n&&(t.renderer.setMouseCursor(""),n=!1)}if(!t.textInput)return;var e=t.textInput.getElement(),n=!1;s.addListener(e,"keydown",function(e){e=18==e.keyCode&&!(e.ctrlKey||e.shiftKey||e.metaKey);t.$blockSelectEnabled&&e?n||(t.renderer.setMouseCursor("crosshair"),n=!0):n&&i()},t),s.addListener(e,"keyup",i,t),s.addListener(e,"blur",i,t)}(e))}var r=e("./range_list").RangeList,w=e("./range").Range,d=e("./selection").Selection,o=e("./mouse/multi_select_handler").onMouseDown,s=e("./lib/event"),f=e("./lib/lang"),a=e("./commands/multi_select_commands");t.commands=a.defaultCommands.concat(a.multiSelectCommands);var l=new(e("./search").Search),c=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(c.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var i=this.toOrientedRange();if(this.rangeList.add(i),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(i),this.$onAddRange(i)}e.cursor||(e.cursor=e.end);i=this.rangeList.add(e);return this.$onAddRange(e),i.length&&this.$onRemoveRange(i),1<this.rangeCount&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){e=this.rangeList.substractPoint(e);if(e)return this.$onRemoveRange(e),e[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){var t;this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode&&(t=this.rangeList.ranges.pop(),e.push(t),this.rangeCount=0);for(var i=e.length;i--;){var n=this.ranges.indexOf(e[i]);this.ranges.splice(n,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new r,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var e=this.ranges.length?this.ranges:[this.getRange()],t=[],i=0;i<e.length;i++){var n=e[i],r=n.start.row,o=n.end.row;if(r===o)t.push(n.clone());else{for(t.push(new w(r,n.start.column,r,this.session.getLine(r).length));++r<o;)t.push(this.getLineRange(r,!0));t.push(new w(o,0,o,n.end.column))}0!=i||this.isBackwards()||(t=t.reverse())}this.toSingleRange();for(i=t.length;i--;)this.addRange(t[i])},this.joinSelections=function(){var e=this.rangeList.ranges,t=e[e.length-1],e=w.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(e,t.cursor==t.start)},this.toggleBlockSelection=function(){var e,t;1<this.rangeCount?(t=(e=this.rangeList.ranges)[e.length-1],e=w.fromPoints(e[0].start,t.end),this.toSingleRange(),this.setSelectionRange(e,t.cursor==t.start)):(e=this.session.documentToScreenPosition(this.cursor),t=this.session.documentToScreenPosition(this.anchor),this.rectangularRangeBlock(e,t).forEach(this.addRange,this))},this.rectangularRangeBlock=function(e,t,i){var n,r,o,s,a=[],l=e.column<t.column;s=l?(n=e.column,r=t.column,o=e.offsetX,t.offsetX):(n=t.column,r=e.column,o=t.offsetX,e.offsetX);var c,h,u,d=e.row<t.row;h=d?(c=e.row,t.row):(c=t.row,e.row),n<0&&(n=0),c<0&&(c=0),c==h&&(i=!0);for(var f,p,g=c;g<=h;g++){var m=w.fromPoints(this.session.screenToDocumentPosition(g,n,o),this.session.screenToDocumentPosition(g,r,s));if(m.isEmpty()){if(u&&(f=m.end,p=u,f.row==p.row&&f.column==p.column))break;u=m.end}m.cursor=l?m.start:m.end,a.push(m)}if(d&&a.reverse(),!i){for(var v=a.length-1;a[v].isEmpty()&&0<v;)v--;if(0<v)for(var y=0;a[y].isEmpty();)y++;for(var b=v;y<=b;b--)a[b].isEmpty()&&a.splice(b,1)}return a}}.call(d.prototype);c=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){e.marker&&(this.session.removeMarker(e.marker),-1!=(e=this.session.$selectionMarkers.indexOf(e))&&this.session.$selectionMarkers.splice(e,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length)},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,i=e.length;i--;){var n=e[i];n.marker&&(this.session.removeMarker(n.marker),-1!=(n=t.indexOf(n))&&t.splice(n,1))}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(a.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(a.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t,i=e.command,n=e.editor;if(n.multiSelect)return i.multiSelectAction?t="forEach"==i.multiSelectAction?n.forEachSelection(i,e.args):"forEachLine"==i.multiSelectAction?n.forEachSelection(i,e.args,!0):"single"==i.multiSelectAction?(n.exitMultiSelectMode(),i.exec(n,e.args||{})):i.multiSelectAction(n,e.args||{}):(t=i.exec(n,e.args||{}),n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()),t},this.forEachSelection=function(e,t,i){if(!this.inVirtualSelectionMode){var n,r=i&&i.keepOrder,o=1==i||i&&i.$byLines,s=this.session,a=this.selection,i=a.rangeList,l=(r?a:i).ranges;if(!l.length)return e.exec?e.exec(this,t||{}):e(this,t||{});i=a._eventRegistry;a._eventRegistry={};var c=new d(s);this.inVirtualSelectionMode=!0;for(var h=l.length;h--;){if(o)for(;0<h&&l[h].start.row==l[h-1].end.row;)h--;c.fromOrientedRange(l[h]),c.index=h,this.selection=s.selection=c;var u=e.exec?e.exec(this,t||{}):e(this,t||{});n||void 0===u||(n=u),c.toOrientedRange(l[h])}c.detach(),this.selection=s.selection=a,this.inVirtualSelectionMode=!1,a._eventRegistry=i,a.mergeOverlappingRanges(),a.ranges[0]&&a.fromOrientedRange(a.ranges[0]);a=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),a&&a.from==a.to&&this.renderer.animateScrolling(a.from),n}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,i=[],n=0;n<t.length;n++)i.push(this.session.getTextRange(t[n]));var r=this.session.getDocument().getNewLineCharacter();(e=i.join(r)).length==(i.length-1)*r.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){var i;this.inMultiSelectMode&&!this.inVirtualSelectionMode&&(i=this.multiSelect.ranges[0],this.multiSelect.isEmpty()&&t==this.multiSelect.anchor||((i=t==this.multiSelect.anchor?i.cursor==i.start?i.end:i.start:i.cursor).row!=t.row||this.session.$clipPositionToDocument(i.row,i.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()))},this.findAll=function(e,t,i){var n;(t=t||{}).needle=e||t.needle,null==t.needle&&(n=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange(),t.needle=this.session.getTextRange(n)),this.$search.set(t);var r=this.$search.findAll(this.session);if(!r.length)return 0;var o=this.multiSelect;i||o.toSingleRange(r[0]);for(var s=r.length;s--;)o.addRange(r[s],!0);return n&&o.rangeList.rangeAtPoint(n.start)&&o.addRange(n,!0),r.length},this.selectMoreLines=function(e,t){var i=this.selection.toOrientedRange(),n=i.cursor==i.end,r=this.session.documentToScreenPosition(i.cursor);this.selection.$desiredColumn&&(r.column=this.selection.$desiredColumn);var o,s,a,l=this.session.screenToDocumentPosition(r.row+e,r.column);o=i.isEmpty()?l:(o=this.session.documentToScreenPosition(n?i.end:i.start),this.session.screenToDocumentPosition(o.row+e,o.column)),n?(s=w.fromPoints(l,o)).cursor=s.start:(s=w.fromPoints(o,l)).cursor=s.end,s.desiredColumn=r.column,this.selection.inMultiSelectMode?t&&(a=i.cursor):this.selection.addRange(i),this.selection.addRange(s),a&&this.selection.substractPoint(a)},this.transposeSelections=function(e){for(var t=this.session,i=t.multiSelect,n=i.ranges,r=n.length;r--;){(s=n[r]).isEmpty()&&(a=t.getWordRange(s.start.row,s.start.column),s.start.row=a.start.row,s.start.column=a.start.column,s.end.row=a.end.row,s.end.column=a.end.column)}i.mergeOverlappingRanges();for(var o=[],r=n.length;r--;){var s=n[r];o.unshift(t.getTextRange(s))}e<0?o.unshift(o.pop()):o.push(o.shift());for(r=n.length;r--;){var a=(s=n[r]).clone();t.replace(s,o[r]),s.start.row=a.start.row,s.start.column=a.start.column}i.fromOrientedRange(i.ranges[0])},this.selectMore=function(e,t,i){var n,r=this.session,o=r.multiSelect.toOrientedRange();o.isEmpty()&&((o=r.getWordRange(o.start.row,o.start.column)).cursor=-1==e?o.start:o.end,this.multiSelect.addRange(o),i)||(n=r.getTextRange(o),i=r,r=n,n=e,l.$options.wrap=!0,l.$options.needle=r,l.$options.backwards=-1==n,(i=l.find(i))&&(i.cursor=-1==e?i.start:i.end,this.session.unfold(i),this.multiSelect.addRange(i),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(o.cursor))},this.alignCursors=function(){var r=this.session,t=r.multiSelect,e=t.ranges,i=-1,n=e.filter(function(e){return e.cursor.row==i||void(i=e.cursor.row)});if(e.length&&n.length!=e.length-1){n.forEach(function(e){t.substractPoint(e.cursor)});var o=0,s=1/0,a=e.map(function(e){var t=e.cursor,e=r.getLine(t.row).substr(t.column).search(/\S/g);return-1==e&&(e=0),t.column>o&&(o=t.column),e<s&&(s=e),e});e.forEach(function(e,t){var i=e.cursor,n=o-i.column,t=a[t]-s;t<n?r.insert(i,f.stringRepeat(" ",n-t)):r.remove(new w(i.row,i.column,i.row,i.column-n+t)),e.start.column=e.end.column=o,e.start.row=e.end.row=i.row,e.cursor=e.end}),t.fromOrientedRange(e[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var l=this.selection.getRange(),c=l.start.row,h=l.end.row,n=c==h;if(n){for(var u,d=this.session.getLength();u=this.session.getLine(h),/[=:]/.test(u)&&++h<d;);for(;u=this.session.getLine(c),/[=:]/.test(u)&&0<--c;);c<0&&(c=0),d<=h&&(h=d-1)}e=this.session.removeFullLines(c,h),e=this.$reAlignText(e,n);this.session.insert({row:c,column:0},e.join("\n")+"\n"),n||(l.start.column=0,l.end.column=e[e.length-1].length),this.selection.setRange(l)}},this.$reAlignText=function(e,t){function i(e){return f.stringRepeat(" ",e)}function n(e){return e[2]?i(r)+e[2]+i(o-e[2].length+s)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}var r,o,s,a=!0,l=!0;return e.map(function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?(null==r?(r=t[1].length,o=t[2].length,s=t[3].length):(r+o+s!=t[1].length+t[2].length+t[3].length&&(l=!1),r!=t[1].length&&(a=!1),r>t[1].length&&(r=t[1].length),o<t[2].length&&(o=t[2].length),s>t[3].length&&(s=t[3].length)),t):[e]}).map(t?n:a?l?function(e){return e[2]?i(r+o-e[2].length)+e[2]+i(s)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:n:function(e){return e[2]?i(r)+e[2]+i(s)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]})}}).call(c.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;e=e.oldSession;e&&(e.multiSelect.off("addRange",this.$onAddRange),e.multiSelect.off("removeRange",this.$onRemoveRange),e.multiSelect.off("multiSelect",this.$onMultiSelect),e.multiSelect.off("singleSelect",this.$onSingleSelect),e.multiSelect.lead.off("change",this.$checkMultiselectChange),e.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=n,e("./config").defineOptions(c.prototype,"editor",{enableMultiselect:{set:function(e){n(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",o)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",o))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(e,t,i){"use strict";var h=e("../../range").Range,t=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,i){i=e.getLine(i);return this.foldingStartMarker.test(i)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(i)?"end":""},this.getFoldWidgetRange=function(e,t,i){return null},this.indentationBlock=function(e,t,i){var n=/\S/,r=e.getLine(t),o=r.search(n);if(-1!=o){for(var s=i||r.length,a=e.getLength(),i=t,l=t;++t<a;){var c=e.getLine(t).search(n);if(-1!=c){if(c<=o){c=e.getTokenAt(t,0);if(!c||"string"!==c.type)break}l=t}}if(i<l){r=e.getLine(l).length;return new h(i,s,l,r)}}},this.openingBracketBlock=function(e,t,i,n,r){n={row:i,column:n+1},t=e.$findClosingBracket(t,n,r);if(t){r=e.foldWidgets[t.row];return null==r&&(r=e.getFoldWidget(t.row)),"start"==r&&t.row>n.row&&(t.row--,t.column=e.getLine(t.row).length),h.fromPoints(n,t)}},this.closingBracketBlock=function(e,t,i,n,r){n={row:i,column:n},t=e.$findOpeningBracket(t,n);if(t)return t.column++,n.column--,h.fromPoints(t,n)}}).call(t.prototype)}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',t.$id="ace/theme/textmate",e("../lib/dom").importCssString(t.cssText,t.cssClass)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";function n(e){this.session=e,(this.session.widgetManager=this).session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}var r=e("./lib/dom");(function(){this.getRowLength=function(e){var t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0;return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var t=0;return this.lineWidgets.forEach(function(e){e&&e.rowCount&&!e.hidden&&(t+=e.rowCount)}),t},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),(this.editor=e)&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;t&&(this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets),(t=this.session.lineWidgets)&&t.forEach(function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))}))},this.updateOnFold=function(e,t){var i=t.lineWidgets;if(i&&e.action){for(var n=e.data,t=n.start.row,r=n.end.row,o="add"==e.action,s=t+1;s<r;s++)i[s]&&(i[s].hidden=o);i[r]&&(o?i[t]?i[r].hidden=o:i[t]=i[r]:(i[t]==i[r]&&(i[t]=void 0),i[r].hidden=o))}},this.updateOnChange=function(e){var t,i,n,r=this.session.lineWidgets;r&&(t=e.start.row,0!=(n=e.end.row-t)&&("remove"==e.action?(i=r.splice(t+1,n),!r[t]&&i[i.length-1]&&(r[t]=i.pop()),i.forEach(function(e){e&&this.removeLineWidget(e)},this)):(n=new Array(n),r[t]&&null!=r[t].column&&e.start.column>r[t].column&&t++,n.unshift(t,0),r.splice.apply(r,n)),this.$updateRows()))},this.$updateRows=function(){var i,e=this.session.lineWidgets;e&&(i=!0,e.forEach(function(e,t){if(e)for(i=!1,e.row=t;e.$oldWidget;)e.$oldWidget.row=t,e=e.$oldWidget}),i&&(this.session.lineWidgets=null))},this.$registerLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];return t&&((e.$oldWidget=t).el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e},this.addLineWidget=function(e){if(this.$registerLineWidget(e),e.session=this.session,!this.editor)return e;var t=this.editor.renderer;e.html&&!e.el&&(e.el=r.createElement("div"),e.el.innerHTML=e.html),e.el&&(r.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,t.container.appendChild(e.el),e._inDocument=!0,e.coverGutter||(e.el.style.zIndex=3),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight)),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight);var i,n=this.session.getFoldAt(e.row,0);return(e.$fold=n)&&(i=this.session.lineWidgets,e.row!=n.end.row||i[n.start.row]?e.hidden=!0:i[n.start.row]=e),this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(e){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,i=t&&t[e],n=[];i;)n.push(i),i=i.$oldWidget;return n},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var i=this.session._changedWidgets,n=t.layerConfig;if(i&&i.length){for(var r=1/0,o=0;o<i.length;o++){var s=i[o];if(s&&s.el&&s.session==this.session){if(!s._inDocument){if(this.session.lineWidgets[s.row]!=s)continue;s._inDocument=!0,t.container.appendChild(s.el)}s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/n.characterWidth));var a=s.h/n.lineHeight;s.coverLine&&((a-=this.session.getRowLineCount(s.row))<0&&(a=0)),s.rowCount!=a&&(s.rowCount=a,s.row<r&&(r=s.row))}}r!=1/0&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var i=t.layerConfig,n=this.session.lineWidgets;if(n){for(var r=Math.min(this.firstRow,i.firstRow),o=Math.max(this.lastRow,i.lastRow,n.length);0<r&&!n[r];)r--;this.firstRow=i.firstRow,this.lastRow=i.lastRow,t.$cursorLayer.config=i;for(var s=r;s<=o;s++){var a,l=n[s];l&&l.el&&(l.hidden?l.el.style.top=-100-(l.pixelHeight||0)+"px":(l._inDocument||(l._inDocument=!0,t.container.appendChild(l.el)),a=t.$cursorLayer.getPixelPosition({row:s,column:0},!0).top,l.coverLine||(a+=i.lineHeight*this.session.getRowLineCount(l.row)),l.el.style.top=a-i.offset+"px",a=l.coverGutter?0:t.gutterWidth,l.fixedWidth||(a-=t.scrollLeft),l.el.style.left=a+"px",l.fullWidth&&l.screenWidth&&(l.el.style.minWidth=i.width+2*i.padding+"px"),l.fixedWidth?l.el.style.right=t.scrollBar.getWidth()+"px":l.el.style.right=""))}}}}).call(n.prototype),t.LineWidgets=n}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(e,t,i){"use strict";function h(e,t,i){var n=e.getAnnotations().sort(a.comparePoints);if(n.length){var r=function(e,t,i){for(var n=0,r=e.length-1;n<=r;){var o=n+r>>1,s=i(t,e[o]);if(0<s)n=1+o;else{if(!(s<0))return o;r=o-1}}return-(n+1)}(n,{row:t,column:-1},a.comparePoints);r<0&&(r=-r-1),r>=n.length?r=0<i?0:n.length-1:0===r&&i<0&&(r=n.length-1);var o=n[r];if(o&&i){if(o.row===t){for(;(o=n[r+=i])&&o.row===t;);if(!o)return n.slice()}var s=[];for(t=o.row;s[i<0?"unshift":"push"](o),(o=n[r+=i])&&o.row==t;);return s.length&&s}}}var u=e("../line_widgets").LineWidgets,d=e("../lib/dom"),a=e("../range").Range;t.showErrorMarker=function(e,t){var i=e.session;i.widgetManager||(i.widgetManager=new u(i),i.widgetManager.attach(e));var n=e.getCursorPosition(),r=n.row,o=i.widgetManager.getWidgetsAtRow(r).filter(function(e){return"errorMarker"==e.type})[0];o?o.destroy():r-=t;var s,t=h(i,r,t);if(t){var a=t[0];n.column=(a.pos&&"number"!=typeof a.column?a.pos.sc:a.column)||0,n.row=a.row,s=e.renderer.$gutterLayer.$annotations[n.row]}else{if(o)return;s={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(n.row),e.selection.moveToPosition(n);var l={row:n.row,fixedWidth:!0,coverGutter:!0,el:d.createElement("div"),type:"errorMarker"},a=l.el.appendChild(d.createElement("div")),o=l.el.appendChild(d.createElement("div"));o.className="error_widget_arrow "+s.className;n=e.renderer.$cursorLayer.getPixelPosition(n).left;o.style.left=n+e.renderer.gutterWidth-5+"px",l.el.className="error_widget_wrapper",a.className="error_widget "+s.className,a.innerHTML=s.text.join("<br>"),a.appendChild(d.createElement("div"));function c(e,t,i){if(0===t&&("esc"===i||"return"===i))return l.destroy(),{command:"null"}}l.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(c),i.widgetManager.removeLineWidget(l),e.off("changeSelection",l.destroy),e.off("changeSession",l.destroy),e.off("mouseup",l.destroy),e.off("change",l.destroy))},e.keyBinding.addKeyboardHandler(c),e.on("changeSelection",l.destroy),e.on("changeSession",l.destroy),e.on("mouseup",l.destroy),e.on("change",l.destroy),e.session.widgetManager.addLineWidget(l),l.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:l.el.offsetHeight})},d.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(e,o,t){"use strict";e("./lib/fixoldbrowsers");var s=e("./lib/dom"),a=e("./lib/event"),i=e("./range").Range,l=e("./editor").Editor,n=e("./edit_session").EditSession,r=e("./undomanager").UndoManager,c=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),o.config=e("./config"),o.require=e,"function"==typeof define&&(o.define=define),o.edit=function(e,t){if("string"==typeof e){var i=e;if(!(e=document.getElementById(i)))throw new Error("ace.edit can't find div #"+i)}if(e&&e.env&&e.env.editor instanceof l)return e.env.editor;var n,i="";e&&/input|textarea/i.test(e.tagName)?(i=(n=e).value,e=s.createElement("pre"),n.parentNode.replaceChild(e,n)):e&&(i=e.textContent,e.innerHTML="");var i=o.createEditSession(i),t=new l(new c(e),i,t),r={document:i,editor:t,onResize:t.resize.bind(t,null)};return n&&(r.textarea=n),a.addListener(window,"resize",r.onResize),t.on("destroy",function(){a.removeListener(window,"resize",r.onResize),r.editor.container.env=null}),t.container.env=t.env=r,t},o.createEditSession=function(e,t){t=new n(e,t);return t.setUndoManager(new r),t},o.Range=i,o.Editor=l,o.EditSession=n,o.UndoManager=r,o.VirtualRenderer=c,o.version=o.config.version}),ace.require(["ace/ace"],function(e){for(var t in e&&(e.config.init(!0),e.define=ace.define),window.ace||(window.ace=e),e)e.hasOwnProperty(t)&&(window.ace[t]=e[t]);window.ace.default=window.ace,"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=window.ace)}),ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,i){"use strict";var n=e("../lib/oop"),e=e("./text_highlight_rules").TextHighlightRules,r=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},r.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};n.inherits(r,e),r.getTagRule=function(e){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},r.getStartRule=function(e){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:e}},r.getEndRule=function(e){return{token:"comment.doc",regex:"\\*\\/",next:e}},t.DocCommentHighlightRules=r}),ace.define("ace/mode/csharp_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(e,t,i){"use strict";var n=e("../lib/oop"),r=e("./doc_comment_highlight_rules").DocCommentHighlightRules,o=e("./text_highlight_rules").TextHighlightRules,e=function(){var e=this.createKeywordMapper({"variable.language":"this",keyword:"abstract|async|await|event|new|struct|as|explicit|null|switch|base|extern|object|this|bool|false|operator|throw|break|finally|out|true|byte|fixed|override|try|case|float|params|typeof|catch|for|private|uint|char|foreach|protected|ulong|checked|goto|public|unchecked|class|if|readonly|unsafe|const|implicit|ref|ushort|continue|in|return|using|decimal|int|sbyte|virtual|default|interface|sealed|volatile|delegate|internal|partial|short|void|do|is|sizeof|while|double|lock|stackalloc|else|long|static|enum|namespace|string|var|dynamic","constant.language":"null|true|false"},"identifier");this.$rules={start:[{token:"comment",regex:"\\/\\/.*$"},r.getStartRule("doc-start"),{token:"comment",regex:"\\/\\*",next:"comment"},{token:"string",regex:/'(?:.|\\(:?u[\da-fA-F]+|x[\da-fA-F]+|[tbrf'"n]))?'/},{token:"string",start:'"',end:'"|$',next:[{token:"constant.language.escape",regex:/\\(:?u[\da-fA-F]+|x[\da-fA-F]+|[tbrf'"n])/},{token:"invalid",regex:/\\./}]},{token:"string",start:'@"',end:'"',next:[{token:"constant.language.escape",regex:'""'}]},{token:"string",start:/\$"/,end:'"|$',next:[{token:"constant.language.escape",regex:/\\(:?$)|{{/},{token:"constant.language.escape",regex:/\\(:?u[\da-fA-F]+|x[\da-fA-F]+|[tbrf'"n])/},{token:"invalid",regex:/\\./}]},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:e,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"!|\\$|%|&|\\*|\\-\\-|\\-|\\+\\+|\\+|~|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^=|\\b(?:in|instanceof|new|delete|typeof|void)"},{token:"keyword",regex:"^\\s*#(if|else|elif|endif|define|undef|warning|error|line|region|endregion|pragma)"},{token:"punctuation.operator",regex:"\\?|\\:|\\,|\\;|\\."},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],comment:[{token:"comment",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]},this.embedRules(r,"doc-",[r.getEndRule("start")]),this.normalizeRules()};n.inherits(e,o),t.CSharpHighlightRules=e}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t,i){"use strict";var r=e("../range").Range,e=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var i=e.getLine(t).match(/^(\s*\})/);if(!i)return 0;var n=i[1].length,i=e.findMatchingBracket({row:t,column:n});if(!i||i.row==t)return 0;i=this.$getIndent(e.getLine(i.row));e.replace(new r(t,0,t,n-1),i)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(e.prototype),t.MatchingBraceOutdent=e}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t,i){"use strict";var n=e("../../lib/oop"),h=e("../../range").Range,e=e("./fold_mode").FoldMode,t=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};n.inherits(t,e),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,i){var n=e.getLine(i);if(this.singleLineBlockCommentRe.test(n)&&!this.startRegionRe.test(n)&&!this.tripleStarBlockCommentRe.test(n))return"";i=this._getFoldWidgetBase(e,t,i);return!i&&this.startRegionRe.test(n)?"start":i},this.getFoldWidgetRange=function(e,t,i,n){var r=e.getLine(i);if(this.startRegionRe.test(r))return this.getCommentRegionBlock(e,r,i);var o=r.match(this.foldingStartMarker);if(o){var s=o.index;if(o[1])return this.openingBracketBlock(e,o[1],i,s);var a=e.getCommentFoldRange(i,s+o[0].length,1);return a&&!a.isMultiLine()&&(n?a=this.getSectionRange(e,i):"all"!=t&&(a=null)),a}if("markbegin"!==t&&(o=r.match(this.foldingStopMarker))){s=o.index+o[0].length;return o[1]?this.closingBracketBlock(e,o[1],i,s):e.getCommentFoldRange(i,s,-1)}},this.getSectionRange=function(e,t){for(var i=e.getLine(t),n=i.search(/\S/),r=t,o=i.length,s=t+=1,a=e.getLength();++t<a;){var l=(i=e.getLine(t)).search(/\S/);if(-1!==l){if(l<n)break;var c=this.getFoldWidgetRange(e,"all",t);if(c){if(c.start.row<=r)break;if(c.isMultiLine())t=c.end.row;else if(n==l)break}s=t}}return new h(r,o,s,e.getLine(s).length)},this.getCommentRegionBlock=function(e,t,i){for(var n=t.search(/\s*$/),r=e.getLength(),o=i,s=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,a=1;++i<r;){t=e.getLine(i);var l=s.exec(t);if(l&&(l[1]?a--:a++,!a))break}if(o<i)return new h(o,n,i,t.length)}}.call(t.prototype)}),ace.define("ace/mode/folding/csharp",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/cstyle"],function(e,t,i){"use strict";var n=e("../../lib/oop"),c=e("../../range").Range,e=e("./cstyle").FoldMode,t=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};n.inherits(t,e),function(){this.usingRe=/^\s*using \S/,this.getFoldWidgetRangeBase=this.getFoldWidgetRange,this.getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,i){var n=this.getFoldWidgetBase(e,t,i);if(!n){var r=e.getLine(i);if(/^\s*#region\b/.test(r))return"start";t=this.usingRe;if(t.test(r)){r=e.getLine(i-1),i=e.getLine(i+1);if(!t.test(r)&&t.test(i))return"start"}}return n},this.getFoldWidgetRange=function(e,t,i){t=this.getFoldWidgetRangeBase(e,t,i);if(t)return t;t=e.getLine(i);return this.usingRe.test(t)?this.getUsingStatementBlock(e,t,i):/^\s*#region\b/.test(t)?this.getRegionBlock(e,t,i):void 0},this.getUsingStatementBlock=function(e,t,i){for(var n=t.match(this.usingRe)[0].length-1,r=e.getLength(),o=i,s=i;++i<r;)if(t=e.getLine(i),!/^\s*$/.test(t)){if(!this.usingRe.test(t))break;s=i}if(o<s){var a=e.getLine(s).length;return new c(o,n,s,a)}},this.getRegionBlock=function(e,t,i){for(var n=t.search(/\s*$/),r=e.getLength(),o=i,s=/^\s*#(end)?region\b/,a=1;++i<r;){t=e.getLine(i);var l=s.exec(t);if(l&&(l[1]?a--:a++,!a))break}if(o<i)return new c(o,n,i,t.length)}}.call(t.prototype)}),ace.define("ace/mode/csharp",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/csharp_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/csharp"],function(e,t,i){"use strict";var n=e("../lib/oop"),r=e("./text").Mode,o=e("./csharp_highlight_rules").CSharpHighlightRules,s=e("./matching_brace_outdent").MatchingBraceOutdent,a=e("./behaviour/cstyle").CstyleBehaviour,l=e("./folding/csharp").FoldMode,e=function(){this.HighlightRules=o,this.$outdent=new s,this.$behaviour=new a,this.foldingRules=new l};n.inherits(e,r),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,i){var n=this.$getIndent(t),r=this.getTokenizer().getLineTokens(t,e).tokens;return r.length&&"comment"==r[r.length-1].type||"start"==e&&t.match(/^.*[\{\(\[]\s*$/)&&(n+=i),n},this.checkOutdent=function(e,t,i){return this.$outdent.checkOutdent(t,i)},this.autoOutdent=function(e,t,i){this.$outdent.autoOutdent(t,i)},this.createWorker=function(e){return null},this.$id="ace/mode/csharp"}.call(e.prototype),t.Mode=e}),ace.require(["ace/mode/csharp"],function(e){"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=e)}),ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,i){"use strict";var n=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,e=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};n.inherits(e,r),t.JsonHighlightRules=e}),ace.define("ace/mode/json5_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/json_highlight_rules"],function(e,t,i){"use strict";var n=e("../lib/oop"),r=e("./json_highlight_rules").JsonHighlightRules,e=function(){r.call(this);var e,t=[{token:"variable",regex:/[a-zA-Z$_\u00a1-\uffff][\w$\u00a1-\uffff]*\s*(?=:)/},{token:"variable",regex:/['](?:(?:\\.)|(?:[^'\\]))*?[']\s*(?=:)/},{token:"constant.language.boolean",regex:/(?:null)\b/},{token:"string",regex:/'/,next:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\/bfnrt]|$)/,consumeLineEnd:!0},{token:"string",regex:/'|$/,next:"start"},{defaultToken:"string"}]},{token:"string",regex:/"(?![^"]*":)/,next:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\/bfnrt]|$)/,consumeLineEnd:!0},{token:"string",regex:/"|$/,next:"start"},{defaultToken:"string"}]},{token:"constant.numeric",regex:/[+-]?(?:Infinity|NaN)\b/}];for(e in this.$rules)this.$rules[e].unshift.apply(this.$rules[e],t);this.normalizeRules()};n.inherits(e,r),t.Json5HighlightRules=e}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t,i){"use strict";var r=e("../range").Range,e=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var i=e.getLine(t).match(/^(\s*\})/);if(!i)return 0;var n=i[1].length,i=e.findMatchingBracket({row:t,column:n});if(!i||i.row==t)return 0;i=this.$getIndent(e.getLine(i.row));e.replace(new r(t,0,t,n-1),i)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(e.prototype),t.MatchingBraceOutdent=e}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t,i){"use strict";var n=e("../../lib/oop"),h=e("../../range").Range,e=e("./fold_mode").FoldMode,t=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};n.inherits(t,e),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,i){var n=e.getLine(i);if(this.singleLineBlockCommentRe.test(n)&&!this.startRegionRe.test(n)&&!this.tripleStarBlockCommentRe.test(n))return"";i=this._getFoldWidgetBase(e,t,i);return!i&&this.startRegionRe.test(n)?"start":i},this.getFoldWidgetRange=function(e,t,i,n){var r=e.getLine(i);if(this.startRegionRe.test(r))return this.getCommentRegionBlock(e,r,i);var o=r.match(this.foldingStartMarker);if(o){var s=o.index;if(o[1])return this.openingBracketBlock(e,o[1],i,s);var a=e.getCommentFoldRange(i,s+o[0].length,1);return a&&!a.isMultiLine()&&(n?a=this.getSectionRange(e,i):"all"!=t&&(a=null)),a}if("markbegin"!==t&&(o=r.match(this.foldingStopMarker))){s=o.index+o[0].length;return o[1]?this.closingBracketBlock(e,o[1],i,s):e.getCommentFoldRange(i,s,-1)}},this.getSectionRange=function(e,t){for(var i=e.getLine(t),n=i.search(/\S/),r=t,o=i.length,s=t+=1,a=e.getLength();++t<a;){var l=(i=e.getLine(t)).search(/\S/);if(-1!==l){if(l<n)break;var c=this.getFoldWidgetRange(e,"all",t);if(c){if(c.start.row<=r)break;if(c.isMultiLine())t=c.end.row;else if(n==l)break}s=t}}return new h(r,o,s,e.getLine(s).length)},this.getCommentRegionBlock=function(e,t,i){for(var n=t.search(/\s*$/),r=e.getLength(),o=i,s=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,a=1;++i<r;){t=e.getLine(i);var l=s.exec(t);if(l&&(l[1]?a--:a++,!a))break}if(o<i)return new h(o,n,i,t.length)}}.call(t.prototype)}),ace.define("ace/mode/json5",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json5_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],function(e,t,i){"use strict";var n=e("../lib/oop"),r=e("./text").Mode,o=e("./json5_highlight_rules").Json5HighlightRules,s=e("./matching_brace_outdent").MatchingBraceOutdent,a=e("./behaviour/cstyle").CstyleBehaviour,l=e("./folding/cstyle").FoldMode,e=function(){this.HighlightRules=o,this.$outdent=new s,this.$behaviour=new a,this.foldingRules=new l};n.inherits(e,r),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.checkOutdent=function(e,t,i){return this.$outdent.checkOutdent(t,i)},this.autoOutdent=function(e,t,i){this.$outdent.autoOutdent(t,i)},this.$id="ace/mode/json5"}.call(e.prototype),t.Mode=e}),ace.require(["ace/mode/json5"],function(e){"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=e)}),ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,i){"use strict";var n=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,e=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};n.inherits(e,r),t.JsonHighlightRules=e}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t,i){"use strict";var r=e("../range").Range,e=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var i=e.getLine(t).match(/^(\s*\})/);if(!i)return 0;var n=i[1].length,i=e.findMatchingBracket({row:t,column:n});if(!i||i.row==t)return 0;i=this.$getIndent(e.getLine(i.row));e.replace(new r(t,0,t,n-1),i)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(e.prototype),t.MatchingBraceOutdent=e}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t,i){"use strict";var n=e("../../lib/oop"),h=e("../../range").Range,e=e("./fold_mode").FoldMode,t=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};n.inherits(t,e),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,i){var n=e.getLine(i);if(this.singleLineBlockCommentRe.test(n)&&!this.startRegionRe.test(n)&&!this.tripleStarBlockCommentRe.test(n))return"";i=this._getFoldWidgetBase(e,t,i);return!i&&this.startRegionRe.test(n)?"start":i},this.getFoldWidgetRange=function(e,t,i,n){var r=e.getLine(i);if(this.startRegionRe.test(r))return this.getCommentRegionBlock(e,r,i);var o=r.match(this.foldingStartMarker);if(o){var s=o.index;if(o[1])return this.openingBracketBlock(e,o[1],i,s);var a=e.getCommentFoldRange(i,s+o[0].length,1);return a&&!a.isMultiLine()&&(n?a=this.getSectionRange(e,i):"all"!=t&&(a=null)),a}if("markbegin"!==t&&(o=r.match(this.foldingStopMarker))){s=o.index+o[0].length;return o[1]?this.closingBracketBlock(e,o[1],i,s):e.getCommentFoldRange(i,s,-1)}},this.getSectionRange=function(e,t){for(var i=e.getLine(t),n=i.search(/\S/),r=t,o=i.length,s=t+=1,a=e.getLength();++t<a;){var l=(i=e.getLine(t)).search(/\S/);if(-1!==l){if(l<n)break;var c=this.getFoldWidgetRange(e,"all",t);if(c){if(c.start.row<=r)break;if(c.isMultiLine())t=c.end.row;else if(n==l)break}s=t}}return new h(r,o,s,e.getLine(s).length)},this.getCommentRegionBlock=function(e,t,i){for(var n=t.search(/\s*$/),r=e.getLength(),o=i,s=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,a=1;++i<r;){t=e.getLine(i);var l=s.exec(t);if(l&&(l[1]?a--:a++,!a))break}if(o<i)return new h(o,n,i,t.length)}}.call(t.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],function(e,t,i){"use strict";var n=e("../lib/oop"),r=e("./text").Mode,o=e("./json_highlight_rules").JsonHighlightRules,s=e("./matching_brace_outdent").MatchingBraceOutdent,a=e("./behaviour/cstyle").CstyleBehaviour,l=e("./folding/cstyle").FoldMode,c=e("../worker/worker_client").WorkerClient,e=function(){this.HighlightRules=o,this.$outdent=new s,this.$behaviour=new a,this.foldingRules=new l};n.inherits(e,r),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,i){var n=this.$getIndent(t);return"start"==e&&t.match(/^.*[\{\(\[]\s*$/)&&(n+=i),n},this.checkOutdent=function(e,t,i){return this.$outdent.checkOutdent(t,i)},this.autoOutdent=function(e,t,i){this.$outdent.autoOutdent(t,i)},this.createWorker=function(t){var e=new c(["ace"],"ace/mode/json_worker","JsonWorker");return e.attachToDocument(t.getDocument()),e.on("annotate",function(e){t.setAnnotations(e.data)}),e.on("terminate",function(){t.clearAnnotations()}),e},this.$id="ace/mode/json"}.call(e.prototype),t.Mode=e}),ace.require(["ace/mode/json"],function(e){"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=e)}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Vue=t()}(this,function(){"use strict";var f=Object.freeze({});function I(e){return null==e}function N(e){return null!=e}function c(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function O(e){return null!==e&&"object"==typeof e}var i=Object.prototype.toString;function l(e){return"[object Object]"===i.call(e)}function r(e){var t=parseFloat(String(e));return 0<=t&&Math.floor(t)===t&&isFinite(e)}function p(e){return N(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function t(e){return null==e?"":Array.isArray(e)||l(e)&&e.toString===i?JSON.stringify(e,null,2):String(e)}function R(e){var t=parseFloat(e);return isNaN(t)?e:t}function s(e,t){for(var i=Object.create(null),n=e.split(","),r=0;r<n.length;r++)i[n[r]]=!0;return t?function(e){return i[e.toLowerCase()]}:function(e){return i[e]}}var h=s("slot,component",!0),u=s("key,ref,slot,slot-scope,is");function g(e,t){if(e.length){t=e.indexOf(t);if(-1<t)return e.splice(t,1)}}var n=Object.prototype.hasOwnProperty;function d(e,t){return n.call(e,t)}function e(t){var i=Object.create(null);return function(e){return i[e]||(i[e]=t(e))}}var o=/-(\w)/g,m=e(function(e){return e.replace(o,function(e,t){return t?t.toUpperCase():""})}),a=e(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),v=/\B([A-Z])/g,y=e(function(e){return e.replace(v,"-$1").toLowerCase()}),b=Function.prototype.bind?function(e,t){return e.bind(t)}:function(i,n){function e(e){var t=arguments.length;return t?1<t?i.apply(n,arguments):i.call(n,e):i.call(n)}return e._length=i.length,e};function w(e,t){t=t||0;for(var i=e.length-t,n=new Array(i);i--;)n[i]=e[i+t];return n}function x(e,t){for(var i in t)e[i]=t[i];return e}function C(e){for(var t={},i=0;i<e.length;i++)e[i]&&x(t,e[i]);return t}function S(e,t,i){}function _(e,t,i){return!1}var k=function(e){return e};function M(t,i){if(t===i)return!0;var e=O(t),n=O(i);if(!e||!n)return!e&&!n&&String(t)===String(i);try{var r=Array.isArray(t),o=Array.isArray(i);if(r&&o)return t.length===i.length&&t.every(function(e,t){return M(e,i[t])});if(t instanceof Date&&i instanceof Date)return t.getTime()===i.getTime();if(r||o)return!1;r=Object.keys(t),o=Object.keys(i);return r.length===o.length&&r.every(function(e){return M(t[e],i[e])})}catch(t){return!1}}function T(e,t){for(var i=0;i<e.length;i++)if(M(e[i],t))return i;return-1}function P(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var D="data-server-rendered",A=["component","directive","filter"],$=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],E={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:_,isReservedAttr:_,isUnknownElement:_,getTagNamespace:S,parsePlatformTagName:k,mustUseProp:_,async:!0,_lifecycleHooks:$},L=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function F(e,t,i,n){Object.defineProperty(e,t,{value:i,enumerable:!!n,writable:!0,configurable:!0})}var z,W=new RegExp("[^"+L.source+".$_\\d]"),B="__proto__"in{},j="undefined"!=typeof window,H="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,K=H&&WXEnvironment.platform.toLowerCase(),V=j&&window.navigator.userAgent.toLowerCase(),U=V&&/msie|trident/.test(V),G=V&&0<V.indexOf("msie 9.0"),Y=V&&0<V.indexOf("edge/"),q=(V&&V.indexOf("android"),V&&/iphone|ipad|ipod|ios/.test(V)||"ios"===K),Q=(V&&/chrome\/\d+/.test(V),V&&/phantomjs/.test(V),V&&V.match(/firefox\/(\d+)/)),X={}.watch,Z=!1;if(j)try{var J={};Object.defineProperty(J,"passive",{get:function(){Z=!0}}),window.addEventListener("test-passive",null,J)}catch(f){}var ee=function(){return void 0===z&&(z=!j&&!H&&"undefined"!=typeof global&&global.process&&"server"===global.process.env.VUE_ENV),z},te=j&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ie(e){return"function"==typeof e&&/native code/.test(e.toString())}var ne,re="undefined"!=typeof Symbol&&ie(Symbol)&&"undefined"!=typeof Reflect&&ie(Reflect.ownKeys);function oe(){this.set=Object.create(null)}ne="undefined"!=typeof Set&&ie(Set)?Set:(oe.prototype.has=function(e){return!0===this.set[e]},oe.prototype.add=function(e){this.set[e]=!0},oe.prototype.clear=function(){this.set=Object.create(null)},oe);var se=S,ae=0,le=function(){this.id=ae++,this.subs=[]};le.prototype.addSub=function(e){this.subs.push(e)},le.prototype.removeSub=function(e){g(this.subs,e)},le.prototype.depend=function(){le.target&&le.target.addDep(this)},le.prototype.notify=function(){for(var e=this.subs.slice(),t=0,i=e.length;t<i;t++)e[t].update()},le.target=null;var ce=[];function he(e){ce.push(e),le.target=e}function ue(){ce.pop(),le.target=ce[ce.length-1]}var de=function(e,t,i,n,r,o,s,a){this.tag=e,this.data=t,this.children=i,this.text=n,this.elm=r,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},fe={child:{configurable:!0}};fe.child.get=function(){return this.componentInstance},Object.defineProperties(de.prototype,fe);var pe=function(e){void 0===e&&(e="");var t=new de;return t.text=e,t.isComment=!0,t};function ge(e){return new de(void 0,void 0,void 0,String(e))}function me(e){var t=new de(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var ve=Array.prototype,ye=Object.create(ve);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(o){var s=ve[o];F(ye,o,function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var i,n=s.apply(this,e),r=this.__ob__;switch(o){case"push":case"unshift":i=e;break;case"splice":i=e.slice(2)}return i&&r.observeArray(i),r.dep.notify(),n})});var be=Object.getOwnPropertyNames(ye),we=!0;function xe(e){we=e}var Ce=function(e){this.value=e,this.dep=new le,this.vmCount=0,F(e,"__ob__",this),Array.isArray(e)?(B?e.__proto__=ye:function(e,t,i){for(var n=0,r=i.length;n<r;n++){var o=i[n];F(e,o,t[o])}}(e,ye,be),this.observeArray(e)):this.walk(e)};function Se(e,t){var i;if(O(e)&&!(e instanceof de))return d(e,"__ob__")&&e.__ob__ instanceof Ce?i=e.__ob__:we&&!ee()&&(Array.isArray(e)||l(e))&&Object.isExtensible(e)&&!e._isVue&&(i=new Ce(e)),t&&i&&i.vmCount++,i}function _e(i,e,n,t,r){var o,s,a,l=new le,c=Object.getOwnPropertyDescriptor(i,e);c&&!1===c.configurable||(o=c&&c.get,s=c&&c.set,o&&!s||2!==arguments.length||(n=i[e]),a=!r&&Se(n),Object.defineProperty(i,e,{enumerable:!0,configurable:!0,get:function(){var e=o?o.call(i):n;return le.target&&(l.depend(),a&&(a.dep.depend(),Array.isArray(e)&&function e(t){for(var i=void 0,n=0,r=t.length;n<r;n++)(i=t[n])&&i.__ob__&&i.__ob__.dep.depend(),Array.isArray(i)&&e(i)}(e))),e},set:function(e){var t=o?o.call(i):n;e===t||e!=e&&t!=t||o&&!s||(s?s.call(i,e):n=e,a=!r&&Se(e),l.notify())}}))}function ke(e,t,i){if(Array.isArray(e)&&r(t))return e.length=Math.max(e.length,t),e.splice(t,1,i),i;if(t in e&&!(t in Object.prototype))return e[t]=i;var n=e.__ob__;return e._isVue||n&&n.vmCount||(n?(_e(n.value,t,i),n.dep.notify()):e[t]=i),i}function Me(e,t){var i;Array.isArray(e)&&r(t)?e.splice(t,1):(i=e.__ob__,e._isVue||i&&i.vmCount||d(e,t)&&(delete e[t],i&&i.dep.notify()))}Ce.prototype.walk=function(e){for(var t=Object.keys(e),i=0;i<t.length;i++)_e(e,t[i])},Ce.prototype.observeArray=function(e){for(var t=0,i=e.length;t<i;t++)Se(e[t])};var Te=E.optionMergeStrategies;function De(e,t){if(!t)return e;for(var i,n,r,o=re?Reflect.ownKeys(t):Object.keys(t),s=0;s<o.length;s++)"__ob__"!==(i=o[s])&&(n=e[i],r=t[i],d(e,i)?n!==r&&l(n)&&l(r)&&De(n,r):ke(e,i,r));return e}function Ae(i,n,r){return r?function(){var e="function"==typeof n?n.call(r,r):n,t="function"==typeof i?i.call(r,r):i;return e?De(e,t):t}:n?i?function(){return De("function"==typeof n?n.call(this,this):n,"function"==typeof i?i.call(this,this):i)}:n:i}function $e(e,t){e=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return e?function(e){for(var t=[],i=0;i<e.length;i++)-1===t.indexOf(e[i])&&t.push(e[i]);return t}(e):e}function Ee(e,t,i,n){e=Object.create(e||null);return t?x(e,t):e}Te.data=function(e,t,i){return i?Ae(e,t,i):t&&"function"!=typeof t?e:Ae(e,t)},$.forEach(function(e){Te[e]=$e}),A.forEach(function(e){Te[e+"s"]=Ee}),Te.watch=function(e,t,i,n){if(e===X&&(e=void 0),t===X&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var r,o={};for(r in x(o,e),t){var s=o[r],a=t[r];s&&!Array.isArray(s)&&(s=[s]),o[r]=s?s.concat(a):Array.isArray(a)?a:[a]}return o},Te.props=Te.methods=Te.inject=Te.computed=function(e,t,i,n){if(!e)return t;var r=Object.create(null);return x(r,e),t&&x(r,t),r},Te.provide=Ae;var Le=function(e,t){return void 0===t?e:t};function Ie(i,o,n){if("function"==typeof o&&(o=o.options),function(e){var t=e.props;if(t){var i,n,r={};if(Array.isArray(t))for(i=t.length;i--;)"string"==typeof(n=t[i])&&(r[m(n)]={type:null});else if(l(t))for(var o in t)n=t[o],r[m(o)]=l(n)?n:{type:n};e.props=r}}(o),function(){var e=o.inject;if(e){var t=o.inject={};if(Array.isArray(e))for(var i=0;i<e.length;i++)t[e[i]]={from:e[i]};else if(l(e))for(var n in e){var r=e[n];t[n]=l(r)?x({from:n},r):{from:r}}}}(),function(){var e=o.directives;if(e)for(var t in e){var i=e[t];"function"==typeof i&&(e[t]={bind:i,update:i})}}(),!o._base&&(o.extends&&(i=Ie(i,o.extends,n)),o.mixins))for(var e=0,t=o.mixins.length;e<t;e++)i=Ie(i,o.mixins[e],n);var r,s={};for(r in i)a(r);for(r in o)d(i,r)||a(r);function a(e){var t=Te[e]||Le;s[e]=t(i[e],o[e],n,e)}return s}function Ne(e,t,i){if("string"==typeof i){var n=e[t];if(d(n,i))return n[i];e=m(i);if(d(n,e))return n[e];t=a(e);return!d(n,t)&&(n[i]||n[e])||n[t]}}function Oe(e,t,i,n){var r=t[e],o=!d(i,e),t=i[e],i=Fe(Boolean,r.type);return-1<i&&(o&&!d(r,"default")?t=!1:""!==t&&t!==y(e)||((o=Fe(String,r.type))<0||i<o)&&(t=!0)),void 0===t&&(t=function(e,t,i){if(d(t,"default")){var n=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[i]&&void 0!==e._props[i]?e._props[i]:"function"==typeof n&&"Function"!==Re(t.type)?n.call(e):n}}(n,r,e),e=we,xe(!0),Se(t),xe(e)),t}function Re(e){e=e&&e.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Pe(e,t){return Re(e)===Re(t)}function Fe(e,t){if(!Array.isArray(t))return Pe(t,e)?0:-1;for(var i=0,n=t.length;i<n;i++)if(Pe(t[i],e))return i;return-1}function ze(e,t,i){he();try{if(t)for(var n=t;n=n.$parent;){var r=n.$options.errorCaptured;if(r)for(var o=0;o<r.length;o++)try{if(!1===r[o].call(n,e,t,i))return}catch(e){Be(e,n,"errorCaptured hook")}}Be(e,t,i)}finally{ue()}}function We(e,t,i,n,r){var o;try{(o=i?e.apply(t,i):e.call(t))&&!o._isVue&&p(o)&&!o._handled&&(o.catch(function(e){return ze(e,n,r+" (Promise/async)")}),o._handled=!0)}catch(e){ze(e,n,r)}return o}function Be(e,t,i){if(E.errorHandler)try{return E.errorHandler.call(null,e,t,i)}catch(t){t!==e&&je(t)}je(e)}function je(e){if(!j&&!H||"undefined"==typeof console)throw e;console.error(e)}var He,Ke,Ve,Ue,Ge=!1,Ye=[],qe=!1;function Qe(){qe=!1;for(var e=Ye.slice(0),t=Ye.length=0;t<e.length;t++)e[t]()}function Xe(e,t){var i;if(Ye.push(function(){if(e)try{e.call(t)}catch(e){ze(e,t,"nextTick")}else i&&i(t)}),qe||(qe=!0,Ke()),!e&&"undefined"!=typeof Promise)return new Promise(function(e){i=e})}"undefined"!=typeof Promise&&ie(Promise)?(He=Promise.resolve(),Ke=function(){He.then(Qe),q&&setTimeout(S)},Ge=!0):U||"undefined"==typeof MutationObserver||!ie(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString()?Ke="undefined"!=typeof setImmediate&&ie(setImmediate)?function(){setImmediate(Qe)}:function(){setTimeout(Qe,0)}:(Ve=1,ki=new MutationObserver(Qe),Ue=document.createTextNode(String(Ve)),ki.observe(Ue,{characterData:!0}),Ke=function(){Ve=(Ve+1)%2,Ue.data=String(Ve)},Ge=!0);var Ze=new ne;function Je(e){!function e(t,i){var n,r,o=Array.isArray(t);if(!(!o&&!O(t)||Object.isFrozen(t)||t instanceof de)){if(t.__ob__){var s=t.__ob__.dep.id;if(i.has(s))return;i.add(s)}if(o)for(n=t.length;n--;)e(t[n],i);else for(n=(r=Object.keys(t)).length;n--;)e(t[r[n]],i)}}(e,Ze),Ze.clear()}var et=e(function(e){var t="&"===e.charAt(0),i="~"===(e=t?e.slice(1):e).charAt(0),n="!"===(e=i?e.slice(1):e).charAt(0);return{name:e=n?e.slice(1):e,once:i,capture:n,passive:t}});function tt(e,r){function o(){var e=arguments,t=o.fns;if(!Array.isArray(t))return We(t,null,arguments,r,"v-on handler");for(var i=t.slice(),n=0;n<i.length;n++)We(i[n],null,e,r,"v-on handler")}return o.fns=e,o}function it(e,t,i,n,r,o){var s,a,l,c;for(s in e)a=e[s],l=t[s],c=et(s),I(a)||(I(l)?(I(a.fns)&&(a=e[s]=tt(a,o)),!0===c.once&&(a=e[s]=r(c.name,a,c.capture)),i(c.name,a,c.capture,c.passive,c.params)):a!==l&&(l.fns=a,e[s]=l));for(s in t)I(e[s])&&n((c=et(s)).name,t[s],c.capture)}function nt(e,t,i){var n;e instanceof de&&(e=e.data.hook||(e.data.hook={}));var r=e[t];function o(){i.apply(this,arguments),g(n.fns,o)}I(r)?n=tt([o]):N(r.fns)&&!0===r.merged?(n=r).fns.push(o):n=tt([r,o]),n.merged=!0,e[t]=n}function rt(e,t,i,n,r){if(N(t)){if(d(t,i))return e[i]=t[i],r||delete t[i],1;if(d(t,n))return e[i]=t[n],r||delete t[n],1}}function ot(e){return c(e)?[ge(e)]:Array.isArray(e)?function e(t,i){for(var n,r,o,s=[],a=0;a<t.length;a++)I(n=t[a])||"boolean"==typeof n||(o=s[r=s.length-1],Array.isArray(n)?0<n.length&&(st((n=e(n,(i||"")+"_"+a))[0])&&st(o)&&(s[r]=ge(o.text+n[0].text),n.shift()),s.push.apply(s,n)):c(n)?st(o)?s[r]=ge(o.text+n):""!==n&&s.push(ge(n)):st(n)&&st(o)?s[r]=ge(o.text+n.text):(!0===t._isVList&&N(n.tag)&&I(n.key)&&N(i)&&(n.key="__vlist"+i+"_"+a+"__"),s.push(n)));return s}(e):void 0}function st(e){return N(e)&&N(e.text)&&!1===e.isComment}function at(e,t){if(e){for(var i=Object.create(null),n=re?Reflect.ownKeys(e):Object.keys(e),r=0;r<n.length;r++){var o=n[r];if("__ob__"!==o){for(var s,a=e[o].from,l=t;l;){if(l._provided&&d(l._provided,a)){i[o]=l._provided[a];break}l=l.$parent}!l&&"default"in e[o]&&(s=e[o].default,i[o]="function"==typeof s?s.call(t):s)}}return i}}function lt(e,t){if(!e||!e.length)return{};for(var i,n={},r=0,o=e.length;r<o;r++){var s=e[r],a=s.data;a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,s.context!==t&&s.fnContext!==t||!a||null==a.slot?(n.default||(n.default=[])).push(s):(a=n[a=a.slot]||(n[a]=[]),"template"===s.tag?a.push.apply(a,s.children||[]):a.push(s))}for(i in n)n[i].every(ct)&&delete n[i];return n}function ct(e){return e.isComment&&!e.asyncFactory||" "===e.text}function ht(e,t,i){var n,r,o=0<Object.keys(t).length,s=e?!!e.$stable:!o,a=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(s&&i&&i!==f&&a===i.$key&&!o&&!i.$hasNormal)return i;for(var l in n={},e)e[l]&&"$"!==l[0]&&(n[l]=function(e,t,i){function n(){var e=arguments.length?i.apply(null,arguments):i({});return(e=e&&"object"==typeof e&&!Array.isArray(e)?[e]:ot(e))&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e}return i.proxy&&Object.defineProperty(e,t,{get:n,enumerable:!0,configurable:!0}),n}(t,l,e[l]))}else n={};for(r in t)r in n||(n[r]=function(e,t){return function(){return e[t]}}(t,r));return e&&Object.isExtensible(e)&&(e._normalized=n),F(n,"$stable",s),F(n,"$key",a),F(n,"$hasNormal",o),n}function ut(e,t){var i,n,r,o,s;if(Array.isArray(e)||"string"==typeof e)for(i=new Array(e.length),n=0,r=e.length;n<r;n++)i[n]=t(e[n],n);else if("number"==typeof e)for(i=new Array(e),n=0;n<e;n++)i[n]=t(n+1,n);else if(O(e))if(re&&e[Symbol.iterator]){i=[];for(var a=e[Symbol.iterator](),l=a.next();!l.done;)i.push(t(l.value,i.length)),l=a.next()}else for(o=Object.keys(e),i=new Array(o.length),n=0,r=o.length;n<r;n++)s=o[n],i[n]=t(e[s],s,n);return N(i)||(i=[]),i._isVList=!0,i}function dt(e,t,i,n){var r=this.$scopedSlots[e],t=r?(i=i||{},n&&(i=x(x({},n),i)),r(i)||t):this.$slots[e]||t,i=i&&i.slot;return i?this.$createElement("template",{slot:i},t):t}function ft(e){return Ne(this.$options,"filters",e)||k}function pt(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function gt(e,t,i,n,r){i=E.keyCodes[t]||i;return r&&n&&!E.keyCodes[t]?pt(r,n):i?pt(i,e):n?y(n)!==t:void 0}function mt(n,r,o,s,a){if(o&&O(o)){var l;Array.isArray(o)&&(o=C(o));for(var e in o)!function(t){l="class"===t||"style"===t||u(t)?n:(i=n.attrs&&n.attrs.type,s||E.mustUseProp(r,i,t)?n.domProps||(n.domProps={}):n.attrs||(n.attrs={}));var e=m(t),i=y(t);e in l||i in l||(l[t]=o[t],a&&((n.on||(n.on={}))["update:"+t]=function(e){o[t]=e}))}(e)}return n}function vt(e,t){var i=this._staticTrees||(this._staticTrees=[]),n=i[e];return n&&!t||bt(n=i[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),"__static__"+e,!1),n}function yt(e,t,i){return bt(e,"__once__"+t+(i?"_"+i:""),!0),e}function bt(e,t,i){if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]&&"string"!=typeof e[n]&&wt(e[n],t+"_"+n,i);else wt(e,t,i)}function wt(e,t,i){e.isStatic=!0,e.key=t,e.isOnce=i}function xt(e,t){if(t&&l(t)){var i,n=e.on=e.on?x({},e.on):{};for(i in t){var r=n[i],o=t[i];n[i]=r?[].concat(r,o):o}}return e}function Ct(e,t,i,n){t=t||{$stable:!i};for(var r=0;r<e.length;r++){var o=e[r];Array.isArray(o)?Ct(o,t,i):o&&(o.proxy&&(o.fn.proxy=!0),t[o.key]=o.fn)}return n&&(t.$key=n),t}function St(e,t){for(var i=0;i<t.length;i+=2){var n=t[i];"string"==typeof n&&n&&(e[t[i]]=t[i+1])}return e}function _t(e,t){return"string"==typeof e?t+e:e}function kt(e){e._o=yt,e._n=R,e._s=t,e._l=ut,e._t=dt,e._q=M,e._i=T,e._m=vt,e._f=ft,e._k=gt,e._b=mt,e._v=ge,e._e=pe,e._u=Ct,e._g=xt,e._d=St,e._p=_t}function Mt(e,t,i,r,n){var o,s=this,a=n.options;d(r,"_uid")?(o=Object.create(r))._original=r:r=(o=r)._original;var n=!0===a._compiled,l=!n;this.data=e,this.props=t,this.children=i,this.parent=r,this.listeners=e.on||f,this.injections=at(a.inject,r),this.slots=function(){return s.$slots||ht(e.scopedSlots,s.$slots=lt(i,r)),s.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return ht(e.scopedSlots,this.slots())}}),n&&(this.$options=a,this.$slots=this.slots(),this.$scopedSlots=ht(e.scopedSlots,this.$slots)),a._scopeId?this._c=function(e,t,i,n){n=Nt(o,e,t,i,n,l);return n&&!Array.isArray(n)&&(n.fnScopeId=a._scopeId,n.fnContext=r),n}:this._c=function(e,t,i,n){return Nt(o,e,t,i,n,l)}}function Tt(e,t,i,n){e=me(e);return e.fnContext=i,e.fnOptions=n,t.slot&&((e.data||(e.data={})).slot=t.slot),e}function Dt(e,t){for(var i in t)e[m(i)]=t[i]}kt(Mt.prototype);var At={init:function(e,t){var i,n,r;e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive?At.prepatch(e,e):(e.componentInstance=(n={_isComponent:!0,_parentVnode:i=e,parent:Kt},N(r=i.data.inlineTemplate)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new i.componentOptions.Ctor(n))).$mount(t?e.elm:void 0,t)},prepatch:function(e,t){var i=t.componentOptions;!function(e,t,i,n,r){var o=n.data.scopedSlots,s=e.$scopedSlots,s=!!(o&&!o.$stable||s!==f&&!s.$stable||o&&e.$scopedSlots.$key!==o.$key),o=!!(r||e.$options._renderChildren||s);if(e.$options._parentVnode=n,e.$vnode=n,e._vnode&&(e._vnode.parent=n),e.$options._renderChildren=r,e.$attrs=n.data.attrs||f,e.$listeners=i||f,t&&e.$options.props){xe(!1);for(var a=e._props,l=e.$options._propKeys||[],c=0;c<l.length;c++){var h=l[c],u=e.$options.props;a[h]=Oe(h,u,t,e)}xe(!0),e.$options.propsData=t}i=i||f;s=e.$options._parentListeners;e.$options._parentListeners=i,Ht(e,i,s),o&&(e.$slots=lt(r,n.context),e.$forceUpdate())}(t.componentInstance=e.componentInstance,i.propsData,i.listeners,t,i.children)},insert:function(e){var t=e.context,i=e.componentInstance;i._isMounted||(i._isMounted=!0,Yt(i,"mounted")),e.data.keepAlive&&(t._isMounted?(i._inactive=!1,Xt.push(i)):Gt(i,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?function e(t,i){if(!(i&&(t._directInactive=!0,Ut(t))||t._inactive)){t._inactive=!0;for(var n=0;n<t.$children.length;n++)e(t.$children[n]);Yt(t,"deactivated")}}(t,!0):t.$destroy())}},$t=Object.keys(At);function Et(s,a,e,t,i){if(!I(s)){var n,r=e.$options._base;if(O(s)&&(s=r.extend(s)),"function"==typeof s){if(I(s.cid)&&void 0===(s=function(t,i){if(!0===t.error&&N(t.errorComp))return t.errorComp;if(N(t.resolved))return t.resolved;var e=Rt;if(e&&N(t.owners)&&-1===t.owners.indexOf(e)&&t.owners.push(e),!0===t.loading&&N(t.loadingComp))return t.loadingComp;if(e&&!N(t.owners)){var n=t.owners=[e],r=!0,o=null,s=null;e.$on("hook:destroyed",function(){return g(n,e)});var a=function(e){for(var t=0,i=n.length;t<i;t++)n[t].$forceUpdate();e&&(n.length=0,null!==o&&(clearTimeout(o),o=null),null!==s&&(clearTimeout(s),s=null))},l=P(function(e){t.resolved=Pt(e,i),r?n.length=0:a(!0)}),c=P(function(e){N(t.errorComp)&&(t.error=!0,a(!0))}),h=t(l,c);return O(h)&&(p(h)?I(t.resolved)&&h.then(l,c):p(h.component)&&(h.component.then(l,c),N(h.error)&&(t.errorComp=Pt(h.error,i)),N(h.loading)&&(t.loadingComp=Pt(h.loading,i),0===h.delay?t.loading=!0:o=setTimeout(function(){o=null,I(t.resolved)&&I(t.error)&&(t.loading=!0,a(!1))},h.delay||200)),N(h.timeout)&&(s=setTimeout(function(){s=null,I(t.resolved)&&c(null)},h.timeout)))),r=!1,t.loading?t.loadingComp:t.resolved}}(n=s,r)))return l=n,c=a,h=e,r=t,u=i,(d=pe()).asyncFactory=l,d.asyncMeta={data:c,context:h,children:r,tag:u},d;a=a||{},mi(s),N(a.model)&&function(e,t){var i=e.model&&e.model.prop||"value",n=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[i]=t.model.value;e=t.on||(t.on={}),i=e[n],t=t.model.callback;N(i)?(Array.isArray(i)?-1===i.indexOf(t):i!==t)&&(e[n]=[t].concat(i)):e[n]=t}(s.options,a);u=function(){var e=s.options.props;if(!I(e)){var t={},i=a.attrs,n=a.props;if(N(i)||N(n))for(var r in e){var o=y(r);rt(t,n,r,o,!0)||rt(t,i,r,o,!1)}return t}}();if(!0===s.options.functional)return function(e,t,i,n,r){var o=e.options,s={},a=o.props;if(N(a))for(var l in a)s[l]=Oe(l,a,t||f);else N(i.attrs)&&Dt(s,i.attrs),N(i.props)&&Dt(s,i.props);var c=new Mt(i,s,r,n,e),e=o.render.call(null,c._c,c);if(e instanceof de)return Tt(e,i,c.parent,o);if(Array.isArray(e)){for(var h=ot(e)||[],u=new Array(h.length),d=0;d<h.length;d++)u[d]=Tt(h[d],i,c.parent,o);return u}}(s,u,a,e,t);d=a.on;a.on=a.nativeOn,!0===s.options.abstract&&(o=a.slot,a={},o&&(a.slot=o)),function(){for(var e=a.hook||(a.hook={}),t=0;t<$t.length;t++){var i=$t[t],n=e[i],r=At[i];n===r||n&&n._merged||(e[i]=n?function(i,n){function e(e,t){i(e,t),n(e,t)}return e._merged=!0,e}(r,n):r)}}();var o=s.options.name||i;return new de("vue-component-"+s.cid+(o?"-"+o:""),a,void 0,void 0,void 0,e,{Ctor:s,propsData:u,listeners:d,tag:i,children:t},n)}}var l,c,h,u,d}var Lt=1,It=2;function Nt(e,t,i,n,r,o){return(Array.isArray(i)||c(i))&&(r=n,n=i,i=void 0),!0===o&&(r=It),e=e,t=t,n=n,r=r,N(i=i)&&N(i.__ob__)?pe():(N(i)&&N(i.is)&&(t=i.is),t?(Array.isArray(n)&&"function"==typeof n[0]&&((i=i||{}).scopedSlots={default:n[0]},n.length=0),r===It?n=ot(n):r===Lt&&(n=function(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}(n)),n="string"==typeof t?(a=e.$vnode&&e.$vnode.ns||E.getTagNamespace(t),E.isReservedTag(t)?new de(E.parsePlatformTagName(t),i,n,void 0,void 0,e):i&&i.pre||!N(s=Ne(e.$options,"components",t))?new de(t,i,n,void 0,void 0,e):Et(s,i,e,n,t)):Et(t,i,e,n),Array.isArray(n)?n:N(n)?(N(a)&&function e(t,i,n){if(t.ns=i,"foreignObject"===t.tag&&(n=!(i=void 0)),N(t.children))for(var r=0,o=t.children.length;r<o;r++){var s=t.children[r];N(s.tag)&&(I(s.ns)||!0===n&&"svg"!==s.tag)&&e(s,i,n)}}(n,a),N(i)&&(O((i=i).style)&&Je(i.style),O(i.class)&&Je(i.class)),n):pe()):pe());var s,a}var Ot,Rt=null;function Pt(e,t){return(e.__esModule||re&&"Module"===e[Symbol.toStringTag])&&(e=e.default),O(e)?t.extend(e):e}function Ft(e){return e.isComment&&e.asyncFactory}function zt(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var i=e[t];if(N(i)&&(N(i.componentOptions)||Ft(i)))return i}}function Wt(e,t){Ot.$on(e,t)}function Bt(e,t){Ot.$off(e,t)}function jt(t,i){var n=Ot;return function e(){null!==i.apply(null,arguments)&&n.$off(t,e)}}function Ht(e,t,i){it(t,i||{},Wt,Bt,jt,Ot=e),Ot=void 0}var Kt=null;function Vt(e){var t=Kt;return Kt=e,function(){Kt=t}}function Ut(e){for(;e=e&&e.$parent;)if(e._inactive)return 1}function Gt(e,t){if(t){if(e._directInactive=!1,Ut(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var i=0;i<e.$children.length;i++)Gt(e.$children[i]);Yt(e,"activated")}}function Yt(e,t){he();var i=e.$options[t],n=t+" hook";if(i)for(var r=0,o=i.length;r<o;r++)We(i[r],e,null,e,n);e._hasHookEvent&&e.$emit("hook:"+t),ue()}var qt,Qt=[],Xt=[],Zt={},Jt=!1,ei=!1,ti=0,ii=0,ni=Date.now;function ri(){var e,t;for(ii=ni(),ei=!0,Qt.sort(function(e,t){return e.id-t.id}),ti=0;ti<Qt.length;ti++)(e=Qt[ti]).before&&e.before(),t=e.id,Zt[t]=null,e.run();var i=Xt.slice(),n=Qt.slice();ti=Qt.length=Xt.length=0,Jt=ei=!(Zt={}),function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Gt(e[t],!0)}(i),function(e){for(var t=e.length;t--;){var i=e[t],n=i.vm;n._watcher===i&&n._isMounted&&!n._isDestroyed&&Yt(n,"updated")}}(n),te&&E.devtools&&te.emit("flush")}!j||U||(qt=window.performance)&&"function"==typeof qt.now&&ni()>document.createEvent("Event").timeStamp&&(ni=function(){return qt.now()});function oi(e,t,i,n,r){this.vm=e,r&&(e._watcher=this),e._watchers.push(this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync,this.before=n.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++si,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ne,this.newDepIds=new ne,this.expression="","function"==typeof t?this.getter=t:(this.getter=function(e){if(!W.test(e)){var i=e.split(".");return function(e){for(var t=0;t<i.length;t++){if(!e)return;e=e[i[t]]}return e}}}(t),this.getter||(this.getter=S)),this.value=this.lazy?void 0:this.get()}var si=0;oi.prototype.get=function(){var e;he(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;ze(e,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&Je(e),ue(),this.cleanupDeps()}return e},oi.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},oi.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},oi.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(e){var t=e.id;if(null==Zt[t]){if(Zt[t]=!0,ei){for(var i=Qt.length-1;ti<i&&Qt[i].id>e.id;)i--;Qt.splice(i+1,0,e)}else Qt.push(e);Jt||(Jt=!0,Xe(ri))}}(this)},oi.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||O(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){ze(e,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},oi.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},oi.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},oi.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||g(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}};var ai={enumerable:!0,configurable:!0,get:S,set:S};function li(e,t,i){ai.get=function(){return this[t][i]},ai.set=function(e){this[t][i]=e},Object.defineProperty(e,i,ai)}var ci={lazy:!0};function hi(e,t,i){var n=!ee();"function"==typeof i?(ai.get=n?ui(t):di(i),ai.set=S):(ai.get=i.get?n&&!1!==i.cache?ui(t):di(i.get):S,ai.set=i.set||S),Object.defineProperty(e,t,ai)}function ui(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),le.target&&e.depend(),e.value}}function di(e){return function(){return e.call(this,this)}}function fi(e,t,i,n){return l(i)&&(i=(n=i).handler),"string"==typeof i&&(i=e[i]),e.$watch(t,i,n)}var pi,gi=0;function mi(r){var e,t,i=r.options;return!r.super||(e=mi(r.super))!==r.superOptions&&(r.superOptions=e,(t=function(){var e,t,i=r.options,n=r.sealedOptions;for(t in i)i[t]!==n[t]&&(e=e||{},e[t]=i[t]);return e}())&&x(r.extendOptions,t),(i=r.options=Ie(e,r.extendOptions)).name&&(i.components[i.name]=r)),i}function vi(e){this._init(e)}function yi(e){e.cid=0;var s=1;e.extend=function(e){e=e||{};var t=this,i=t.cid,n=e._Ctor||(e._Ctor={});if(n[i])return n[i];function r(e){this._init(e)}var o=e.name||t.options.name;return((r.prototype=Object.create(t.prototype)).constructor=r).cid=s++,r.options=Ie(t.options,e),r.super=t,r.options.props&&function(e){for(var t in e.options.props)li(e.prototype,"_props",t)}(r),r.options.computed&&function(e){var t,i=e.options.computed;for(t in i)hi(e.prototype,t,i[t])}(r),r.extend=t.extend,r.mixin=t.mixin,r.use=t.use,A.forEach(function(e){r[e]=t[e]}),o&&(r.options.components[o]=r),r.superOptions=t.options,r.extendOptions=e,r.sealedOptions=x({},r.options),n[i]=r}}function bi(e){return e&&(e.Ctor.options.name||e.tag)}function wi(e,t){return Array.isArray(e)?-1<e.indexOf(t):"string"==typeof e?-1<e.split(",").indexOf(t):"[object RegExp]"===i.call(e)&&e.test(t)}function xi(e,t){var i,n=e.cache,r=e.keys,o=e._vnode;for(i in n){var s=n[i];!s||(s=bi(s.componentOptions))&&!t(s)&&Ci(n,i,r,o)}}function Ci(e,t,i,n){var r=e[t];!r||n&&r.tag===n.tag||r.componentInstance.$destroy(),e[t]=null,g(i,t)}vi.prototype._init=function(e){var t,i,n=this;n._uid=gi++,n._isVue=!0,e&&e._isComponent?function(e){var t=n.$options=Object.create(n.constructor.options),i=e._parentVnode;t.parent=e.parent;i=(t._parentVnode=i).componentOptions;t.propsData=i.propsData,t._parentListeners=i.listeners,t._renderChildren=i.children,t._componentTag=i.tag,e.render&&(t.render=e.render,t.staticRenderFns=e.staticRenderFns)}(e):n.$options=Ie(mi(n.constructor),e||{},n),function(e){var t=e.$options,i=t.parent;if(i&&!t.abstract){for(;i.$options.abstract&&i.$parent;)i=i.$parent;i.$children.push(e)}e.$parent=i,e.$root=i?i.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}((n._renderProxy=n)._self=n),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Ht(e,t)}(n),function(r){r._vnode=null,r._staticTrees=null;var e=r.$options,t=r.$vnode=e._parentVnode,i=t&&t.context;r.$slots=lt(e._renderChildren,i),r.$scopedSlots=f,r._c=function(e,t,i,n){return Nt(r,e,t,i,n,!1)},r.$createElement=function(e,t,i,n){return Nt(r,e,t,i,n,!0)};t=t&&t.data;_e(r,"$attrs",t&&t.attrs||f,null,!0),_e(r,"$listeners",e._parentListeners||f,null,!0)}(n),Yt(n,"beforeCreate"),(i=at((t=n).$options.inject,t))&&(xe(!1),Object.keys(i).forEach(function(e){_e(t,e,i[e])}),xe(!0)),function(e){e._watchers=[];var t=e.$options;t.props&&function(i,n){var r=i.$options.propsData||{},o=i._props={},s=i.$options._propKeys=[];i.$parent&&xe(!1);for(var e in n)!function(e){s.push(e);var t=Oe(e,n,r,i);_e(o,e,t),e in i||li(i,"_props",e)}(e);xe(!0)}(e,t.props),t.methods&&function(e,t){for(var i in e.$options.props,t)e[i]="function"!=typeof t[i]?S:b(t[i],e)}(e,t.methods),t.data?function(e){var t=e.$options.data;l(t=e._data="function"==typeof t?function(e,t){he();try{return e.call(t,t)}catch(e){return ze(e,t,"data()"),{}}finally{ue()}}(t,e):t||{})||(t={});for(var i,n=Object.keys(t),r=e.$options.props,o=(e.$options.methods,n.length);o--;){var s=n[o];r&&d(r,s)||36!==(i=(s+"").charCodeAt(0))&&95!==i&&li(e,"_data",s)}Se(t,!0)}(e):Se(e._data={},!0),t.computed&&function(e,t){var i,n=e._computedWatchers=Object.create(null),r=ee();for(i in t){var o=t[i],s="function"==typeof o?o:o.get;r||(n[i]=new oi(e,s||S,S,ci)),i in e||hi(e,i,o)}}(e,t.computed),t.watch&&t.watch!==X&&function(e,t){for(var i in t){var n=t[i];if(Array.isArray(n))for(var r=0;r<n.length;r++)fi(e,i,n[r]);else fi(e,i,n)}}(e,t.watch)}(n),(e=n.$options.provide)&&(n._provided="function"==typeof e?e.call(n):e),Yt(n,"created"),n.$options.el&&n.$mount(n.$options.el)},Qi=vi,Object.defineProperty(Qi.prototype,"$data",{get:function(){return this._data}}),Object.defineProperty(Qi.prototype,"$props",{get:function(){return this._props}}),Qi.prototype.$set=ke,Qi.prototype.$delete=Me,Qi.prototype.$watch=function(e,t,i){if(l(t))return fi(this,e,t,i);(i=i||{}).user=!0;var n=new oi(this,e,t,i);if(i.immediate)try{t.call(this,n.value)}catch(e){ze(e,this,'callback for immediate watcher "'+n.expression+'"')}return function(){n.teardown()}},pi=/^hook:/,(K=vi).prototype.$on=function(e,t){if(Array.isArray(e))for(var i=0,n=e.length;i<n;i++)this.$on(e[i],t);else(this._events[e]||(this._events[e]=[])).push(t),pi.test(e)&&(this._hasHookEvent=!0);return this},K.prototype.$once=function(e,t){var i=this;function n(){i.$off(e,n),t.apply(i,arguments)}return n.fn=t,i.$on(e,n),i},K.prototype.$off=function(e,t){if(!arguments.length)return this._events=Object.create(null),this;if(Array.isArray(e)){for(var i=0,n=e.length;i<n;i++)this.$off(e[i],t);return this}var r,o=this._events[e];if(!o)return this;if(!t)return this._events[e]=null,this;for(var s=o.length;s--;)if((r=o[s])===t||r.fn===t){o.splice(s,1);break}return this},K.prototype.$emit=function(e){var t=this._events[e];if(t){t=1<t.length?w(t):t;for(var i=w(arguments,1),n='event handler for "'+e+'"',r=0,o=t.length;r<o;r++)We(t[r],this,i,this,n)}return this},(V=vi).prototype._update=function(e,t){var i=this,n=i.$el,r=i._vnode,o=Vt(i);i._vnode=e,i.$el=r?i.__patch__(r,e):i.__patch__(i.$el,e,t,!1),o(),n&&(n.__vue__=null),i.$el&&(i.$el.__vue__=i),i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode&&(i.$parent.$el=i.$el)},V.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},V.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Yt(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||g(t.$children,e),e._watcher&&e._watcher.teardown();for(var i=e._watchers.length;i--;)e._watchers[i].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Yt(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}},kt((fe=vi).prototype),fe.prototype.$nextTick=function(e){return Xe(e,this)},fe.prototype._render=function(){var e,t=this,i=t.$options,n=i.render,r=i._parentVnode;r&&(t.$scopedSlots=ht(r.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=r;try{Rt=t,e=n.call(t._renderProxy,t.$createElement)}catch(i){ze(i,t,"render"),e=t._vnode}finally{Rt=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof de||(e=pe()),e.parent=r,e};var Si,_i,$=[String,RegExp,Array],ki={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:$,exclude:$,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)Ci(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",function(t){xi(e,function(e){return wi(t,e)})}),this.$watch("exclude",function(t){xi(e,function(e){return!wi(t,e)})})},render:function(){var e=this.$slots.default,t=zt(e),i=t&&t.componentOptions;if(i){var n=bi(i),r=this.include,o=this.exclude;if(r&&(!n||!wi(r,n))||o&&n&&wi(o,n))return t;o=this.cache,n=this.keys,i=null==t.key?i.Ctor.cid+(i.tag?"::"+i.tag:""):t.key;o[i]?(t.componentInstance=o[i].componentInstance,g(n,i),n.push(i)):(o[i]=t,n.push(i),this.max&&n.length>parseInt(this.max)&&Ci(o,n[0],n,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}}};Si=vi,Qi={get:function(){return E}},Object.defineProperty(Si,"config",Qi),Si.util={warn:se,extend:x,mergeOptions:Ie,defineReactive:_e},Si.set=ke,Si.delete=Me,Si.nextTick=Xe,Si.observable=function(e){return Se(e),e},Si.options=Object.create(null),A.forEach(function(e){Si.options[e+"s"]=Object.create(null)}),x((Si.options._base=Si).options.components,ki),Si.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(-1<t.indexOf(e))return this;var i=w(arguments,1);return i.unshift(this),"function"==typeof e.install?e.install.apply(e,i):"function"==typeof e&&e.apply(null,i),t.push(e),this},Si.mixin=function(e){return this.options=Ie(this.options,e),this},yi(Si),_i=Si,A.forEach(function(i){_i[i]=function(e,t){return t?("component"===i&&l(t)&&(t.name=t.name||e,t=this.options._base.extend(t)),"directive"===i&&"function"==typeof t&&(t={bind:t,update:t}),this.options[i+"s"][e]=t):this.options[i+"s"][e]}}),Object.defineProperty(vi.prototype,"$isServer",{get:ee}),Object.defineProperty(vi.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(vi,"FunctionalRenderContext",{value:Mt}),vi.version="2.6.11";var K=s("style,class"),Mi=s("input,textarea,option,select,progress"),V=function(e,t,i){return"value"===i&&Mi(e)&&"button"!==t||"selected"===i&&"option"===e||"checked"===i&&"input"===e||"muted"===i&&"video"===e},Ti=s("contenteditable,draggable,spellcheck"),Di=s("events,caret,typing,plaintext-only"),Ai=function(e,t){return Ni(t)||"false"===t?"false":"contenteditable"===e&&Di(t)?t:"true"},$i=s("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Ei="http://www.w3.org/1999/xlink",Li=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Ii=function(e){return Li(e)?e.slice(6,e.length):""},Ni=function(e){return null==e||!1===e};function Oi(e,t){return{staticClass:Ri(e.staticClass,t.staticClass),class:N(e.class)?[e.class,t.class]:t.class}}function Ri(e,t){return e?t?e+" "+t:e:t||""}function Pi(e){return Array.isArray(e)?function(e){for(var t,i="",n=0,r=e.length;n<r;n++)N(t=Pi(e[n]))&&""!==t&&(i&&(i+=" "),i+=t);return i}(e):O(e)?function(e){var t,i="";for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}(e):"string"==typeof e?e:""}function Fi(e){return Wi(e)||Bi(e)}var zi={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Wi=s("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Bi=s("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0);function ji(e){return Bi(e)?"svg":"math"===e?"math":void 0}var Hi=Object.create(null),Ki=s("text,number,password,search,email,tel,url");function Vi(e){return"string"!=typeof e?e:document.querySelector(e)||document.createElement("div")}fe=Object.freeze({createElement:function(e,t){var i=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&i.setAttribute("multiple","multiple"),i},createElementNS:function(e,t){return document.createElementNS(zi[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,i){e.insertBefore(t,i)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,"")}}),$={create:function(e,t){Ui(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Ui(e,!0),Ui(t))},destroy:function(e){Ui(e,!0)}};function Ui(e,t){var i,n,r=e.data.ref;N(r)&&(n=e.context,i=e.componentInstance||e.elm,n=n.$refs,t?Array.isArray(n[r])?g(n[r],i):n[r]===i&&(n[r]=void 0):e.data.refInFor?Array.isArray(n[r])?n[r].indexOf(i)<0&&n[r].push(i):n[r]=[i]:n[r]=i)}var Gi=new de("",{},[]),Yi=["create","activate","update","remove","destroy"];function qi(i,n){return i.key===n.key&&(i.tag===n.tag&&i.isComment===n.isComment&&N(i.data)===N(n.data)&&function(){if("input"!==i.tag)return 1;var e=N(t=i.data)&&N(t=t.attrs)&&t.type,t=N(t=n.data)&&N(t=t.attrs)&&t.type;return e===t||Ki(e)&&Ki(t)}()||!0===i.isAsyncPlaceholder&&i.asyncFactory===n.asyncFactory&&I(n.asyncFactory.error))}var Qi={create:Xi,update:Xi,destroy:function(e){Xi(e,Gi)}};function Xi(e,t){(e.data.directives||t.data.directives)&&function(t,i){var e,n,r,o,s=t===Gi,a=i===Gi,l=Ji(t.data.directives,t.context),c=Ji(i.data.directives,i.context),h=[],u=[];for(e in c)n=l[e],r=c[e],n?(r.oldValue=n.value,r.oldArg=n.arg,en(r,"update",i,t),r.def&&r.def.componentUpdated&&u.push(r)):(en(r,"bind",i,t),r.def&&r.def.inserted&&h.push(r));if(h.length&&(o=function(){for(var e=0;e<h.length;e++)en(h[e],"inserted",i,t)},s?nt(i,"insert",o):o()),u.length&&nt(i,"postpatch",function(){for(var e=0;e<u.length;e++)en(u[e],"componentUpdated",i,t)}),!s)for(e in l)c[e]||en(l[e],"unbind",t,t,a)}(e,t)}var Zi=Object.create(null);function Ji(e,t){var i,n,r,o=Object.create(null);if(!e)return o;for(i=0;i<e.length;i++)(n=e[i]).modifiers||(n.modifiers=Zi),(o[(r=n).rawName||r.name+"."+Object.keys(r.modifiers||{}).join(".")]=n).def=Ne(t.$options,"directives",n.name);return o}function en(e,t,i,n,r){var o=e.def&&e.def[t];if(o)try{o(i.elm,e,i,n,r)}catch(n){ze(n,i.context,"directive "+e.name+" "+t+" hook")}}se=[$,Qi];function tn(e,t){var i=t.componentOptions;if(!(N(i)&&!1===i.Ctor.options.inheritAttrs||I(e.data.attrs)&&I(t.data.attrs))){var n,r,o=t.elm,s=e.data.attrs||{},a=t.data.attrs||{};for(n in N(a.__ob__)&&(a=t.data.attrs=x({},a)),a)r=a[n],s[n]!==r&&nn(o,n,r);for(n in(U||Y)&&a.value!==s.value&&nn(o,"value",a.value),s)I(a[n])&&(Li(n)?o.removeAttributeNS(Ei,Ii(n)):Ti(n)||o.removeAttribute(n))}}function nn(e,t,i){-1<e.tagName.indexOf("-")?rn(e,t,i):$i(t)?Ni(i)?e.removeAttribute(t):(i="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,i)):Ti(t)?e.setAttribute(t,Ai(t,i)):Li(t)?Ni(i)?e.removeAttributeNS(Ei,Ii(t)):e.setAttributeNS(Ei,t,i):rn(e,t,i)}function rn(t,e,i){var n;Ni(i)?t.removeAttribute(e):(!U||G||"TEXTAREA"!==t.tagName||"placeholder"!==e||""===i||t.__ieph||(n=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",n)},t.addEventListener("input",n),t.__ieph=!0),t.setAttribute(e,i))}ki={create:tn,update:tn};function on(e,t){var i=t.elm,n=t.data,e=e.data;I(n.staticClass)&&I(n.class)&&(I(e)||I(e.staticClass)&&I(e.class))||(e=function(e){for(var t,i=e.data,n=e,r=e;N(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(i=Oi(r.data,i));for(;N(n=n.parent);)n&&n.data&&(i=Oi(i,n.data));return t=i.staticClass,e=i.class,N(t)||N(e)?Ri(t,Pi(e)):""}(t),N(t=i._transitionClasses)&&(e=Ri(e,Pi(t))),e!==i._prevClass&&(i.setAttribute("class",e),i._prevClass=e))}var sn,an,ln,cn,hn,un,$={create:on,update:on},dn=/[\w).+\-_$\]]/;function fn(e){for(var t,i,n,r,o=!1,s=!1,a=!1,l=!1,c=0,h=0,u=0,d=0,f=0;f<e.length;f++)if(i=t,t=e.charCodeAt(f),o)39===t&&92!==i&&(o=!1);else if(s)34===t&&92!==i&&(s=!1);else if(a)96===t&&92!==i&&(a=!1);else if(l)47===t&&92!==i&&(l=!1);else if(124!==t||124===e.charCodeAt(f+1)||124===e.charCodeAt(f-1)||c||h||u){switch(t){case 34:s=!0;break;case 39:o=!0;break;case 96:a=!0;break;case 40:u++;break;case 41:u--;break;case 91:h++;break;case 93:h--;break;case 123:c++;break;case 125:c--}if(47===t){for(var p=f-1,g=void 0;0<=p&&" "===(g=e.charAt(p));p--);g&&dn.test(g)||(l=!0)}}else void 0===n?(d=f+1,n=e.slice(0,f).trim()):m();function m(){(r=r||[]).push(e.slice(d,f).trim()),d=f+1}if(void 0===n?n=e.slice(0,f).trim():0!==d&&m(),r)for(f=0;f<r.length;f++)n=function(e,t){var i=t.indexOf("(");if(i<0)return'_f("'+t+'")('+e+")";var n=t.slice(0,i),i=t.slice(i+1);return'_f("'+n+'")('+e+(")"!==i?","+i:i)}(n,r[f]);return n}function pn(e,t){console.error("[Vue compiler]: "+e)}function gn(e,t){return e?e.map(function(e){return e[t]}).filter(function(e){return e}):[]}function mn(e,t,i,n,r){(e.props||(e.props=[])).push(_n({name:t,value:i,dynamic:r},n)),e.plain=!1}function vn(e,t,i,n,r){(r?e.dynamicAttrs||(e.dynamicAttrs=[]):e.attrs||(e.attrs=[])).push(_n({name:t,value:i,dynamic:r},n)),e.plain=!1}function yn(e,t,i,n){e.attrsMap[t]=i,e.attrsList.push(_n({name:t,value:i},n))}function bn(e,t,i){return i?"_p("+t+',"'+e+'")':e+t}function wn(e,t,i,n,r,o,s,a){var l;(n=n||f).right?a?t="("+t+")==='click'?'contextmenu':("+t+")":"click"===t&&(t="contextmenu",delete n.right):n.middle&&(a?t="("+t+")==='click'?'mouseup':("+t+")":"click"===t&&(t="mouseup")),n.capture&&(delete n.capture,t=bn("!",t,a)),n.once&&(delete n.once,t=bn("~",t,a)),n.passive&&(delete n.passive,t=bn("&",t,a)),l=n.native?(delete n.native,e.nativeEvents||(e.nativeEvents={})):e.events||(e.events={});s=_n({value:i.trim(),dynamic:a},s);n!==f&&(s.modifiers=n);n=l[t];Array.isArray(n)?r?n.unshift(s):n.push(s):l[t]=n?r?[s,n]:[n,s]:s,e.plain=!1}function xn(e,t,i){var n=Cn(e,":"+t)||Cn(e,"v-bind:"+t);if(null!=n)return fn(n);if(!1!==i){t=Cn(e,t);if(null!=t)return JSON.stringify(t)}}function Cn(e,t,i){var n;if(null!=(n=e.attrsMap[t]))for(var r=e.attrsList,o=0,s=r.length;o<s;o++)if(r[o].name===t){r.splice(o,1);break}return i&&delete e.attrsMap[t],n}function Sn(e,t){for(var i=e.attrsList,n=0,r=i.length;n<r;n++){var o=i[n];if(t.test(o.name))return i.splice(n,1),o}}function _n(e,t){return t&&(null!=t.start&&(e.start=t.start),null!=t.end&&(e.end=t.end)),e}function kn(e,t,i){var n=i||{},i=n.trim?"(typeof $$v === 'string'? $$v.trim(): $$v)":"$$v";n.number&&(i="_n("+i+")");i=Mn(t,i);e.model={value:"("+t+")",expression:JSON.stringify(t),callback:"function ($$v) {"+i+"}"}}function Mn(e,t){var i=function(e){if(e=e.trim(),sn=e.length,e.indexOf("[")<0||e.lastIndexOf("]")<sn-1)return-1<(cn=e.lastIndexOf("."))?{exp:e.slice(0,cn),key:'"'+e.slice(cn+1)+'"'}:{exp:e,key:null};for(an=e,cn=hn=un=0;!Dn();)An(ln=Tn())?$n(ln):91===ln&&function(e){var t=1;for(hn=cn;!Dn();)if(An(e=Tn()))$n(e);else if(91===e&&t++,93===e&&t--,0===t){un=cn;break}}(ln);return{exp:e.slice(0,hn),key:e.slice(hn+1,un)}}(e);return null===i.key?e+"="+t:"$set("+i.exp+", "+i.key+", "+t+")"}function Tn(){return an.charCodeAt(++cn)}function Dn(){return sn<=cn}function An(e){return 34===e||39===e}function $n(e){for(var t=e;!Dn()&&(e=Tn())!==t;);}var En;function Ln(t,i,n){var r=En;return function e(){null!==i.apply(null,arguments)&&On(t,e,n,r)}}var In=Ge&&!(Q&&Number(Q[1])<=53);function Nn(e,t,i,n){var r,o;In&&(r=ii,t=(o=t)._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=r||e.timeStamp<=0||e.target.ownerDocument!==document)return o.apply(this,arguments)}),En.addEventListener(e,t,Z?{capture:i,passive:n}:i)}function On(e,t,i,n){(n||En).removeEventListener(e,t._wrapper||t,i)}function Rn(e,t){var i,n,r;I(e.data.on)&&I(t.data.on)||(i=t.data.on||{},n=e.data.on||{},En=t.elm,N((r=i).__r)&&(r[e=U?"change":"input"]=[].concat(r.__r,r[e]||[]),delete r.__r),N(r.__c)&&(r.change=[].concat(r.__c,r.change||[]),delete r.__c),it(i,n,Nn,On,Ln,t.context),En=void 0)}var Pn,Qi={create:Rn,update:Rn};function Fn(e,t){if(!I(e.data.domProps)||!I(t.data.domProps)){var i,n,r=t.elm,o=e.data.domProps||{},s=t.data.domProps||{};for(i in N(s.__ob__)&&(s=t.data.domProps=x({},s)),o)i in s||(r[i]="");for(i in s){if(n=s[i],"textContent"===i||"innerHTML"===i){if(t.children&&(t.children.length=0),n===o[i])continue;1===r.childNodes.length&&r.removeChild(r.childNodes[0])}if("value"===i&&"PROGRESS"!==r.tagName){var a=I(r._value=n)?"":String(n);h=a,(c=r).composing||"OPTION"!==c.tagName&&!function(e,t){var i=!0;try{i=document.activeElement!==e}catch(e){}return i&&e.value!==t}(c,h)&&!function(e){var t=c.value,i=c._vModifiers;if(N(i)){if(i.number)return R(t)!==R(e);if(i.trim)return t.trim()!==e.trim()}return t!==e}(h)||(r.value=a)}else if("innerHTML"===i&&Bi(r.tagName)&&I(r.innerHTML)){(Pn=Pn||document.createElement("div")).innerHTML="<svg>"+n+"</svg>";for(var l=Pn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;l.firstChild;)r.appendChild(l.firstChild)}else if(n!==o[i])try{r[i]=n}catch(e){}}}var c,h}var Ge={create:Fn,update:Fn},zn=e(function(e){var t={},i=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach(function(e){!e||1<(e=e.split(i)).length&&(t[e[0].trim()]=e[1].trim())}),t});function Wn(e){var t=Bn(e.style);return e.staticStyle?x(e.staticStyle,t):t}function Bn(e){return Array.isArray(e)?C(e):"string"==typeof e?zn(e):e}function jn(e,t,i){if(Kn.test(t))e.style.setProperty(t,i);else if(Vn.test(i))e.style.setProperty(y(t),i.replace(Vn,""),"important");else{var n=Gn(t);if(Array.isArray(i))for(var r=0,o=i.length;r<o;r++)e.style[n]=i[r];else e.style[n]=i}}var Hn,Kn=/^--/,Vn=/\s*!important$/,Un=["Webkit","Moz","ms"],Gn=e(function(e){if(Hn=Hn||document.createElement("div").style,"filter"!==(e=m(e))&&e in Hn)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<Un.length;i++){var n=Un[i]+t;if(n in Hn)return n}});function Yn(e,t){var i=t.data,e=e.data;if(!(I(i.staticStyle)&&I(i.style)&&I(e.staticStyle)&&I(e.style))){var n,r,o=t.elm,i=e.staticStyle,e=e.normalizedStyle||e.style||{},s=i||e,e=Bn(t.data.style)||{};t.data.normalizedStyle=N(e.__ob__)?x({},e):e;var a=function(e){for(var t,i={},n=e;n.componentInstance;)(n=n.componentInstance._vnode)&&n.data&&(t=Wn(n.data))&&x(i,t);(t=Wn(e.data))&&x(i,t);for(var r=e;r=r.parent;)r.data&&(t=Wn(r.data))&&x(i,t);return i}(t);for(r in s)I(a[r])&&jn(o,r,"");for(r in a)(n=a[r])!==s[r]&&jn(o,r,null==n?"":n)}}var Q={create:Yn,update:Yn},qn=/\s+/;function Qn(t,e){var i;(e=e&&e.trim())&&(t.classList?-1<e.indexOf(" ")?e.split(qn).forEach(function(e){return t.classList.add(e)}):t.classList.add(e):(i=" "+(t.getAttribute("class")||"")+" ").indexOf(" "+e+" ")<0&&t.setAttribute("class",(i+e).trim()))}function Xn(t,e){if(e=e&&e.trim())if(t.classList)-1<e.indexOf(" ")?e.split(qn).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var i=" "+(t.getAttribute("class")||"")+" ",n=" "+e+" ";0<=i.indexOf(n);)i=i.replace(n," ");(i=i.trim())?t.setAttribute("class",i):t.removeAttribute("class")}}function Zn(e){if(e){if("object"!=typeof e)return"string"==typeof e?Jn(e):void 0;var t={};return!1!==e.css&&x(t,Jn(e.name||"v")),x(t,e),t}}var Jn=e(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),er=j&&!G,tr="transition",ir="animation",nr="transition",rr="transitionend",or="animation",sr="animationend";er&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(nr="WebkitTransition",rr="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(or="WebkitAnimation",sr="webkitAnimationEnd"));var ar=j?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function lr(e){ar(function(){ar(e)})}function cr(e,t){var i=e._transitionClasses||(e._transitionClasses=[]);i.indexOf(t)<0&&(i.push(t),Qn(e,t))}function hr(e,t){e._transitionClasses&&g(e._transitionClasses,t),Xn(e,t)}function ur(t,e,i){var n=fr(t,e),r=n.type,e=n.timeout,o=n.propCount;if(!r)return i();function s(){t.removeEventListener(a,c),i()}var a=r===tr?rr:sr,l=0,c=function(e){e.target===t&&++l>=o&&s()};setTimeout(function(){l<o&&s()},e+1),t.addEventListener(a,c)}var dr=/\b(transform|all)(,|$)/;function fr(e,t){var i,n=window.getComputedStyle(e),r=(n[nr+"Delay"]||"").split(", "),o=(n[nr+"Duration"]||"").split(", "),s=pr(r,o),a=(n[or+"Delay"]||"").split(", "),l=(n[or+"Duration"]||"").split(", "),e=pr(a,l),r=0,a=0;return t===tr?0<s&&(i=tr,r=s,a=o.length):t===ir?0<e&&(i=ir,r=e,a=l.length):a=(i=0<(r=Math.max(s,e))?e<s?tr:ir:null)?(i===tr?o:l).length:0,{type:i,timeout:r,propCount:a,hasTransform:i===tr&&dr.test(n[nr+"Property"])}}function pr(i,e){for(;i.length<e.length;)i=i.concat(i);return Math.max.apply(null,e.map(function(e,t){return gr(e)+gr(i[t])}))}function gr(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function mr(t,e){var i=t.elm;N(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var n=Zn(t.data.transition);if(!I(n)&&!N(i._enterCb)&&1===i.nodeType){for(var r=n.css,o=n.type,s=n.enterClass,a=n.enterToClass,l=n.enterActiveClass,c=n.appearClass,h=n.appearToClass,u=n.appearActiveClass,d=n.beforeEnter,f=n.enter,p=n.afterEnter,g=n.enterCancelled,m=n.beforeAppear,v=n.appear,y=n.afterAppear,b=n.appearCancelled,w=n.duration,x=Kt,C=Kt.$vnode;C&&C.parent;)x=C.context,C=C.parent;var S,_,k,M,T,D,A,$,E,L,n=!x._isMounted||!t.isRootInsert;n&&!v&&""!==v||(S=n&&c?c:s,_=n&&u?u:l,k=n&&h?h:a,d=n&&m||d,M=n&&"function"==typeof v?v:f,T=n&&y||p,D=n&&b||g,A=R(O(w)?w.enter:w),$=!1!==r&&!G,E=br(M),L=i._enterCb=P(function(){$&&(hr(i,k),hr(i,_)),L.cancelled?($&&hr(i,S),D&&D(i)):T&&T(i),i._enterCb=null}),t.data.show||nt(t,"insert",function(){var e=i.parentNode,e=e&&e._pending&&e._pending[t.key];e&&e.tag===t.tag&&e.elm._leaveCb&&e.elm._leaveCb(),M&&M(i,L)}),d&&d(i),$&&(cr(i,S),cr(i,_),lr(function(){hr(i,S),L.cancelled||(cr(i,k),E||(yr(A)?setTimeout(L,A):ur(i,o,L)))})),t.data.show&&(e&&e(),M&&M(i,L)),$||E||L())}}function vr(e,t){var i=e.elm;N(i._enterCb)&&(i._enterCb.cancelled=!0,i._enterCb());var n,r,o,s,a,l,c,h,u,d,f,p,g,m,v=Zn(e.data.transition);if(I(v)||1!==i.nodeType)return t();function y(){m.cancelled||(!e.data.show&&i.parentNode&&((i.parentNode._pending||(i.parentNode._pending={}))[e.key]=e),l&&l(i),f&&(cr(i,o),cr(i,a),lr(function(){hr(i,o),m.cancelled||(cr(i,s),p||(yr(g)?setTimeout(m,g):ur(i,r,m)))})),c&&c(i,m),f||p||m())}N(i._leaveCb)||(n=v.css,r=v.type,o=v.leaveClass,s=v.leaveToClass,a=v.leaveActiveClass,l=v.beforeLeave,c=v.leave,h=v.afterLeave,u=v.leaveCancelled,d=v.delayLeave,v=v.duration,f=!1!==n&&!G,p=br(c),g=R(O(v)?v.leave:v),m=i._leaveCb=P(function(){i.parentNode&&i.parentNode._pending&&(i.parentNode._pending[e.key]=null),f&&(hr(i,s),hr(i,a)),m.cancelled?(f&&hr(i,o),u&&u(i)):(t(),h&&h(i)),i._leaveCb=null}),d?d(y):y())}function yr(e){return"number"==typeof e&&!isNaN(e)}function br(e){if(I(e))return!1;var t=e.fns;return N(t)?br(Array.isArray(t)?t[0]:t):1<(e._length||e.length)}function wr(e,t){!0!==t.data.show&&mr(t)}Qi=function(e){for(var t,p={},i=e.modules,v=e.nodeOps,n=0;n<Yi.length;++n)for(p[Yi[n]]=[],t=0;t<i.length;++t)N(i[t][Yi[n]])&&p[Yi[n]].push(i[t][Yi[n]]);function o(e){var t=v.parentNode(e);N(t)&&v.removeChild(t,e)}function y(e,t,i,n,r,o,s){N(e.elm)&&N(o)&&(e=o[s]=me(e)),e.isRootInsert=!r,function(e,t,i,n){var r=e.data;if(N(r)){var o=N(e.componentInstance)&&r.keepAlive;return(N(r=r.hook)&&N(r=r.init)&&r(e,!1),N(e.componentInstance))?(f(e,t),a(i,e.elm,n),!0===o&&function(e,t,i,n){for(var r,o=e;o.componentInstance;)if(N(r=(o=o.componentInstance._vnode).data)&&N(r=r.transition)){for(r=0;r<p.activate.length;++r)p.activate[r](Gi,o);t.push(o);break}a(i,e.elm,n)}(e,t,i,n),1):void 0}}(e,t,i,n)||(o=e.data,s=e.children,N(r=e.tag)?(e.elm=e.ns?v.createElementNS(e.ns,r):v.createElement(r,e),l(e),g(e,s,t),N(o)&&m(e,t)):!0===e.isComment?e.elm=v.createComment(e.text):e.elm=v.createTextNode(e.text),a(i,e.elm,n))}function f(e,t){N(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,b(e)?(m(e,t),l(e)):(Ui(e),t.push(e))}function a(e,t,i){N(e)&&(N(i)?v.parentNode(i)===e&&v.insertBefore(e,t,i):v.appendChild(e,t))}function g(e,t,i){if(Array.isArray(t))for(var n=0;n<t.length;++n)y(t[n],i,e.elm,null,!0,t,n);else c(e.text)&&v.appendChild(e.elm,v.createTextNode(String(e.text)))}function b(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return N(e.tag)}function m(e,t){for(var i=0;i<p.create.length;++i)p.create[i](Gi,e);N(n=e.data.hook)&&(N(n.create)&&n.create(Gi,e),N(n.insert)&&t.push(e))}function l(e){var t;if(N(t=e.fnScopeId))v.setStyleScope(e.elm,t);else for(var i=e;i;)N(t=i.context)&&N(t=t.$options._scopeId)&&v.setStyleScope(e.elm,t),i=i.parent;N(t=Kt)&&t!==e.context&&t!==e.fnContext&&N(t=t.$options._scopeId)&&v.setStyleScope(e.elm,t)}function w(e,t,i,n,r,o){for(;n<=r;++n)y(i[n],o,e,t,!1,i,n)}function x(e){var t,i,n=e.data;if(N(n))for(N(t=n.hook)&&N(t=t.destroy)&&t(e),t=0;t<p.destroy.length;++t)p.destroy[t](e);if(N(t=e.children))for(i=0;i<e.children.length;++i)x(e.children[i])}function C(e,t,i){for(;t<=i;++t){var n=e[t];N(n)&&(N(n.tag)?(function e(t,i){if(N(i)||N(t.data)){var n,r=p.remove.length+1;for(N(i)?i.listeners+=r:i=function(e,t){function i(){0==--i.listeners&&o(e)}return i.listeners=t,i}(t.elm,r),N(n=t.componentInstance)&&N(n=n._vnode)&&N(n.data)&&e(n,i),n=0;n<p.remove.length;++n)p.remove[n](t,i);N(n=t.data.hook)&&N(n=n.remove)?n(t,i):i()}else o(t.elm)}(n),x(n)):o(n.elm))}}function S(e,t,i,n,r,m){if(e!==t){N(t.elm)&&N(n)&&(t=n[r]=me(t));var o=t.elm=e.elm;if(!0===e.isAsyncPlaceholder)N(t.asyncFactory.resolved)?M(e.elm,t,i):t.isAsyncPlaceholder=!0;else if(!0!==t.isStatic||!0!==e.isStatic||t.key!==e.key||!0!==t.isCloned&&!0!==t.isOnce){var s,a=t.data;N(a)&&N(s=a.hook)&&N(s=s.prepatch)&&s(e,t);n=e.children,r=t.children;if(N(a)&&b(t)){for(s=0;s<p.update.length;++s)p.update[s](e,t);N(s=a.hook)&&N(s=s.update)&&s(e,t)}I(t.text)?N(n)&&N(r)?n!==r&&function(e,t,i,n){for(var r,o,s,a=0,l=0,c=t.length-1,h=t[0],u=t[c],d=i.length-1,f=i[0],p=i[d],g=!m;a<=c&&l<=d;)I(h)?h=t[++a]:I(u)?u=t[--c]:qi(h,f)?(S(h,f,n,i,l),h=t[++a],f=i[++l]):qi(u,p)?(S(u,p,n,i,d),u=t[--c],p=i[--d]):qi(h,p)?(S(h,p,n,i,d),g&&v.insertBefore(e,h.elm,v.nextSibling(u.elm)),h=t[++a],p=i[--d]):f=(qi(u,f)?(S(u,f,n,i,l),g&&v.insertBefore(e,u.elm,h.elm),u=t[--c]):(I(r)&&(r=function(e,t,i){for(var n,r={},o=t;o<=i;++o)N(n=e[o].key)&&(r[n]=o);return r}(t,a,c)),!I(o=N(f.key)?r[f.key]:function(e,t,i,n){for(var r=i;r<n;r++){var o=t[r];if(N(o)&&qi(e,o))return r}}(f,t,a,c))&&qi(s=t[o],f)?(S(s,f,n,i,l),t[o]=void 0,g&&v.insertBefore(e,s.elm,h.elm)):y(f,n,e,h.elm,!1,i,l)),i[++l]);c<a?w(e,I(i[d+1])?null:i[d+1].elm,i,l,d,n):d<l&&C(t,a,c)}(o,n,r,i):N(r)?(N(e.text)&&v.setTextContent(o,""),w(o,null,r,0,r.length-1,i)):N(n)?C(n,0,n.length-1):N(e.text)&&v.setTextContent(o,""):e.text!==t.text&&v.setTextContent(o,t.text),N(a)&&N(s=a.hook)&&N(s=s.postpatch)&&s(e,t)}else t.componentInstance=e.componentInstance}}function _(e,t,i){if(!0===i&&N(e.parent))e.parent.data.pendingInsert=t;else for(var n=0;n<t.length;++n)t[n].data.hook.insert(t[n])}var k=s("attrs,class,staticClass,staticStyle,key");function M(e,t,i,n){var r,o=t.tag,s=t.data,a=t.children;if(n=n||s&&s.pre,t.elm=e,!0===t.isComment&&N(t.asyncFactory))return t.isAsyncPlaceholder=!0;if(N(s)&&(N(r=s.hook)&&N(r=r.init)&&r(t,!0),N(r=t.componentInstance)))return f(t,i),1;if(N(o)){if(N(a))if(e.hasChildNodes())if(N(r=s)&&N(r=r.domProps)&&N(r=r.innerHTML)){if(r!==e.innerHTML)return}else{for(var l=!0,c=e.firstChild,h=0;h<a.length;h++){if(!c||!M(c,a[h],i,n)){l=!1;break}c=c.nextSibling}if(!l||c)return}else g(t,a,i);if(N(s)){var u,d=!1;for(u in s)if(!k(u)){d=!0,m(t,i);break}!d&&s.class&&Je(s.class)}}else e.data!==t.text&&(e.data=t.text);return 1}return function(e,t,i,n){if(!I(t)){var r=!1,o=[];if(I(e))r=!0,y(t,o);else{var s=N(e.nodeType);if(!s&&qi(e,t))S(e,t,o,null,null,n);else{if(s){if(1===e.nodeType&&e.hasAttribute(D)&&(e.removeAttribute(D),i=!0),!0===i&&M(e,t,o))return _(t,o,!0),e;a=e,e=new de(v.tagName(a).toLowerCase(),{},[],void 0,a)}var i=e.elm,a=v.parentNode(i);if(y(t,o,i._leaveCb?null:a,v.nextSibling(i)),N(t.parent))for(var l=t.parent,c=b(t);l;){for(var h=0;h<p.destroy.length;++h)p.destroy[h](l);if(l.elm=t.elm,c){for(var u=0;u<p.create.length;++u)p.create[u](Gi,l);var d=l.data.hook.insert;if(d.merged)for(var f=1;f<d.fns.length;f++)d.fns[f]()}else Ui(l);l=l.parent}N(a)?C([e],0,0):N(e.tag)&&x(e)}}return _(t,o,r),t.elm}N(e)&&x(e)}}({nodeOps:fe,modules:[ki,$,Qi,Ge,Q,j?{create:wr,activate:wr,remove:function(e,t){!0!==e.data.show?vr(e,t):t()}}:{}].concat(se)});G&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&Dr(e,"input")});var xr={inserted:function(e,t,i,n){"select"===i.tag?(n.elm&&!n.elm._vOptions?nt(i,"postpatch",function(){xr.componentUpdated(e,t,i)}):Cr(e,t,i.context),e._vOptions=[].map.call(e.options,kr)):"textarea"!==i.tag&&!Ki(e.type)||(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",Mr),e.addEventListener("compositionend",Tr),e.addEventListener("change",Tr),G&&(e.vmodel=!0)))},componentUpdated:function(e,t,i){var n,r;"select"===i.tag&&(Cr(e,t,i.context),n=e._vOptions,(r=e._vOptions=[].map.call(e.options,kr)).some(function(e,t){return!M(e,n[t])})&&(e.multiple?t.value.some(function(e){return _r(e,r)}):t.value!==t.oldValue&&_r(t.value,r))&&Dr(e,"change"))}};function Cr(e,t,i){Sr(e,t),(U||Y)&&setTimeout(function(){Sr(e,t)},0)}function Sr(e,t){var i=t.value,n=e.multiple;if(!n||Array.isArray(i)){for(var r,o,s=0,a=e.options.length;s<a;s++)if(o=e.options[s],n)r=-1<T(i,kr(o)),o.selected!==r&&(o.selected=r);else if(M(kr(o),i))return e.selectedIndex!==s&&(e.selectedIndex=s),0;n||(e.selectedIndex=-1)}}function _r(t,e){return e.every(function(e){return!M(e,t)})}function kr(e){return"_value"in e?e._value:e.value}function Mr(e){e.target.composing=!0}function Tr(e){e.target.composing&&(e.target.composing=!1,Dr(e.target,"input"))}function Dr(e,t){var i=document.createEvent("HTMLEvents");i.initEvent(t,!0,!0),e.dispatchEvent(i)}function Ar(e){return!e.componentInstance||e.data&&e.data.transition?e:Ar(e.componentInstance._vnode)}Ge={model:xr,show:{bind:function(e,t,i){var n=t.value,t=(i=Ar(i)).data&&i.data.transition,r=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;n&&t?(i.data.show=!0,mr(i,function(){e.style.display=r})):e.style.display=n?r:"none"},update:function(e,t,i){var n=t.value;!n!=!t.oldValue&&((i=Ar(i)).data&&i.data.transition?(i.data.show=!0,n?mr(i,function(){e.style.display=e.__vOriginalDisplay}):vr(i,function(){e.style.display="none"})):e.style.display=n?e.__vOriginalDisplay:"none")},unbind:function(e,t,i,n,r){r||(e.style.display=e.__vOriginalDisplay)}}},Q={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function $r(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?$r(zt(t.children)):e}function Er(e){var t,i={},n=e.$options;for(t in n.propsData)i[t]=e[t];var r,o=n._parentListeners;for(r in o)i[m(r)]=o[r];return i}function Lr(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function Ir(e){return e.tag||Ft(e)}function Nr(e){return"show"===e.name}se={name:"transition",props:Q,abstract:!0,render:function(e){var t=this,i=this.$slots.default;if(i&&(i=i.filter(Ir)).length){var n=this.mode,r=i[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return 1}(this.$vnode))return r;var o=$r(r);if(!o)return r;if(this._leaving)return Lr(e,r);var s="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?s+"comment":s+o.tag:!c(o.key)||0===String(o.key).indexOf(s)?o.key:s+o.key;var a=(o.data||(o.data={})).transition=Er(this),i=this._vnode,s=$r(i);if(o.data.directives&&o.data.directives.some(Nr)&&(o.data.show=!0),s&&s.data&&(s.key!==o.key||s.tag!==o.tag)&&!Ft(s)&&(!s.componentInstance||!s.componentInstance._vnode.isComment)){s=s.data.transition=x({},a);if("out-in"===n)return this._leaving=!0,nt(s,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()}),Lr(e,r);if("in-out"===n){if(Ft(o))return i;var l,i=function(){l()};nt(a,"afterEnter",i),nt(a,"enterCancelled",i),nt(s,"delayLeave",function(e){l=e})}}return r}}},Q=x({tag:String,moveClass:String},Q);function Or(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Rr(e){e.data.newPos=e.elm.getBoundingClientRect()}function Pr(e){var t=e.data.pos,i=e.data.newPos,n=t.left-i.left,i=t.top-i.top;(n||i)&&(e.data.moved=!0,(e=e.elm.style).transform=e.WebkitTransform="translate("+n+"px,"+i+"px)",e.transitionDuration="0s")}delete Q.mode;Q={Transition:se,TransitionGroup:{props:Q,beforeMount:function(){var n=this,r=this._update;this._update=function(e,t){var i=Vt(n);n.__patch__(n._vnode,n.kept,!1,!0),n._vnode=n.kept,i(),r.call(n,e,t)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",i=Object.create(null),n=this.prevChildren=this.children,r=this.$slots.default||[],o=this.children=[],s=Er(this),a=0;a<r.length;a++){var l=r[a];l.tag&&null!=l.key&&0!==String(l.key).indexOf("__vlist")&&(o.push(l),((i[l.key]=l).data||(l.data={})).transition=s)}if(n){for(var c=[],h=[],u=0;u<n.length;u++){var d=n[u];d.data.transition=s,d.data.pos=d.elm.getBoundingClientRect(),(i[d.key]?c:h).push(d)}this.kept=e(t,null,c),this.removed=h}return e(t,null,o)},updated:function(){var e=this.prevChildren,n=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,n)&&(e.forEach(Or),e.forEach(Rr),e.forEach(Pr),this._reflow=document.body.offsetHeight,e.forEach(function(e){var i;e.data.moved&&(e=(i=e.elm).style,cr(i,n),e.transform=e.WebkitTransform=e.transitionDuration="",i.addEventListener(rr,i._moveCb=function e(t){t&&t.target!==i||t&&!/transform$/.test(t.propertyName)||(i.removeEventListener(rr,e),i._moveCb=null,hr(i,n))}))}))},methods:{hasMove:function(e,t){if(!er)return!1;if(this._hasMove)return this._hasMove;var i=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(e){Xn(i,e)}),Qn(i,t),i.style.display="none",this.$el.appendChild(i);t=fr(i);return this.$el.removeChild(i),this._hasMove=t.hasTransform}}}};vi.config.mustUseProp=V,vi.config.isReservedTag=Fi,vi.config.isReservedAttr=K,vi.config.getTagNamespace=ji,vi.config.isUnknownElement=function(e){if(!j)return!0;if(Fi(e))return!1;if(e=e.toLowerCase(),null!=Hi[e])return Hi[e];var t=document.createElement(e);return-1<e.indexOf("-")?Hi[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Hi[e]=/HTMLUnknownElement/.test(t.toString())},x(vi.options.directives,Ge),x(vi.options.components,Q),vi.prototype.__patch__=j?Qi:S,vi.prototype.$mount=function(e,t){return i=this,e=e=e&&j?Vi(e):void 0,n=t,i.$el=e,i.$options.render||(i.$options.render=pe),Yt(i,"beforeMount"),e=function(){i._update(i._render(),n)},new oi(i,e,S,{before:function(){i._isMounted&&!i._isDestroyed&&Yt(i,"beforeUpdate")}},!0),n=!1,null==i.$vnode&&(i._isMounted=!0,Yt(i,"mounted")),i;var i,n},j&&setTimeout(function(){E.devtools&&te&&te.emit("init",vi)},0);function Fr(e,t){return e&&no(e)&&"\n"===t[0]}var zr,Wr=/\{\{((?:.|\r?\n)+?)\}\}/g,Br=/[-.*+?^${}()|[\]\/\\]/g,jr=e(function(e){var t=e[0].replace(Br,"\\$&"),e=e[1].replace(Br,"\\$&");return new RegExp(t+"((?:.|\\n)+?)"+e,"g")}),K={staticKeys:["staticClass"],transformNode:function(e,t){t.warn;t=Cn(e,"class");t&&(e.staticClass=JSON.stringify(t));t=xn(e,"class",!1);t&&(e.classBinding=t)},genData:function(e){var t="";return e.staticClass&&(t+="staticClass:"+e.staticClass+","),e.classBinding&&(t+="class:"+e.classBinding+","),t}},Ge={staticKeys:["staticStyle"],transformNode:function(e,t){t.warn;t=Cn(e,"style");t&&(e.staticStyle=JSON.stringify(zn(t)));t=xn(e,"style",!1);t&&(e.styleBinding=t)},genData:function(e){var t="";return e.staticStyle&&(t+="staticStyle:"+e.staticStyle+","),e.styleBinding&&(t+="style:("+e.styleBinding+"),"),t}},Q=s("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),Qi=s("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),Hr=s("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),Kr=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Vr=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,L="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+L.source+"]*",L="((?:"+L+"\\:)?"+L+")",Ur=new RegExp("^<"+L),Gr=/^\s*(\/?)>/,Yr=new RegExp("^<\\/"+L+"[^>]*>"),qr=/^<!DOCTYPE [^>]+>/i,Qr=/^<!\--/,Xr=/^<!\[/,Zr=s("script,style,textarea",!0),Jr={},eo={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},to=/&(?:lt|gt|quot|amp|#39);/g,io=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,no=s("pre,textarea",!0);var ro,oo,so,ao,lo,co,ho,uo,fo=/^@|^v-on:/,po=/^v-|^@|^:|^#/,go=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,mo=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,vo=/^\(|\)$/g,yo=/^\[.*\]$/,bo=/:(.*)$/,wo=/^:|^\.|^v-bind:/,xo=/\.[^.\]]+(?=[^\]]*$)/g,Co=/^v-slot(:|$)|^#/,So=/[\r\n]/,_o=/\s+/g,ko=e(function(e){return(zr=zr||document.createElement("div")).innerHTML=e,zr.textContent}),Mo="_empty_";function To(e,t,i){return{type:1,tag:e,attrsList:t,attrsMap:function(e){for(var t={},i=0,n=e.length;i<n;i++)t[e[i].name]=e[i].value;return t}(t),rawAttrsMap:{},parent:i,children:[]}}function Do(e,c){ro=c.warn||pn,co=c.isPreTag||_,ho=c.mustUseProp||_,uo=c.getTagNamespace||_,c.isReservedTag,so=gn(c.modules,"transformNode"),ao=gn(c.modules,"preTransformNode"),lo=gn(c.modules,"postTransformNode"),oo=c.delimiters;var h,u,d=[],s=!1!==c.preserveWhitespace,a=c.whitespace,f=!1,p=!1;function g(e){var t,i;r(e),f||e.processed||(e=Ao(e,c)),d.length||e===h||h.if&&(e.elseif||e.else)&&Eo(h,{exp:e.elseif,block:e}),u&&!e.forbidden&&(e.elseif||e.else?(t=e,(i=function(e){for(var t=e.length;t--;){if(1===e[t].type)return e[t];e.pop()}}(u.children))&&i.if&&Eo(i,{exp:t.elseif,block:t})):(e.slotScope&&(t=e.slotTarget||'"default"',(u.scopedSlots||(u.scopedSlots={}))[t]=e),u.children.push(e),e.parent=u)),e.children=e.children.filter(function(e){return!e.slotScope}),r(e),e.pre&&(f=!1),co(e.tag)&&(p=!1);for(var n=0;n<lo.length;n++)lo[n](e,c)}function r(e){if(!p)for(var t;(t=e.children[e.children.length-1])&&3===t.type&&" "===t.text;)e.children.pop()}return function(r,c){for(var e,h,u=[],d=c.expectHTML,f=c.isUnaryTag||_,p=c.canBeLeftOpenTag||_,s=0;r;){if(e=r,h&&Zr(h)){var n=0,o=h.toLowerCase(),t=Jr[o]||(Jr[o]=new RegExp("([\\s\\S]*?)(</"+o+"[^>]*>)","i")),t=r.replace(t,function(e,t,i){return n=i.length,Zr(o)||"noscript"===o||(t=t.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),Fr(o,t)&&(t=t.slice(1)),c.chars&&c.chars(t),""});s+=r.length-t.length,r=t,y(o,s-n,s)}else{var i=r.indexOf("<");if(0===i){if(Qr.test(r)){t=r.indexOf("--\x3e");if(0<=t){c.shouldKeepComment&&c.comment(r.substring(4,t),s,s+t+3),v(t+3);continue}}if(Xr.test(r)){var a=r.indexOf("]>");if(0<=a){v(a+2);continue}}a=r.match(qr);if(a){v(a[0].length);continue}a=r.match(Yr);if(a){var l=s;v(a[0].length),y(a[1],l,s);continue}l=function(){var e=r.match(Ur);if(e){var t,i,n={tagName:e[1],attrs:[],start:s};for(v(e[0].length);!(t=r.match(Gr))&&(i=r.match(Vr)||r.match(Kr));)i.start=s,v(i[0].length),i.end=s,n.attrs.push(i);if(t)return n.unarySlash=t[1],v(t[0].length),n.end=s,n}}();if(l){(function(e){var t=e.tagName,i=e.unarySlash;d&&("p"===h&&Hr(t)&&y(h),p(t)&&h===t&&y(t));for(var i=f(t)||!!i,n=e.attrs.length,r=new Array(n),o=0;o<n;o++){var s=e.attrs[o],a=s[3]||s[4]||s[5]||"",l="a"===t&&"href"===s[1]?c.shouldDecodeNewlinesForHref:c.shouldDecodeNewlines;r[o]={name:s[1],value:function(e,t){return t=t?io:to,e.replace(t,function(e){return eo[e]})}(a,l)}}i||(u.push({tag:t,lowerCasedTag:t.toLowerCase(),attrs:r,start:e.start,end:e.end}),h=t),c.start&&c.start(t,r,i,e.start,e.end)})(l),Fr(l.tagName,r)&&v(1);continue}}var l=void 0,g=void 0,m=void 0;if(0<=i){for(g=r.slice(i);!(Yr.test(g)||Ur.test(g)||Qr.test(g)||Xr.test(g)||(m=g.indexOf("<",1))<0);)i+=m,g=r.slice(i);l=r.substring(0,i)}i<0&&(l=r),l&&v(l.length),c.chars&&l&&c.chars(l,s-l.length,s)}if(r===e){c.chars&&c.chars(r);break}}function v(e){s+=e,r=r.substring(e)}function y(e,t,i){var n,r;if(null==t&&(t=s),null==i&&(i=s),e)for(r=e.toLowerCase(),n=u.length-1;0<=n&&u[n].lowerCasedTag!==r;n--);else n=0;if(0<=n){for(var o=u.length-1;n<=o;o--)c.end&&c.end(u[o].tag,t,i);u.length=n,h=n&&u[n-1].tag}else"br"===r?c.start&&c.start(e,[],!0,t,i):"p"===r&&(c.start&&c.start(e,[],!1,t,i),c.end&&c.end(e,t,i))}y()}(e,{warn:ro,expectHTML:c.expectHTML,isUnaryTag:c.isUnaryTag,canBeLeftOpenTag:c.canBeLeftOpenTag,shouldDecodeNewlines:c.shouldDecodeNewlines,shouldDecodeNewlinesForHref:c.shouldDecodeNewlinesForHref,shouldKeepComment:c.comments,outputSourceRange:c.outputSourceRange,start:function(e,t,i,n,r){var o=u&&u.ns||uo(e);U&&"svg"===o&&(t=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];Io.test(n.name)||(n.name=n.name.replace(No,""),t.push(n))}return t}(t));var s=To(e,t,u);o&&(s.ns=o),"style"!==s.tag&&("script"!==s.tag||s.attrsMap.type&&"text/javascript"!==s.attrsMap.type)||ee()||(s.forbidden=!0);for(var a,l=0;l<ao.length;l++)s=ao[l](s,c)||s;f||(null!=Cn(a=s,"v-pre")&&(a.pre=!0),s.pre&&(f=!0)),co(s.tag)&&(p=!0),f?function(e){var t=e.attrsList,i=t.length;if(i)for(var n=e.attrs=new Array(i),r=0;r<i;r++)n[r]={name:t[r].name,value:JSON.stringify(t[r].value)},null!=t[r].start&&(n[r].start=t[r].start,n[r].end=t[r].end);else e.pre||(e.plain=!0)}(s):s.processed||($o(s),(a=Cn(o=s,"v-if"))?(o.if=a,Eo(o,{exp:a,block:o})):(null!=Cn(o,"v-else")&&(o.else=!0),(a=Cn(o,"v-else-if"))&&(o.elseif=a)),null!=Cn(a=s,"v-once")&&(a.once=!0)),h=h||s,i?g(s):(u=s,d.push(s))},end:function(e,t,i){var n=d[d.length-1];--d.length,u=d[d.length-1],g(n)},chars:function(e,t,i){var n,r,o;!u||U&&"textarea"===u.tag&&u.attrsMap.placeholder===e||(o=u.children,(e=p||e.trim()?"script"===u.tag||"style"===u.tag?e:ko(e):o.length?a?"condense"===a&&So.test(e)?"":" ":s?" ":"":"")&&(p||"condense"!==a||(e=e.replace(_o," ")),!f&&" "!==e&&(n=function(e){var t=oo?jr(oo):Wr;if(t.test(e)){for(var i,n,r,o=[],s=[],a=t.lastIndex=0;i=t.exec(e);){(n=i.index)>a&&(s.push(r=e.slice(a,n)),o.push(JSON.stringify(r)));var l=fn(i[1].trim());o.push("_s("+l+")"),s.push({"@binding":l}),a=n+i[0].length}return a<e.length&&(s.push(r=e.slice(a)),o.push(JSON.stringify(r))),{expression:o.join("+"),tokens:s}}}(e))?r={type:2,expression:n.expression,tokens:n.tokens,text:e}:" "===e&&o.length&&" "===o[o.length-1].text||(r={type:3,text:e}),r&&o.push(r)))},comment:function(e,t,i){u&&(e={type:3,text:e,isComment:!0},u.children.push(e))}}),h}function Ao(e,t){var i,n,r;(i=xn(r=e,"key"))&&(r.key=i),e.plain=!e.key&&!e.scopedSlots&&!e.attrsList.length,(r=xn(n=e,"ref"))&&(n.ref=r,n.refInFor=function(){for(var e=n;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}()),function(e){"template"===e.tag?(s=Cn(e,"scope"),e.slotScope=s||Cn(e,"slot-scope")):(s=Cn(e,"slot-scope"))&&(e.slotScope=s);var t,i,n,r,o,s=xn(e,"slot");s&&(e.slotTarget='""'===s?'"default"':s,e.slotTargetDynamic=!(!e.attrsMap[":slot"]&&!e.attrsMap["v-bind:slot"]),"template"===e.tag||e.slotScope||vn(e,"slot",s,e.rawAttrsMap[":slot"]||e.rawAttrsMap["v-bind:slot"]||e.rawAttrsMap.slot)),"template"===e.tag?(n=Sn(e,Co))&&(i=(t=Lo(n)).name,r=t.dynamic,e.slotTarget=i,e.slotTargetDynamic=r,e.slotScope=n.value||Mo):(t=Sn(e,Co))&&(i=e.scopedSlots||(e.scopedSlots={}),n=(r=Lo(t)).name,r=r.dynamic,(o=i[n]=To("template",[],e)).slotTarget=n,o.slotTargetDynamic=r,o.children=e.children.filter(function(e){if(!e.slotScope)return e.parent=o,!0}),o.slotScope=t.value||Mo,e.children=[],e.plain=!1)}(e),"slot"===e.tag&&(e.slotName=xn(e,"name")),(r=xn(i=e,"is"))&&(i.component=r),null!=Cn(i,"inline-template")&&(i.inlineTemplate=!0);for(var o=0;o<so.length;o++)e=so[o](e,t)||e;return function(e){for(var t,i,n,r,o,s,a,l,c,h,u,d=e.attrsList,f=0,p=d.length;f<p;f++){t=c=d[f].name,i=d[f].value,po.test(t)?(e.hasBindings=!0,(u=function(e){e=e.match(xo);if(e){var t={};return e.forEach(function(e){t[e.slice(1)]=!0}),t}}(t.replace(po,"")))&&(t=t.replace(xo,"")),wo.test(t)?(t=t.replace(wo,""),i=fn(i),(n=yo.test(t))&&(t=t.slice(1,-1)),u&&(u.prop&&!n&&"innerHtml"===(t=m(t))&&(t="innerHTML"),u.camel&&!n&&(t=m(t)),u.sync&&(a=Mn(i,"$event"),n?wn(e,'"update:"+('+t+")",a,null,!1,0,d[f],!0):(wn(e,"update:"+m(t),a,null,!1,0,d[f]),y(t)!==m(t)&&wn(e,"update:"+y(t),a,null,!1,0,d[f])))),(u&&u.prop||!e.component&&ho(e.tag,e.attrsMap.type,t)?mn:vn)(e,t,i,d[f],n)):fo.test(t)?(t=t.replace(fo,""),(n=yo.test(t))&&(t=t.slice(1,-1)),wn(e,t,i,u,!1,0,d[f],n)):(n=!1,(h=(l=(t=t.replace(po,"")).match(bo))&&l[1])&&(t=t.slice(0,-(h.length+1)),yo.test(h)&&(h=h.slice(1,-1),n=!0)),r=e,o=t,s=c,a=i,l=h,c=n,h=u,u=d[f],(r.directives||(r.directives=[])).push(_n({name:o,rawName:s,value:a,arg:l,isDynamicArg:c,modifiers:h},u)),r.plain=!1)):(vn(e,t,JSON.stringify(i),d[f]),!e.component&&"muted"===t&&ho(e.tag,e.attrsMap.type,t)&&mn(e,t,"true",d[f]))}}(e),e}function $o(e){var n,t;!(n=Cn(e,"v-for"))||(t=function(){var e=n.match(go);if(e){var t={};t.for=e[2].trim();var i=e[1].trim().replace(vo,""),e=i.match(mo);return e?(t.alias=i.replace(mo,"").trim(),t.iterator1=e[1].trim(),e[2]&&(t.iterator2=e[2].trim())):t.alias=i,t}}())&&x(e,t)}function Eo(e,t){e.ifConditions||(e.ifConditions=[]),e.ifConditions.push(t)}function Lo(e){var t=e.name.replace(Co,"");return t||"#"!==e.name[0]&&(t="default"),yo.test(t)?{name:t.slice(1,-1),dynamic:!0}:{name:'"'+t+'"',dynamic:!1}}var Io=/^xmlns:NS\d+/,No=/^NS\d+:/;function Oo(e){return To(e.tag,e.attrsList.slice(),e.parent)}var Ro,Po,Ge=[K,Ge,{preTransformNode:function(e,t){if("input"===e.tag){var i,n=e.attrsMap;if(n["v-model"]&&((n[":type"]||n["v-bind:type"])&&(i=xn(e,"type")),n.type||i||!n["v-bind"]||(i="("+n["v-bind"]+").type"),i)){var r=Cn(e,"v-if",!0),o=r?"&&("+r+")":"",s=null!=Cn(e,"v-else",!0),a=Cn(e,"v-else-if",!0),l=Oo(e);$o(l),yn(l,"type","checkbox"),Ao(l,t),l.processed=!0,l.if="("+i+")==='checkbox'"+o,Eo(l,{exp:l.if,block:l});n=Oo(e);Cn(n,"v-for",!0),yn(n,"type","radio"),Ao(n,t),Eo(l,{exp:"("+i+")==='radio'"+o,block:n});e=Oo(e);return Cn(e,"v-for",!0),yn(e,":type",i),Ao(e,t),Eo(l,{exp:r,block:e}),s?l.else=!0:a&&(l.elseif=a),l}}}}],Ge={expectHTML:!0,modules:Ge,directives:{model:function(e,t,i){var n,r,o,s,a,l=t.value,c=t.modifiers,h=e.tag,u=e.attrsMap.type;if(e.component)return kn(e,l,c),!1;if("select"===h)wn(e,"change",'var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(c&&c.number?"_n(val)":"val")+"});"+" "+Mn(l,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),null,!0);else if("input"===h&&"checkbox"===u)n=e,r=l,o=c&&c.number,s=xn(n,"value")||"null",a=xn(n,"true-value")||"true",t=xn(n,"false-value")||"false",mn(n,"checked","Array.isArray("+r+")?_i("+r+","+s+")>-1"+("true"===a?":("+r+")":":_q("+r+","+a+")")),wn(n,"change","var $$a="+r+",$$el=$event.target,$$c=$$el.checked?("+a+"):("+t+");if(Array.isArray($$a)){var $$v="+(o?"_n("+s+")":s)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+Mn(r,"$$a.concat([$$v])")+")}else{$$i>-1&&("+Mn(r,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+Mn(r,"$$c")+"}",null,!0);else if("input"===h&&"radio"===u)o=e,s=l,r=c&&c.number,u=xn(o,"value")||"null",mn(o,"checked","_q("+s+","+(u=r?"_n("+u+")":u)+")"),wn(o,"change",Mn(s,u),null,!0);else if("input"===h||"textarea"===h)!function(e,t){var i=e.attrsMap.type,n=c||{},r=n.lazy,o=n.number,s=n.trim,n=!r&&"range"!==i,r=r?"change":"range"===i?"__r":"input",i=s?"$event.target.value.trim()":"$event.target.value";o&&(i="_n("+i+")");i=Mn(t,i);n&&(i="if($event.target.composing)return;"+i),mn(e,"value","("+t+")"),wn(e,r,i,null,!0),(s||o)&&wn(e,"blur","$forceUpdate()")}(e,l);else if(!E.isReservedTag(h))return kn(e,l,c),!1;return!0},text:function(e,t){t.value&&mn(e,"textContent","_s("+t.value+")",t)},html:function(e,t){t.value&&mn(e,"innerHTML","_s("+t.value+")",t)}},isPreTag:function(e){return"pre"===e},isUnaryTag:Q,mustUseProp:V,canBeLeftOpenTag:Qi,isReservedTag:Fi,getTagNamespace:ji,staticKeys:Ge.reduce(function(e,t){return e.concat(t.staticKeys||[])},[]).join(",")},Fo=e(function(e){return s("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(e?","+e:""))});function zo(e,t){e&&(Ro=Fo(t.staticKeys||""),Po=t.isReservedTag||_,function e(t){var i;if(t.static=2!==(i=t).type&&(3===i.type||!(!i.pre&&(i.hasBindings||i.if||i.for||h(i.tag)||!Po(i.tag)||function(e){for(;e.parent;){if("template"!==(e=e.parent).tag)return;if(e.for)return 1}}(i)||!Object.keys(i).every(Ro)))),1===t.type&&(Po(t.tag)||"slot"===t.tag||null!=t.attrsMap["inline-template"])){for(var n=0,r=t.children.length;n<r;n++){var o=t.children[n];e(o),o.static||(t.static=!1)}if(t.ifConditions)for(var s=1,a=t.ifConditions.length;s<a;s++){var l=t.ifConditions[s].block;e(l),l.static||(t.static=!1)}}}(e),function e(t,i){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=i),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return t.staticRoot=!0,0;if(t.staticRoot=!1,t.children)for(var n=0,r=t.children.length;n<r;n++)e(t.children[n],i||!!t.for);if(t.ifConditions)for(var o=1,s=t.ifConditions.length;o<s;o++)e(t.ifConditions[o].block,i)}}(e,!1))}var Wo=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,Bo=/\([^)]*?\);*$/,jo=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,Ho={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Ko={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},Vo=function(e){return"if("+e+")return null;"},Uo={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:Vo("$event.target !== $event.currentTarget"),ctrl:Vo("!$event.ctrlKey"),shift:Vo("!$event.shiftKey"),alt:Vo("!$event.altKey"),meta:Vo("!$event.metaKey"),left:Vo("'button' in $event && $event.button !== 0"),middle:Vo("'button' in $event && $event.button !== 1"),right:Vo("'button' in $event && $event.button !== 2")};function Go(e,t){var i,t=t?"nativeOn:":"on:",n="",r="";for(i in e){var o=function t(e){if(!e)return"function(){}";if(Array.isArray(e))return"["+e.map(function(e){return t(e)}).join(",")+"]";var i=jo.test(e.value),n=Wo.test(e.value),r=jo.test(e.value.replace(Bo,""));if(e.modifiers){var o,s,a="",l="",c=[];for(o in e.modifiers){Uo[o]?(l+=Uo[o],Ho[o]&&c.push(o)):"exact"===o?(s=e.modifiers,l+=Vo(["ctrl","shift","alt","meta"].filter(function(e){return!s[e]}).map(function(e){return"$event."+e+"Key"}).join("||"))):c.push(o)}return c.length&&(a+=function(e){return"if(!$event.type.indexOf('key')&&"+e.map(Yo).join("&&")+")return null;"}(c)),l&&(a+=l),"function($event){"+a+(i?"return "+e.value+"($event)":n?"return ("+e.value+")($event)":r?"return "+e.value:e.value)+"}"}return i||n?e.value:"function($event){"+(r?"return "+e.value:e.value)+"}"}(e[i]);e[i]&&e[i].dynamic?r+=i+","+o+",":n+='"'+i+'":'+o+","}return n="{"+n.slice(0,-1)+"}",r?t+"_d("+n+",["+r.slice(0,-1)+"])":t+n}function Yo(e){var t=parseInt(e,10);if(t)return"$event.keyCode!=="+t;var i=Ho[e],t=Ko[e];return"_k($event.keyCode,"+JSON.stringify(e)+","+JSON.stringify(i)+",$event.key,"+JSON.stringify(t)+")"}var qo={on:function(e,t){e.wrapListeners=function(e){return"_g("+e+","+t.value+")"}},bind:function(t,i){t.wrapData=function(e){return"_b("+e+",'"+t.tag+"',"+i.value+","+(i.modifiers&&i.modifiers.prop?"true":"false")+(i.modifiers&&i.modifiers.sync?",true":"")+")"}},cloak:S},Qo=function(e){this.options=e,this.warn=e.warn||pn,this.transforms=gn(e.modules,"transformCode"),this.dataGenFns=gn(e.modules,"genData"),this.directives=x(x({},qo),e.directives);var t=e.isReservedTag||_;this.maybeComponent=function(e){return!!e.component||!t(e.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function Xo(e,t){t=new Qo(t);return{render:"with(this){return "+(e?Zo(e,t):'_c("div")')+"}",staticRenderFns:t.staticRenderFns}}function Zo(e,t){if(e.parent&&(e.pre=e.pre||e.parent.pre),e.staticRoot&&!e.staticProcessed)return Jo(e,t);if(e.once&&!e.onceProcessed)return es(e,t);if(e.for&&!e.forProcessed)return is(e,t);if(e.if&&!e.ifProcessed)return ts(e,t);if("template"!==e.tag||e.slotTarget||t.pre){if("slot"===e.tag)return a=(s=e).slotName||'"default"',l=ss(s,t),c="_t("+a+(l?","+l:""),a=s.attrs||s.dynamicAttrs?cs((s.attrs||[]).concat(s.dynamicAttrs||[]).map(function(e){return{name:m(e.name),value:e.value,dynamic:e.dynamic}})):null,s=s.attrsMap["v-bind"],!a&&!s||l||(c+=",null"),a&&(c+=","+a),s&&(c+=(a?"":",null")+","+s),c+")";var i,n;n=e.component?(a=e.component,s=t,o=(c=e).inlineTemplate?null:ss(c,s,!0),"_c("+a+","+ns(c,s)+(o?","+o:"")+")"):((!e.plain||e.pre&&t.maybeComponent(e))&&(i=ns(e,t)),o=e.inlineTemplate?null:ss(e,t,!0),"_c('"+e.tag+"'"+(i?","+i:"")+(o?","+o:"")+")");for(var r=0;r<t.transforms.length;r++)n=t.transforms[r](e,n);return n}var o,s,a,l,c;return ss(e,t)||"void 0"}function Jo(e,t){e.staticProcessed=!0;var i=t.pre;return e.pre&&(t.pre=e.pre),t.staticRenderFns.push("with(this){return "+Zo(e,t)+"}"),t.pre=i,"_m("+(t.staticRenderFns.length-1)+(e.staticInFor?",true":"")+")"}function es(e,t){if(e.onceProcessed=!0,e.if&&!e.ifProcessed)return ts(e,t);if(e.staticInFor){for(var i="",n=e.parent;n;){if(n.for){i=n.key;break}n=n.parent}return i?"_o("+Zo(e,t)+","+t.onceId+++","+i+")":Zo(e,t)}return Jo(e,t)}function ts(e,t,i,n){return e.ifProcessed=!0,function e(t,i,n,r){if(!t.length)return r||"_e()";var o=t.shift();return o.exp?"("+o.exp+")?"+s(o.block)+":"+e(t,i,n,r):""+s(o.block);function s(e){return(n||(e.once?es:Zo))(e,i)}}(e.ifConditions.slice(),t,i,n)}function is(e,t,i,n){var r=e.for,o=e.alias,s=e.iterator1?","+e.iterator1:"",a=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,(n||"_l")+"(("+r+"),function("+o+s+a+"){return "+(i||Zo)(e,t)+"})"}function ns(t,i){var e="{",n=function(e,t){var i=e.directives;if(i){for(var n,r,o="directives:[",s=!1,a=0,l=i.length;a<l;a++){n=i[a],r=!0;var c=t.directives[n.name];c&&(r=!!c(e,n,t.warn)),r&&(s=!0,o+='{name:"'+n.name+'",rawName:"'+n.rawName+'"'+(n.value?",value:("+n.value+"),expression:"+JSON.stringify(n.value):"")+(n.arg?",arg:"+(n.isDynamicArg?n.arg:'"'+n.arg+'"'):"")+(n.modifiers?",modifiers:"+JSON.stringify(n.modifiers):"")+"},")}return s?o.slice(0,-1)+"]":void 0}}(t,i);n&&(e+=n+","),t.key&&(e+="key:"+t.key+","),t.ref&&(e+="ref:"+t.ref+","),t.refInFor&&(e+="refInFor:true,"),t.pre&&(e+="pre:true,"),t.component&&(e+='tag:"'+t.tag+'",');for(var r,o=0;o<i.dataGenFns.length;o++)e+=i.dataGenFns[o](t);return t.attrs&&(e+="attrs:"+cs(t.attrs)+","),t.props&&(e+="domProps:"+cs(t.props)+","),t.events&&(e+=Go(t.events,!1)+","),t.nativeEvents&&(e+=Go(t.nativeEvents,!0)+","),t.slotTarget&&!t.slotScope&&(e+="slot:"+t.slotTarget+","),t.scopedSlots&&(e+=function(e,t,i){var n=e.for||Object.keys(t).some(function(e){e=t[e];return e.slotTargetDynamic||e.if||e.for||rs(e)}),r=!!e.if;if(!n)for(var o=e.parent;o;){if(o.slotScope&&o.slotScope!==Mo||o.for){n=!0;break}o.if&&(r=!0),o=o.parent}e=Object.keys(t).map(function(e){return os(t[e],i)}).join(",");return"scopedSlots:_u(["+e+"]"+(n?",null,true":"")+(!n&&r?",null,false,"+function(e){for(var t=5381,i=e.length;i;)t=33*t^e.charCodeAt(--i);return t>>>0}(e):"")+")"}(t,t.scopedSlots,i)+","),t.model&&(e+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate&&(r=function(){var e=t.children[0];if(e&&1===e.type){e=Xo(e,i.options);return"inlineTemplate:{render:function(){"+e.render+"},staticRenderFns:["+e.staticRenderFns.map(function(e){return"function(){"+e+"}"}).join(",")+"]}"}}())&&(e+=r+","),e=e.replace(/,$/,"")+"}",t.dynamicAttrs&&(e="_b("+e+',"'+t.tag+'",'+cs(t.dynamicAttrs)+")"),t.wrapData&&(e=t.wrapData(e)),t.wrapListeners&&(e=t.wrapListeners(e)),e}function rs(e){return 1===e.type&&("slot"===e.tag||e.children.some(rs))}function os(e,t){var i=e.attrsMap["slot-scope"];if(e.if&&!e.ifProcessed&&!i)return ts(e,t,os,"null");if(e.for&&!e.forProcessed)return is(e,t,os);var n=e.slotScope===Mo?"":String(e.slotScope),t="function("+n+"){return "+("template"===e.tag?e.if&&i?"("+e.if+")?"+(ss(e,t)||"undefined")+":undefined":ss(e,t)||"undefined":Zo(e,t))+"}",n=n?"":",proxy:true";return"{key:"+(e.slotTarget||'"default"')+",fn:"+t+n+"}"}function ss(e,t,i,n,r){var o=e.children;if(o.length){var s=o[0];if(1===o.length&&s.for&&"template"!==s.tag&&"slot"!==s.tag){e=i?t.maybeComponent(s)?",1":",0":"";return(n||Zo)(s,t)+e}var i=i?function(e,t){for(var i=0,n=0;n<e.length;n++){var r=e[n];if(1===r.type){if(as(r)||r.ifConditions&&r.ifConditions.some(function(e){return as(e.block)})){i=2;break}(t(r)||r.ifConditions&&r.ifConditions.some(function(e){return t(e.block)}))&&(i=1)}}return i}(o,t.maybeComponent):0,a=r||ls;return"["+o.map(function(e){return a(e,t)}).join(",")+"]"+(i?","+i:"")}}function as(e){return void 0!==e.for||"template"===e.tag||"slot"===e.tag}function ls(e,t){return 1===e.type?Zo(e,t):3===e.type&&e.isComment?"_e("+JSON.stringify(e.text)+")":"_v("+(2===e.type?e.expression:hs(JSON.stringify(e.text)))+")"}function cs(e){for(var t="",i="",n=0;n<e.length;n++){var r=e[n],o=hs(r.value);r.dynamic?i+=r.name+","+o+",":t+='"'+r.name+'":'+o+","}return t="{"+t.slice(0,-1)+"}",i?"_d("+t+",["+i.slice(0,-1)+"])":t}function hs(e){return e.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function us(t,i){try{return new Function(t)}catch(e){return i.push({err:e,code:t}),S}}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b");var ds,fs,ps,gs,ms,Ge=(ds=function(e,t){e=Do(e.trim(),t);!1!==t.optimize&&zo(e,t);t=Xo(e,t);return{ast:e,render:t.render,staticRenderFns:t.staticRenderFns}},ps=Ge,{compile:ys,compileToFunctions:(gs=ys,ms=Object.create(null),function(e,t,i){(t=x({},t)).warn,delete t.warn;var n=t.delimiters?String(t.delimiters)+e:e;if(ms[n])return ms[n];var e=gs(e,t),t={},r=[];return t.render=us(e.render,r),t.staticRenderFns=e.staticRenderFns.map(function(e){return us(e,r)}),ms[n]=t})}),vs=Ge.compileToFunctions;function ys(e,t){var i=Object.create(ps),n=[],r=[];if(t)for(var o in t.modules&&(i.modules=(ps.modules||[]).concat(t.modules)),t.directives&&(i.directives=x(Object.create(ps.directives||null),t.directives)),t)"modules"!==o&&"directives"!==o&&(i[o]=t[o]);i.warn=function(e,t,i){(i?r:n).push(e)};e=ds(e.trim(),i);return e.errors=n,e.tips=r,e}function bs(e){return(fs=fs||document.createElement("div")).innerHTML=e?'<a href="\n"/>':'<div a="\n"/>',0<fs.innerHTML.indexOf("&#10;")}var ws=!!j&&bs(!1),xs=!!j&&bs(!0),Cs=e(function(e){e=Vi(e);return e&&e.innerHTML}),Ss=vi.prototype.$mount;return vi.prototype.$mount=function(e,t){if((e=e&&Vi(e))===document.body||e===document.documentElement)return this;var i=this.$options;if(!i.render){var n,r=i.template;if(r)if("string"==typeof r)"#"===r.charAt(0)&&(r=Cs(r));else{if(!r.nodeType)return this;r=r.innerHTML}else e&&(r=function(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}(e));r&&(r=(n=vs(r,{outputSourceRange:!1,shouldDecodeNewlines:ws,shouldDecodeNewlinesForHref:xs,delimiters:i.delimiters,comments:i.comments},this)).render,n=n.staticRenderFns,i.render=r,i.staticRenderFns=n)}return Ss.call(this,e,t)},vi.compile=vs,vi}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("vue")):"function"==typeof define&&define.amd?define("ELEMENT",["vue"],t):"object"==typeof exports?exports.ELEMENT=t(require("vue")):e.ELEMENT=t(e.Vue)}("undefined"!=typeof self?self:this,function(i){return o={},r.m=n=[function(e,t){e.exports=i},function(e,t,i){var n=i(4);e.exports=function(e,t,i){return void 0===i?n(e,t,!1):n(e,i,!1!==t)}},function(p,g,m){var v;!function(){"use strict";function e(){}var c={},h=/d{1,4}|M{1,4}|yy(?:yy)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,t="[^\\s]+",u=/\[([^]*?)\]/gm;function i(e,t){for(var i=[],n=0,r=e.length;n<r;n++)i.push(e[n].substr(0,t));return i}function n(n){return function(e,t,i){t=i[n].indexOf(t.charAt(0).toUpperCase()+t.substr(1).toLowerCase());~t&&(e.month=t)}}function r(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}var o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=["January","February","March","April","May","June","July","August","September","October","November","December"],a=i(s,3),l=i(o,3);c.i18n={dayNamesShort:l,dayNames:o,monthNamesShort:a,monthNames:s,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][3<e%10?0:(e-e%10!=10)*e%10]}};var d={D:function(e){return e.getDay()},DD:function(e){return r(e.getDay())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return e.getDate()},dd:function(e){return r(e.getDate())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return r(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},yy:function(e){return r(String(e.getFullYear()),4).substr(2)},yyyy:function(e){return r(e.getFullYear(),4)},h:function(e){return e.getHours()%12||12},hh:function(e){return r(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return r(e.getHours())},m:function(e){return e.getMinutes()},mm:function(e){return r(e.getMinutes())},s:function(e){return e.getSeconds()},ss:function(e){return r(e.getSeconds())},S:function(e){return Math.round(e.getMilliseconds()/100)},SS:function(e){return r(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return r(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return(e.getHours()<12?t.amPm[0]:t.amPm[1]).toUpperCase()},ZZ:function(e){e=e.getTimezoneOffset();return(0<e?"-":"+")+r(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)}},f={d:["\\d\\d?",function(e,t){e.day=t}],Do:["\\d\\d?"+t,function(e,t){e.day=parseInt(t,10)}],M:["\\d\\d?",function(e,t){e.month=t-1}],yy:["\\d\\d?",function(e,t){var i=+(""+(new Date).getFullYear()).substr(0,2);e.year=""+(68<t?i-1:i)+t}],h:["\\d\\d?",function(e,t){e.hour=t}],m:["\\d\\d?",function(e,t){e.minute=t}],s:["\\d\\d?",function(e,t){e.second=t}],yyyy:["\\d{4}",function(e,t){e.year=t}],S:["\\d",function(e,t){e.millisecond=100*t}],SS:["\\d{2}",function(e,t){e.millisecond=10*t}],SSS:["\\d{3}",function(e,t){e.millisecond=t}],D:["\\d\\d?",e],ddd:[t,e],MMM:[t,n("monthNamesShort")],MMMM:[t,n("monthNames")],a:[t,function(e,t,i){t=t.toLowerCase();t===i.amPm[0]?e.isPm=!1:t===i.amPm[1]&&(e.isPm=!0)}],ZZ:["[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z",function(e,t){var i=(t+"").match(/([+-]|\d\d)/gi);i&&(t=60*i[1]+parseInt(i[2],10),e.timezoneOffset="+"===i[0]?t:-t)}]};f.dd=f.d,f.dddd=f.ddd,f.DD=f.D,f.mm=f.m,f.hh=f.H=f.HH=f.h,f.MM=f.M,f.ss=f.s,f.A=f.a,c.masks={default:"ddd MMM dd yyyy HH:mm:ss",shortDate:"M/D/yy",mediumDate:"MMM d, yyyy",longDate:"MMMM d, yyyy",fullDate:"dddd, MMMM d, yyyy",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},c.format=function(t,e,i){var n=i||c.i18n;if("number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date in fecha.format");e=c.masks[e]||e||c.masks.default;var r=[];return(e=(e=e.replace(u,function(e,t){return r.push(t),"@@@"})).replace(h,function(e){return e in d?d[e](t,n):e.slice(1,e.length-1)})).replace(/@@@/g,function(){return r.shift()})},c.parse=function(e,t,i){var n=i||c.i18n;if("string"!=typeof t)throw new Error("Invalid format in fecha.parse");if(t=c.masks[t]||t,1e3<e.length)return null;var r={},o=[],s=[],t=(t=(t=t.replace(u,function(e,t){return s.push(t),"@@@"})).replace(/[|\\{()[^$+*?.-]/g,"\\$&").replace(h,function(e){if(f[e]){var t=f[e];return o.push(t[1]),"("+t[0]+")"}return e})).replace(/@@@/g,function(){return s.shift()}),a=e.match(new RegExp(t,"i"));if(!a)return null;for(var l=1;l<a.length;l++)o[l-1](r,a[l],n);t=new Date;return!0===r.isPm&&null!=r.hour&&12!=+r.hour?r.hour=+r.hour+12:!1===r.isPm&&12==+r.hour&&(r.hour=0),null!=r.timezoneOffset?(r.minute=+(r.minute||0)-+r.timezoneOffset,new Date(Date.UTC(r.year||t.getFullYear(),r.month||0,r.day||1,r.hour||0,r.minute||0,r.second||0,r.millisecond||0))):new Date(r.year||t.getFullYear(),r.month||0,r.day||1,r.hour||0,r.minute||0,r.second||0,r.millisecond||0)},p.exports?p.exports=c:void 0===(v=function(){return c}.call(g,m,g,p))||(p.exports=v)}()},function(e,t,i){"use strict";t.__esModule=!0;var n=s(i(65)),r=s(i(77)),o="function"==typeof r.default&&"symbol"==typeof n.default?function(e){return typeof e}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":typeof e};function s(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof r.default&&"symbol"===o(n.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":void 0===e?"undefined":o(e)}},function(e,t){e.exports=function(r,o,s,a){var l,c=0;return"boolean"!=typeof o&&(a=s,s=o,o=void 0),function(){var e=this,t=Number(new Date)-c,i=arguments;function n(){c=Number(new Date),s.apply(e,i)}a&&!l&&n(),l&&clearTimeout(l),void 0===a&&r<t?n():!0!==o&&(l=setTimeout(a?function(){l=void 0}:n,void 0===a?r-t:r))}}},function(e,t){e=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(e,t){var a=/^(attrs|props|on|nativeOn|class|style|hook)$/;e.exports=function(e){return e.reduce(function(e,t){var i,n,r,o,s;for(r in t)if(i=e[r],n=t[r],i&&a.test(r))if("class"===r&&("string"==typeof i&&(s=i,e[r]=i={},i[s]=!0),"string"==typeof n&&(s=n,t[r]=n={},n[s]=!0)),"on"===r||"nativeOn"===r||"hook"===r)for(o in n)i[o]=function(e,t){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}}(i[o],n[o]);else if(Array.isArray(i))e[r]=i.concat(n);else if(Array.isArray(n))e[r]=[i].concat(n);else for(o in n)i[o]=n[o];else e[r]=t[r];return e},{})}},function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},function(e,t,i){"use strict";t.__esModule=!0;i=i(56),i=i&&i.__esModule?i:{default:i};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}},function(e,t,i){var n=i(10),r=i(18);e.exports=i(11)?function(e,t,i){return n.f(e,t,r(1,i))}:function(e,t,i){return e[t]=i,e}},function(e,t,i){var n=i(17),r=i(36),o=i(24),s=Object.defineProperty;t.f=i(11)?Object.defineProperty:function(e,t,i){if(n(e),t=o(t,!0),n(i),r)try{return s(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},function(e,t,i){e.exports=!i(16)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,i){var n=i(39),r=i(25);e.exports=function(e){return n(r(e))}},function(e,t,i){var n=i(28)("wks"),r=i(21),o=i(5).Symbol,s="function"==typeof o;(e.exports=function(e){return n[e]||(n[e]=s&&o[e]||(s?o:r)("Symbol."+e))}).store=n},function(e,t){e=e.exports={version:"2.6.2"};"number"==typeof __e&&(__e=e)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,i){var n=i(15);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,i){var n=i(38),r=i(29);e.exports=Object.keys||function(e){return n(e,r)}},function(e,t){e.exports=!0},function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,i){var g=i(5),m=i(14),v=i(59),y=i(9),b=i(7),w=function(e,t,i){var n,r,o,s=e&w.F,a=e&w.G,l=e&w.S,c=e&w.P,h=e&w.B,u=e&w.W,d=a?m:m[t]||(m[t]={}),f=d.prototype,p=a?g:l?g[t]:(g[t]||{}).prototype;for(n in a&&(i=t),i)(r=!s&&p&&void 0!==p[n])&&b(d,n)||(o=(r?p:i)[n],d[n]=a&&"function"!=typeof p[n]?i[n]:h&&r?v(o,g):u&&p[n]==o?function(n){function e(e,t,i){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(e);case 2:return new n(e,t)}return new n(e,t,i)}return n.apply(this,arguments)}return e.prototype=n.prototype,e}(o):c&&"function"==typeof o?v(Function.call,o):o,c&&((d.virtual||(d.virtual={}))[n]=o,e&w.R&&f&&!f[n]&&y(f,n,o)))};w.F=1,w.G=2,w.S=4,w.P=8,w.B=16,w.W=32,w.U=64,w.R=128,e.exports=w},function(e,t,i){var r=i(15);e.exports=function(e,t){if(!r(e))return e;var i,n;if(t&&"function"==typeof(i=e.toString)&&!r(n=i.call(e)))return n;if("function"==typeof(i=e.valueOf)&&!r(n=i.call(e)))return n;if(!t&&"function"==typeof(i=e.toString)&&!r(n=i.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?n:i)(e)}},function(e,t,i){var n=i(28)("keys"),r=i(21);e.exports=function(e){return n[e]||(n[e]=r(e))}},function(e,t,i){var n=i(14),r=i(5),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:i(20)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){e.exports={}},function(e,t,i){var n=i(10).f,r=i(7),o=i(13)("toStringTag");e.exports=function(e,t,i){e&&!r(e=i?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},function(e,t,i){t.f=i(13)},function(e,t,i){var n=i(5),r=i(14),o=i(20),s=i(33),a=i(10).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=!o&&n.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},function(e,t,i){var n=i(4),i=i(1);e.exports={throttle:n,debounce:i}},function(e,t,i){e.exports=!i(11)&&!i(16)(function(){return 7!=Object.defineProperty(i(37)("div"),"a",{get:function(){return 7}}).a})},function(e,t,i){var n=i(15),r=i(5).document,o=n(r)&&n(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},function(e,t,i){var s=i(7),a=i(12),l=i(62)(!1),c=i(27)("IE_PROTO");e.exports=function(e,t){var i,n=a(e),r=0,o=[];for(i in n)i!=c&&s(n,i)&&o.push(i);for(;t.length>r;)s(n,i=t[r++])&&(~l(o,i)||o.push(i));return o}},function(e,t,i){var n=i(40);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},function(e,t,i){var n=i(25);e.exports=function(e){return Object(n(e))}},function(e,t,i){"use strict";function y(){return this}var b=i(20),w=i(23),x=i(43),C=i(9),S=i(31),_=i(69),k=i(32),M=i(72),T=i(13)("iterator"),D=!([].keys&&"next"in[].keys());e.exports=function(e,t,i,n,r,o,s){_(i,t,n);function a(e){if(!D&&e in p)return p[e];switch(e){case"keys":case"values":return function(){return new i(this,e)}}return function(){return new i(this,e)}}var l,c,h,u=t+" Iterator",d="values"==r,f=!1,p=e.prototype,g=p[T]||p["@@iterator"]||r&&p[r],m=g||a(r),v=r?d?a("entries"):m:void 0,n="Array"==t&&p.entries||g;if(n&&(h=M(n.call(new e)))!==Object.prototype&&h.next&&(k(h,u,!0),b||"function"==typeof h[T]||C(h,T,y)),d&&g&&"values"!==g.name&&(f=!0,m=function(){return g.call(this)}),b&&!s||!D&&!f&&p[T]||C(p,T,m),S[t]=m,S[u]=y,r)if(l={values:d?m:a("values"),keys:o?m:a("keys"),entries:v},s)for(c in l)c in p||x(p,c,l[c]);else w(w.P+w.F*(D||f),t,l);return l}},function(e,t,i){e.exports=i(9)},function(e,t,i){function n(){}var r=i(17),o=i(70),s=i(29),a=i(27)("IE_PROTO"),l=function(){var e=i(37)("iframe"),t=s.length;for(e.style.display="none",i(71).appendChild(e),e.src="javascript:",(e=e.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;t--;)delete l.prototype[s[t]];return l()};e.exports=Object.create||function(e,t){var i;return null!==e?(n.prototype=r(e),i=new n,n.prototype=null,i[a]=e):i=l(),void 0===t?i:o(i,t)}},function(e,t,i){var n=i(38),r=i(29).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},function(e,t,i){"use strict";var l=function(e){return!(!e||"object"!=typeof e||(t=e,"[object RegExp]"===(e=Object.prototype.toString.call(t))||"[object Date]"===e||t.$$typeof===n));var t},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function c(e,t){return t&&!0===t.clone&&l(e)?u(Array.isArray(e)?[]:{},e,t):e}function h(i,e,n){var r=i.slice();return e.forEach(function(e,t){void 0===r[t]?r[t]=c(e,n):l(e)?r[t]=u(i[t],e,n):-1===i.indexOf(e)&&r.push(c(e,n))}),r}function u(e,t,i){var n,r,o,s,a=Array.isArray(t);return a===Array.isArray(e)?a?((i||{arrayMerge:h}).arrayMerge||h)(e,t,i):(r=t,o=i,s={},l(n=e)&&Object.keys(n).forEach(function(e){s[e]=c(n[e],o)}),Object.keys(r).forEach(function(e){l(r[e])&&n[e]?s[e]=u(n[e],r[e],o):s[e]=c(r[e],o)}),s):c(t,i)}u.all=function(e,i){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,t){return u(e,t,i)})},e.exports=u},function(e,M,t){"use strict";(function(e){var n="undefined"!=typeof Map?Map:(Object.defineProperty(o.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),o.prototype.get=function(e){e=r(this.__entries__,e),e=this.__entries__[e];return e&&e[1]},o.prototype.set=function(e,t){var i=r(this.__entries__,e);~i?this.__entries__[i][1]=t:this.__entries__.push([e,t])},o.prototype.delete=function(e){var t=this.__entries__,e=r(t,e);~e&&t.splice(e,1)},o.prototype.has=function(e){return!!~r(this.__entries__,e)},o.prototype.clear=function(){this.__entries__.splice(0)},o.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var i=0,n=this.__entries__;i<n.length;i++){var r=n[i];e.call(t,r[1],r[0])}},o),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,t=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),l="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(t):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)};function r(e,i){var n=-1;return e.some(function(e,t){return e[0]===i&&(n=t,!0)}),n}function o(){this.__entries__=[]}function s(e,t){for(var i=0,n=Object.keys(t);i<n.length;i++){var r=n[i];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e}var a=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,h=(f.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},f.prototype.removeObserver=function(e){var t=this.observers_,e=t.indexOf(e);~e&&t.splice(e,1),!t.length&&this.connected_&&this.disconnect_()},f.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},f.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),0<e.length},f.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},f.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},f.prototype.onTransitionEnd_=function(e){var e=e.propertyName,t=void 0===e?"":e;a.some(function(e){return!!~t.indexOf(e)})&&this.refresh()},f.getInstance=function(){return this.instance_||(this.instance_=new f),this.instance_},f.instance_=null,f),u=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||t},d=y(0,0,0,0);function f(){function e(){o&&(o=!1,n()),s&&i()}function t(){l(e)}function i(){var e=Date.now();if(o){if(e-a<2)return;s=!0}else s=!(o=!0),setTimeout(t,r);a=e}var n,r,o,s,a;this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=(n=this.refresh.bind(this),s=o=!(r=20),a=0,i)}function p(e){return parseFloat(e)||0}function g(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(e,t){return e+p(i["border-"+t+"-width"])},0)}var m="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof u(e).SVGGraphicsElement}:function(e){return e instanceof u(e).SVGElement&&"function"==typeof e.getBBox};function v(e){return i?m(e)?y(0,0,(t=e.getBBox()).width,t.height):function(e){var t=e.clientWidth,i=e.clientHeight;if(!t&&!i)return d;var n=u(e).getComputedStyle(e),r=function(e){for(var t={},i=0,n=["top","right","bottom","left"];i<n.length;i++){var r=n[i],o=e["padding-"+r];t[r]=p(o)}return t}(n),o=r.left+r.right,s=r.top+r.bottom,a=p(n.width),l=p(n.height);return"border-box"===n.boxSizing&&(Math.round(a+o)!==t&&(a-=g(n,"left","right")+o),Math.round(l+s)!==i&&(l-=g(n,"top","bottom")+s)),e!==u(e).document.documentElement&&(t=Math.round(a+o)-t,i=Math.round(l+s)-i,1!==Math.abs(t)&&(a-=t),1!==Math.abs(i)&&(l-=i)),y(r.left,r.top,a,l)}(e):d;var t}function y(e,t,i,n){return{x:e,y:t,width:i,height:n}}var b=(k.prototype.isActive=function(){var e=v(this.target);return(this.contentRect_=e).width!==this.broadcastWidth||e.height!==this.broadcastHeight},k.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},k),w=function(e,t){var i,n,r,o,t=(i=t.x,n=t.y,r=t.width,o=t.height,t="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,t=Object.create(t.prototype),s(t,{x:i,y:n,width:r,height:o,top:n,right:i+r,bottom:o+n,left:i}),t);s(this,{target:e,contentRect:t})},x=(_.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof u(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},_.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof u(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},_.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},_.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},_.prototype.broadcastActive=function(){var e,t;this.hasActive()&&(e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new w(e.target,e.broadcastRect())}),this.callback_.call(e,t,e),this.clearActive())},_.prototype.clearActive=function(){this.activeObservations_.splice(0)},_.prototype.hasActive=function(){return 0<this.activeObservations_.length},_),C=new("undefined"!=typeof WeakMap?WeakMap:n),S=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=h.getInstance(),i=new x(t,i,this);C.set(this,i)};function _(e,t,i){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}function k(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}["observe","unobserve","disconnect"].forEach(function(t){S.prototype[t]=function(){var e;return(e=C.get(this))[t].apply(e,arguments)}});e=void 0!==t.ResizeObserver?t.ResizeObserver:S;M.a=e}).call(this,t(51))},function(e,t,i){e.exports=i(52)},function(e,t,i){e.exports=i(88)},function(e,t,i){var n;void 0===(n="function"==typeof(n=function(){"use strict";var c=window,r={placement:"bottom",gpuAcceleration:!0,offset:0,boundariesElement:"viewport",boundariesPadding:5,preventOverflowOrder:["left","right","top","bottom"],flipBehavior:"flip",arrowElement:"[x-arrow]",arrowOffset:0,modifiers:["shift","offset","preventOverflow","keepTogether","arrow","flip","applyStyle"],modifiersIgnored:[],forceAbsolute:!1};function e(e,t,i){this._reference=e.jquery?e[0]:e,this.state={};var n=null==t,e=t&&"[object Object]"===Object.prototype.toString.call(t);return this._popper=n||e?this.parse(e?t:{}):t.jquery?t[0]:t,this._options=Object.assign({},r,i),this._options.modifiers=this._options.modifiers.map(function(e){if(-1===this._options.modifiersIgnored.indexOf(e))return"applyStyle"===e&&this._popper.setAttribute("x-placement",this._options.placement),this.modifiers[e]||e}.bind(this)),this.state.position=this._getPosition(this._popper,this._reference),o(this._popper,{position:this.state.position,top:0}),this.update(),this._setupEventListeners(),this}function u(e){var t=e.style.display,i=e.style.visibility;e.style.display="block",e.style.visibility="hidden",e.offsetWidth;var n=c.getComputedStyle(e),r=parseFloat(n.marginTop)+parseFloat(n.marginBottom),n=parseFloat(n.marginLeft)+parseFloat(n.marginRight),r={width:e.offsetWidth+n,height:e.offsetHeight+r};return e.style.display=t,e.style.visibility=i,r}function l(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function d(e){e=Object.assign({},e);return e.right=e.left+e.width,e.bottom=e.top+e.height,e}function n(e,t){var i,n=0;for(i in e){if(e[i]===t)return n;n++}return null}function i(e,t){return c.getComputedStyle(e,null)[t]}function h(e){e=e.offsetParent;return e!==c.document.body&&e?e:c.document.documentElement}function f(e){var t=e.parentNode;return t?t===c.document?c.document.body.scrollTop||c.document.body.scrollLeft?c.document.body:c.document.documentElement:-1!==["scroll","auto"].indexOf(i(t,"overflow"))||-1!==["scroll","auto"].indexOf(i(t,"overflow-x"))||-1!==["scroll","auto"].indexOf(i(t,"overflow-y"))?t:f(e.parentNode):e}function o(n,r){Object.keys(r).forEach(function(e){var t,i="";-1!==["width","height","top","right","bottom","left"].indexOf(e)&&""!==(t=r[e])&&!isNaN(parseFloat(t))&&isFinite(t)&&(i="px"),n.style[e]=r[e]+i})}function p(e){e={width:e.offsetWidth,height:e.offsetHeight,left:e.offsetLeft,top:e.offsetTop};return e.right=e.left+e.width,e.bottom=e.top+e.height,e}function a(e){var t=e.getBoundingClientRect(),e=-1!=navigator.userAgent.indexOf("MSIE")&&"HTML"===e.tagName?-e.scrollTop:t.top;return{left:t.left,top:e,right:t.right,bottom:t.bottom,width:t.right-t.left,height:t.bottom-e}}function s(e){for(var t=["","ms","webkit","moz","o"],i=0;i<t.length;i++){var n=t[i]?t[i]+e.charAt(0).toUpperCase()+e.slice(1):e;if(void 0!==c.document.body.style[n])return n}return null}return e.prototype.destroy=function(){return this._popper.removeAttribute("x-placement"),this._popper.style.left="",this._popper.style.position="",this._popper.style.top="",this._popper.style[s("transform")]="",this._removeEventListeners(),this._options.removeOnDestroy&&this._popper.remove(),this},e.prototype.update=function(){var e={instance:this,styles:{}};e.placement=this._options.placement,e._originalPlacement=this._options.placement,e.offsets=this._getOffsets(this._popper,this._reference,e.placement),e.boundaries=this._getBoundaries(e,this._options.boundariesPadding,this._options.boundariesElement),e=this.runModifiers(e,this._options.modifiers),"function"==typeof this.state.updateCallback&&this.state.updateCallback(e)},e.prototype.onCreate=function(e){return e(this),this},e.prototype.onUpdate=function(e){return this.state.updateCallback=e,this},e.prototype.parse=function(e){var t={tagName:"div",classNames:["popper"],attributes:[],parent:c.document.body,content:"",contentType:"text",arrowTagName:"div",arrowClassNames:["popper__arrow"],arrowAttributes:["x-arrow"]};e=Object.assign({},t,e);var i=c.document,t=i.createElement(e.tagName);r(t,e.classNames),o(t,e.attributes),"node"===e.contentType?t.appendChild(e.content.jquery?e.content[0]:e.content):"html"===e.contentType?t.innerHTML=e.content:t.textContent=e.content,e.arrowTagName&&(r(n=i.createElement(e.arrowTagName),e.arrowClassNames),o(n,e.arrowAttributes),t.appendChild(n));var n=e.parent.jquery?e.parent[0]:e.parent;if("string"==typeof n){if(1<(n=i.querySelectorAll(e.parent)).length&&console.warn("WARNING: the given `parent` query("+e.parent+") matched more than one element, the first one will be used"),0===n.length)throw"ERROR: the given `parent` doesn't exists!";n=n[0]}return 1<n.length&&n instanceof Element==0&&(console.warn("WARNING: you have passed as parent a list of elements, the first one will be used"),n=n[0]),n.appendChild(t),t;function r(t,e){e.forEach(function(e){t.classList.add(e)})}function o(t,e){e.forEach(function(e){t.setAttribute(e.split(":")[0],e.split(":")[1]||"")})}},e.prototype._getPosition=function(e,t){return h(t),!this._options.forceAbsolute&&function e(t){return t!==c.document.body&&("fixed"===i(t,"position")||(t.parentNode?e(t.parentNode):t))}(t)?"fixed":"absolute"},e.prototype._getOffsets=function(e,t,i){i=i.split("-")[0];var n={};n.position=this.state.position;var r,o,s="fixed"===n.position,s=(r=h(e),o=s,s=a(t),t=a(r),o&&(r=f(r),t.top+=r.scrollTop,t.bottom+=r.scrollTop,t.left+=r.scrollLeft,t.right+=r.scrollLeft),{top:s.top-t.top,left:s.left-t.left,bottom:s.top-t.top+s.height,right:s.left-t.left+s.width,width:s.width,height:s.height}),e=u(e);return-1!==["right","left"].indexOf(i)?(n.top=s.top+s.height/2-e.height/2,n.left="left"===i?s.left-e.width:s.right):(n.left=s.left+s.width/2-e.width/2,n.top="top"===i?s.top-e.height:s.bottom),n.width=e.width,n.height=e.height,{popper:n,reference:s}},e.prototype._setupEventListeners=function(){var e;this.state.updateBound=this.update.bind(this),c.addEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement&&((e=f(this._reference))!==c.document.body&&e!==c.document.documentElement||(e=c),e.addEventListener("scroll",this.state.updateBound),this.state.scrollTarget=e)},e.prototype._removeEventListeners=function(){c.removeEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement&&this.state.scrollTarget&&(this.state.scrollTarget.removeEventListener("scroll",this.state.updateBound),this.state.scrollTarget=null),this.state.updateBound=null},e.prototype._getBoundaries=function(e,t,i){var n,r,o,s,a,l={};return(l="window"===i?(n=c.document.body,o=c.document.documentElement,r=Math.max(n.scrollHeight,n.offsetHeight,o.clientHeight,o.scrollHeight,o.offsetHeight),{top:0,right:Math.max(n.scrollWidth,n.offsetWidth,o.clientWidth,o.scrollWidth,o.offsetWidth),bottom:r,left:0}):"viewport"===i?(o=h(this._popper),r=f(this._popper),o=p(o),s="fixed"===e.offsets.popper.position?0:(s=r)==document.body?Math.max(document.documentElement.scrollTop,document.body.scrollTop):s.scrollTop,a="fixed"===e.offsets.popper.position?0:(a=r)==document.body?Math.max(document.documentElement.scrollLeft,document.body.scrollLeft):a.scrollLeft,{top:0-(o.top-s),right:c.document.documentElement.clientWidth-(o.left-a),bottom:c.document.documentElement.clientHeight-(o.top-s),left:0-(o.left-a)}):h(this._popper)===i?{top:0,left:0,right:i.clientWidth,bottom:i.clientHeight}:p(i)).left+=t,l.right-=t,l.top=l.top+t,l.bottom=l.bottom-t,l},e.prototype.runModifiers=function(t,e,i){e=e.slice();return void 0!==i&&(e=this._options.modifiers.slice(0,n(this._options.modifiers,i))),e.forEach(function(e){e&&"[object Function]"==={}.toString.call(e)&&(t=e.call(this,t))}.bind(this)),t},e.prototype.isModifierRequired=function(e,t){e=n(this._options.modifiers,e);return!!this._options.modifiers.slice(0,e).filter(function(e){return e===t}).length},(e.prototype.modifiers={}).applyStyle=function(e){var t,i={position:e.offsets.popper.position},n=Math.round(e.offsets.popper.left),r=Math.round(e.offsets.popper.top);return this._options.gpuAcceleration&&(t=s("transform"))?(i[t]="translate3d("+n+"px, "+r+"px, 0)",i.top=0,i.left=0):(i.left=n,i.top=r),Object.assign(i,e.styles),o(this._popper,i),this._popper.setAttribute("x-placement",e.placement),this.isModifierRequired(this.modifiers.applyStyle,this.modifiers.arrow)&&e.offsets.arrow&&o(e.arrowElement,e.offsets.arrow),e},e.prototype.modifiers.shift=function(e){var t,i=e.placement,n=i.split("-")[0],r=i.split("-")[1];return r&&(t=e.offsets.reference,i=d(e.offsets.popper),t={y:{start:{top:t.top},end:{top:t.top+t.height-i.height}},x:{start:{left:t.left},end:{left:t.left+t.width-i.width}}},n=-1!==["bottom","top"].indexOf(n)?"x":"y",e.offsets.popper=Object.assign(i,t[n][r])),e},e.prototype.modifiers.preventOverflow=function(t){var e=this._options.preventOverflowOrder,i=d(t.offsets.popper),n={left:function(){var e=i.left;return i.left<t.boundaries.left&&(e=Math.max(i.left,t.boundaries.left)),{left:e}},right:function(){var e=i.left;return i.right>t.boundaries.right&&(e=Math.min(i.left,t.boundaries.right-i.width)),{left:e}},top:function(){var e=i.top;return i.top<t.boundaries.top&&(e=Math.max(i.top,t.boundaries.top)),{top:e}},bottom:function(){var e=i.top;return i.bottom>t.boundaries.bottom&&(e=Math.min(i.top,t.boundaries.bottom-i.height)),{top:e}}};return e.forEach(function(e){t.offsets.popper=Object.assign(i,n[e]())}),t},e.prototype.modifiers.keepTogether=function(e){var t=d(e.offsets.popper),i=e.offsets.reference,n=Math.floor;return t.right<n(i.left)&&(e.offsets.popper.left=n(i.left)-t.width),t.left>n(i.right)&&(e.offsets.popper.left=n(i.right)),t.bottom<n(i.top)&&(e.offsets.popper.top=n(i.top)-t.height),t.top>n(i.bottom)&&(e.offsets.popper.top=n(i.bottom)),e},e.prototype.modifiers.flip=function(n){if(!this.isModifierRequired(this.modifiers.flip,this.modifiers.preventOverflow))return console.warn("WARNING: preventOverflow modifier is required by flip modifier in order to work, be sure to include it before flip!"),n;if(n.flipped&&n.placement===n._originalPlacement)return n;var r=n.placement.split("-")[0],o=l(r),s=n.placement.split("-")[1]||"",a=[];return(a="flip"===this._options.flipBehavior?[r,o]:this._options.flipBehavior).forEach(function(e,t){var i;r===e&&a.length!==t+1&&(r=n.placement.split("-")[0],o=l(r),i=d(n.offsets.popper),((e=-1!==["right","bottom"].indexOf(r))&&Math.floor(n.offsets.reference[r])>Math.floor(i[o])||!e&&Math.floor(n.offsets.reference[r])<Math.floor(i[o]))&&(n.flipped=!0,n.placement=a[t+1],s&&(n.placement+="-"+s),n.offsets.popper=this._getOffsets(this._popper,this._reference,n.placement).popper,n=this.runModifiers(n,this._options.modifiers,this._flip)))}.bind(this)),n},e.prototype.modifiers.offset=function(e){var t=this._options.offset,i=e.offsets.popper;return-1!==e.placement.indexOf("left")?i.top-=t:-1!==e.placement.indexOf("right")?i.top+=t:-1!==e.placement.indexOf("top")?i.left-=t:-1!==e.placement.indexOf("bottom")&&(i.left+=t),e},e.prototype.modifiers.arrow=function(e){var t=this._options.arrowElement,i=this._options.arrowOffset;if("string"==typeof t&&(t=this._popper.querySelector(t)),!t)return e;if(!this._popper.contains(t))return console.warn("WARNING: `arrowElement` must be child of its popper element!"),e;if(!this.isModifierRequired(this.modifiers.arrow,this.modifiers.keepTogether))return console.warn("WARNING: keepTogether modifier is required by arrow modifier in order to work, be sure to include it before arrow!"),e;var n={},r=e.placement.split("-")[0],o=d(e.offsets.popper),s=e.offsets.reference,a=-1!==["left","right"].indexOf(r),l=a?"height":"width",c=a?"top":"left",h=a?"left":"top",r=a?"bottom":"right",a=u(t)[l];s[r]-a<o[c]&&(e.offsets.popper[c]-=o[c]-(s[r]-a)),s[c]+a>o[r]&&(e.offsets.popper[c]+=s[c]+a-o[r]);s=s[c]+(i||s[l]/2-a/2)-o[c],s=Math.max(Math.min(o[l]-a-8,s),8);return n[c]=s,n[h]="",e.offsets.arrow=n,e.arrowElement=t,e},Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n){n=Object(n);for(var r=Object.keys(n),o=0,s=r.length;o<s;o++){var a=r[o],l=Object.getOwnPropertyDescriptor(n,a);void 0!==l&&l.enumerable&&(t[a]=n[a])}}}return t}}),e})?n.call(t,i,t,e):n)||(e.exports=n)},function(e,t){var i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){"use strict";var n=i(53),r=i(54);function o(e){var t=0,i=0,n=0,r=0;return"detail"in e&&(i=e.detail),"wheelDelta"in e&&(i=-e.wheelDelta/120),"wheelDeltaY"in e&&(i=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=i,i=0),n=10*t,r=10*i,"deltaY"in e&&(r=e.deltaY),"deltaX"in e&&(n=e.deltaX),(n||r)&&e.deltaMode&&(1==e.deltaMode?(n*=40,r*=40):(n*=800,r*=800)),n&&!t&&(t=n<1?-1:1),r&&!i&&(i=r<1?-1:1),{spinX:t,spinY:i,pixelX:n,pixelY:r}}o.getEventType=function(){return n.firefox()?"DOMMouseScroll":r("wheel")?"wheel":"mousewheel"},e.exports=o},function(e,t){var r,o,s,a,l,c,h,u,d,f,p,g,m,v,y,b=!1;function i(){var e,t,i,n;b||(b=!0,n=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(n),t=/(Mac OS X)|(Windows)|(Linux)/.exec(n),g=/\b(iPhone|iP[ao]d)/.exec(n),m=/\b(iP[ao]d)/.exec(n),f=/Android/i.exec(n),v=/FBAN\/\w+;/i.exec(n),y=/Mobile/i.exec(n),p=!!/Win64/.exec(n),e?((r=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN)&&document&&document.documentMode&&(r=document.documentMode),i=/(?:Trident\/(\d+.\d+))/.exec(n),c=i?parseFloat(i[1])+4:r,o=e[2]?parseFloat(e[2]):NaN,s=e[3]?parseFloat(e[3]):NaN,l=(a=e[4]?parseFloat(e[4]):NaN)?(e=/(?:Chrome\/(\d+\.\d+))/.exec(n))&&e[1]?parseFloat(e[1]):NaN:NaN):r=o=s=l=a=NaN,t?(h=!!t[1]&&(!(n=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(n))||parseFloat(n[1].replace("_","."))),u=!!t[2],d=!!t[3]):h=u=d=!1)}var n={ie:function(){return i(),r},ieCompatibilityMode:function(){return i(),r<c},ie64:function(){return n.ie()&&p},firefox:function(){return i(),o},opera:function(){return i(),s},webkit:function(){return i(),a},safari:function(){return n.webkit()},chrome:function(){return i(),l},windows:function(){return i(),u},osx:function(){return i(),h},linux:function(){return i(),d},iphone:function(){return i(),g},mobile:function(){return i(),g||m||f||y},nativeApp:function(){return i(),v},android:function(){return i(),f},ipad:function(){return i(),m}};e.exports=n},function(e,t,i){"use strict";var r,o=i(55);o.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),e.exports=function(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var i="on"+e,n=i in document;return n||((t=document.createElement("div")).setAttribute(i,"return;"),n="function"==typeof t[i]),!n&&r&&"wheel"===e&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}},function(e,t,i){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),n={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};e.exports=n},function(e,t,i){e.exports={default:i(57),__esModule:!0}},function(e,t,i){i(58),e.exports=i(14).Object.assign},function(e,t,i){var n=i(23);n(n.S+n.F,"Object",{assign:i(61)})},function(e,t,i){var o=i(60);e.exports=function(n,r,e){if(o(n),void 0===r)return n;switch(e){case 1:return function(e){return n.call(r,e)};case 2:return function(e,t){return n.call(r,e,t)};case 3:return function(e,t,i){return n.call(r,e,t,i)}}return function(){return n.apply(r,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,i){"use strict";var d=i(19),f=i(30),p=i(22),g=i(41),m=i(39),r=Object.assign;e.exports=!r||i(16)(function(){var e={},t={},i=Symbol(),n="abcdefghijklmnopqrst";return e[i]=7,n.split("").forEach(function(e){t[e]=e}),7!=r({},e)[i]||Object.keys(r({},t)).join("")!=n})?function(e,t){for(var i=g(e),n=arguments.length,r=1,o=f.f,s=p.f;r<n;)for(var a,l=m(arguments[r++]),c=o?d(l).concat(o(l)):d(l),h=c.length,u=0;u<h;)s.call(l,a=c[u++])&&(i[a]=l[a]);return i}:r},function(e,t,i){var l=i(12),c=i(63),h=i(64);e.exports=function(a){return function(e,t,i){var n,r=l(e),o=c(r.length),s=h(i,o);if(a&&t!=t){for(;s<o;)if((n=r[s++])!=n)return!0}else for(;s<o;s++)if((a||s in r)&&r[s]===t)return a||s||0;return!a&&-1}}},function(e,t,i){var n=i(26),r=Math.min;e.exports=function(e){return 0<e?r(n(e),9007199254740991):0}},function(e,t,i){var n=i(26),r=Math.max,o=Math.min;e.exports=function(e,t){return(e=n(e))<0?r(e+t,0):o(e,t)}},function(e,t,i){e.exports={default:i(66),__esModule:!0}},function(e,t,i){i(67),i(73),e.exports=i(33).f("iterator")},function(e,t,i){"use strict";var n=i(68)(!0);i(42)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e=this._t,t=this._i;return t>=e.length?{value:void 0,done:!0}:(t=n(e,t),this._i+=t.length,{value:t,done:!1})})},function(e,t,i){var s=i(26),a=i(25);e.exports=function(o){return function(e,t){var i,n=String(a(e)),r=s(t),e=n.length;return r<0||e<=r?o?"":void 0:(t=n.charCodeAt(r))<55296||56319<t||r+1===e||(i=n.charCodeAt(r+1))<56320||57343<i?o?n.charAt(r):t:o?n.slice(r,r+2):i-56320+(t-55296<<10)+65536}}},function(e,t,i){"use strict";var n=i(44),r=i(18),o=i(32),s={};i(9)(s,i(13)("iterator"),function(){return this}),e.exports=function(e,t,i){e.prototype=n(s,{next:r(1,i)}),o(e,t+" Iterator")}},function(e,t,i){var s=i(10),a=i(17),l=i(19);e.exports=i(11)?Object.defineProperties:function(e,t){a(e);for(var i,n=l(t),r=n.length,o=0;o<r;)s.f(e,i=n[o++],t[i]);return e}},function(e,t,i){i=i(5).document;e.exports=i&&i.documentElement},function(e,t,i){var n=i(7),r=i(41),o=i(27)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,i){i(74);for(var n=i(5),r=i(9),o=i(31),s=i(13)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<a.length;l++){var c=a[l],h=n[c],h=h&&h.prototype;h&&!h[s]&&r(h,s,c),o[c]=o.Array}},function(e,t,i){"use strict";var n=i(75),r=i(76),o=i(31),s=i(12);e.exports=i(42)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,i){e.exports={default:i(78),__esModule:!0}},function(e,t,i){i(79),i(85),i(86),i(87),e.exports=i(14).Symbol},function(e,t,i){"use strict";function n(e){var t=j[e]=T(O.prototype);return t._k=e,t}function r(e,t){C(e);for(var i,n=w(t=_(t)),r=0,o=n.length;r<o;)Q(e,i=n[r++],t[i]);return e}function o(e){var t=W.call(this,e=k(e,!0));return!(this===K&&l(j,e)&&!l(H,e))&&(!(t||!l(this,e)||!l(j,e)||l(this,F)&&this[F][e])||t)}function s(e,t){if(e=_(e),t=k(t,!0),e!==K||!l(j,t)||l(H,t)){var i=L(e,t);return!i||!l(j,t)||l(e,F)&&e[F][t]||(i.enumerable=!0),i}}var a=i(5),l=i(7),c=i(11),h=i(23),u=i(43),d=i(80).KEY,f=i(16),p=i(28),g=i(32),m=i(21),v=i(13),y=i(33),b=i(34),w=i(81),x=i(82),C=i(17),S=i(15),_=i(12),k=i(24),M=i(18),T=i(44),D=i(83),A=i(84),$=i(10),E=i(19),L=A.f,I=$.f,N=D.f,O=a.Symbol,R=a.JSON,P=R&&R.stringify,F=v("_hidden"),z=v("toPrimitive"),W={}.propertyIsEnumerable,B=p("symbol-registry"),j=p("symbols"),H=p("op-symbols"),K=Object.prototype,V="function"==typeof O,U=a.QObject,G=!U||!U.prototype||!U.prototype.findChild,Y=c&&f(function(){return 7!=T(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(e,t,i){var n=L(K,t);n&&delete K[t],I(e,t,i),n&&e!==K&&I(K,t,n)}:I,q=V&&"symbol"==typeof O.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof O},Q=function(e,t,i){return e===K&&Q(H,t,i),C(e),t=k(t,!0),C(i),l(j,t)?(i.enumerable?(l(e,F)&&e[F][t]&&(e[F][t]=!1),i=T(i,{enumerable:M(0,!1)})):(l(e,F)||I(e,F,M(1,{})),e[F][t]=!0),Y(e,t,i)):I(e,t,i)},p=function(e){for(var t,i=N(_(e)),n=[],r=0;i.length>r;)l(j,t=i[r++])||t==F||t==d||n.push(t);return n},U=function(e){for(var t,i=e===K,n=N(i?H:_(e)),r=[],o=0;n.length>o;)!l(j,t=n[o++])||i&&!l(K,t)||r.push(j[t]);return r};V||(u((O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var t=m(0<arguments.length?arguments[0]:void 0),i=function(e){this===K&&i.call(H,e),l(this,F)&&l(this[F],t)&&(this[F][t]=!1),Y(this,t,M(1,e))};return c&&G&&Y(K,t,{configurable:!0,set:i}),n(t)}).prototype,"toString",function(){return this._k}),A.f=s,$.f=Q,i(45).f=D.f=p,i(22).f=o,i(30).f=U,c&&!i(20)&&u(K,"propertyIsEnumerable",o,!0),y.f=function(e){return n(v(e))}),h(h.G+h.W+h.F*!V,{Symbol:O});for(var X="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Z=0;X.length>Z;)v(X[Z++]);for(var J=E(v.store),ee=0;J.length>ee;)b(J[ee++]);h(h.S+h.F*!V,"Symbol",{for:function(e){return l(B,e+="")?B[e]:B[e]=O(e)},keyFor:function(e){if(!q(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){G=!0},useSimple:function(){G=!1}}),h(h.S+h.F*!V,"Object",{create:function(e,t){return void 0===t?T(e):r(T(e),t)},defineProperty:Q,defineProperties:r,getOwnPropertyDescriptor:s,getOwnPropertyNames:p,getOwnPropertySymbols:U}),R&&h(h.S+h.F*(!V||f(function(){var e=O();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))})),"JSON",{stringify:function(e){for(var t,i,n=[e],r=1;r<arguments.length;)n.push(arguments[r++]);if(i=t=n[1],(S(t)||void 0!==e)&&!q(e))return x(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!q(t))return t}),n[1]=t,P.apply(R,n)}}),O.prototype[z]||i(9)(O.prototype,z,O.prototype.valueOf),g(O,"Symbol"),g(Math,"Math",!0),g(a.JSON,"JSON",!0)},function(e,t,i){function n(e){a(e,r,{value:{i:"O"+ ++l,w:{}}})}var r=i(21)("meta"),o=i(15),s=i(7),a=i(10).f,l=0,c=Object.isExtensible||function(){return!0},h=!i(16)(function(){return c(Object.preventExtensions({}))}),u=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,r)){if(!c(e))return"F";if(!t)return"E";n(e)}return e[r].i},getWeak:function(e,t){if(!s(e,r)){if(!c(e))return!0;if(!t)return!1;n(e)}return e[r].w},onFreeze:function(e){return h&&u.NEED&&c(e)&&!s(e,r)&&n(e),e}}},function(e,t,i){var a=i(19),l=i(30),c=i(22);e.exports=function(e){var t=a(e),i=l.f;if(i)for(var n,r=i(e),o=c.f,s=0;r.length>s;)o.call(e,n=r[s++])&&t.push(n);return t}},function(e,t,i){var n=i(40);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,i){var n=i(12),r=i(45).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?function(e){try{return r(e)}catch(e){return s.slice()}}(e):r(n(e))}},function(e,t,i){var n=i(22),r=i(18),o=i(12),s=i(24),a=i(7),l=i(36),c=Object.getOwnPropertyDescriptor;t.f=i(11)?c:function(e,t){if(e=o(e),t=s(t,!0),l)try{return c(e,t)}catch(e){}if(a(e,t))return r(!n.f.call(e,t),e[t])}},function(e,t){},function(e,t,i){i(34)("asyncIterator")},function(e,t,i){i(34)("observable")},function(e,t,i){"use strict";i.r(t);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"el-pager",on:{click:t.onPagerClick}},[0<t.pageCount?i("li",{staticClass:"number",class:{active:1===t.currentPage,disabled:t.disabled}},[t._v("1")]):t._e(),t.showPrevMore?i("li",{staticClass:"el-icon more btn-quickprev",class:[t.quickprevIconClass,{disabled:t.disabled}],on:{mouseenter:function(e){t.onMouseenter("left")},mouseleave:function(e){t.quickprevIconClass="el-icon-more"}}}):t._e(),t._l(t.pagers,function(e){return i("li",{key:e,staticClass:"number",class:{active:t.currentPage===e,disabled:t.disabled}},[t._v(t._s(e))])}),t.showNextMore?i("li",{staticClass:"el-icon more btn-quicknext",class:[t.quicknextIconClass,{disabled:t.disabled}],on:{mouseenter:function(e){t.onMouseenter("right")},mouseleave:function(e){t.quicknextIconClass="el-icon-more"}}}):t._e(),1<t.pageCount?i("li",{staticClass:"number",class:{active:t.currentPage===t.pageCount,disabled:t.disabled}},[t._v(t._s(t.pageCount))]):t._e()],2)};function r(e,t,i,n,r,o,s,a){var l,c,h="function"==typeof e?e.options:e;return t&&(h.render=t,h.staticRenderFns=i,h._compiled=!0),n&&(h.functional=!0),o&&(h._scopeId="data-v-"+o),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},h._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l&&(h.functional?(h._injectStyles=l,c=h.render,h.render=function(e,t){return l.call(t),c(e,t)}):(a=h.beforeCreate,h.beforeCreate=a?[].concat(a,l):[l])),{exports:e,options:h}}n._withStripped=!0;var o=r({name:"ElPager",props:{currentPage:Number,pageCount:Number,pagerCount:Number,disabled:Boolean},watch:{showPrevMore:function(e){e||(this.quickprevIconClass="el-icon-more")},showNextMore:function(e){e||(this.quicknextIconClass="el-icon-more")}},methods:{onPagerClick:function(e){var t,i,n,r=e.target;"UL"===r.tagName||this.disabled||(t=Number(e.target.textContent),i=this.pageCount,n=this.currentPage,e=this.pagerCount-2,-1!==r.className.indexOf("more")&&(-1!==r.className.indexOf("quickprev")?t=n-e:-1!==r.className.indexOf("quicknext")&&(t=n+e)),isNaN(t)||(t<1&&(t=1),i<t&&(t=i)),t!==n&&this.$emit("change",t))},onMouseenter:function(e){this.disabled||("left"===e?this.quickprevIconClass="el-icon-d-arrow-left":this.quicknextIconClass="el-icon-d-arrow-right")}},computed:{pagers:function(){var e=this.pagerCount,t=(e-1)/2,i=Number(this.currentPage),n=Number(this.pageCount),r=!1,o=!1;e<n&&(e-t<i&&(r=!0),i<n-t&&(o=!0));var s=[];if(r&&!o)for(var a=n-(e-2);a<n;a++)s.push(a);else if(!r&&o)for(var l=2;l<e;l++)s.push(l);else if(r&&o)for(var c=Math.floor(e/2)-1,h=i-c;h<=i+c;h++)s.push(h);else for(var u=2;u<n;u++)s.push(u);return this.showPrevMore=r,this.showNextMore=o,s}},data:function(){return{current:null,showPrevMore:!1,showNextMore:!1,quicknextIconClass:"el-icon-more",quickprevIconClass:"el-icon-more"}}},n,[],!1,null,null,null);o.options.__file="packages/pagination/src/pager.vue";var s=o.exports,a=function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:i.handleClose,expression:"handleClose"}],staticClass:"el-select",class:[i.selectSize?"el-select--"+i.selectSize:""],on:{click:function(e){return e.stopPropagation(),i.toggleMenu(e)}}},[i.multiple?n("div",{ref:"tags",staticClass:"el-select__tags",style:{"max-width":i.inputWidth-32+"px",width:"100%"}},[i.collapseTags&&i.selected.length?n("span",[n("el-tag",{attrs:{closable:!i.selectDisabled,size:i.collapseTagSize,hit:i.selected[0].hitState,type:"info","disable-transitions":""},on:{close:function(e){i.deleteTag(e,i.selected[0])}}},[n("span",{staticClass:"el-select__tags-text"},[i._v(i._s(i.selected[0].currentLabel))])]),1<i.selected.length?n("el-tag",{attrs:{closable:!1,size:i.collapseTagSize,type:"info","disable-transitions":""}},[n("span",{staticClass:"el-select__tags-text"},[i._v("+ "+i._s(i.selected.length-1))])]):i._e()],1):i._e(),i.collapseTags?i._e():n("transition-group",{on:{"after-leave":i.resetInputHeight}},i._l(i.selected,function(t){return n("el-tag",{key:i.getValueKey(t),attrs:{closable:!i.selectDisabled,size:i.collapseTagSize,hit:t.hitState,type:"info","disable-transitions":""},on:{close:function(e){i.deleteTag(e,t)}}},[n("span",{staticClass:"el-select__tags-text"},[i._v(i._s(t.currentLabel))])])}),1),i.filterable?n("input",{directives:[{name:"model",rawName:"v-model",value:i.query,expression:"query"}],ref:"input",staticClass:"el-select__input",class:[i.selectSize?"is-"+i.selectSize:""],style:{"flex-grow":"1",width:i.inputLength/(i.inputWidth-32)+"%","max-width":i.inputWidth-42+"px"},attrs:{type:"text",disabled:i.selectDisabled,autocomplete:i.autoComplete||i.autocomplete},domProps:{value:i.query},on:{focus:i.handleFocus,blur:function(e){i.softFocus=!1},keyup:i.managePlaceholder,keydown:[i.resetInputState,function(e){if(!("button"in e)&&i._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.preventDefault(),i.navigateOptions("next")},function(e){if(!("button"in e)&&i._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.preventDefault(),i.navigateOptions("prev")},function(e){return"button"in e||!i._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),i.selectOption(e)):null},function(e){if(!("button"in e)&&i._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;e.stopPropagation(),e.preventDefault(),i.visible=!1},function(e){return"button"in e||!i._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?i.deletePrevTag(e):null},function(e){if(!("button"in e)&&i._k(e.keyCode,"tab",9,e.key,"Tab"))return null;i.visible=!1}],compositionstart:i.handleComposition,compositionupdate:i.handleComposition,compositionend:i.handleComposition,input:[function(e){e.target.composing||(i.query=e.target.value)},i.debouncedQueryChange]}}):i._e()],1):i._e(),n("el-input",{ref:"reference",class:{"is-focus":i.visible},attrs:{type:"text",placeholder:i.currentPlaceholder,name:i.name,id:i.id,autocomplete:i.autoComplete||i.autocomplete,size:i.selectSize,disabled:i.selectDisabled,readonly:i.readonly,"validate-event":!1,tabindex:i.multiple&&i.filterable?"-1":null},on:{focus:i.handleFocus,blur:i.handleBlur},nativeOn:{keyup:function(e){return i.debouncedOnInputChange(e)},keydown:[function(e){if(!("button"in e)&&i._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.stopPropagation(),e.preventDefault(),i.navigateOptions("next")},function(e){if(!("button"in e)&&i._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.stopPropagation(),e.preventDefault(),i.navigateOptions("prev")},function(e){return"button"in e||!i._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),i.selectOption(e)):null},function(e){if(!("button"in e)&&i._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;e.stopPropagation(),e.preventDefault(),i.visible=!1},function(e){if(!("button"in e)&&i._k(e.keyCode,"tab",9,e.key,"Tab"))return null;i.visible=!1}],paste:function(e){return i.debouncedOnInputChange(e)},mouseenter:function(e){i.inputHovering=!0},mouseleave:function(e){i.inputHovering=!1}},model:{value:i.selectedLabel,callback:function(e){i.selectedLabel=e},expression:"selectedLabel"}},[i.$slots.prefix?n("template",{slot:"prefix"},[i._t("prefix")],2):i._e(),n("template",{slot:"suffix"},[n("i",{directives:[{name:"show",rawName:"v-show",value:!i.showClose,expression:"!showClose"}],class:["el-select__caret","el-input__icon","el-icon-"+i.iconClass]}),i.showClose?n("i",{staticClass:"el-select__caret el-input__icon el-icon-circle-close",on:{click:i.handleClearClick}}):i._e()])],2),n("transition",{attrs:{name:"el-zoom-in-top"},on:{"before-enter":i.handleMenuEnter,"after-leave":i.doDestroy}},[n("el-select-menu",{directives:[{name:"show",rawName:"v-show",value:i.visible&&!1!==i.emptyText,expression:"visible && emptyText !== false"}],ref:"popper",attrs:{"append-to-body":i.popperAppendToBody}},[n("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:0<i.options.length&&!i.loading,expression:"options.length > 0 && !loading"}],ref:"scrollbar",class:{"is-empty":!i.allowCreate&&i.query&&0===i.filteredOptionsCount},attrs:{tag:"ul","wrap-class":"el-select-dropdown__wrap","view-class":"el-select-dropdown__list"}},[i.showNewOption?n("el-option",{attrs:{value:i.query,created:""}}):i._e(),i._t("default")],2),i.emptyText&&(!i.allowCreate||i.loading||i.allowCreate&&0===i.options.length)?[i.$slots.empty?i._t("empty"):n("p",{staticClass:"el-select-dropdown__empty"},[i._v("\n          "+i._s(i.emptyText)+"\n        ")])]:i._e()],2)],1)],1)};a._withStripped=!0;var l={methods:{dispatch:function(e,t,i){for(var n=this.$parent||this.$root,r=n.$options.componentName;n&&(!r||r!==e);)(n=n.$parent)&&(r=n.$options.componentName);n&&n.$emit.apply(n,[t].concat(i))},broadcast:function(e,t,i){(function t(i,n,r){this.$children.forEach(function(e){e.$options.componentName===i?e.$emit.apply(e,[n].concat(r)):t.apply(e,[i,n].concat([r]))})}).call(this,e,t,i)}}},c=function(e){return{methods:{focus:function(){this.$refs[e].focus()}}}},h=i(0),u=i.n(h),d=i(46),f=i.n(d);function p(e){return"[object String]"===Object.prototype.toString.call(e)}function g(e){return"[object Object]"===Object.prototype.toString.call(e)}function m(e){return e&&e.nodeType===Node.ELEMENT_NODE}function v(e){return e&&"[object Function]"==={}.toString.call(e)}function y(e){return void 0===e}var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w=Object.prototype.hasOwnProperty;function x(){}function C(e,t){return w.call(e,t)}function S(e,t){for(var i=(t=t||"").split("."),n=e,r=null,o=0,s=i.length;o<s;o++){var a=i[o];if(!n)break;if(o===s-1){r=n[a];break}n=n[a]}return r}function _(e,t,i){for(var n=e,r=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),o=0,s=r.length;o<s-1&&(n||i);++o){var a=r[o];if(!(a in n)){if(i)throw new Error("please transfer a valid prop path to form item!");break}n=n[a]}return{o:n,k:r[o],v:n?n[r[o]]:null}}function k(){return Math.floor(1e4*Math.random())}function M(e,t){if(e===t)return!0;if(!(e instanceof Array))return!1;if(!(t instanceof Array))return!1;if(e.length!==t.length)return!1;for(var i=0;i!==e.length;++i)if(e[i]!==t[i])return!1;return!0}function T(e,t){for(var i=0;i!==e.length;++i)if(t(e[i]))return i;return-1}function D(e,t){return-1!==(t=T(e,t))?e[t]:void 0}function A(e){return Array.isArray(e)?e:e?[e]:[]}function $(e){return p(e)?e.charAt(0).toUpperCase()+e.slice(1):e}function E(e,t){var i=g(e),n=g(t);return i&&n?JSON.stringify(e)===JSON.stringify(t):!i&&!n&&String(e)===String(t)}function L(e,t){return(Array.isArray(e)&&Array.isArray(t)?function(e,t){if((e=e||[]).length!==(t=t||[]).length)return!1;for(var i=0;i<e.length;i++)if(!E(e[i],t[i]))return!1;return!0}:E)(e,t)}function I(e){if(null==e)return 1;if("boolean"!=typeof e){if("number"==typeof e)return!e;if(e instanceof Error)return""===e.message;switch(Object.prototype.toString.call(e)){case"[object String]":case"[object Array]":return!e.length;case"[object File]":case"[object Map]":case"[object Set]":return!e.size;case"[object Object]":return!Object.keys(e).length}}}function N(r){var o=!1;return function(){for(var t=this,e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];o||(o=!0,window.requestAnimationFrame(function(e){r.apply(t,i),o=!1}))}}function O(e,t){var i=B.apply(this,arguments);if(null!=i)return i;for(var n=e.split("."),r=z,o=0,s=n.length;o<s;o++){if(i=r[n[o]],o===s-1)return F(i,t);if(!i)return"";r=i}return""}var R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P=/(%|)\{([0-9a-zA-Z_]+)\}/g,F=(u.a,function(o){for(var e=arguments.length,s=Array(1<e?e-1:0),t=1;t<e;t++)s[t-1]=arguments[t];return 1===s.length&&"object"===R(s[0])&&(s=s[0]),s&&s.hasOwnProperty||(s={}),o.replace(P,function(e,t,i,n){var r;return"{"===o[n-1]&&"}"===o[n+e.length]?i:null==(r=C(s,i)?s[i]:null)?"":r})}),z={el:{colorpicker:{confirm:"确定",clear:"清空"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"}}},W=!1,B=function(){var e=Object.getPrototypeOf(this||u.a).$t;if("function"==typeof e&&u.a.locale)return W||(W=!0,u.a.locale(u.a.config.lang,f()(z,u.a.locale(u.a.config.lang)||{},{clone:!0}))),e.apply(this,arguments)},j={use:function(e){z=e||z},t:O,i18n:function(e){B=e||B}},H={methods:{t:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return O.apply(this,t)}}},K=function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{class:["textarea"===t.type?"el-textarea":"el-input",t.inputSize?"el-input--"+t.inputSize:"",{"is-disabled":t.inputDisabled,"is-exceed":t.inputExceed,"el-input-group":t.$slots.prepend||t.$slots.append,"el-input-group--append":t.$slots.append,"el-input-group--prepend":t.$slots.prepend,"el-input--prefix":t.$slots.prefix||t.prefixIcon,"el-input--suffix":t.$slots.suffix||t.suffixIcon||t.clearable||t.showPassword}],on:{mouseenter:function(e){t.hovering=!0},mouseleave:function(e){t.hovering=!1}}},["textarea"!==t.type?[t.$slots.prepend?e("div",{staticClass:"el-input-group__prepend"},[t._t("prepend")],2):t._e(),"textarea"!==t.type?e("input",t._b({ref:"input",staticClass:"el-input__inner",attrs:{tabindex:t.tabindex,type:t.showPassword?t.passwordVisible?"text":"password":t.type,disabled:t.inputDisabled,readonly:t.readonly,autocomplete:t.autoComplete||t.autocomplete,"aria-label":t.label},on:{compositionstart:t.handleCompositionStart,compositionupdate:t.handleCompositionUpdate,compositionend:t.handleCompositionEnd,input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"input",t.$attrs,!1)):t._e(),t.$slots.prefix||t.prefixIcon?e("span",{staticClass:"el-input__prefix"},[t._t("prefix"),t.prefixIcon?e("i",{staticClass:"el-input__icon",class:t.prefixIcon}):t._e()],2):t._e(),t.getSuffixVisible()?e("span",{staticClass:"el-input__suffix"},[e("span",{staticClass:"el-input__suffix-inner"},[t.showClear&&t.showPwdVisible&&t.isWordLimitVisible?t._e():[t._t("suffix"),t.suffixIcon?e("i",{staticClass:"el-input__icon",class:t.suffixIcon}):t._e()],t.showClear?e("i",{staticClass:"el-input__icon el-icon-circle-close el-input__clear",on:{mousedown:function(e){e.preventDefault()},click:t.clear}}):t._e(),t.showPwdVisible?e("i",{staticClass:"el-input__icon el-icon-view el-input__clear",on:{click:t.handlePasswordVisible}}):t._e(),t.isWordLimitVisible?e("span",{staticClass:"el-input__count"},[e("span",{staticClass:"el-input__count-inner"},[t._v("\n            "+t._s(t.textLength)+"/"+t._s(t.upperLimit)+"\n          ")])]):t._e()],2),t.validateState?e("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",t.validateIcon]}):t._e()]):t._e(),t.$slots.append?e("div",{staticClass:"el-input-group__append"},[t._t("append")],2):t._e()]:e("textarea",t._b({ref:"textarea",staticClass:"el-textarea__inner",style:t.textareaStyle,attrs:{tabindex:t.tabindex,disabled:t.inputDisabled,readonly:t.readonly,autocomplete:t.autoComplete||t.autocomplete,"aria-label":t.label},on:{compositionstart:t.handleCompositionStart,compositionupdate:t.handleCompositionUpdate,compositionend:t.handleCompositionEnd,input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"textarea",t.$attrs,!1)),t.isWordLimitVisible&&"textarea"===t.type?e("span",{staticClass:"el-input__count"},[t._v(t._s(t.textLength)+"/"+t._s(t.upperLimit))]):t._e()],2)},V={mounted:function(){},methods:{getMigratingConfig:function(){return{props:{},events:{}}}}},U=void 0,G=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Y(e,t,i){var n=1<arguments.length&&void 0!==t?t:1,r=2<arguments.length&&void 0!==i?i:null;U||(U=document.createElement("textarea"),document.body.appendChild(U));var o,s,a,t=(o=window.getComputedStyle(e),l=o.getPropertyValue("box-sizing"),s=parseFloat(o.getPropertyValue("padding-bottom"))+parseFloat(o.getPropertyValue("padding-top")),a=parseFloat(o.getPropertyValue("border-bottom-width"))+parseFloat(o.getPropertyValue("border-top-width")),{contextStyle:G.map(function(e){return e+":"+o.getPropertyValue(e)}).join(";"),paddingSize:s,borderSize:a,boxSizing:l}),i=t.paddingSize,s=t.borderSize,a=t.boxSizing,l=t.contextStyle;U.setAttribute("style",l+";\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n"),U.value=e.value||e.placeholder||"";var t=U.scrollHeight,l={};"border-box"===a?t+=s:"content-box"===a&&(t-=i),U.value="";e=U.scrollHeight-i;return null!==n&&(n=e*n,"border-box"===a&&(n=n+i+s),t=Math.max(n,t),l.minHeight=n+"px"),null!==r&&(r=e*r,"border-box"===a&&(r=r+i+s),t=Math.min(r,t)),l.height=t+"px",U.parentNode&&U.parentNode.removeChild(U),U=null,l}function q(e){for(var t=1,i=arguments.length;t<i;t++){var n,r,o=arguments[t]||{};for(n in o){!o.hasOwnProperty(n)||void 0!==(r=o[n])&&(e[n]=r)}}return e}function Q(e){return null!=e}function X(e){return/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(e)}var Z=r({name:"ElInput",componentName:"ElInput",mixins:[l,V],inheritAttrs:!(K._withStripped=!0),inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{textareaCalcStyle:{},hovering:!1,focused:!1,isComposing:!1,passwordVisible:!1}},props:{value:[String,Number],size:String,resize:String,form:String,disabled:Boolean,readonly:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(e){return!0}},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},tabindex:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},validateState:function(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon:function(){return!!this.elForm&&this.elForm.statusIcon},validateIcon:function(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle:function(){return q({},this.textareaCalcStyle,{resize:this.resize})},inputSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputDisabled:function(){return this.disabled||(this.elForm||{}).disabled},nativeInputValue:function(){return null===this.value||void 0===this.value?"":String(this.value)},showClear:function(){return this.clearable&&!this.inputDisabled&&!this.readonly&&this.nativeInputValue&&(this.focused||this.hovering)},showPwdVisible:function(){return this.showPassword&&!this.inputDisabled&&!this.readonly&&(!!this.nativeInputValue||this.focused)},isWordLimitVisible:function(){return this.showWordLimit&&this.$attrs.maxlength&&("text"===this.type||"textarea"===this.type)&&!this.inputDisabled&&!this.readonly&&!this.showPassword},upperLimit:function(){return this.$attrs.maxlength},textLength:function(){return("number"==typeof this.value?String(this.value):this.value||"").length},inputExceed:function(){return this.isWordLimitVisible&&this.textLength>this.upperLimit}},watch:{value:function(e){this.$nextTick(this.resizeTextarea),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[e])},nativeInputValue:function(){this.setNativeInputValue()},type:function(){var e=this;this.$nextTick(function(){e.setNativeInputValue(),e.resizeTextarea(),e.updateIconOffset()})}},methods:{focus:function(){this.getInput().focus()},blur:function(){this.getInput().blur()},getMigratingConfig:function(){return{props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}},handleBlur:function(e){this.focused=!1,this.$emit("blur",e),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.value])},select:function(){this.getInput().select()},resizeTextarea:function(){var e,t;this.$isServer||(t=this.autosize,"textarea"===this.type&&(t?(e=t.minRows,t=t.maxRows,this.textareaCalcStyle=Y(this.$refs.textarea,e,t)):this.textareaCalcStyle={minHeight:Y(this.$refs.textarea).minHeight}))},setNativeInputValue:function(){var e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},handleFocus:function(e){this.focused=!0,this.$emit("focus",e)},handleCompositionStart:function(){this.isComposing=!0},handleCompositionUpdate:function(e){e=e.target.value,e=e[e.length-1]||"";this.isComposing=!X(e)},handleCompositionEnd:function(e){this.isComposing&&(this.isComposing=!1,this.handleInput(e))},handleInput:function(e){this.isComposing||e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},handleChange:function(e){this.$emit("change",e.target.value)},calcIconOffset:function(e){var t=[].slice.call(this.$el.querySelectorAll(".el-input__"+e)||[]);if(t.length){for(var i,n=null,r=0;r<t.length;r++)if(t[r].parentNode===this.$el){n=t[r];break}n&&(i={suffix:"append",prefix:"prepend"}[e],this.$slots[i]?n.style.transform="translateX("+("suffix"===e?"-":"")+this.$el.querySelector(".el-input-group__"+i).offsetWidth+"px)":n.removeAttribute("style"))}},updateIconOffset:function(){this.calcIconOffset("prefix"),this.calcIconOffset("suffix")},clear:function(){this.$emit("input",""),this.$emit("change",""),this.$emit("clear")},handlePasswordVisible:function(){this.passwordVisible=!this.passwordVisible,this.focus()},getInput:function(){return this.$refs.input||this.$refs.textarea},getSuffixVisible:function(){return this.$slots.suffix||this.suffixIcon||this.showClear||this.showPassword||this.isWordLimitVisible||this.validateState&&this.needStatusIcon}},created:function(){this.$on("inputSelect",this.select)},mounted:function(){this.setNativeInputValue(),this.resizeTextarea(),this.updateIconOffset()},updated:function(){this.$nextTick(this.updateIconOffset)}},K,[],!1,null,null,null);Z.options.__file="packages/input/src/input.vue";var J=Z.exports;J.install=function(e){e.component(J.name,J)};var ee=J,te=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"el-select-dropdown el-popper",class:[{"is-multiple":this.$parent.multiple},this.popperClass],style:{minWidth:this.minWidth}},[this._t("default")],2)};te._withStripped=!0;function ie(e){return e.replace(re,function(e,t,i,n){return n?i.toUpperCase():i}).replace(oe,"Moz$1")}var ne=u.a.prototype.$isServer,re=/([\:\-\_]+(.))/g,oe=/^moz([A-Z])/,se=ne?0:Number(document.documentMode),ae=!ne&&document.addEventListener?function(e,t,i){e&&t&&i&&e.addEventListener(t,i,!1)}:function(e,t,i){e&&t&&i&&e.attachEvent("on"+t,i)},le=!ne&&document.removeEventListener?function(e,t,i){e&&t&&e.removeEventListener(t,i,!1)}:function(e,t,i){e&&t&&e.detachEvent("on"+t,i)};function ce(e,t){if(e&&t){if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):-1<(" "+e.className+" ").indexOf(" "+t+" ")}}function he(e,t){if(e){for(var i=e.className,n=(t||"").split(" "),r=0,o=n.length;r<o;r++){var s=n[r];s&&(e.classList?e.classList.add(s):ce(e,s)||(i+=" "+s))}e.classList||(e.className=i)}}function ue(e,t){if(e&&t){for(var i=t.split(" "),n=" "+e.className+" ",r=0,o=i.length;r<o;r++){var s=i[r];s&&(e.classList?e.classList.remove(s):ce(e,s)&&(n=n.replace(" "+s+" "," ")))}e.classList||(e.className=(n||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,""))}}function de(e,t){if(!ne){for(var i=e;i;){if([window,document,document.documentElement].includes(i))return window;if(function(e,t){if(!ne)return pe(e,null!==t||void 0!==t?t?"overflow-y":"overflow-x":"overflow").match(/(scroll|auto)/)}(i,t))return i;i=i.parentNode}return i}}function fe(){if(!u.a.prototype.$isServer){var e=be.modalDom;return e?ge=!0:(ge=!1,e=document.createElement("div"),(be.modalDom=e).addEventListener("touchmove",function(e){e.preventDefault(),e.stopPropagation()}),e.addEventListener("click",function(){be.doOnModalClick&&be.doOnModalClick()})),e}}var pe=se<9?function(t,i){if(!ne){if(!t||!i)return null;"float"===(i=ie(i))&&(i="styleFloat");try{if("opacity"===i)try{return t.filters.item("alpha").opacity/100}catch(t){return 1}return t.style[i]||t.currentStyle?t.currentStyle[i]:null}catch(e){return t.style[i]}}}:function(e,t){if(!ne){if(!e||!t)return null;"float"===(t=ie(t))&&(t="cssFloat");try{var i=document.defaultView.getComputedStyle(e,"");return e.style[t]||i?i[t]:null}catch(i){return e.style[t]}}},ge=!1,me=!1,ve=void 0,ye={},be={modalFade:!0,getInstance:function(e){return ye[e]},register:function(e,t){e&&t&&(ye[e]=t)},deregister:function(e){e&&(ye[e]=null,delete ye[e])},nextZIndex:function(){return be.zIndex++},modalStack:[],doOnModalClick:function(){var e=be.modalStack[be.modalStack.length-1];!e||(e=be.getInstance(e.id))&&e.closeOnClickModal&&e.close()},openModal:function(e,t,i,n,r){if(!u.a.prototype.$isServer&&e&&void 0!==t){this.modalFade=r;for(var o=this.modalStack,s=0,a=o.length;s<a;s++)if(o[s].id===e)return;var l=fe();he(l,"v-modal"),this.modalFade&&!ge&&he(l,"v-modal-enter"),n&&n.trim().split(/\s+/).forEach(function(e){return he(l,e)}),setTimeout(function(){ue(l,"v-modal-enter")},200),(i&&i.parentNode&&11!==i.parentNode.nodeType?i.parentNode:document.body).appendChild(l),t&&(l.style.zIndex=t),l.tabIndex=0,l.style.display="",this.modalStack.push({id:e,zIndex:t,modalClass:n})}},closeModal:function(e){var t=this.modalStack,i=fe();if(0<t.length){var n=t[t.length-1];if(n.id===e)n.modalClass&&n.modalClass.trim().split(/\s+/).forEach(function(e){return ue(i,e)}),t.pop(),0<t.length&&(i.style.zIndex=t[t.length-1].zIndex);else for(var r=t.length-1;0<=r;r--)if(t[r].id===e){t.splice(r,1);break}}0===t.length&&(this.modalFade&&he(i,"v-modal-leave"),setTimeout(function(){0===t.length&&(i.parentNode&&i.parentNode.removeChild(i),i.style.display="none",be.modalDom=void 0),ue(i,"v-modal-leave")},200))}};Object.defineProperty(be,"zIndex",{configurable:!0,get:function(){return me||(ve=ve||(u.a.prototype.$ELEMENT||{}).zIndex||2e3,me=!0),ve},set:function(e){ve=e}}),u.a.prototype.$isServer||window.addEventListener("keydown",function(e){27!==e.keyCode||(e=function(){if(!u.a.prototype.$isServer&&0<be.modalStack.length){var e=be.modalStack[be.modalStack.length-1];if(e)return be.getInstance(e.id)}}())&&e.closeOnPressEscape&&(e.handleClose?e.handleClose():e.handleAction?e.handleAction("cancel"):e.close())});function we(e){return e.stopPropagation()}var xe,Ce=be,Se=void 0,_e=function(){if(u.a.prototype.$isServer)return 0;if(void 0!==Se)return Se;var e=document.createElement("div");e.className="el-scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var i=document.createElement("div");i.style.width="100%",e.appendChild(i);i=i.offsetWidth;return e.parentNode.removeChild(e),Se=t-i},ke=1,Me={props:{visible:{type:Boolean,default:!1},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,default:!1},modalFade:{type:Boolean,default:!0},modalClass:{},modalAppendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!1}},beforeMount:function(){this._popupId="popup-"+ke++,Ce.register(this._popupId,this)},beforeDestroy:function(){Ce.deregister(this._popupId),Ce.closeModal(this._popupId),this.restoreBodyStyle()},data:function(){return{opened:!1,bodyPaddingRight:null,computedBodyPaddingRight:0,withoutHiddenClass:!0,rendered:!1}},watch:{visible:function(e){var t=this;e?this._opening||(this.rendered?this.open():(this.rendered=!0,u.a.nextTick(function(){t.open()}))):this.close()}},methods:{open:function(e){var t=this;this.rendered||(this.rendered=!0);var i=q({},this.$props||this,e);this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer);e=Number(i.openDelay);0<e?this._openTimer=setTimeout(function(){t._openTimer=null,t.doOpen(i)},e):this.doOpen(i)},doOpen:function(e){var t,i,n;this.$isServer||this.willOpen&&!this.willOpen()||this.opened||(this._opening=!0,t=this.$el,n=e.modal,(i=e.zIndex)&&(Ce.zIndex=i),n&&(this._closing&&(Ce.closeModal(this._popupId),this._closing=!1),Ce.openModal(this._popupId,Ce.nextZIndex(),this.modalAppendToBody?void 0:t,e.modalClass,e.modalFade),e.lockScroll)&&(this.withoutHiddenClass=!ce(document.body,"el-popup-parent--hidden"),this.withoutHiddenClass&&(this.bodyPaddingRight=document.body.style.paddingRight,this.computedBodyPaddingRight=parseInt(pe(document.body,"paddingRight"),10)),xe=_e(),n=document.documentElement.clientHeight<document.body.scrollHeight,e=pe(document.body,"overflowY"),0<xe&&(n||"scroll"===e)&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.computedBodyPaddingRight+xe+"px"),he(document.body,"el-popup-parent--hidden")),"static"===getComputedStyle(t).position&&(t.style.position="absolute"),t.style.zIndex=Ce.nextZIndex(),this.opened=!0,this.onOpen&&this.onOpen(),this.doAfterOpen())},doAfterOpen:function(){this._opening=!1},close:function(){var e,t=this;this.willClose&&!this.willClose()||(null!==this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer),0<(e=Number(this.closeDelay))?this._closeTimer=setTimeout(function(){t._closeTimer=null,t.doClose()},e):this.doClose())},doClose:function(){this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose()},doAfterClose:function(){Ce.closeModal(this._popupId),this._closing=!1},restoreBodyStyle:function(){this.modal&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.bodyPaddingRight,ue(document.body,"el-popup-parent--hidden")),this.withoutHiddenClass=!0}}},Te=u.a.prototype.$isServer?function(){}:i(50),De={props:{transformOrigin:{type:[Boolean,String],default:!0},placement:{type:String,default:"bottom"},boundariesPadding:{type:Number,default:5},reference:{},popper:{},offset:{default:0},value:Boolean,visibleArrow:Boolean,arrowOffset:{type:Number,default:35},appendToBody:{type:Boolean,default:!0},popperOptions:{type:Object,default:function(){return{gpuAcceleration:!1}}}},data:function(){return{showPopper:!1,currentPlacement:""}},watch:{value:{immediate:!0,handler:function(e){this.showPopper=e,this.$emit("input",e)}},showPopper:function(e){this.disabled||(e?this.updatePopper():this.destroyPopper(),this.$emit("input",e))}},methods:{createPopper:function(){var e,t,i,n=this;!this.$isServer&&(this.currentPlacement=this.currentPlacement||this.placement,/^(top|bottom|left|right)(-start|-end)?$/g.test(this.currentPlacement))&&(e=this.popperOptions,t=this.popperElm=this.popperElm||this.popper||this.$refs.popper,!(i=this.referenceElm=this.referenceElm||this.reference||this.$refs.reference)&&this.$slots.reference&&this.$slots.reference[0]&&(i=this.referenceElm=this.$slots.reference[0].elm),t&&i&&(this.visibleArrow&&this.appendArrow(t),this.appendToBody&&document.body.appendChild(this.popperElm),this.popperJS&&this.popperJS.destroy&&this.popperJS.destroy(),e.placement=this.currentPlacement,e.offset=this.offset,e.arrowOffset=this.arrowOffset,this.popperJS=new Te(i,t,e),this.popperJS.onCreate(function(e){n.$emit("created",n),n.resetTransformOrigin(),n.$nextTick(n.updatePopper)}),"function"==typeof e.onUpdate&&this.popperJS.onUpdate(e.onUpdate),this.popperJS._popper.style.zIndex=Ce.nextZIndex(),this.popperElm.addEventListener("click",we)))},updatePopper:function(){var e=this.popperJS;e?(e.update(),e._popper&&(e._popper.style.zIndex=Ce.nextZIndex())):this.createPopper()},doDestroy:function(e){!this.popperJS||this.showPopper&&!e||(this.popperJS.destroy(),this.popperJS=null)},destroyPopper:function(){this.popperJS&&this.resetTransformOrigin()},resetTransformOrigin:function(){var e,t;this.transformOrigin&&(t={top:"bottom",bottom:"top",left:"right",right:"left"}[e=this.popperJS._popper.getAttribute("x-placement").split("-")[0]],this.popperJS._popper.style.transformOrigin="string"==typeof this.transformOrigin?this.transformOrigin:-1<["top","bottom"].indexOf(e)?"center "+t:t+" center")},appendArrow:function(e){var t=void 0;if(!this.appended){for(var i in this.appended=!0,e.attributes)if(/^_v-/.test(e.attributes[i].name)){t=e.attributes[i].name;break}var n=document.createElement("div");t&&n.setAttribute(t,""),n.setAttribute("x-arrow",""),n.className="popper__arrow",e.appendChild(n)}}},beforeDestroy:function(){this.doDestroy(!0),this.popperElm&&this.popperElm.parentNode===document.body&&(this.popperElm.removeEventListener("click",we),document.body.removeChild(this.popperElm))},deactivated:function(){this.$options.beforeDestroy[0].call(this)}},Ae=r({name:"ElSelectDropdown",componentName:"ElSelectDropdown",mixins:[De],props:{placement:{default:"bottom-start"},boundariesPadding:{default:0},popperOptions:{default:function(){return{gpuAcceleration:!1}}},visibleArrow:{default:!0},appendToBody:{type:Boolean,default:!0}},data:function(){return{minWidth:""}},computed:{popperClass:function(){return this.$parent.popperClass}},watch:{"$parent.inputWidth":function(){this.minWidth=this.$parent.$el.getBoundingClientRect().width+"px"}},mounted:function(){var e=this;this.referenceElm=this.$parent.$refs.reference.$el,this.$parent.popperElm=this.popperElm=this.$el,this.$on("updatePopper",function(){e.$parent.visible&&e.updatePopper()}),this.$on("destroyPopper",this.destroyPopper)}},te,[],!1,null,null,null);Ae.options.__file="packages/select/src/select-dropdown.vue";var $e=Ae.exports,Ee=function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("li",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-select-dropdown__item",class:{selected:t.itemSelected,"is-disabled":t.disabled||t.groupDisabled||t.limitReached,hover:t.hover},on:{mouseenter:t.hoverItem,click:function(e){return e.stopPropagation(),t.selectOptionClick(e)}}},[t._t("default",[e("span",[t._v(t._s(t.currentLabel))])])],2)};Ee._withStripped=!0;var Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie=r({mixins:[l],name:"ElOption",componentName:"ElOption",inject:["select"],props:{value:{required:!0},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},data:function(){return{index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}},computed:{isObject:function(){return"[object object]"===Object.prototype.toString.call(this.value).toLowerCase()},currentLabel:function(){return this.label||(this.isObject?"":this.value)},currentValue:function(){return this.value||this.label||""},itemSelected:function(){return this.select.multiple?this.contains(this.select.value,this.value):this.isEqual(this.value,this.select.value)},limitReached:function(){return!!this.select.multiple&&!this.itemSelected&&(this.select.value||[]).length>=this.select.multipleLimit&&0<this.select.multipleLimit}},watch:{currentLabel:function(){this.created||this.select.remote||this.dispatch("ElSelect","setSelected")},value:function(e,t){var i=this.select,n=i.remote,i=i.valueKey;this.created||n||i&&"object"===(void 0===e?"undefined":Le(e))&&"object"===(void 0===t?"undefined":Le(t))&&e[i]===t[i]||this.dispatch("ElSelect","setSelected")}},methods:{isEqual:function(e,t){if(this.isObject){var i=this.select.valueKey;return S(e,i)===S(t,i)}return e===t},contains:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];if(this.isObject){var i=this.select.valueKey;return e&&e.some(function(e){return S(e,i)===S(t,i)})}return e&&-1<e.indexOf(t)},handleGroupDisabled:function(e){this.groupDisabled=e},hoverItem:function(){this.disabled||this.groupDisabled||(this.select.hoverIndex=this.select.options.indexOf(this))},selectOptionClick:function(){!0!==this.disabled&&!0!==this.groupDisabled&&this.dispatch("ElSelect","handleOptionClick",[this,!0])},queryChange:function(e){this.visible=new RegExp(function(e){return String(0<arguments.length&&void 0!==e?e:"").replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}(e),"i").test(this.currentLabel)||this.created,this.visible||this.select.filteredOptionsCount--}},created:function(){this.select.options.push(this),this.select.cachedOptions.push(this),this.select.optionsCount++,this.select.filteredOptionsCount++,this.$on("queryChange",this.queryChange),this.$on("handleGroupDisabled",this.handleGroupDisabled)},beforeDestroy:function(){var e=this.select,t=e.selected,e=e.multiple?t:[t],t=this.select.cachedOptions.indexOf(this),e=e.indexOf(this);-1<t&&e<0&&this.select.cachedOptions.splice(t,1),this.select.onOptionDestroy(this.select.options.indexOf(this))}},Ee,[],!1,null,null,null);Ie.options.__file="packages/select/src/option.vue";var Ne=Ie.exports,Oe=r({name:"ElTag",props:{text:String,closable:Boolean,type:String,hit:Boolean,disableTransitions:Boolean,color:String,size:String,effect:{type:String,default:"light",validator:function(e){return-1!==["dark","light","plain"].indexOf(e)}}},methods:{handleClose:function(e){e.stopPropagation(),this.$emit("close",e)},handleClick:function(e){this.$emit("click",e)}},computed:{tagSize:function(){return this.size||(this.$ELEMENT||{}).size}},render:function(e){var t=this.type,i=this.tagSize,n=this.hit,r=this.effect,n=e("span",{class:["el-tag",t?"el-tag--"+t:"",i?"el-tag--"+i:"",r?"el-tag--"+r:"",n&&"is-hit"],style:{backgroundColor:this.color},on:{click:this.handleClick}},[this.$slots.default,this.closable&&e("i",{class:"el-tag__close el-icon-close",on:{click:this.handleClose}})]);return this.disableTransitions?n:e("transition",{attrs:{name:"el-zoom-in-center"}},[n])}},void 0,void 0,!1,null,null,null);Oe.options.__file="packages/tag/src/tag.vue";var Re=Oe.exports;Re.install=function(e){e.component(Re.name,Re)};function Pe(e){for(var t,i=e,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){if(n){if(r>=i.length)break;t=i[r++]}else{if((r=i.next()).done)break;t=r.value}var o=t.target.__resizeListeners__||[];o.length&&o.forEach(function(e){e()})}}function Fe(e,t){je||(e.__resizeListeners__||(e.__resizeListeners__=[],e.__ro__=new Be.a(Pe),e.__ro__.observe(e)),e.__resizeListeners__.push(t))}function ze(e,t){e&&e.__resizeListeners__&&(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||e.__ro__.disconnect())}var We=Re,Be=i(47),je="undefined"==typeof window,He={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};var Ke={name:"Bar",props:{vertical:Boolean,size:String,move:Number},computed:{bar:function(){return He[this.vertical?"vertical":"horizontal"]},wrap:function(){return this.$parent.wrap}},render:function(e){var t=this.size,i=this.move,n=this.bar;return e("div",{class:["el-scrollbar__bar","is-"+n.key],on:{mousedown:this.clickTrackHandler}},[e("div",{ref:"thumb",class:"el-scrollbar__thumb",on:{mousedown:this.clickThumbHandler},style:(t=(e={size:t,move:i,bar:n}).move,i=e.size,n=e.bar,e={},t="translate"+n.axis+"("+t+"%)",e[n.size]=i,e.transform=t,e.msTransform=t,e.webkitTransform=t,e)})])},methods:{clickThumbHandler:function(e){e.ctrlKey||2===e.button||(this.startDrag(e),this[this.bar.axis]=e.currentTarget[this.bar.offset]-(e[this.bar.client]-e.currentTarget.getBoundingClientRect()[this.bar.direction]))},clickTrackHandler:function(e){e=100*(Math.abs(e.target.getBoundingClientRect()[this.bar.direction]-e[this.bar.client])-this.$refs.thumb[this.bar.offset]/2)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=e*this.wrap[this.bar.scrollSize]/100},startDrag:function(e){e.stopImmediatePropagation(),this.cursorDown=!0,ae(document,"mousemove",this.mouseMoveDocumentHandler),ae(document,"mouseup",this.mouseUpDocumentHandler),document.onselectstart=function(){return!1}},mouseMoveDocumentHandler:function(e){var t;!1===this.cursorDown||(t=this[this.bar.axis])&&(t=100*(-1*(this.$el.getBoundingClientRect()[this.bar.direction]-e[this.bar.client])-(this.$refs.thumb[this.bar.offset]-t))/this.$el[this.bar.offset],this.wrap[this.bar.scroll]=t*this.wrap[this.bar.scrollSize]/100)},mouseUpDocumentHandler:function(e){this.cursorDown=!1,this[this.bar.axis]=0,le(document,"mousemove",this.mouseMoveDocumentHandler),document.onselectstart=null}},destroyed:function(){le(document,"mouseup",this.mouseUpDocumentHandler)}},Ve={name:"ElScrollbar",components:{Bar:Ke},props:{native:Boolean,wrapStyle:{},wrapClass:{},viewClass:{},viewStyle:{},noresize:Boolean,tag:{type:String,default:"div"}},data:function(){return{sizeWidth:"0",sizeHeight:"0",moveX:0,moveY:0}},computed:{wrap:function(){return this.$refs.wrap}},render:function(e){var t=_e(),i=this.wrapStyle;t&&(r="margin-bottom: "+(n="-"+t+"px")+"; margin-right: "+n+";",Array.isArray(this.wrapStyle)?(i=function(e){for(var t={},i=0;i<e.length;i++)e[i]&&function(e,t){for(var i in t)e[i]=t[i]}(t,e[i]);return t}(this.wrapStyle)).marginRight=i.marginBottom=n:"string"==typeof this.wrapStyle?i+=r:i=r);var n=e(this.tag,{class:["el-scrollbar__view",this.viewClass],style:this.viewStyle,ref:"resize"},this.$slots.default),r=e("div",{ref:"wrap",style:i,on:{scroll:this.handleScroll},class:[this.wrapClass,"el-scrollbar__wrap",t?"":"el-scrollbar__wrap--hidden-default"]},[[n]]),t=this.native?[e("div",{ref:"wrap",class:[this.wrapClass,"el-scrollbar__wrap"],style:i},[[n]])]:[r,e(Ke,{attrs:{move:this.moveX,size:this.sizeWidth}}),e(Ke,{attrs:{vertical:!0,move:this.moveY,size:this.sizeHeight}})];return e("div",{class:"el-scrollbar"},t)},methods:{handleScroll:function(){var e=this.wrap;this.moveY=100*e.scrollTop/e.clientHeight,this.moveX=100*e.scrollLeft/e.clientWidth},update:function(){var e,t=this.wrap;t&&(e=100*t.clientHeight/t.scrollHeight,t=100*t.clientWidth/t.scrollWidth,this.sizeHeight=e<100?e+"%":"",this.sizeWidth=t<100?t+"%":"")}},mounted:function(){this.native||(this.$nextTick(this.update),this.noresize||Fe(this.$refs.resize,this.update))},beforeDestroy:function(){this.native||this.noresize||ze(this.$refs.resize,this.update)},install:function(e){e.component(Ve.name,Ve)}},Ue=Ve,Ge=i(1),Ye=i.n(Ge),qe=[],Qe="@@clickoutsideContext",Xe=void 0,Ze=0;function Je(i,n,r){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!(r&&r.context&&e.target&&t.target)||i.contains(e.target)||i.contains(t.target)||i===e.target||r.context.popperElm&&(r.context.popperElm.contains(e.target)||r.context.popperElm.contains(t.target))||(n.expression&&i[Qe].methodName&&r.context[i[Qe].methodName]?r.context[i[Qe].methodName]():i[Qe].bindingFn&&i[Qe].bindingFn())}}u.a.prototype.$isServer||ae(document,"mousedown",function(e){return Xe=e}),u.a.prototype.$isServer||ae(document,"mouseup",function(t){qe.forEach(function(e){return e[Qe].documentHandler(t,Xe)})});var et={bind:function(e,t,i){qe.push(e);var n=Ze++;e[Qe]={id:n,documentHandler:Je(e,t,i),methodName:t.expression,bindingFn:t.value}},update:function(e,t,i){e[Qe].documentHandler=Je(e,t,i),e[Qe].methodName=t.expression,e[Qe].bindingFn=t.value},unbind:function(e){for(var t=qe.length,i=0;i<t;i++)if(qe[i][Qe].id===e[Qe].id){qe.splice(i,1);break}delete e[Qe]}};function tt(e,t){if(!u.a.prototype.$isServer)if(t){for(var i=[],n=t.offsetParent;n&&e!==n&&e.contains(n);)i.push(n),n=n.offsetParent;var r=t.offsetTop+i.reduce(function(e,t){return e+t.offsetTop},0),o=r+t.offsetHeight,s=e.scrollTop,t=s+e.clientHeight;r<s?e.scrollTop=r:t<o&&(e.scrollTop=o-e.clientHeight)}else e.scrollTop=0}var it=r({mixins:[l,H,c("reference"),{data:function(){return{hoverOption:-1}},computed:{optionsAllDisabled:function(){return this.options.filter(function(e){return e.visible}).every(function(e){return e.disabled})}},watch:{hoverIndex:function(e){var t=this;"number"==typeof e&&-1<e&&(this.hoverOption=this.options[e]||{}),this.options.forEach(function(e){e.hover=t.hoverOption===e})}},methods:{navigateOptions:function(e){var t,i=this;this.visible?0===this.options.length||0===this.filteredOptionsCount||this.optionsAllDisabled||("next"===e?(this.hoverIndex++,this.hoverIndex===this.options.length&&(this.hoverIndex=0)):"prev"===e&&(this.hoverIndex--,this.hoverIndex<0&&(this.hoverIndex=this.options.length-1)),!0!==(t=this.options[this.hoverIndex]).disabled&&!0!==t.groupDisabled&&t.visible||this.navigateOptions(e),this.$nextTick(function(){return i.scrollToOption(i.hoverOption)})):this.visible=!0}}}],name:"ElSelect",componentName:"ElSelect",inject:{elForm:{default:""},elFormItem:{default:""}},provide:function(){return{select:this}},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},readonly:function(){return!this.filterable||this.multiple||!(!u.a.prototype.$isServer&&!isNaN(Number(document.documentMode)))&&!(!u.a.prototype.$isServer&&-1<navigator.userAgent.indexOf("Edge"))&&!this.visible},showClose:function(){var e=this.multiple?Array.isArray(this.value)&&0<this.value.length:void 0!==this.value&&null!==this.value&&""!==this.value;return this.clearable&&!this.selectDisabled&&this.inputHovering&&e},iconClass:function(){return this.remote&&this.filterable?"":this.visible?"arrow-up is-reverse":"arrow-up"},debounce:function(){return this.remote?300:0},emptyText:function(){return this.loading?this.loadingText||this.t("el.select.loading"):(!this.remote||""!==this.query||0!==this.options.length)&&(this.filterable&&this.query&&0<this.options.length&&0===this.filteredOptionsCount?this.noMatchText||this.t("el.select.noMatch"):0===this.options.length?this.noDataText||this.t("el.select.noData"):null)},showNewOption:function(){var t=this,e=this.options.filter(function(e){return!e.created}).some(function(e){return e.currentLabel===t.query});return this.filterable&&this.allowCreate&&""!==this.query&&!e},selectSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},selectDisabled:function(){return this.disabled||(this.elForm||{}).disabled},collapseTagSize:function(){return-1<["small","mini"].indexOf(this.selectSize)?"mini":"small"}},components:{ElInput:ee,ElSelectMenu:$e,ElOption:Ne,ElTag:We,ElScrollbar:Ue},directives:{Clickoutside:et},props:{name:String,id:String,value:{required:!0},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(e){return!0}},automaticDropdown:Boolean,size:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:String,remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String,default:function(){return O("el.select.placeholder")}},defaultFirstOption:Boolean,reserveKeyword:Boolean,valueKey:{type:String,default:"value"},collapseTags:Boolean,popperAppendToBody:{type:Boolean,default:!0}},data:function(){return{options:[],cachedOptions:[],createdLabel:null,createdSelected:!1,selected:this.multiple?[]:{},inputLength:20,inputWidth:0,initialInputHeight:0,cachedPlaceHolder:"",optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,currentPlaceholder:"",menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1}},watch:{selectDisabled:function(){var e=this;this.$nextTick(function(){e.resetInputHeight()})},placeholder:function(e){this.cachedPlaceHolder=this.currentPlaceholder=e},value:function(e,t){this.multiple&&(this.resetInputHeight(),e&&0<e.length||this.$refs.input&&""!==this.query?this.currentPlaceholder="":this.currentPlaceholder=this.cachedPlaceHolder,this.filterable&&!this.reserveKeyword&&(this.query="",this.handleQueryChange(this.query))),this.setSelected(),this.filterable&&!this.multiple&&(this.inputLength=20),M(e,t)||this.dispatch("ElFormItem","el.form.change",e)},visible:function(e){var t=this;e?(this.broadcast("ElSelectDropdown","updatePopper"),this.filterable&&(this.query=this.remote?"":this.selectedLabel,this.handleQueryChange(this.query),this.multiple?this.$refs.input.focus():(this.remote||(this.broadcast("ElOption","queryChange",""),this.broadcast("ElOptionGroup","queryChange")),this.selectedLabel&&(this.currentPlaceholder=this.selectedLabel,this.selectedLabel="")))):(this.broadcast("ElSelectDropdown","destroyPopper"),this.$refs.input&&this.$refs.input.blur(),this.query="",this.previousQuery=null,this.selectedLabel="",this.inputLength=20,this.menuVisibleOnFocus=!1,this.resetHoverIndex(),this.$nextTick(function(){t.$refs.input&&""===t.$refs.input.value&&0===t.selected.length&&(t.currentPlaceholder=t.cachedPlaceHolder)}),this.multiple||(this.selected&&(this.filterable&&this.allowCreate&&this.createdSelected&&this.createdLabel?this.selectedLabel=this.createdLabel:this.selectedLabel=this.selected.currentLabel,this.filterable&&(this.query=this.selectedLabel)),this.filterable&&(this.currentPlaceholder=this.cachedPlaceHolder))),this.$emit("visible-change",e)},options:function(){var e,t=this;this.$isServer||(this.$nextTick(function(){t.broadcast("ElSelectDropdown","updatePopper")}),this.multiple&&this.resetInputHeight(),e=this.$el.querySelectorAll("input"),-1===[].indexOf.call(e,document.activeElement)&&this.setSelected(),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption())}},methods:{handleComposition:function(e){var t=this,i=e.target.value;"compositionend"===e.type?(this.isOnComposition=!1,this.$nextTick(function(e){return t.handleQueryChange(i)})):(e=i[i.length-1]||"",this.isOnComposition=!X(e))},handleQueryChange:function(e){var t=this;this.previousQuery===e||this.isOnComposition||(null!==this.previousQuery||"function"!=typeof this.filterMethod&&"function"!=typeof this.remoteMethod?(this.previousQuery=e,this.$nextTick(function(){t.visible&&t.broadcast("ElSelectDropdown","updatePopper")}),this.hoverIndex=-1,this.multiple&&this.filterable&&this.$nextTick(function(){var e=15*t.$refs.input.value.length+20;t.inputLength=t.collapseTags?Math.min(50,e):e,t.managePlaceholder(),t.resetInputHeight()}),this.remote&&"function"==typeof this.remoteMethod?(this.hoverIndex=-1,this.remoteMethod(e)):("function"==typeof this.filterMethod?this.filterMethod(e):(this.filteredOptionsCount=this.optionsCount,this.broadcast("ElOption","queryChange",e)),this.broadcast("ElOptionGroup","queryChange")),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()):this.previousQuery=e)},scrollToOption:function(e){e=(Array.isArray(e)&&e[0]?e[0]:e).$el;this.$refs.popper&&e&&tt(this.$refs.popper.$el.querySelector(".el-select-dropdown__wrap"),e),this.$refs.scrollbar&&this.$refs.scrollbar.handleScroll()},handleMenuEnter:function(){var e=this;this.$nextTick(function(){return e.scrollToOption(e.selected)})},emitChange:function(e){M(this.value,e)||this.$emit("change",e)},getOption:function(e){for(var t=void 0,i="[object object]"===Object.prototype.toString.call(e).toLowerCase(),n="[object null]"===Object.prototype.toString.call(e).toLowerCase(),r="[object undefined]"===Object.prototype.toString.call(e).toLowerCase(),o=this.cachedOptions.length-1;0<=o;o--){var s=this.cachedOptions[o];if(i?S(s.value,this.valueKey)===S(e,this.valueKey):s.value===e){t=s;break}}if(t)return t;r={value:e,currentLabel:i||n||r?"":e};return this.multiple&&(r.hitState=!1),r},setSelected:function(){var t=this;if(!this.multiple){var e=this.getOption(this.value);return e.created?(this.createdLabel=e.currentLabel,this.createdSelected=!0):this.createdSelected=!1,this.selectedLabel=e.currentLabel,this.selected=e,void(this.filterable&&(this.query=this.selectedLabel))}var i=[];Array.isArray(this.value)&&this.value.forEach(function(e){i.push(t.getOption(e))}),this.selected=i,this.$nextTick(function(){t.resetInputHeight()})},handleFocus:function(e){this.softFocus?this.softFocus=!1:((this.automaticDropdown||this.filterable)&&(this.visible=!0,this.filterable&&(this.menuVisibleOnFocus=!0)),this.$emit("focus",e))},blur:function(){this.visible=!1,this.$refs.reference.blur()},handleBlur:function(e){var t=this;setTimeout(function(){t.isSilentBlur?t.isSilentBlur=!1:t.$emit("blur",e)},50),this.softFocus=!1},handleClearClick:function(e){this.deleteSelected(e)},doDestroy:function(){this.$refs.popper&&this.$refs.popper.doDestroy()},handleClose:function(){this.visible=!1},toggleLastOptionHitState:function(e){if(Array.isArray(this.selected)){var t=this.selected[this.selected.length-1];if(t)return!0===e||!1===e?t.hitState=e:(t.hitState=!t.hitState,t.hitState)}},deletePrevTag:function(e){e.target.value.length<=0&&!this.toggleLastOptionHitState()&&((e=this.value.slice()).pop(),this.$emit("input",e),this.emitChange(e))},managePlaceholder:function(){""!==this.currentPlaceholder&&(this.currentPlaceholder=this.$refs.input.value?"":this.cachedPlaceHolder)},resetInputState:function(e){8!==e.keyCode&&this.toggleLastOptionHitState(!1),this.inputLength=15*this.$refs.input.value.length+20,this.resetInputHeight()},resetInputHeight:function(){var n=this;this.collapseTags&&!this.filterable||this.$nextTick(function(){var e,t,i;n.$refs.reference&&(i=n.$refs.reference.$el.childNodes,e=[].filter.call(i,function(e){return"INPUT"===e.tagName})[0],t=n.$refs.tags,i=n.initialInputHeight||40,e.style.height=0===n.selected.length?i+"px":Math.max(t?t.clientHeight+(t.clientHeight>i?6:0):0,i)+"px",n.visible&&!1!==n.emptyText&&n.broadcast("ElSelectDropdown","updatePopper"))})},resetHoverIndex:function(){var t=this;setTimeout(function(){t.multiple?0<t.selected.length?t.hoverIndex=Math.min.apply(null,t.selected.map(function(e){return t.options.indexOf(e)})):t.hoverIndex=-1:t.hoverIndex=t.options.indexOf(t.selected)},300)},handleOptionSelect:function(e,t){var i,n,r=this;this.multiple?(i=(this.value||[]).slice(),-1<(n=this.getValueIndex(i,e.value))?i.splice(n,1):(this.multipleLimit<=0||i.length<this.multipleLimit)&&i.push(e.value),this.$emit("input",i),this.emitChange(i),e.created&&(this.query="",this.handleQueryChange(""),this.inputLength=20),this.filterable&&this.$refs.input.focus()):(this.$emit("input",e.value),this.emitChange(e.value),this.visible=!1),this.isSilentBlur=t,this.setSoftFocus(),this.visible||this.$nextTick(function(){r.scrollToOption(e)})},setSoftFocus:function(){this.softFocus=!0;var e=this.$refs.input||this.$refs.reference;e&&e.focus()},getValueIndex:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],i=arguments[1];if("[object object]"!==Object.prototype.toString.call(i).toLowerCase())return e.indexOf(i);var n=this.valueKey,r=-1;return e.some(function(e,t){return S(e,n)===S(i,n)&&(r=t,!0)}),r},toggleMenu:function(){this.selectDisabled||(this.menuVisibleOnFocus?this.menuVisibleOnFocus=!1:this.visible=!this.visible,this.visible&&(this.$refs.input||this.$refs.reference).focus())},selectOption:function(){this.visible?this.options[this.hoverIndex]&&this.handleOptionSelect(this.options[this.hoverIndex]):this.toggleMenu()},deleteSelected:function(e){e.stopPropagation();e=this.multiple?[]:"";this.$emit("input",e),this.emitChange(e),this.visible=!1,this.$emit("clear")},deleteTag:function(e,t){var i,n=this.selected.indexOf(t);-1<n&&!this.selectDisabled&&((i=this.value.slice()).splice(n,1),this.$emit("input",i),this.emitChange(i),this.$emit("remove-tag",t.value)),e.stopPropagation()},onInputChange:function(){this.filterable&&this.query!==this.selectedLabel&&(this.query=this.selectedLabel,this.handleQueryChange(this.query))},onOptionDestroy:function(e){-1<e&&(this.optionsCount--,this.filteredOptionsCount--,this.options.splice(e,1))},resetInputWidth:function(){this.inputWidth=this.$refs.reference.$el.getBoundingClientRect().width},handleResize:function(){this.resetInputWidth(),this.multiple&&this.resetInputHeight()},checkDefaultFirstOption:function(){for(var e=!(this.hoverIndex=-1),t=this.options.length-1;0<=t;t--)if(this.options[t].created){e=!0,this.hoverIndex=t;break}if(!e)for(var i=0;i!==this.options.length;++i){var n=this.options[i];if(this.query){if(!n.disabled&&!n.groupDisabled&&n.visible){this.hoverIndex=i;break}}else if(n.itemSelected){this.hoverIndex=i;break}}},getValueKey:function(e){return"[object object]"!==Object.prototype.toString.call(e.value).toLowerCase()?e.value:S(e.value,this.valueKey)}},created:function(){var t=this;this.cachedPlaceHolder=this.currentPlaceholder=this.placeholder,this.multiple&&!Array.isArray(this.value)&&this.$emit("input",[]),!this.multiple&&Array.isArray(this.value)&&this.$emit("input",""),this.debouncedOnInputChange=Ye()(this.debounce,function(){t.onInputChange()}),this.debouncedQueryChange=Ye()(this.debounce,function(e){t.handleQueryChange(e.target.value)}),this.$on("handleOptionClick",this.handleOptionSelect),this.$on("setSelected",this.setSelected)},mounted:function(){var e=this;this.multiple&&Array.isArray(this.value)&&0<this.value.length&&(this.currentPlaceholder=""),Fe(this.$el,this.handleResize);var t,i=this.$refs.reference;i&&i.$el&&(t=i.$el.querySelector("input"),this.initialInputHeight=t.getBoundingClientRect().height||{medium:36,small:32,mini:28}[this.selectSize]),this.remote&&this.multiple&&this.resetInputHeight(),this.$nextTick(function(){i&&i.$el&&(e.inputWidth=i.$el.getBoundingClientRect().width)}),this.setSelected()},beforeDestroy:function(){this.$el&&this.handleResize&&ze(this.$el,this.handleResize)}},a,[],!1,null,null,null);it.options.__file="packages/select/src/select.vue";var nt=it.exports;nt.install=function(e){e.component(nt.name,nt)};var rt=nt;Ne.install=function(e){e.component(Ne.name,Ne)};var ot=Ne,st={name:"ElPagination",props:{pageSize:{type:Number,default:10},small:Boolean,total:Number,pageCount:Number,pagerCount:{type:Number,validator:function(e){return(0|e)===e&&4<e&&e<22&&e%2==1},default:7},currentPage:{type:Number,default:1},layout:{default:"prev, pager, next, jumper, ->, total"},pageSizes:{type:Array,default:function(){return[10,20,30,40,50,100]}},popperClass:String,prevText:String,nextText:String,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean},data:function(){return{internalCurrentPage:1,internalPageSize:0,lastEmittedPage:-1,userChangePageSize:!1}},render:function(e){var t=this.layout;if(!t)return null;if(this.hideOnSinglePage&&(!this.internalPageCount||1===this.internalPageCount))return null;var i=e("div",{class:["el-pagination",{"is-background":this.background,"el-pagination--small":this.small}]}),n={prev:e("prev"),jumper:e("jumper"),pager:e("pager",{attrs:{currentPage:this.internalCurrentPage,pageCount:this.internalPageCount,pagerCount:this.pagerCount,disabled:this.disabled},on:{change:this.handleCurrentChange}}),next:e("next"),sizes:e("sizes",{attrs:{pageSizes:this.pageSizes}}),slot:e("slot",[this.$slots.default?this.$slots.default:""]),total:e("total")},t=t.split(",").map(function(e){return e.trim()}),r=e("div",{class:"el-pagination__rightwrapper"}),o=!1;return i.children=i.children||[],r.children=r.children||[],t.forEach(function(e){"->"!==e?(o?r:i).children.push(n[e]):o=!0}),o&&i.children.unshift(r),i},components:{Prev:{render:function(e){return e("button",{attrs:{type:"button",disabled:this.$parent.disabled||this.$parent.internalCurrentPage<=1},class:"btn-prev",on:{click:this.$parent.prev}},[this.$parent.prevText?e("span",[this.$parent.prevText]):e("i",{class:"el-icon el-icon-arrow-left"})])}},Next:{render:function(e){return e("button",{attrs:{type:"button",disabled:this.$parent.disabled||this.$parent.internalCurrentPage===this.$parent.internalPageCount||0===this.$parent.internalPageCount},class:"btn-next",on:{click:this.$parent.next}},[this.$parent.nextText?e("span",[this.$parent.nextText]):e("i",{class:"el-icon el-icon-arrow-right"})])}},Sizes:{mixins:[H],props:{pageSizes:Array},watch:{pageSizes:{immediate:!0,handler:function(e,t){M(e,t)||Array.isArray(e)&&(this.$parent.internalPageSize=-1<e.indexOf(this.$parent.pageSize)?this.$parent.pageSize:this.pageSizes[0])}}},render:function(t){var i=this;return t("span",{class:"el-pagination__sizes"},[t("el-select",{attrs:{value:this.$parent.internalPageSize,popperClass:this.$parent.popperClass||"",size:"mini",disabled:this.$parent.disabled},on:{input:this.handleChange}},[this.pageSizes.map(function(e){return t("el-option",{attrs:{value:e,label:e+i.t("el.pagination.pagesize")}})})])])},components:{ElSelect:rt,ElOption:ot},methods:{handleChange:function(e){e!==this.$parent.internalPageSize&&(this.$parent.internalPageSize=e=parseInt(e,10),this.$parent.userChangePageSize=!0,this.$parent.$emit("update:pageSize",e),this.$parent.$emit("size-change",e))}}},Jumper:{mixins:[H],components:{ElInput:ee},data:function(){return{userInput:null}},watch:{"$parent.internalCurrentPage":function(){this.userInput=null}},methods:{handleKeyup:function(e){var t=e.keyCode,e=e.target;13===t&&this.handleChange(e.value)},handleInput:function(e){this.userInput=e},handleChange:function(e){this.$parent.internalCurrentPage=this.$parent.getValidCurrentPage(e),this.$parent.emitChange(),this.userInput=null}},render:function(e){return e("span",{class:"el-pagination__jump"},[this.t("el.pagination.goto"),e("el-input",{class:"el-pagination__editor is-in-pagination",attrs:{min:1,max:this.$parent.internalPageCount,value:null!==this.userInput?this.userInput:this.$parent.internalCurrentPage,type:"number",disabled:this.$parent.disabled},nativeOn:{keyup:this.handleKeyup},on:{input:this.handleInput,change:this.handleChange}}),this.t("el.pagination.pageClassifier")])}},Total:{mixins:[H],render:function(e){return"number"==typeof this.$parent.total?e("span",{class:"el-pagination__total"},[this.t("el.pagination.total",{total:this.$parent.total})]):""}},Pager:s},methods:{handleCurrentChange:function(e){this.internalCurrentPage=this.getValidCurrentPage(e),this.userChangePageSize=!0,this.emitChange()},prev:function(){var e;this.disabled||(e=this.internalCurrentPage-1,this.internalCurrentPage=this.getValidCurrentPage(e),this.$emit("prev-click",this.internalCurrentPage),this.emitChange())},next:function(){var e;this.disabled||(e=this.internalCurrentPage+1,this.internalCurrentPage=this.getValidCurrentPage(e),this.$emit("next-click",this.internalCurrentPage),this.emitChange())},getValidCurrentPage:function(e){e=parseInt(e,10);var t=void 0;return"number"==typeof this.internalPageCount?e<1?t=1:e>this.internalPageCount&&(t=this.internalPageCount):(isNaN(e)||e<1)&&(t=1),(void 0===t&&isNaN(e)||0===t)&&(t=1),void 0===t?e:t},emitChange:function(){var e=this;this.$nextTick(function(){e.internalCurrentPage===e.lastEmittedPage&&!e.userChangePageSize||(e.$emit("current-change",e.internalCurrentPage),e.lastEmittedPage=e.internalCurrentPage,e.userChangePageSize=!1)})}},computed:{internalPageCount:function(){return"number"==typeof this.total?Math.max(1,Math.ceil(this.total/this.internalPageSize)):"number"==typeof this.pageCount?Math.max(1,this.pageCount):null}},watch:{currentPage:{immediate:!0,handler:function(e){this.internalCurrentPage=this.getValidCurrentPage(e)}},pageSize:{immediate:!0,handler:function(e){this.internalPageSize=isNaN(e)?10:e}},internalCurrentPage:{immediate:!0,handler:function(e){this.$emit("update:currentPage",e),this.lastEmittedPage=-1}},internalPageCount:function(e){var t=this.internalCurrentPage;0<e&&0===t?this.internalCurrentPage=1:e<t&&(this.internalCurrentPage=0===e?1:e,this.userChangePageSize&&this.emitChange()),this.userChangePageSize=!1}},install:function(e){e.component(st.name,st)}},at=st,lt=function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("transition",{attrs:{name:"dialog-fade"},on:{"after-enter":t.afterEnter,"after-leave":t.afterLeave}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-dialog__wrapper",on:{click:function(e){return e.target!==e.currentTarget?null:t.handleWrapperClick(e)}}},[e("div",{key:t.key,ref:"dialog",class:["el-dialog",{"is-fullscreen":t.fullscreen,"el-dialog--center":t.center},t.customClass],style:t.style,attrs:{role:"dialog","aria-modal":"true","aria-label":t.title||"dialog"}},[e("div",{staticClass:"el-dialog__header"},[t._t("title",[e("span",{staticClass:"el-dialog__title"},[t._v(t._s(t.title))])]),t.showClose?e("button",{staticClass:"el-dialog__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:t.handleClose}},[e("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]):t._e()],2),t.rendered?e("div",{staticClass:"el-dialog__body"},[t._t("default")],2):t._e(),t.$slots.footer?e("div",{staticClass:"el-dialog__footer"},[t._t("footer")],2):t._e()])])])};lt._withStripped=!0;var ct=r({name:"ElDialog",mixins:[Me,l,V],props:{title:{type:String,default:""},modal:{type:Boolean,default:!0},modalAppendToBody:{type:Boolean,default:!0},appendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},width:String,fullscreen:Boolean,customClass:{type:String,default:""},top:{type:String,default:"15vh"},beforeClose:Function,center:{type:Boolean,default:!1},destroyOnClose:Boolean},data:function(){return{closed:!1,key:0}},watch:{visible:function(e){var t=this;e?(this.closed=!1,this.$emit("open"),this.$el.addEventListener("scroll",this.updatePopper),this.$nextTick(function(){t.$refs.dialog.scrollTop=0}),this.appendToBody&&document.body.appendChild(this.$el)):(this.$el.removeEventListener("scroll",this.updatePopper),this.closed||this.$emit("close"),this.destroyOnClose&&this.$nextTick(function(){t.key++}))}},computed:{style:function(){var e={};return this.fullscreen||(e.marginTop=this.top,this.width&&(e.width=this.width)),e}},methods:{getMigratingConfig:function(){return{props:{size:"size is removed."}}},handleWrapperClick:function(){this.closeOnClickModal&&this.handleClose()},handleClose:function(){"function"==typeof this.beforeClose?this.beforeClose(this.hide):this.hide()},hide:function(e){!1!==e&&(this.$emit("update:visible",!1),this.$emit("close"),this.closed=!0)},updatePopper:function(){this.broadcast("ElSelectDropdown","updatePopper"),this.broadcast("ElDropdownMenu","updatePopper")},afterEnter:function(){this.$emit("opened")},afterLeave:function(){this.$emit("closed")}},mounted:function(){this.visible&&(this.rendered=!0,this.open(),this.appendToBody&&document.body.appendChild(this.$el))},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},lt,[],!1,null,null,null);ct.options.__file="packages/dialog/src/component.vue";var ht=ct.exports;ht.install=function(e){e.component(ht.name,ht)};var ut=ht,dt=function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:i.close,expression:"close"}],staticClass:"el-autocomplete",attrs:{"aria-haspopup":"listbox",role:"combobox","aria-expanded":i.suggestionVisible,"aria-owns":i.id}},[n("el-input",i._b({ref:"input",on:{input:i.handleInput,change:i.handleChange,focus:i.handleFocus,blur:i.handleBlur,clear:i.handleClear},nativeOn:{keydown:[function(e){if(!("button"in e)&&i._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.preventDefault(),i.highlight(i.highlightedIndex-1)},function(e){if(!("button"in e)&&i._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.preventDefault(),i.highlight(i.highlightedIndex+1)},function(e){return"button"in e||!i._k(e.keyCode,"enter",13,e.key,"Enter")?i.handleKeyEnter(e):null},function(e){return"button"in e||!i._k(e.keyCode,"tab",9,e.key,"Tab")?i.close(e):null}]}},"el-input",[i.$props,i.$attrs],!1),[i.$slots.prepend?n("template",{slot:"prepend"},[i._t("prepend")],2):i._e(),i.$slots.append?n("template",{slot:"append"},[i._t("append")],2):i._e(),i.$slots.prefix?n("template",{slot:"prefix"},[i._t("prefix")],2):i._e(),i.$slots.suffix?n("template",{slot:"suffix"},[i._t("suffix")],2):i._e()],2),n("el-autocomplete-suggestions",{ref:"suggestions",class:[i.popperClass?i.popperClass:""],attrs:{"visible-arrow":"","popper-options":i.popperOptions,"append-to-body":i.popperAppendToBody,placement:i.placement,id:i.id}},i._l(i.suggestions,function(t,e){return n("li",{key:e,class:{highlighted:i.highlightedIndex===e},attrs:{id:i.id+"-item-"+e,role:"option","aria-selected":i.highlightedIndex===e},on:{click:function(e){i.select(t)}}},[i._t("default",[i._v("\n        "+i._s(t[i.valueKey])+"\n      ")],{item:t})],2)}),0)],1)},ft=function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":e.doDestroy}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showPopper,expression:"showPopper"}],staticClass:"el-autocomplete-suggestion el-popper",class:{"is-loading":!e.parent.hideLoading&&e.parent.loading},style:{width:e.dropdownWidth},attrs:{role:"region"}},[t("el-scrollbar",{attrs:{tag:"ul","wrap-class":"el-autocomplete-suggestion__wrap","view-class":"el-autocomplete-suggestion__list"}},[!e.parent.hideLoading&&e.parent.loading?t("li",[t("i",{staticClass:"el-icon-loading"})]):e._t("default")],2)],1)])};ft._withStripped=dt._withStripped=!0;var pt=r({components:{ElScrollbar:Ue},mixins:[De,l],componentName:"ElAutocompleteSuggestions",data:function(){return{parent:this.$parent,dropdownWidth:""}},props:{options:{default:function(){return{gpuAcceleration:!1}}},id:String},methods:{select:function(e){this.dispatch("ElAutocomplete","item-click",e)}},updated:function(){var t=this;this.$nextTick(function(e){t.popperJS&&t.updatePopper()})},mounted:function(){this.$parent.popperElm=this.popperElm=this.$el,this.referenceElm=this.$parent.$refs.input.$refs.input||this.$parent.$refs.input.$refs.textarea,this.referenceList=this.$el.querySelector(".el-autocomplete-suggestion__list"),this.referenceList.setAttribute("role","listbox"),this.referenceList.setAttribute("id",this.id)},created:function(){var i=this;this.$on("visible",function(e,t){i.dropdownWidth=t+"px",i.showPopper=e})}},ft,[],!1,null,null,null),gt=r({name:"ElAutocomplete",mixins:[l,c("input"),V],inheritAttrs:!(pt.options.__file="packages/autocomplete/src/autocomplete-suggestions.vue"),componentName:"ElAutocomplete",components:{ElInput:ee,ElAutocompleteSuggestions:pt.exports},directives:{Clickoutside:et},props:{valueKey:{type:String,default:"value"},popperClass:String,popperOptions:Object,placeholder:String,clearable:{type:Boolean,default:!1},disabled:Boolean,name:String,size:String,value:String,maxlength:Number,minlength:Number,autofocus:Boolean,fetchSuggestions:Function,triggerOnFocus:{type:Boolean,default:!0},customItem:String,selectWhenUnmatched:{type:Boolean,default:!1},prefixIcon:String,suffixIcon:String,label:String,debounce:{type:Number,default:300},placement:{type:String,default:"bottom-start"},hideLoading:Boolean,popperAppendToBody:{type:Boolean,default:!0},highlightFirstItem:{type:Boolean,default:!1}},data:function(){return{activated:!1,suggestions:[],loading:!1,highlightedIndex:-1,suggestionDisabled:!1}},computed:{suggestionVisible:function(){var e=this.suggestions;return(Array.isArray(e)&&0<e.length||this.loading)&&this.activated},id:function(){return"el-autocomplete-"+k()}},watch:{suggestionVisible:function(e){var t=this.getInput();t&&this.broadcast("ElAutocompleteSuggestions","visible",[e,t.offsetWidth])}},methods:{getMigratingConfig:function(){return{props:{"custom-item":"custom-item is removed, use scoped slot instead.",props:"props is removed, use value-key instead."}}},getData:function(e){var t=this;this.suggestionDisabled||(this.loading=!0,this.fetchSuggestions(e,function(e){t.loading=!1,t.suggestionDisabled||(Array.isArray(e)?(t.suggestions=e,t.highlightedIndex=t.highlightFirstItem?0:-1):console.error("[Element Error][Autocomplete]autocomplete suggestions must be an array"))}))},handleInput:function(e){if(this.$emit("input",e),this.suggestionDisabled=!1,!this.triggerOnFocus&&!e)return this.suggestionDisabled=!0,void(this.suggestions=[]);this.debouncedGetData(e)},handleChange:function(e){this.$emit("change",e)},handleFocus:function(e){this.activated=!0,this.$emit("focus",e),this.triggerOnFocus&&this.debouncedGetData(this.value)},handleBlur:function(e){this.$emit("blur",e)},handleClear:function(){this.activated=!1,this.$emit("clear")},close:function(e){this.activated=!1},handleKeyEnter:function(e){var t=this;this.suggestionVisible&&0<=this.highlightedIndex&&this.highlightedIndex<this.suggestions.length?(e.preventDefault(),this.select(this.suggestions[this.highlightedIndex])):this.selectWhenUnmatched&&(this.$emit("select",{value:this.value}),this.$nextTick(function(e){t.suggestions=[],t.highlightedIndex=-1}))},select:function(e){var t=this;this.$emit("input",e[this.valueKey]),this.$emit("select",e),this.$nextTick(function(e){t.suggestions=[],t.highlightedIndex=-1})},highlight:function(e){var t,i,n,r;this.suggestionVisible&&!this.loading&&(e<0?this.highlightedIndex=-1:(e>=this.suggestions.length&&(e=this.suggestions.length-1),i=(t=this.$refs.suggestions.$el.querySelector(".el-autocomplete-suggestion__wrap")).querySelectorAll(".el-autocomplete-suggestion__list li")[e],n=t.scrollTop,(r=i.offsetTop)+i.scrollHeight>n+t.clientHeight&&(t.scrollTop+=i.scrollHeight),r<n&&(t.scrollTop-=i.scrollHeight),this.highlightedIndex=e,this.getInput().setAttribute("aria-activedescendant",this.id+"-item-"+this.highlightedIndex)))},getInput:function(){return this.$refs.input.getInput()}},mounted:function(){var t=this;this.debouncedGetData=Ye()(this.debounce,this.getData),this.$on("item-click",function(e){t.select(e)});var e=this.getInput();e.setAttribute("role","textbox"),e.setAttribute("aria-autocomplete","list"),e.setAttribute("aria-controls","id"),e.setAttribute("aria-activedescendant",this.id+"-item-"+this.highlightedIndex)},beforeDestroy:function(){this.$refs.suggestions.$destroy()}},dt,[],!1,null,null,null);gt.options.__file="packages/autocomplete/src/autocomplete.vue";var mt=gt.exports;mt.install=function(e){e.component(mt.name,mt)};var vt=mt,yt=function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("button",{staticClass:"el-button",class:[e.type?"el-button--"+e.type:"",e.buttonSize?"el-button--"+e.buttonSize:"",{"is-disabled":e.buttonDisabled,"is-loading":e.loading,"is-plain":e.plain,"is-round":e.round,"is-circle":e.circle}],attrs:{disabled:e.buttonDisabled||e.loading,autofocus:e.autofocus,type:e.nativeType},on:{click:e.handleClick}},[e.loading?t("i",{staticClass:"el-icon-loading"}):e._e(),e.icon&&!e.loading?t("i",{class:e.icon}):e._e(),e.$slots.default?t("span",[e._t("default")],2):e._e()])};yt._withStripped=!0;var bt=r({name:"ElButton",inject:{elForm:{default:""},elFormItem:{default:""}},props:{type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},buttonSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},buttonDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},methods:{handleClick:function(e){this.$emit("click",e)}}},yt,[],!1,null,null,null);bt.options.__file="packages/button/src/button.vue";var wt=bt.exports;wt.install=function(e){e.component(wt.name,wt)};var xt=wt,Ct=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"el-button-group"},[this._t("default")],2)};Ct._withStripped=!0;var St=r({name:"ElButtonGroup"},Ct,[],!1,null,null,null);St.options.__file="packages/button/src/button-group.vue";var _t=St.exports;_t.install=function(e){e.component(_t.name,_t)};var kt=_t,Mt=r({name:"ElDropdown",componentName:"ElDropdown",mixins:[l,V],directives:{Clickoutside:et},components:{ElButton:xt,ElButtonGroup:kt},provide:function(){return{dropdown:this}},props:{trigger:{type:String,default:"hover"},type:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},placement:{type:String,default:"bottom-end"},visibleArrow:{default:!0},showTimeout:{type:Number,default:250},hideTimeout:{type:Number,default:150},tabindex:{type:Number,default:0}},data:function(){return{timeout:null,visible:!1,triggerElm:null,menuItems:null,menuItemsArray:null,dropdownElm:null,focusing:!1,listId:"dropdown-menu-"+k()}},computed:{dropdownSize:function(){return this.size||(this.$ELEMENT||{}).size}},mounted:function(){this.$on("menu-item-click",this.handleMenuItemClick)},watch:{visible:function(e){this.broadcast("ElDropdownMenu","visible",e),this.$emit("visible-change",e)},focusing:function(e){var t=this.$el.querySelector(".el-dropdown-selfdefine");t&&(e?t.className+=" focusing":t.className=t.className.replace("focusing",""))}},methods:{getMigratingConfig:function(){return{props:{"menu-align":"menu-align is renamed to placement."}}},show:function(){var e=this;this.triggerElm.disabled||(clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.visible=!0},"click"===this.trigger?0:this.showTimeout))},hide:function(){var e=this;this.triggerElm.disabled||(this.removeTabindex(),0<=this.tabindex&&this.resetTabindex(this.triggerElm),clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.visible=!1},"click"===this.trigger?0:this.hideTimeout))},handleClick:function(){this.triggerElm.disabled||(this.visible?this.hide():this.show())},handleTriggerKeyDown:function(e){var t=e.keyCode;-1<[38,40].indexOf(t)?(this.removeTabindex(),this.resetTabindex(this.menuItems[0]),this.menuItems[0].focus(),e.preventDefault(),e.stopPropagation()):13===t?this.handleClick():-1<[9,27].indexOf(t)&&this.hide()},handleItemKeyDown:function(e){var t,i=e.keyCode,n=e.target,r=this.menuItemsArray.indexOf(n),o=this.menuItemsArray.length-1;-1<[38,40].indexOf(i)?(t=38===i?0!==r?r-1:0:r<o?r+1:o,this.removeTabindex(),this.resetTabindex(this.menuItems[t]),this.menuItems[t].focus(),e.preventDefault(),e.stopPropagation()):13===i?(this.triggerElmFocus(),n.click(),this.hideOnClick&&(this.visible=!1)):-1<[9,27].indexOf(i)&&(this.hide(),this.triggerElmFocus())},resetTabindex:function(e){this.removeTabindex(),e.setAttribute("tabindex","0")},removeTabindex:function(){this.triggerElm.setAttribute("tabindex","-1"),this.menuItemsArray.forEach(function(e){e.setAttribute("tabindex","-1")})},initAria:function(){this.dropdownElm.setAttribute("id",this.listId),this.triggerElm.setAttribute("aria-haspopup","list"),this.triggerElm.setAttribute("aria-controls",this.listId),this.splitButton||(this.triggerElm.setAttribute("role","button"),this.triggerElm.setAttribute("tabindex",this.tabindex),this.triggerElm.setAttribute("class",(this.triggerElm.getAttribute("class")||"")+" el-dropdown-selfdefine"))},initEvent:function(){var e=this,t=this.trigger,i=this.show,n=this.hide,r=this.handleClick,o=this.splitButton,s=this.handleTriggerKeyDown,a=this.handleItemKeyDown;this.triggerElm=o?this.$refs.trigger.$el:this.$slots.default[0].elm;var l=this.dropdownElm;this.triggerElm.addEventListener("keydown",s),l.addEventListener("keydown",a,!0),o||(this.triggerElm.addEventListener("focus",function(){e.focusing=!0}),this.triggerElm.addEventListener("blur",function(){e.focusing=!1}),this.triggerElm.addEventListener("click",function(){e.focusing=!1})),"hover"===t?(this.triggerElm.addEventListener("mouseenter",i),this.triggerElm.addEventListener("mouseleave",n),l.addEventListener("mouseenter",i),l.addEventListener("mouseleave",n)):"click"===t&&this.triggerElm.addEventListener("click",r)},handleMenuItemClick:function(e,t){this.hideOnClick&&(this.visible=!1),this.$emit("command",e,t)},triggerElmFocus:function(){this.triggerElm.focus&&this.triggerElm.focus()},initDomOperation:function(){this.dropdownElm=this.popperElm,this.menuItems=this.dropdownElm.querySelectorAll("[tabindex='-1']"),this.menuItemsArray=[].slice.call(this.menuItems),this.initEvent(),this.initAria()}},render:function(e){var t=this,i=this.hide,n=this.splitButton,r=this.type,o=this.dropdownSize,o=n?e("el-button-group",[e("el-button",{attrs:{type:r,size:o},nativeOn:{click:function(e){t.$emit("click",e),i()}}},[this.$slots.default]),e("el-button",{ref:"trigger",attrs:{type:r,size:o},class:"el-dropdown__caret-button"},[e("i",{class:"el-dropdown__icon el-icon-arrow-down"})])]):this.$slots.default;return e("div",{class:"el-dropdown",directives:[{name:"clickoutside",value:i}]},[o,this.$slots.dropdown])}},void 0,void 0,!1,null,null,null);Mt.options.__file="packages/dropdown/src/dropdown.vue";var Tt=Mt.exports;Tt.install=function(e){e.component(Tt.name,Tt)};var Dt=Tt,At=function(){var e=this.$createElement,e=this._self._c||e;return e("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":this.doDestroy}},[e("ul",{directives:[{name:"show",rawName:"v-show",value:this.showPopper,expression:"showPopper"}],staticClass:"el-dropdown-menu el-popper",class:[this.size&&"el-dropdown-menu--"+this.size]},[this._t("default")],2)])};At._withStripped=!0;var $t=r({name:"ElDropdownMenu",componentName:"ElDropdownMenu",mixins:[De],props:{visibleArrow:{type:Boolean,default:!0},arrowOffset:{type:Number,default:0}},data:function(){return{size:this.dropdown.dropdownSize}},inject:["dropdown"],created:function(){var t=this;this.$on("updatePopper",function(){t.showPopper&&t.updatePopper()}),this.$on("visible",function(e){t.showPopper=e})},mounted:function(){this.dropdown.popperElm=this.popperElm=this.$el,this.referenceElm=this.dropdown.$el,this.dropdown.initDomOperation()},watch:{"dropdown.placement":{immediate:!0,handler:function(e){this.currentPlacement=e}}}},At,[],!1,null,null,null);$t.options.__file="packages/dropdown/src/dropdown-menu.vue";var Et=$t.exports;Et.install=function(e){e.component(Et.name,Et)};var Lt=Et,It=function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("li",{staticClass:"el-dropdown-menu__item",class:{"is-disabled":e.disabled,"el-dropdown-menu__item--divided":e.divided},attrs:{"aria-disabled":e.disabled,tabindex:e.disabled?null:-1},on:{click:e.handleClick}},[e.icon?t("i",{class:e.icon}):e._e(),e._t("default")],2)};It._withStripped=!0;var Nt=r({name:"ElDropdownItem",mixins:[l],props:{command:{},disabled:Boolean,divided:Boolean,icon:String},methods:{handleClick:function(e){this.dispatch("ElDropdown","menu-item-click",[this.command,this])}}},It,[],!1,null,null,null);Nt.options.__file="packages/dropdown/src/dropdown-item.vue";var Ot=Nt.exports;Ot.install=function(e){e.component(Ot.name,Ot)};var Rt=Ot,Pt=Pt||{};Pt.Utils=Pt.Utils||{},Pt.Utils.focusFirstDescendant=function(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(Pt.Utils.attemptFocus(i)||Pt.Utils.focusFirstDescendant(i))return!0}return!1},Pt.Utils.focusLastDescendant=function(e){for(var t=e.childNodes.length-1;0<=t;t--){var i=e.childNodes[t];if(Pt.Utils.attemptFocus(i)||Pt.Utils.focusLastDescendant(i))return!0}return!1},Pt.Utils.attemptFocus=function(e){if(!Pt.Utils.isFocusable(e))return!1;Pt.Utils.IgnoreUtilFocusChanges=!0;try{e.focus()}catch(e){}return Pt.Utils.IgnoreUtilFocusChanges=!1,document.activeElement===e},Pt.Utils.isFocusable=function(e){if(0<e.tabIndex||0===e.tabIndex&&null!==e.getAttribute("tabIndex"))return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&"ignore"!==e.rel;case"INPUT":return"hidden"!==e.type&&"file"!==e.type;case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},Pt.Utils.triggerEvent=function(e,t){for(var i=void 0,i=/^mouse|click/.test(t)?"MouseEvents":/^key/.test(t)?"KeyboardEvent":"HTMLEvents",i=document.createEvent(i),n=arguments.length,r=Array(2<n?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return i.initEvent.apply(i,[t].concat(r)),e.dispatchEvent?e.dispatchEvent(i):e.fireEvent("on"+t,i),e},Pt.Utils.keys={tab:9,enter:13,space:32,left:37,up:38,right:39,down:40,esc:27};var Ft=Pt.Utils,zt=function(e,t){this.domNode=t,this.parent=e,this.subMenuItems=[],this.subIndex=0,this.init()};zt.prototype.init=function(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()},zt.prototype.gotoSubIndex=function(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e},zt.prototype.addListeners=function(){var i=this,n=Ft.keys,r=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,function(e){e.addEventListener("keydown",function(e){var t=!1;switch(e.keyCode){case n.down:i.gotoSubIndex(i.subIndex+1),t=!0;break;case n.up:i.gotoSubIndex(i.subIndex-1),t=!0;break;case n.tab:Ft.triggerEvent(r,"mouseleave");break;case n.enter:case n.space:t=!0,e.currentTarget.click()}return t&&(e.preventDefault(),e.stopPropagation()),!1})})};var Wt=zt,Bt=function(e){this.domNode=e,this.submenu=null,this.init()};Bt.prototype.init=function(){this.domNode.setAttribute("tabindex","0");var e=this.domNode.querySelector(".el-menu");e&&(this.submenu=new Wt(this,e)),this.addListeners()},Bt.prototype.addListeners=function(){var i=this,n=Ft.keys;this.domNode.addEventListener("keydown",function(e){var t=!1;switch(e.keyCode){case n.down:Ft.triggerEvent(e.currentTarget,"mouseenter"),i.submenu&&i.submenu.gotoSubIndex(0),t=!0;break;case n.up:Ft.triggerEvent(e.currentTarget,"mouseenter"),i.submenu&&i.submenu.gotoSubIndex(i.submenu.subMenuItems.length-1),t=!0;break;case n.tab:Ft.triggerEvent(e.currentTarget,"mouseleave");break;case n.enter:case n.space:t=!0,e.currentTarget.click()}t&&e.preventDefault()})};var jt=Bt,Ht=function(e){this.domNode=e,this.init()};Ht.prototype.init=function(){var e=this.domNode.childNodes;[].filter.call(e,function(e){return 1===e.nodeType}).forEach(function(e){new jt(e)})};var Kt=Ht,Vt=r({name:"ElMenu",render:function(e){var t=e("ul",{attrs:{role:"menubar"},key:+this.collapse,style:{backgroundColor:this.backgroundColor||""},class:{"el-menu--horizontal":"horizontal"===this.mode,"el-menu--collapse":this.collapse,"el-menu":!0}},[this.$slots.default]);return this.collapseTransition?e("el-menu-collapse-transition",[t]):t},componentName:"ElMenu",mixins:[l,V],provide:function(){return{rootMenu:this}},components:{"el-menu-collapse-transition":{functional:!0,render:function(e,t){return e("transition",{props:{mode:"out-in"},on:{beforeEnter:function(e){e.style.opacity=.2},enter:function(e){he(e,"el-opacity-transition"),e.style.opacity=1},afterEnter:function(e){ue(e,"el-opacity-transition"),e.style.opacity=""},beforeLeave:function(e){e.dataset||(e.dataset={}),ce(e,"el-menu--collapse")?(ue(e,"el-menu--collapse"),e.dataset.oldOverflow=e.style.overflow,e.dataset.scrollWidth=e.clientWidth,he(e,"el-menu--collapse")):(he(e,"el-menu--collapse"),e.dataset.oldOverflow=e.style.overflow,e.dataset.scrollWidth=e.clientWidth,ue(e,"el-menu--collapse")),e.style.width=e.scrollWidth+"px",e.style.overflow="hidden"},leave:function(e){he(e,"horizontal-collapse-transition"),e.style.width=e.dataset.scrollWidth+"px"}}},t.children)}}},props:{mode:{type:String,default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:Array,uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0}},data:function(){return{activeIndex:this.defaultActive,openedMenus:this.defaultOpeneds&&!this.collapse?this.defaultOpeneds.slice(0):[],items:{},submenus:{}}},computed:{hoverBackground:function(){return this.backgroundColor?this.mixColor(this.backgroundColor,.2):""},isMenuPopup:function(){return"horizontal"===this.mode||"vertical"===this.mode&&this.collapse}},watch:{defaultActive:function(e){this.items[e]||(this.activeIndex=null),this.updateActiveIndex(e)},defaultOpeneds:function(e){this.collapse||(this.openedMenus=e)},collapse:function(e){e&&(this.openedMenus=[]),this.broadcast("ElSubmenu","toggle-collapse",e)}},methods:{updateActiveIndex:function(e){e=this.items[e]||this.items[this.activeIndex]||this.items[this.defaultActive];e?(this.activeIndex=e.index,this.initOpenedMenu()):this.activeIndex=null},getMigratingConfig:function(){return{props:{theme:"theme is removed."}}},getColorChannels:function(e){if(e=e.replace("#",""),/^[0-9a-fA-F]{3}$/.test(e)){e=e.split("");for(var t=2;0<=t;t--)e.splice(t,0,e[t]);e=e.join("")}return/^[0-9a-fA-F]{6}$/.test(e)?{red:parseInt(e.slice(0,2),16),green:parseInt(e.slice(2,4),16),blue:parseInt(e.slice(4,6),16)}:{red:255,green:255,blue:255}},mixColor:function(e,t){var i=this.getColorChannels(e),n=i.red,e=i.green,i=i.blue;return 0<t?(n*=1-t,e*=1-t,i*=1-t):(n+=(255-n)*t,e+=(255-e)*t,i+=(255-i)*t),"rgb("+Math.round(n)+", "+Math.round(e)+", "+Math.round(i)+")"},addItem:function(e){this.$set(this.items,e.index,e)},removeItem:function(e){delete this.items[e.index]},addSubmenu:function(e){this.$set(this.submenus,e.index,e)},removeSubmenu:function(e){delete this.submenus[e.index]},openMenu:function(e,t){var i=this.openedMenus;-1===i.indexOf(e)&&(this.uniqueOpened&&(this.openedMenus=i.filter(function(e){return-1!==t.indexOf(e)})),this.openedMenus.push(e))},closeMenu:function(e){e=this.openedMenus.indexOf(e);-1!==e&&this.openedMenus.splice(e,1)},handleSubmenuClick:function(e){var t=e.index,e=e.indexPath;-1!==this.openedMenus.indexOf(t)?(this.closeMenu(t),this.$emit("close",t,e)):(this.openMenu(t,e),this.$emit("open",t,e))},handleItemClick:function(e){var t=this,i=e.index,n=e.indexPath,r=this.activeIndex,o=null!==e.index;o&&(this.activeIndex=e.index),this.$emit("select",i,n,e),"horizontal"!==this.mode&&!this.collapse||(this.openedMenus=[]),this.router&&o&&this.routeToItem(e,function(e){t.activeIndex=r,!e||"NavigationDuplicated"!==e.name&&console.error(e)})},initOpenedMenu:function(){var i=this,e=this.activeIndex,e=this.items[e];e&&"horizontal"!==this.mode&&!this.collapse&&e.indexPath.forEach(function(e){var t=i.submenus[e];t&&i.openMenu(e,t.indexPath)})},routeToItem:function(e,t){var i=e.route||e.index;try{this.$router.push(i,function(){},t)}catch(e){console.error(e)}},open:function(e){var t=this,i=this.submenus[e.toString()].indexPath;i.forEach(function(e){return t.openMenu(e,i)})},close:function(e){this.closeMenu(e)}},mounted:function(){this.initOpenedMenu(),this.$on("item-click",this.handleItemClick),this.$on("submenu-click",this.handleSubmenuClick),"horizontal"===this.mode&&new Kt(this.$el),this.$watch("items",this.updateActiveIndex)}},void 0,void 0,!1,null,null,null);Vt.options.__file="packages/menu/src/menu.vue";var Ut=Vt.exports;Ut.install=function(e){e.component(Ut.name,Ut)};var Gt=Ut,Yt=(Zt.prototype.beforeEnter=function(e){he(e,"collapse-transition"),e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height="0",e.style.paddingTop=0,e.style.paddingBottom=0},Zt.prototype.enter=function(e){e.dataset.oldOverflow=e.style.overflow,0!==e.scrollHeight?e.style.height=e.scrollHeight+"px":e.style.height="",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow="hidden"},Zt.prototype.afterEnter=function(e){ue(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow},Zt.prototype.beforeLeave=function(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.height=e.scrollHeight+"px",e.style.overflow="hidden"},Zt.prototype.leave=function(e){0!==e.scrollHeight&&(he(e,"collapse-transition"),e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0)},Zt.prototype.afterLeave=function(e){ue(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},Zt),qt={name:"ElCollapseTransition",functional:!0,render:function(e,t){t=t.children;return e("transition",{on:new Yt},t)}},Qt={inject:["rootMenu"],computed:{indexPath:function(){for(var e=[this.index],t=this.$parent;"ElMenu"!==t.$options.componentName;)t.index&&e.unshift(t.index),t=t.$parent;return e},parentMenu:function(){for(var e=this.$parent;e&&-1===["ElMenu","ElSubmenu"].indexOf(e.$options.componentName);)e=e.$parent;return e},paddingStyle:function(){if("vertical"!==this.rootMenu.mode)return{};var e=20,t=this.$parent;if(this.rootMenu.collapse)e=20;else for(;t&&"ElMenu"!==t.$options.componentName;)"ElSubmenu"===t.$options.componentName&&(e+=20),t=t.$parent;return{paddingLeft:e+"px"}}}},Xt=r({name:"ElSubmenu",componentName:"ElSubmenu",mixins:[Qt,l,{props:{transformOrigin:{type:[Boolean,String],default:!1},offset:De.props.offset,boundariesPadding:De.props.boundariesPadding,popperOptions:De.props.popperOptions},data:De.data,methods:De.methods,beforeDestroy:De.beforeDestroy,deactivated:De.deactivated}],components:{ElCollapseTransition:qt},props:{index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0}},data:function(){return{popperJS:null,timeout:null,items:{},submenus:{},mouseInChild:!1}},watch:{opened:function(e){var t=this;this.isMenuPopup&&this.$nextTick(function(e){t.updatePopper()})}},computed:{appendToBody:function(){return void 0===this.popperAppendToBody?this.isFirstLevel:this.popperAppendToBody},menuTransitionName:function(){return this.rootMenu.collapse?"el-zoom-in-left":"el-zoom-in-top"},opened:function(){return-1<this.rootMenu.openedMenus.indexOf(this.index)},active:function(){var t=!1,i=this.submenus,n=this.items;return Object.keys(n).forEach(function(e){n[e].active&&(t=!0)}),Object.keys(i).forEach(function(e){i[e].active&&(t=!0)}),t},hoverBackground:function(){return this.rootMenu.hoverBackground},backgroundColor:function(){return this.rootMenu.backgroundColor||""},activeTextColor:function(){return this.rootMenu.activeTextColor||""},textColor:function(){return this.rootMenu.textColor||""},mode:function(){return this.rootMenu.mode},isMenuPopup:function(){return this.rootMenu.isMenuPopup},titleStyle:function(){return"horizontal"!==this.mode?{color:this.textColor}:{borderBottomColor:this.active?this.rootMenu.activeTextColor?this.activeTextColor:"":"transparent",color:this.active?this.activeTextColor:this.textColor}},isFirstLevel:function(){for(var e=!0,t=this.$parent;t&&t!==this.rootMenu;){if(-1<["ElSubmenu","ElMenuItemGroup"].indexOf(t.$options.componentName)){e=!1;break}t=t.$parent}return e}},methods:{handleCollapseToggle:function(e){e?this.initPopper():this.doDestroy()},addItem:function(e){this.$set(this.items,e.index,e)},removeItem:function(e){delete this.items[e.index]},addSubmenu:function(e){this.$set(this.submenus,e.index,e)},removeSubmenu:function(e){delete this.submenus[e.index]},handleClick:function(){var e=this.rootMenu,t=this.disabled;"hover"===e.menuTrigger&&"horizontal"===e.mode||e.collapse&&"vertical"===e.mode||t||this.dispatch("ElMenu","submenu-click",this)},handleMouseenter:function(e){var t,i=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.showTimeout;("ActiveXObject"in window||"focus"!==e.type||e.relatedTarget)&&(t=this.rootMenu,e=this.disabled,"click"===t.menuTrigger&&"horizontal"===t.mode||!t.collapse&&"vertical"===t.mode||e||(this.dispatch("ElSubmenu","mouse-enter-child"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){i.rootMenu.openMenu(i.index,i.indexPath)},n),this.appendToBody&&this.$parent.$el.dispatchEvent(new MouseEvent("mouseenter"))))},handleMouseleave:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],i=this.rootMenu;"click"===i.menuTrigger&&"horizontal"===i.mode||!i.collapse&&"vertical"===i.mode||(this.dispatch("ElSubmenu","mouse-leave-child"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.mouseInChild||e.rootMenu.closeMenu(e.index)},this.hideTimeout),this.appendToBody&&t&&"ElSubmenu"===this.$parent.$options.name&&this.$parent.handleMouseleave(!0))},handleTitleMouseenter:function(){var e;"horizontal"===this.mode&&!this.rootMenu.backgroundColor||(e=this.$refs["submenu-title"])&&(e.style.backgroundColor=this.rootMenu.hoverBackground)},handleTitleMouseleave:function(){var e;"horizontal"===this.mode&&!this.rootMenu.backgroundColor||(e=this.$refs["submenu-title"])&&(e.style.backgroundColor=this.rootMenu.backgroundColor||"")},updatePlacement:function(){this.currentPlacement="horizontal"===this.mode&&this.isFirstLevel?"bottom-start":"right-start"},initPopper:function(){this.referenceElm=this.$el,this.popperElm=this.$refs.menu,this.updatePlacement()}},created:function(){var e=this;this.$on("toggle-collapse",this.handleCollapseToggle),this.$on("mouse-enter-child",function(){e.mouseInChild=!0,clearTimeout(e.timeout)}),this.$on("mouse-leave-child",function(){e.mouseInChild=!1,clearTimeout(e.timeout)})},mounted:function(){this.parentMenu.addSubmenu(this),this.rootMenu.addSubmenu(this),this.initPopper()},beforeDestroy:function(){this.parentMenu.removeSubmenu(this),this.rootMenu.removeSubmenu(this)},render:function(e){var t=this,i=this.active,n=this.opened,r=this.paddingStyle,o=this.titleStyle,s=this.backgroundColor,a=this.rootMenu,l=this.currentPlacement,c=this.menuTransitionName,h=this.mode,u=this.disabled,d=this.popperClass,f=this.$slots,p=this.isFirstLevel,d=e("transition",{attrs:{name:c}},[e("div",{ref:"menu",directives:[{name:"show",value:n}],class:["el-menu--"+h,d],on:{mouseenter:function(e){return t.handleMouseenter(e,100)},mouseleave:function(){return t.handleMouseleave(!0)},focus:function(e){return t.handleMouseenter(e,100)}}},[e("ul",{attrs:{role:"menu"},class:["el-menu el-menu--popup","el-menu--popup-"+l],style:{backgroundColor:a.backgroundColor||""}},[f.default])])]),l=e("el-collapse-transition",[e("ul",{attrs:{role:"menu"},class:"el-menu el-menu--inline",directives:[{name:"show",value:n}],style:{backgroundColor:a.backgroundColor||""}},[f.default])]),a="horizontal"===a.mode&&p||"vertical"===a.mode&&!a.collapse?"el-icon-arrow-down":"el-icon-arrow-right";return e("li",{class:{"el-submenu":!0,"is-active":i,"is-opened":n,"is-disabled":u},attrs:{role:"menuitem","aria-haspopup":"true","aria-expanded":n},on:{mouseenter:this.handleMouseenter,mouseleave:function(){return t.handleMouseleave(!1)},focus:this.handleMouseenter}},[e("div",{class:"el-submenu__title",ref:"submenu-title",on:{click:this.handleClick,mouseenter:this.handleTitleMouseenter,mouseleave:this.handleTitleMouseleave},style:[r,o,{backgroundColor:s}]},[f.title,e("i",{class:["el-submenu__icon-arrow",a]})]),this.isMenuPopup?d:l])}},void 0,void 0,!1,null,null,null);function Zt(){!function(e){if(!(e instanceof Zt))throw new TypeError("Cannot call a class as a function")}(this)}Xt.options.__file="packages/menu/src/submenu.vue";var Jt=Xt.exports;Jt.install=function(e){e.component(Jt.name,Jt)};var ei=Jt,ti=function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("li",{staticClass:"el-menu-item",class:{"is-active":e.active,"is-disabled":e.disabled},style:[e.paddingStyle,e.itemStyle,{backgroundColor:e.backgroundColor}],attrs:{role:"menuitem",tabindex:"-1"},on:{click:e.handleClick,mouseenter:e.onMouseEnter,focus:e.onMouseEnter,blur:e.onMouseLeave,mouseleave:e.onMouseLeave}},["ElMenu"===e.parentMenu.$options.componentName&&e.rootMenu.collapse&&e.$slots.title?t("el-tooltip",{attrs:{effect:"dark",placement:"right"}},[t("div",{attrs:{slot:"content"},slot:"content"},[e._t("title")],2),t("div",{staticStyle:{position:"absolute",left:"0",top:"0",height:"100%",width:"100%",display:"inline-block","box-sizing":"border-box",padding:"0 20px"}},[e._t("default")],2)]):[e._t("default"),e._t("title")]],2)};ti._withStripped=!0;var ii={name:"ElTooltip",mixins:[De],props:{openDelay:{type:Number,default:0},disabled:Boolean,manual:Boolean,effect:{type:String,default:"dark"},arrowOffset:{type:Number,default:0},popperClass:String,content:String,visibleArrow:{default:!0},transition:{type:String,default:"el-fade-in-linear"},popperOptions:{default:function(){return{boundariesPadding:10,gpuAcceleration:!1}}},enterable:{type:Boolean,default:!0},hideAfter:{type:Number,default:0},tabindex:{type:Number,default:0}},data:function(){return{tooltipId:"el-tooltip-"+k(),timeoutPending:null,focusing:!1}},beforeCreate:function(){var e=this;this.$isServer||(this.popperVM=new u.a({data:{node:""},render:function(e){return this.node}}).$mount(),this.debounceClose=Ye()(200,function(){return e.handleClosePopper()}))},render:function(e){var t=this;this.popperVM&&(this.popperVM.node=e("transition",{attrs:{name:this.transition},on:{afterLeave:this.doDestroy}},[e("div",{on:{mouseleave:function(){t.setExpectedState(!1),t.debounceClose()},mouseenter:function(){t.setExpectedState(!0)}},ref:"popper",attrs:{role:"tooltip",id:this.tooltipId,"aria-hidden":this.disabled||!this.showPopper?"true":"false"},directives:[{name:"show",value:!this.disabled&&this.showPopper}],class:["el-tooltip__popper","is-"+this.effect,this.popperClass]},[this.$slots.content||this.content])]));var i=this.getFirstElement();if(!i)return null;e=i.data=i.data||{};return e.staticClass=this.addTooltipClass(e.staticClass),i},mounted:function(){var t=this;this.referenceElm=this.$el,1===this.$el.nodeType&&(this.$el.setAttribute("aria-describedby",this.tooltipId),this.$el.setAttribute("tabindex",this.tabindex),ae(this.referenceElm,"mouseenter",this.show),ae(this.referenceElm,"mouseleave",this.hide),ae(this.referenceElm,"focus",function(){var e;t.$slots.default&&t.$slots.default.length&&(e=t.$slots.default[0].componentInstance)&&e.focus?e.focus():t.handleFocus()}),ae(this.referenceElm,"blur",this.handleBlur),ae(this.referenceElm,"click",this.removeFocusing)),this.value&&this.popperVM&&this.popperVM.$nextTick(function(){t.value&&t.updatePopper()})},watch:{focusing:function(e){(e?he:ue)(this.referenceElm,"focusing")}},methods:{show:function(){this.setExpectedState(!0),this.handleShowPopper()},hide:function(){this.setExpectedState(!1),this.debounceClose()},handleFocus:function(){this.focusing=!0,this.show()},handleBlur:function(){this.focusing=!1,this.hide()},removeFocusing:function(){this.focusing=!1},addTooltipClass:function(e){return e?"el-tooltip "+e.replace("el-tooltip",""):"el-tooltip"},handleShowPopper:function(){var e=this;this.expectedState&&!this.manual&&(clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.showPopper=!0},this.openDelay),0<this.hideAfter&&(this.timeoutPending=setTimeout(function(){e.showPopper=!1},this.hideAfter)))},handleClosePopper:function(){this.enterable&&this.expectedState||this.manual||(clearTimeout(this.timeout),this.timeoutPending&&clearTimeout(this.timeoutPending),this.showPopper=!1,this.disabled&&this.doDestroy())},setExpectedState:function(e){!1===e&&clearTimeout(this.timeoutPending),this.expectedState=e},getFirstElement:function(){var e=this.$slots.default;if(!Array.isArray(e))return null;for(var t=null,i=0;i<e.length;i++)e[i]&&e[i].tag&&(t=e[i]);return t}},beforeDestroy:function(){this.popperVM&&this.popperVM.$destroy()},destroyed:function(){var e=this.referenceElm;1===e.nodeType&&(le(e,"mouseenter",this.show),le(e,"mouseleave",this.hide),le(e,"focus",this.handleFocus),le(e,"blur",this.handleBlur),le(e,"click",this.removeFocusing))},install:function(e){e.component(ii.name,ii)}},ni=ii,ri=r({name:"ElMenuItem",componentName:"ElMenuItem",mixins:[Qt,l],components:{ElTooltip:ni},props:{index:{default:null,validator:function(e){return"string"==typeof e||null===e}},route:[String,Object],disabled:Boolean},computed:{active:function(){return this.index===this.rootMenu.activeIndex},hoverBackground:function(){return this.rootMenu.hoverBackground},backgroundColor:function(){return this.rootMenu.backgroundColor||""},activeTextColor:function(){return this.rootMenu.activeTextColor||""},textColor:function(){return this.rootMenu.textColor||""},mode:function(){return this.rootMenu.mode},itemStyle:function(){var e={color:this.active?this.activeTextColor:this.textColor};return"horizontal"!==this.mode||this.isNested||(e.borderBottomColor=this.active?this.rootMenu.activeTextColor?this.activeTextColor:"":"transparent"),e},isNested:function(){return this.parentMenu!==this.rootMenu}},methods:{onMouseEnter:function(){"horizontal"===this.mode&&!this.rootMenu.backgroundColor||(this.$el.style.backgroundColor=this.hoverBackground)},onMouseLeave:function(){"horizontal"===this.mode&&!this.rootMenu.backgroundColor||(this.$el.style.backgroundColor=this.backgroundColor)},handleClick:function(){this.disabled||(this.dispatch("ElMenu","item-click",this),this.$emit("click",this))}},mounted:function(){this.parentMenu.addItem(this),this.rootMenu.addItem(this)},beforeDestroy:function(){this.parentMenu.removeItem(this),this.rootMenu.removeItem(this)}},ti,[],!1,null,null,null);ri.options.__file="packages/menu/src/menu-item.vue";var oi=ri.exports;oi.install=function(e){e.component(oi.name,oi)};var si=oi,ai=function(){var e=this.$createElement,e=this._self._c||e;return e("li",{staticClass:"el-menu-item-group"},[e("div",{staticClass:"el-menu-item-group__title",style:{paddingLeft:this.levelPadding+"px"}},[this.$slots.title?this._t("title"):[this._v(this._s(this.title))]],2),e("ul",[this._t("default")],2)])};ai._withStripped=!0;var li=r({name:"ElMenuItemGroup",componentName:"ElMenuItemGroup",inject:["rootMenu"],props:{title:{type:String}},data:function(){return{paddingLeft:20}},computed:{levelPadding:function(){var e=20,t=this.$parent;if(this.rootMenu.collapse)return 20;for(;t&&"ElMenu"!==t.$options.componentName;)"ElSubmenu"===t.$options.componentName&&(e+=20),t=t.$parent;return e}}},ai,[],!1,null,null,null);li.options.__file="packages/menu/src/menu-item-group.vue";var ci=li.exports;ci.install=function(e){e.component(ci.name,ci)};var hi=ci,ui=function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{class:["el-input-number",t.inputNumberSize?"el-input-number--"+t.inputNumberSize:"",{"is-disabled":t.inputNumberDisabled},{"is-without-controls":!t.controls},{"is-controls-right":t.controlsAtRight}],on:{dragstart:function(e){e.preventDefault()}}},[t.controls?e("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.decrease,expression:"decrease"}],staticClass:"el-input-number__decrease",class:{"is-disabled":t.minDisabled},attrs:{role:"button"},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.decrease(e):null}}},[e("i",{class:"el-icon-"+(t.controlsAtRight?"arrow-down":"minus")})]):t._e(),t.controls?e("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.increase,expression:"increase"}],staticClass:"el-input-number__increase",class:{"is-disabled":t.maxDisabled},attrs:{role:"button"},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.increase(e):null}}},[e("i",{class:"el-icon-"+(t.controlsAtRight?"arrow-up":"plus")})]):t._e(),e("el-input",{ref:"input",attrs:{value:t.displayValue,placeholder:t.placeholder,disabled:t.inputNumberDisabled,size:t.inputNumberSize,max:t.max,min:t.min,name:t.name,label:t.label},on:{blur:t.handleBlur,focus:t.handleFocus,input:t.handleInput,change:t.handleInputChange},nativeOn:{keydown:[function(e){return"button"in e||!t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?(e.preventDefault(),t.increase(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?(e.preventDefault(),t.decrease(e)):null}]}})],1)};ui._withStripped=!0;var di={bind:function(e,t,i){function n(){return i.context[t.expression].apply()}function r(){Date.now()-s<100&&n(),clearInterval(o),o=null}var o=null,s=void 0;ae(e,"mousedown",function(e){var t,i;0===e.button&&(s=Date.now(),t=document,i=r,ae(t,"mouseup",function e(){i&&i.apply(this,arguments),le(t,"mouseup",e)}),clearInterval(o),o=setInterval(n,100))})}},fi=r({name:"ElInputNumber",mixins:[c("input")],inject:{elForm:{default:""},elFormItem:{default:""}},directives:{repeatClick:di},components:{ElInput:ee},props:{step:{type:Number,default:1},stepStrictly:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},value:{},disabled:Boolean,size:String,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:""},name:String,label:String,placeholder:String,precision:{type:Number,validator:function(e){return 0<=e&&e===parseInt(e,10)}}},data:function(){return{currentValue:0,userInput:null}},watch:{value:{immediate:!0,handler:function(e){var t=void 0===e?e:Number(e);if(void 0!==t){if(isNaN(t))return;this.stepStrictly&&(e=this.getPrecision(this.step),e=Math.pow(10,e),t=Math.round(t/this.step)*e*this.step/e),void 0!==this.precision&&(t=this.toPrecision(t,this.precision))}t>=this.max&&(t=this.max),t<=this.min&&(t=this.min),this.currentValue=t,this.userInput=null,this.$emit("input",t)}}},computed:{minDisabled:function(){return this._decrease(this.value,this.step)<this.min},maxDisabled:function(){return this._increase(this.value,this.step)>this.max},numPrecision:function(){var e=this.value,t=this.step,i=this.getPrecision,n=this.precision,t=i(t);return void 0!==n?(n<t&&console.warn("[Element Warn][InputNumber]precision should not be less than the decimal places of step"),n):Math.max(i(e),t)},controlsAtRight:function(){return this.controls&&"right"===this.controlsPosition},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},inputNumberSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputNumberDisabled:function(){return this.disabled||!!(this.elForm||{}).disabled},displayValue:function(){if(null!==this.userInput)return this.userInput;var e,t=this.currentValue;return"number"==typeof t&&(this.stepStrictly&&(e=this.getPrecision(this.step),e=Math.pow(10,e),t=Math.round(t/this.step)*e*this.step/e),void 0!==this.precision&&(t=t.toFixed(this.precision))),t}},methods:{toPrecision:function(e,t){return void 0===t&&(t=this.numPrecision),parseFloat(Math.round(e*Math.pow(10,t))/Math.pow(10,t))},getPrecision:function(e){if(void 0===e)return 0;var t=e.toString(),i=t.indexOf("."),e=0;return-1!==i&&(e=t.length-i-1),e},_increase:function(e,t){if("number"!=typeof e&&void 0!==e)return this.currentValue;var i=Math.pow(10,this.numPrecision);return this.toPrecision((i*e+i*t)/i)},_decrease:function(e,t){if("number"!=typeof e&&void 0!==e)return this.currentValue;var i=Math.pow(10,this.numPrecision);return this.toPrecision((i*e-i*t)/i)},increase:function(){var e;this.inputNumberDisabled||this.maxDisabled||(e=this.value||0,e=this._increase(e,this.step),this.setCurrentValue(e))},decrease:function(){var e;this.inputNumberDisabled||this.minDisabled||(e=this.value||0,e=this._decrease(e,this.step),this.setCurrentValue(e))},handleBlur:function(e){this.$emit("blur",e)},handleFocus:function(e){this.$emit("focus",e)},setCurrentValue:function(e){var t=this.currentValue;"number"==typeof e&&void 0!==this.precision&&(e=this.toPrecision(e,this.precision)),e>=this.max&&(e=this.max),e<=this.min&&(e=this.min),t!==e&&(this.userInput=null,this.$emit("input",e),this.$emit("change",e,t),this.currentValue=e)},handleInput:function(e){this.userInput=e},handleInputChange:function(e){var t=""===e?void 0:Number(e);isNaN(t)&&""!==e||this.setCurrentValue(t),this.userInput=null},select:function(){this.$refs.input.select()}},mounted:function(){var e=this.$refs.input.$refs.input;e.setAttribute("role","spinbutton"),e.setAttribute("aria-valuemax",this.max),e.setAttribute("aria-valuemin",this.min),e.setAttribute("aria-valuenow",this.currentValue),e.setAttribute("aria-disabled",this.inputNumberDisabled)},updated:function(){this.$refs&&this.$refs.input&&this.$refs.input.$refs.input.setAttribute("aria-valuenow",this.currentValue)}},ui,[],!1,null,null,null);fi.options.__file="packages/input-number/src/input-number.vue";var pi=fi.exports;pi.install=function(e){e.component(pi.name,pi)};var gi=pi,mi=function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("label",{staticClass:"el-radio",class:[t.border&&t.radioSize?"el-radio--"+t.radioSize:"",{"is-disabled":t.isDisabled},{"is-focus":t.focus},{"is-bordered":t.border},{"is-checked":t.model===t.label}],attrs:{role:"radio","aria-checked":t.model===t.label,"aria-disabled":t.isDisabled,tabindex:t.tabIndex},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"]))return null;e.stopPropagation(),e.preventDefault(),t.model=t.isDisabled?t.model:t.label}}},[e("span",{staticClass:"el-radio__input",class:{"is-disabled":t.isDisabled,"is-checked":t.model===t.label}},[e("span",{staticClass:"el-radio__inner"}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],ref:"radio",staticClass:"el-radio__original",attrs:{type:"radio","aria-hidden":"true",name:t.name,disabled:t.isDisabled,tabindex:"-1"},domProps:{value:t.label,checked:t._q(t.model,t.label)},on:{focus:function(e){t.focus=!0},blur:function(e){t.focus=!1},change:[function(e){t.model=t.label},t.handleChange]}})]),e("span",{staticClass:"el-radio__label",on:{keydown:function(e){e.stopPropagation()}}},[t._t("default"),t.$slots.default?t._e():[t._v(t._s(t.label))]],2)])};mi._withStripped=!0;var vi=r({name:"ElRadio",mixins:[l],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElRadio",props:{value:{},label:{},disabled:Boolean,name:String,border:Boolean,size:String},data:function(){return{focus:!1}},computed:{isGroup:function(){for(var e=this.$parent;e;){if("ElRadioGroup"===e.$options.componentName)return this._radioGroup=e,!0;e=e.$parent}return!1},model:{get:function(){return(this.isGroup?this._radioGroup:this).value},set:function(e){this.isGroup?this.dispatch("ElRadioGroup","input",[e]):this.$emit("input",e),this.$refs.radio&&(this.$refs.radio.checked=this.model===this.label)}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},radioSize:function(){var e=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup&&this._radioGroup.radioGroupSize||e},isDisabled:function(){return this.isGroup?this._radioGroup.disabled||this.disabled||(this.elForm||{}).disabled:this.disabled||(this.elForm||{}).disabled},tabIndex:function(){return this.isDisabled||this.isGroup&&this.model!==this.label?-1:0}},methods:{handleChange:function(){var e=this;this.$nextTick(function(){e.$emit("change",e.model),e.isGroup&&e.dispatch("ElRadioGroup","handleChange",e.model)})}}},mi,[],!1,null,null,null);vi.options.__file="packages/radio/src/radio.vue";var yi=vi.exports;yi.install=function(e){e.component(yi.name,yi)};var bi=yi,wi=function(){var e=this.$createElement;return(this._self._c||e)(this._elTag,{tag:"component",staticClass:"el-radio-group",attrs:{role:"radiogroup"},on:{keydown:this.handleKeydown}},[this._t("default")],2)};wi._withStripped=!0;var xi=Object.freeze({LEFT:37,UP:38,RIGHT:39,DOWN:40}),Ci=r({name:"ElRadioGroup",componentName:"ElRadioGroup",inject:{elFormItem:{default:""}},mixins:[l],props:{value:{},size:String,fill:String,textColor:String,disabled:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},_elTag:function(){return(this.$vnode.data||{}).tag||"div"},radioGroupSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size}},created:function(){var t=this;this.$on("handleChange",function(e){t.$emit("change",e)})},mounted:function(){var e=this.$el.querySelectorAll("[type=radio]"),t=this.$el.querySelectorAll("[role=radio]")[0];![].some.call(e,function(e){return e.checked})&&t&&(t.tabIndex=0)},methods:{handleKeydown:function(e){var t=e.target,i="INPUT"===t.nodeName?"[type=radio]":"[role=radio]",n=this.$el.querySelectorAll(i),i=n.length,n=[].indexOf.call(n,t),t=this.$el.querySelectorAll("[role=radio]");switch(e.keyCode){case xi.LEFT:case xi.UP:e.stopPropagation(),e.preventDefault(),0===n?(t[i-1].click(),t[i-1].focus()):(t[n-1].click(),t[n-1].focus());break;case xi.RIGHT:case xi.DOWN:n===i-1?(e.stopPropagation(),e.preventDefault(),t[0].click(),t[0].focus()):(t[n+1].click(),t[n+1].focus())}}},watch:{value:function(e){this.dispatch("ElFormItem","el.form.change",[this.value])}}},wi,[],!1,null,null,null);Ci.options.__file="packages/radio/src/radio-group.vue";var Si=Ci.exports;Si.install=function(e){e.component(Si.name,Si)};var _i=Si,n=function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("label",{staticClass:"el-radio-button",class:[t.size?"el-radio-button--"+t.size:"",{"is-active":t.value===t.label},{"is-disabled":t.isDisabled},{"is-focus":t.focus}],attrs:{role:"radio","aria-checked":t.value===t.label,"aria-disabled":t.isDisabled,tabindex:t.tabIndex},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"]))return null;e.stopPropagation(),e.preventDefault(),t.value=t.isDisabled?t.value:t.label}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"el-radio-button__orig-radio",attrs:{type:"radio",name:t.name,disabled:t.isDisabled,tabindex:"-1"},domProps:{value:t.label,checked:t._q(t.value,t.label)},on:{change:[function(e){t.value=t.label},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}}),e("span",{staticClass:"el-radio-button__inner",style:t.value===t.label?t.activeStyle:null,on:{keydown:function(e){e.stopPropagation()}}},[t._t("default"),t.$slots.default?t._e():[t._v(t._s(t.label))]],2)])};n._withStripped=!0;o=r({name:"ElRadioButton",mixins:[l],inject:{elForm:{default:""},elFormItem:{default:""}},props:{label:{},disabled:Boolean,name:String},data:function(){return{focus:!1}},computed:{value:{get:function(){return this._radioGroup.value},set:function(e){this._radioGroup.$emit("input",e)}},_radioGroup:function(){for(var e=this.$parent;e;){if("ElRadioGroup"===e.$options.componentName)return e;e=e.$parent}return!1},activeStyle:function(){return{backgroundColor:this._radioGroup.fill||"",borderColor:this._radioGroup.fill||"",boxShadow:this._radioGroup.fill?"-1px 0 0 0 "+this._radioGroup.fill:"",color:this._radioGroup.textColor||""}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},size:function(){return this._radioGroup.radioGroupSize||this._elFormItemSize||(this.$ELEMENT||{}).size},isDisabled:function(){return this.disabled||this._radioGroup.disabled||(this.elForm||{}).disabled},tabIndex:function(){return this.isDisabled||this._radioGroup&&this.value!==this.label?-1:0}},methods:{handleChange:function(){var e=this;this.$nextTick(function(){e.dispatch("ElRadioGroup","handleChange",e.value)})}}},n,[],!1,null,null,null);o.options.__file="packages/radio/src/radio-button.vue";var ki=o.exports;ki.install=function(e){e.component(ki.name,ki)};h=ki,d=function(){var o=this,e=o.$createElement,e=o._self._c||e;return e("label",{staticClass:"el-checkbox",class:[o.border&&o.checkboxSize?"el-checkbox--"+o.checkboxSize:"",{"is-disabled":o.isDisabled},{"is-bordered":o.border},{"is-checked":o.isChecked}],attrs:{id:o.id}},[e("span",{staticClass:"el-checkbox__input",class:{"is-disabled":o.isDisabled,"is-checked":o.isChecked,"is-indeterminate":o.indeterminate,"is-focus":o.focus},attrs:{tabindex:!!o.indeterminate&&0,role:!!o.indeterminate&&"checkbox","aria-checked":!!o.indeterminate&&"mixed"}},[e("span",{staticClass:"el-checkbox__inner"}),o.trueLabel||o.falseLabel?e("input",{directives:[{name:"model",rawName:"v-model",value:o.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":o.indeterminate?"true":"false",name:o.name,disabled:o.isDisabled,"true-value":o.trueLabel,"false-value":o.falseLabel},domProps:{checked:Array.isArray(o.model)?-1<o._i(o.model,null):o._q(o.model,o.trueLabel)},on:{change:[function(e){var t=o.model,i=e.target,n=i.checked?o.trueLabel:o.falseLabel;Array.isArray(t)?(e=o._i(t,null),i.checked?e<0&&(o.model=t.concat([null])):-1<e&&(o.model=t.slice(0,e).concat(t.slice(e+1)))):o.model=n},o.handleChange],focus:function(e){o.focus=!0},blur:function(e){o.focus=!1}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:o.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":o.indeterminate?"true":"false",disabled:o.isDisabled,name:o.name},domProps:{value:o.label,checked:Array.isArray(o.model)?-1<o._i(o.model,o.label):o.model},on:{change:[function(e){var t,i=o.model,n=e.target,r=!!n.checked;Array.isArray(i)?(t=o.label,e=o._i(i,t),n.checked?e<0&&(o.model=i.concat([t])):-1<e&&(o.model=i.slice(0,e).concat(i.slice(e+1)))):o.model=r},o.handleChange],focus:function(e){o.focus=!0},blur:function(e){o.focus=!1}}})]),o.$slots.default||o.label?e("span",{staticClass:"el-checkbox__label"},[o._t("default"),o.$slots.default?o._e():[o._v(o._s(o.label))]],2):o._e()])};d._withStripped=!0;K=r({name:"ElCheckbox",mixins:[l],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElCheckbox",data:function(){return{selfModel:!1,focus:!1,isLimitExceeded:!1}},computed:{model:{get:function(){return this.isGroup?this.store:void 0!==this.value?this.value:this.selfModel},set:function(e){this.isGroup?(this.isLimitExceeded=!1,void 0!==this._checkboxGroup.min&&e.length<this._checkboxGroup.min&&(this.isLimitExceeded=!0),void 0!==this._checkboxGroup.max&&e.length>this._checkboxGroup.max&&(this.isLimitExceeded=!0),!1===this.isLimitExceeded&&this.dispatch("ElCheckboxGroup","input",[e])):(this.$emit("input",e),this.selfModel=e)}},isChecked:function(){return"[object Boolean]"==={}.toString.call(this.model)?this.model:Array.isArray(this.model)?-1<this.model.indexOf(this.label):null!==this.model&&void 0!==this.model?this.model===this.trueLabel:void 0},isGroup:function(){for(var e=this.$parent;e;){if("ElCheckboxGroup"===e.$options.componentName)return this._checkboxGroup=e,!0;e=e.$parent}return!1},store:function(){return(this._checkboxGroup?this._checkboxGroup:this).value},isLimitDisabled:function(){var e=this._checkboxGroup,t=e.max,e=e.min;return!(!t&&!e)&&this.model.length>=t&&!this.isChecked||this.model.length<=e&&this.isChecked},isDisabled:function(){return this.isGroup?this._checkboxGroup.disabled||this.disabled||(this.elForm||{}).disabled||this.isLimitDisabled:this.disabled||(this.elForm||{}).disabled},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxSize:function(){var e=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup&&this._checkboxGroup.checkboxGroupSize||e}},props:{value:{},label:{},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:String,trueLabel:[String,Number],falseLabel:[String,Number],id:String,controls:String,border:Boolean,size:String},methods:{addToStore:function(){Array.isArray(this.model)&&-1===this.model.indexOf(this.label)?this.model.push(this.label):this.model=this.trueLabel||!0},handleChange:function(e){var t,i=this;this.isLimitExceeded||(t=void 0,t=e.target.checked?void 0===this.trueLabel||this.trueLabel:void 0!==this.falseLabel&&this.falseLabel,this.$emit("change",t,e),this.$nextTick(function(){i.isGroup&&i.dispatch("ElCheckboxGroup","change",[i._checkboxGroup.value])}))}},created:function(){this.checked&&this.addToStore()},mounted:function(){this.indeterminate&&this.$el.setAttribute("aria-controls",this.controls)},watch:{value:function(e){this.dispatch("ElFormItem","el.form.change",e)}}},d,[],!1,null,null,null);K.options.__file="packages/checkbox/src/checkbox.vue";var Mi=K.exports;Mi.install=function(e){e.component(Mi.name,Mi)};Z=Mi,se=function(){var o=this,e=o.$createElement,e=o._self._c||e;return e("label",{staticClass:"el-checkbox-button",class:[o.size?"el-checkbox-button--"+o.size:"",{"is-disabled":o.isDisabled},{"is-checked":o.isChecked},{"is-focus":o.focus}],attrs:{role:"checkbox","aria-checked":o.isChecked,"aria-disabled":o.isDisabled}},[o.trueLabel||o.falseLabel?e("input",{directives:[{name:"model",rawName:"v-model",value:o.model,expression:"model"}],staticClass:"el-checkbox-button__original",attrs:{type:"checkbox",name:o.name,disabled:o.isDisabled,"true-value":o.trueLabel,"false-value":o.falseLabel},domProps:{checked:Array.isArray(o.model)?-1<o._i(o.model,null):o._q(o.model,o.trueLabel)},on:{change:[function(e){var t=o.model,i=e.target,n=i.checked?o.trueLabel:o.falseLabel;Array.isArray(t)?(e=o._i(t,null),i.checked?e<0&&(o.model=t.concat([null])):-1<e&&(o.model=t.slice(0,e).concat(t.slice(e+1)))):o.model=n},o.handleChange],focus:function(e){o.focus=!0},blur:function(e){o.focus=!1}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:o.model,expression:"model"}],staticClass:"el-checkbox-button__original",attrs:{type:"checkbox",name:o.name,disabled:o.isDisabled},domProps:{value:o.label,checked:Array.isArray(o.model)?-1<o._i(o.model,o.label):o.model},on:{change:[function(e){var t,i=o.model,n=e.target,r=!!n.checked;Array.isArray(i)?(t=o.label,e=o._i(i,t),n.checked?e<0&&(o.model=i.concat([t])):-1<e&&(o.model=i.slice(0,e).concat(i.slice(e+1)))):o.model=r},o.handleChange],focus:function(e){o.focus=!0},blur:function(e){o.focus=!1}}}),o.$slots.default||o.label?e("span",{staticClass:"el-checkbox-button__inner",style:o.isChecked?o.activeStyle:null},[o._t("default",[o._v(o._s(o.label))])],2):o._e()])};se._withStripped=!0;te=r({name:"ElCheckboxButton",mixins:[l],inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{selfModel:!1,focus:!1,isLimitExceeded:!1}},props:{value:{},label:{},disabled:Boolean,checked:Boolean,name:String,trueLabel:[String,Number],falseLabel:[String,Number]},computed:{model:{get:function(){return this._checkboxGroup?this.store:void 0!==this.value?this.value:this.selfModel},set:function(e){this._checkboxGroup?(this.isLimitExceeded=!1,void 0!==this._checkboxGroup.min&&e.length<this._checkboxGroup.min&&(this.isLimitExceeded=!0),void 0!==this._checkboxGroup.max&&e.length>this._checkboxGroup.max&&(this.isLimitExceeded=!0),!1===this.isLimitExceeded&&this.dispatch("ElCheckboxGroup","input",[e])):void 0!==this.value?this.$emit("input",e):this.selfModel=e}},isChecked:function(){return"[object Boolean]"==={}.toString.call(this.model)?this.model:Array.isArray(this.model)?-1<this.model.indexOf(this.label):null!==this.model&&void 0!==this.model?this.model===this.trueLabel:void 0},_checkboxGroup:function(){for(var e=this.$parent;e;){if("ElCheckboxGroup"===e.$options.componentName)return e;e=e.$parent}return!1},store:function(){return(this._checkboxGroup?this._checkboxGroup:this).value},activeStyle:function(){return{backgroundColor:this._checkboxGroup.fill||"",borderColor:this._checkboxGroup.fill||"",color:this._checkboxGroup.textColor||"","box-shadow":"-1px 0 0 0 "+this._checkboxGroup.fill}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},size:function(){return this._checkboxGroup.checkboxGroupSize||this._elFormItemSize||(this.$ELEMENT||{}).size},isLimitDisabled:function(){var e=this._checkboxGroup,t=e.max,e=e.min;return!(!t&&!e)&&this.model.length>=t&&!this.isChecked||this.model.length<=e&&this.isChecked},isDisabled:function(){return this._checkboxGroup?this._checkboxGroup.disabled||this.disabled||(this.elForm||{}).disabled||this.isLimitDisabled:this.disabled||(this.elForm||{}).disabled}},methods:{addToStore:function(){Array.isArray(this.model)&&-1===this.model.indexOf(this.label)?this.model.push(this.label):this.model=this.trueLabel||!0},handleChange:function(e){var t,i=this;this.isLimitExceeded||(t=void 0,t=e.target.checked?void 0===this.trueLabel||this.trueLabel:void 0!==this.falseLabel&&this.falseLabel,this.$emit("change",t,e),this.$nextTick(function(){i._checkboxGroup&&i.dispatch("ElCheckboxGroup","change",[i._checkboxGroup.value])}))}},created:function(){this.checked&&this.addToStore()}},se,[],!1,null,null,null);te.options.__file="packages/checkbox/src/checkbox-button.vue";var Ti=te.exports;Ti.install=function(e){e.component(Ti.name,Ti)};Ae=Ti,Ee=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"el-checkbox-group",attrs:{role:"group","aria-label":"checkbox-group"}},[this._t("default")],2)};Ee._withStripped=!0;Ie=r({name:"ElCheckboxGroup",componentName:"ElCheckboxGroup",mixins:[l],inject:{elFormItem:{default:""}},props:{value:{},disabled:Boolean,min:Number,max:Number,size:String,fill:String,textColor:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxGroupSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size}},watch:{value:function(e){this.dispatch("ElFormItem","el.form.change",[e])}}},Ee,[],!1,null,null,null);Ie.options.__file="packages/checkbox/src/checkbox-group.vue";var Di=Ie.exports;Di.install=function(e){e.component(Di.name,Di)};Oe=Di,Ge=function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{staticClass:"el-switch",class:{"is-disabled":t.switchDisabled,"is-checked":t.checked},attrs:{role:"switch","aria-checked":t.checked,"aria-disabled":t.switchDisabled},on:{click:function(e){return e.preventDefault(),t.switchValue(e)}}},[e("input",{ref:"input",staticClass:"el-switch__input",attrs:{type:"checkbox",id:t.id,name:t.name,"true-value":t.activeValue,"false-value":t.inactiveValue,disabled:t.switchDisabled},on:{change:t.handleChange,keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.switchValue(e):null}}}),t.inactiveIconClass||t.inactiveText?e("span",{class:["el-switch__label","el-switch__label--left",t.checked?"":"is-active"]},[t.inactiveIconClass?e("i",{class:[t.inactiveIconClass]}):t._e(),!t.inactiveIconClass&&t.inactiveText?e("span",{attrs:{"aria-hidden":t.checked}},[t._v(t._s(t.inactiveText))]):t._e()]):t._e(),e("span",{ref:"core",staticClass:"el-switch__core",style:{width:t.coreWidth+"px"}}),t.activeIconClass||t.activeText?e("span",{class:["el-switch__label","el-switch__label--right",t.checked?"is-active":""]},[t.activeIconClass?e("i",{class:[t.activeIconClass]}):t._e(),!t.activeIconClass&&t.activeText?e("span",{attrs:{"aria-hidden":!t.checked}},[t._v(t._s(t.activeText))]):t._e()]):t._e()])};Ge._withStripped=!0;$e=r({name:"ElSwitch",mixins:[c("input"),V,l],inject:{elForm:{default:""}},props:{value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:Number,default:40},activeIconClass:{type:String,default:""},inactiveIconClass:{type:String,default:""},activeText:String,inactiveText:String,activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String},data:function(){return{coreWidth:this.width}},created:function(){~[this.activeValue,this.inactiveValue].indexOf(this.value)||this.$emit("input",this.inactiveValue)},computed:{checked:function(){return this.value===this.activeValue},switchDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{checked:function(){this.$refs.input.checked=this.checked,(this.activeColor||this.inactiveColor)&&this.setBackgroundColor(),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[this.value])}},methods:{handleChange:function(e){var t=this,i=this.checked?this.inactiveValue:this.activeValue;this.$emit("input",i),this.$emit("change",i),this.$nextTick(function(){t.$refs.input.checked=t.checked})},setBackgroundColor:function(){var e=this.checked?this.activeColor:this.inactiveColor;this.$refs.core.style.borderColor=e,this.$refs.core.style.backgroundColor=e},switchValue:function(){this.switchDisabled||this.handleChange()},getMigratingConfig:function(){return{props:{"on-color":"on-color is renamed to active-color.","off-color":"off-color is renamed to inactive-color.","on-text":"on-text is renamed to active-text.","off-text":"off-text is renamed to inactive-text.","on-value":"on-value is renamed to active-value.","off-value":"off-value is renamed to inactive-value.","on-icon-class":"on-icon-class is renamed to active-icon-class.","off-icon-class":"off-icon-class is renamed to inactive-icon-class."}}}},mounted:function(){this.coreWidth=this.width||40,(this.activeColor||this.inactiveColor)&&this.setBackgroundColor(),this.$refs.input.checked=this.checked}},Ge,[],!1,null,null,null);$e.options.__file="packages/switch/src/component.vue";var Ai=$e.exports;Ai.install=function(e){e.component(Ai.name,Ai)};a=Ai,it=function(){var e=this.$createElement,e=this._self._c||e;return e("ul",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],staticClass:"el-select-group__wrap"},[e("li",{staticClass:"el-select-group__title"},[this._v(this._s(this.label))]),e("li",[e("ul",{staticClass:"el-select-group"},[this._t("default")],2)])])};it._withStripped=!0;s=r({mixins:[l],name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},data:function(){return{visible:!0}},watch:{disabled:function(e){this.broadcast("ElOption","handleGroupDisabled",e)}},methods:{queryChange:function(){this.visible=this.$children&&Array.isArray(this.$children)&&this.$children.some(function(e){return!0===e.visible})}},created:function(){this.$on("queryChange",this.queryChange)},mounted:function(){this.disabled&&this.broadcast("ElOption","handleGroupDisabled",this.disabled)}},it,[],!1,null,null,null);s.options.__file="packages/select/src/option-group.vue";var $i=s.exports;$i.install=function(e){e.component($i.name,$i)};lt=$i,ct=function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{staticClass:"el-table",class:[{"el-table--fit":t.fit,"el-table--striped":t.stripe,"el-table--border":t.border||t.isGroup,"el-table--hidden":t.isHidden,"el-table--group":t.isGroup,"el-table--fluid-height":t.maxHeight,"el-table--scrollable-x":t.layout.scrollX,"el-table--scrollable-y":t.layout.scrollY,"el-table--enable-row-hover":!t.store.states.isComplex,"el-table--enable-row-transition":0!==(t.store.states.data||[]).length&&(t.store.states.data||[]).length<100},t.tableSize?"el-table--"+t.tableSize:""],on:{mouseleave:function(e){t.handleMouseLeave(e)}}},[e("div",{ref:"hiddenColumns",staticClass:"hidden-columns"},[t._t("default")],2),t.showHeader?e("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:t.handleHeaderFooterMousewheel,expression:"handleHeaderFooterMousewheel"}],ref:"headerWrapper",staticClass:"el-table__header-wrapper"},[e("table-header",{ref:"tableHeader",style:{width:t.layout.bodyWidth?t.layout.bodyWidth+"px":""},attrs:{store:t.store,border:t.border,"default-sort":t.defaultSort}})],1):t._e(),e("div",{ref:"bodyWrapper",staticClass:"el-table__body-wrapper",class:[t.layout.scrollX?"is-scrolling-"+t.scrollPosition:"is-scrolling-none"],style:[t.bodyHeight]},[e("table-body",{style:{width:t.bodyWidth},attrs:{context:t.context,store:t.store,stripe:t.stripe,"row-class-name":t.rowClassName,"row-style":t.rowStyle,highlight:t.highlightCurrentRow}}),t.data&&0!==t.data.length?t._e():e("div",{ref:"emptyBlock",staticClass:"el-table__empty-block",style:t.emptyBlockStyle},[e("span",{staticClass:"el-table__empty-text"},[t._t("empty",[t._v(t._s(t.emptyText||t.t("el.table.emptyText")))])],2)]),t.$slots.append?e("div",{ref:"appendWrapper",staticClass:"el-table__append-wrapper"},[t._t("append")],2):t._e()],1),t.showSummary?e("div",{directives:[{name:"show",rawName:"v-show",value:t.data&&0<t.data.length,expression:"data && data.length > 0"},{name:"mousewheel",rawName:"v-mousewheel",value:t.handleHeaderFooterMousewheel,expression:"handleHeaderFooterMousewheel"}],ref:"footerWrapper",staticClass:"el-table__footer-wrapper"},[e("table-footer",{style:{width:t.layout.bodyWidth?t.layout.bodyWidth+"px":""},attrs:{store:t.store,border:t.border,"sum-text":t.sumText||t.t("el.table.sumText"),"summary-method":t.summaryMethod,"default-sort":t.defaultSort}})],1):t._e(),0<t.fixedColumns.length?e("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:t.handleFixedMousewheel,expression:"handleFixedMousewheel"}],ref:"fixedWrapper",staticClass:"el-table__fixed",style:[{width:t.layout.fixedWidth?t.layout.fixedWidth+"px":""},t.fixedHeight]},[t.showHeader?e("div",{ref:"fixedHeaderWrapper",staticClass:"el-table__fixed-header-wrapper"},[e("table-header",{ref:"fixedTableHeader",style:{width:t.bodyWidth},attrs:{fixed:"left",border:t.border,store:t.store}})],1):t._e(),e("div",{ref:"fixedBodyWrapper",staticClass:"el-table__fixed-body-wrapper",style:[{top:t.layout.headerHeight+"px"},t.fixedBodyHeight]},[e("table-body",{style:{width:t.bodyWidth},attrs:{fixed:"left",store:t.store,stripe:t.stripe,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"row-style":t.rowStyle}}),t.$slots.append?e("div",{staticClass:"el-table__append-gutter",style:{height:t.layout.appendHeight+"px"}}):t._e()],1),t.showSummary?e("div",{directives:[{name:"show",rawName:"v-show",value:t.data&&0<t.data.length,expression:"data && data.length > 0"}],ref:"fixedFooterWrapper",staticClass:"el-table__fixed-footer-wrapper"},[e("table-footer",{style:{width:t.bodyWidth},attrs:{fixed:"left",border:t.border,"sum-text":t.sumText||t.t("el.table.sumText"),"summary-method":t.summaryMethod,store:t.store}})],1):t._e()]):t._e(),0<t.rightFixedColumns.length?e("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:t.handleFixedMousewheel,expression:"handleFixedMousewheel"}],ref:"rightFixedWrapper",staticClass:"el-table__fixed-right",style:[{width:t.layout.rightFixedWidth?t.layout.rightFixedWidth+"px":"",right:t.layout.scrollY?(t.border?t.layout.gutterWidth:t.layout.gutterWidth||0)+"px":""},t.fixedHeight]},[t.showHeader?e("div",{ref:"rightFixedHeaderWrapper",staticClass:"el-table__fixed-header-wrapper"},[e("table-header",{ref:"rightFixedTableHeader",style:{width:t.bodyWidth},attrs:{fixed:"right",border:t.border,store:t.store}})],1):t._e(),e("div",{ref:"rightFixedBodyWrapper",staticClass:"el-table__fixed-body-wrapper",style:[{top:t.layout.headerHeight+"px"},t.fixedBodyHeight]},[e("table-body",{style:{width:t.bodyWidth},attrs:{fixed:"right",store:t.store,stripe:t.stripe,"row-class-name":t.rowClassName,"row-style":t.rowStyle,highlight:t.highlightCurrentRow}}),t.$slots.append?e("div",{staticClass:"el-table__append-gutter",style:{height:t.layout.appendHeight+"px"}}):t._e()],1),t.showSummary?e("div",{directives:[{name:"show",rawName:"v-show",value:t.data&&0<t.data.length,expression:"data && data.length > 0"}],ref:"rightFixedFooterWrapper",staticClass:"el-table__fixed-footer-wrapper"},[e("table-footer",{style:{width:t.bodyWidth},attrs:{fixed:"right",border:t.border,"sum-text":t.sumText||t.t("el.table.sumText"),"summary-method":t.summaryMethod,store:t.store}})],1):t._e()]):t._e(),0<t.rightFixedColumns.length?e("div",{ref:"rightFixedPatch",staticClass:"el-table__fixed-right-patch",style:{width:t.layout.scrollY?t.layout.gutterWidth+"px":"0",height:t.layout.headerHeight+"px"}}):t._e(),e("div",{directives:[{name:"show",rawName:"v-show",value:t.resizeProxyVisible,expression:"resizeProxyVisible"}],ref:"resizeProxy",staticClass:"el-table__column-resize-proxy"})])};ct._withStripped=!0;function Ei(e){for(var t=e.target;t&&"HTML"!==t.tagName.toUpperCase();){if("TD"===t.tagName.toUpperCase())return t;t=t.parentNode}return null}function Li(e){return null!==e&&"object"===(void 0===e?"undefined":Wi(e))}function Ii(e,t){var i=null;return e.columns.forEach(function(e){e.id===t&&(i=e)}),i}function Ni(e,t){return(t=(t.className||"").match(/el-table_[^\s]+/gm))?Ii(e,t[0]):null}function Oi(e,t){if(!e)throw new Error("row is required when get row identity");if("string"==typeof t){if(t.indexOf(".")<0)return e[t];for(var i=t.split("."),n=e,r=0;r<i.length;r++)n=n[i[r]];return n}if("function"==typeof t)return t.call(null,e)}function Ri(e,i){var n={};return(e||[]).forEach(function(e,t){n[Oi(e,i)]={row:e,index:t}}),n}var Pi=i(35),ft=i(48),Fi=i.n(ft),zi="undefined"!=typeof navigator&&-1<navigator.userAgent.toLowerCase().indexOf("firefox"),pt={bind:function(e,t){var i=t.value;e&&e.addEventListener&&e.addEventListener(zi?"DOMMouseScroll":"mousewheel",function(e){var t=Fi()(e);i&&i.apply(this,[e,t])})}},Wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Bi(e){return void 0!==e&&(e=parseInt(e,10),isNaN(e)&&(e=null)),e}function ji(e){return"number"==typeof e?e:"string"==typeof e?/^\d+(?:px)?$/.test(e)?parseInt(e,10):e:null}function Hi(e,t,i){function n(){e.push(t),o=!0}function r(){e.splice(s,1),o=!0}var o=!1,s=e.indexOf(t),a=-1!==s;return"boolean"==typeof i?i&&!a?n():!i&&a&&r():(a?r:n)(),o}function Ki(e,r,t,i){function o(e){return!(Array.isArray(e)&&e.length)}var s=2<arguments.length&&void 0!==t?t:"children",a=3<arguments.length&&void 0!==i?i:"hasChildren";e.forEach(function(e){var t;e[a]?r(e,null,0):(t=e[s],o(t)||function i(e,t,n){r(e,t,n),t.forEach(function(e){var t;e[a]?r(e,null,n+1):(t=e[s],o(t)||i(e,t,n+1))})}(e,t,0))})}function Vi(e){var t=[];return e.forEach(function(e){e.children?t.push.apply(t,Vi(e.children)):t.push(e)}),t}var dt={data:function(){return{states:{defaultExpandAll:!1,expandRows:[]}}},methods:{updateExpandRows:function(){var n,e=this.states,t=e.data,i=void 0===t?[]:t,r=e.rowKey,t=e.defaultExpandAll,e=e.expandRows;t?this.states.expandRows=i.slice():r?(n=Ri(e,r),this.states.expandRows=i.reduce(function(e,t){var i=Oi(t,r);return n[i]&&e.push(t),e},[])):this.states.expandRows=[]},toggleRowExpansion:function(e,t){Hi(this.states.expandRows,e,t)&&(this.table.$emit("expand-change",e,this.states.expandRows.slice()),this.scheduleLayout())},setExpandRowKeys:function(e){this.assertRowKey();var t=this.states,i=t.data,t=t.rowKey,n=Ri(i,t);this.states.expandRows=e.reduce(function(e,t){t=n[t];return t&&e.push(t.row),e},[])},isRowExpanded:function(e){var t=this.states,i=t.expandRows,i=void 0===i?[]:i,t=t.rowKey;return t?!!Ri(i,t)[Oi(e,t)]:-1!==i.indexOf(e)}}},gt={data:function(){return{states:{_currentRowKey:null,currentRow:null}}},methods:{setCurrentRowKey:function(e){this.assertRowKey(),this.states._currentRowKey=e,this.setCurrentRowByKey(e)},restoreCurrentRowKey:function(){this.states._currentRowKey=null},setCurrentRowByKey:function(t){var e=this.states,i=e.data,n=void 0===i?[]:i,r=e.rowKey,i=null;r&&(i=D(n,function(e){return Oi(e,r)===t})),e.currentRow=i},updateCurrentRow:function(e){var t=this.states,i=this.table,n=t.currentRow;if(e&&e!==n)return t.currentRow=e,void i.$emit("current-change",e,n);!e&&n&&(t.currentRow=null,i.$emit("current-change",null,n))},updateCurrentRowData:function(){var e=this.states,t=this.table,i=e.rowKey,n=e._currentRowKey,r=e.data||[],o=e.currentRow;-1===r.indexOf(o)&&o?(i?(i=Oi(o,i),this.setCurrentRowByKey(i)):e.currentRow=null,null===e.currentRow&&t.$emit("current-change",null,o)):n&&(this.setCurrentRowByKey(n),this.restoreCurrentRowKey())}}},Ui=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},yt={data:function(){return{states:{expandRowKeys:[],treeData:{},indent:16,lazy:!1,lazyTreeNodeMap:{},lazyColumnIdentifier:"hasChildren",childrenColumnName:"children"}}},computed:{normalizedData:function(){if(!this.states.rowKey)return{};var e=this.states.data||[];return this.normalize(e)},normalizedLazyNode:function(){var e=this.states,n=e.rowKey,t=e.lazyTreeNodeMap,r=e.lazyColumnIdentifier,e=Object.keys(t),o={};return e.length&&e.forEach(function(e){var i;t[e].length&&(i={children:[]},t[e].forEach(function(e){var t=Oi(e,n);i.children.push(t),e[r]&&!o[t]&&(o[t]={children:[]})}),o[e]=i)}),o}},watch:{normalizedData:"updateTreeData",normalizedLazyNode:"updateTreeData"},methods:{normalize:function(e){var t=this.states,i=t.childrenColumnName,n=t.lazyColumnIdentifier,r=t.rowKey,o=t.lazy,s={};return Ki(e,function(e,t,i){e=Oi(e,r);Array.isArray(t)?s[e]={children:t.map(function(e){return Oi(e,r)}),level:i}:o&&(s[e]={children:[],lazy:!0,level:i})},i,n),s},updateTreeData:function(){var o,i,n,e,s,a,r=this.normalizedData,l=this.normalizedLazyNode,t=Object.keys(r),c={};t.length&&(e=this.states,o=e.treeData,i=e.defaultExpandAll,n=e.expandRowKeys,e=e.lazy,s=[],a=function(e,t){t=i||n&&-1!==n.indexOf(t);return!!(e&&e.expanded||t)},t.forEach(function(e){var t,i=o[e],n=Ui({},r[e]);n.expanded=a(i,e),n.lazy&&(i=void 0!==(i=(t=i||{}).loaded)&&i,t=void 0!==(t=t.loading)&&t,n.loaded=!!i,n.loading=!!t,s.push(e)),c[e]=n}),t=Object.keys(l),e&&t.length&&s.length&&t.forEach(function(e){var t=o[e],i=l[e].children;if(-1!==s.indexOf(e)){if(0!==c[e].children.length)throw new Error("[ElTable]children must be an empty array.");c[e].children=i}else{var n=t||{},r=n.loaded,r=void 0!==r&&r,n=n.loading,n=void 0!==n&&n;c[e]={lazy:!0,loaded:!!r,loading:!!n,expanded:a(t,e),children:i,level:""}}})),this.states.treeData=c,this.updateTableScrollY()},updateTreeExpandKeys:function(e){this.states.expandRowKeys=e,this.updateTreeData()},toggleTreeExpansion:function(e,t){this.assertRowKey();var i=this.states,n=i.rowKey,r=i.treeData,o=Oi(e,n),i=o&&r[o];o&&i&&"expanded"in i&&(n=i.expanded,t=void 0===t?!i.expanded:t,n!==(r[o].expanded=t)&&this.table.$emit("expand-change",e,t),this.updateTableScrollY())},loadOrToggle:function(e){this.assertRowKey();var t=this.states,i=t.lazy,n=t.treeData,t=t.rowKey,t=Oi(e,t),n=n[t];i&&n&&"loaded"in n&&!n.loaded?this.loadData(e,t,n):this.toggleTreeExpansion(e)},loadData:function(t,i,e){var n=this,r=this.table.load,o=this.states,s=o.lazyTreeNodeMap,a=o.treeData;r&&!a[i].loaded&&(a[i].loading=!0,r(t,e,function(e){if(!Array.isArray(e))throw new Error("[ElTable] data must be an array");a[i].loading=!1,a[i].loaded=!0,a[i].expanded=!0,e.length&&n.$set(s,i,e),n.table.$emit("expand-change",t,!0)}))}}},bt=u.a.extend({data:function(){return{states:{rowKey:null,data:[],isComplex:!1,_columns:[],originColumns:[],columns:[],fixedColumns:[],rightFixedColumns:[],leafColumns:[],fixedLeafColumns:[],rightFixedLeafColumns:[],leafColumnsLength:0,fixedLeafColumnsLength:0,rightFixedLeafColumnsLength:0,isAllSelected:!1,selection:[],reserveSelection:!1,selectOnIndeterminate:!1,selectable:null,filters:{},filteredData:null,sortingColumn:null,sortProp:null,sortOrder:null,hoverRow:null}}},mixins:[dt,gt,yt],methods:{assertRowKey:function(){if(!this.states.rowKey)throw new Error("[ElTable] prop row-key is required")},updateColumns:function(){var e=this.states,t=e._columns||[];e.fixedColumns=t.filter(function(e){return!0===e.fixed||"left"===e.fixed}),e.rightFixedColumns=t.filter(function(e){return"right"===e.fixed}),0<e.fixedColumns.length&&t[0]&&"selection"===t[0].type&&!t[0].fixed&&(t[0].fixed=!0,e.fixedColumns.unshift(t[0]));var i=t.filter(function(e){return!e.fixed});e.originColumns=[].concat(e.fixedColumns).concat(i).concat(e.rightFixedColumns);var n=Vi(i),t=Vi(e.fixedColumns),i=Vi(e.rightFixedColumns);e.leafColumnsLength=n.length,e.fixedLeafColumnsLength=t.length,e.rightFixedLeafColumnsLength=i.length,e.columns=[].concat(t).concat(n).concat(i),e.isComplex=0<e.fixedColumns.length||0<e.rightFixedColumns.length},scheduleLayout:function(e){e&&this.updateColumns(),this.table.debouncedUpdateLayout()},isSelected:function(e){var t=this.states.selection;return-1<(void 0===t?[]:t).indexOf(e)},clearSelection:function(){var e=this.states;e.isAllSelected=!1,e.selection.length&&(e.selection=[],this.table.$emit("selection-change",[]))},cleanSelection:function(){var e=this.states,t=e.data,i=e.rowKey,n=e.selection,r=void 0;if(i){r=[];var o,s=Ri(n,i),a=Ri(t,i);for(o in s)s.hasOwnProperty(o)&&!a[o]&&r.push(s[o].row)}else r=n.filter(function(e){return-1===t.indexOf(e)});r.length&&(n=n.filter(function(e){return-1===r.indexOf(e)}),e.selection=n,this.table.$emit("selection-change",n.slice()))},toggleRowSelection:function(e,t){var i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];Hi(this.states.selection,e,t)&&(t=(this.states.selection||[]).slice(),i&&this.table.$emit("select",t,e),this.table.$emit("selection-change",t))},_toggleAllSelection:function(){var i=this.states,e=i.data,e=void 0===e?[]:e,n=i.selection,r=i.selectOnIndeterminate?!i.isAllSelected:!(i.isAllSelected||n.length);i.isAllSelected=r;var o=!1;e.forEach(function(e,t){i.selectable?i.selectable.call(null,e,t)&&Hi(n,e,r)&&(o=!0):Hi(n,e,r)&&(o=!0)}),o&&this.table.$emit("selection-change",n?n.slice():[]),this.table.$emit("select-all",n)},updateSelectionByRowKey:function(){var e=this.states,i=e.selection,n=e.rowKey,e=e.data,r=Ri(i,n);e.forEach(function(e){var t=Oi(e,n),t=r[t];t&&(i[t.index]=e)})},updateAllSelected:function(){var e=this.states,t=e.selection,i=e.rowKey,n=e.selectable,r=e.data||[];if(0!==r.length){var o=void 0;i&&(o=Ri(t,i));for(var s=!0,a=0,l=0,c=r.length;l<c;l++){var h=r[l],u=n&&n.call(null,h,l),h=h;if(o?o[Oi(h,i)]:-1!==t.indexOf(h))a++;else if(!n||u){s=!1;break}}0===a&&(s=!1),e.isAllSelected=s}else e.isAllSelected=!1},updateFilters:function(e,t){Array.isArray(e)||(e=[e]);var i=this.states,n={};return e.forEach(function(e){i.filters[e.id]=t,n[e.columnKey||e.id]=t}),n},updateSort:function(e,t,i){this.states.sortingColumn&&this.states.sortingColumn!==e&&(this.states.sortingColumn.order=null),this.states.sortingColumn=e,this.states.sortProp=t,this.states.sortOrder=i},execFilter:function(){var t=this,r=this.states,e=r._data,i=r.filters,o=e;Object.keys(i).forEach(function(e){var i,n=r.filters[e];!n||0===n.length||(i=Ii(t.states,e))&&i.filterMethod&&(o=o.filter(function(t){return n.some(function(e){return i.filterMethod.call(null,e,t,i)})}))}),r.filteredData=o},execSort:function(){var e,t,i=this.states;i.data=(e=i.filteredData,(t=i.sortingColumn)&&"string"!=typeof t.sortable?function(n,e,i,r,o){if(!e&&!r&&(!o||Array.isArray(o)&&!o.length))return n;i="string"==typeof i?"descending"===i?-1:1:i&&i<0?-1:1;var s=r?null:function(t,i){return o?(Array.isArray(o)||(o=[o]),o.map(function(e){return"string"==typeof e?S(t,e):e(t,i,n)})):("$key"!==e&&Li(t)&&"$value"in t&&(t=t.$value),[Li(t)?S(t,e):t])};return n.map(function(e,t){return{value:e,index:t,key:s?s(e,t):null}}).sort(function(e,t){return(function(e,t){if(r)return r(e.value,t.value);for(var i=0,n=e.key.length;i<n;i++){if(e.key[i]<t.key[i])return-1;if(e.key[i]>t.key[i])return 1}return 0}(e,t)||e.index-t.index)*i}).map(function(e){return e.value})}(e,i.sortProp,i.sortOrder,t.sortMethod,t.sortBy):e)},execQuery:function(e){e&&e.filter||this.execFilter(),this.execSort()},clearFilter:function(e){var t=this.states,i=this.table.$refs,n=i.tableHeader,r=i.fixedTableHeader,i=i.rightFixedTableHeader,o={};n&&(o=q(o,n.filterPanels)),r&&(o=q(o,r.filterPanels)),i&&(o=q(o,i.filterPanels));var s,i=Object.keys(o);i.length&&("string"==typeof e&&(e=[e]),Array.isArray(e)?(s=e.map(function(e){return function(e,t){for(var i=null,n=0;n<e.columns.length;n++){var r=e.columns[n];if(r.columnKey===t){i=r;break}}return i}(t,e)}),i.forEach(function(t){s.find(function(e){return e.id===t})&&(o[t].filteredValue=[])}),this.commit("filterChange",{column:s,values:[],silent:!0,multi:!0})):(i.forEach(function(e){o[e].filteredValue=[]}),t.filters={},this.commit("filterChange",{column:{},values:[],silent:!0})))},clearSort:function(){this.states.sortingColumn&&(this.updateSort(null,null,null),this.commit("changeSortCondition",{silent:!0}))},setExpandRowKeysAdapter:function(e){this.setExpandRowKeys(e),this.updateTreeExpandKeys(e)},toggleRowExpansionAdapter:function(e,t){this.states.columns.some(function(e){return"expand"===e.type})?this.toggleRowExpansion(e,t):this.toggleTreeExpansion(e,t)}}});bt.prototype.mutations={setData:function(e,t){var i=e._data!==t;e._data=t,this.execQuery(),this.updateCurrentRowData(),this.updateExpandRows(),e.reserveSelection?(this.assertRowKey(),this.updateSelectionByRowKey()):i?this.clearSelection():this.cleanSelection(),this.updateAllSelected(),this.updateTableScrollY()},insertColumn:function(e,t,i,n){var r=e._columns;n&&((r=n.children)||(r=n.children=[])),void 0!==i?r.splice(i,0,t):r.push(t),"selection"===t.type&&(e.selectable=t.selectable,e.reserveSelection=t.reserveSelection),this.table.$ready&&(this.updateColumns(),this.scheduleLayout())},removeColumn:function(e,t,i){e=e._columns;i&&((e=i.children)||(e=i.children=[])),e&&e.splice(e.indexOf(t),1),this.table.$ready&&(this.updateColumns(),this.scheduleLayout())},sort:function(e,t){var i=t.prop,n=t.order,t=t.init;!i||(e=D(e.columns,function(e){return e.property===i}))&&(e.order=n,this.updateSort(e,i,n),this.commit("changeSortCondition",{init:t}))},changeSortCondition:function(e,t){var i=e.sortingColumn,n=e.sortProp,r=e.sortOrder;null===r&&(e.sortingColumn=null,e.sortProp=null),this.execQuery({filter:!0}),t&&(t.silent||t.init)||this.table.$emit("sort-change",{column:i,prop:n,order:r}),this.updateTableScrollY()},filterChange:function(e,t){var i=t.column,n=t.values,t=t.silent,n=this.updateFilters(i,n);this.execQuery(),t||this.table.$emit("filter-change",n),this.updateTableScrollY()},toggleAllSelection:function(){this.toggleAllSelection()},rowSelectedChanged:function(e,t){this.toggleRowSelection(t),this.updateAllSelected()},setHoverRow:function(e,t){e.hoverRow=t},setCurrentRow:function(e,t){this.updateCurrentRow(t)}},bt.prototype.commit=function(e){var t=this.mutations;if(!t[e])throw new Error("Action not found: "+e);for(var i=arguments.length,n=Array(1<i?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];t[e].apply(this,[this.states].concat(n))},bt.prototype.updateTableScrollY=function(){u.a.nextTick(this.table.updateScrollY)};var Gi=bt;function Yi(n){var r={};return Object.keys(n).forEach(function(e){var t=n[e],i=void 0;"string"==typeof t?i=function(){return this.store.states[t]}:"function"==typeof t?i=function(){return t.call(this,this.store.states)}:console.error("invalid value type"),i&&(r[e]=i)}),r}var qi=(Zi.prototype.updateScrollY=function(){if(null===this.height)return!1;var e=this.table.bodyWrapper;if(this.table.$el&&e){var t=e.querySelector(".el-table__body"),e=this.scrollY,t=t.offsetHeight>this.bodyHeight;return e!==(this.scrollY=t)}return!1},Zi.prototype.setHeight=function(e){var t=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"height";if(!u.a.prototype.$isServer){var n=this.table.$el;if(e=ji(e),this.height=e,!n&&(e||0===e))return u.a.nextTick(function(){return t.setHeight(e,i)});"number"==typeof e?(n.style[i]=e+"px",this.updateElsHeight()):"string"==typeof e&&(n.style[i]=e,this.updateElsHeight())}},Zi.prototype.setMaxHeight=function(e){this.setHeight(e,"max-height")},Zi.prototype.getFlattenColumns=function(){var t=[];return this.table.columns.forEach(function(e){e.isColumnGroup?t.push.apply(t,e.columns):t.push(e)}),t},Zi.prototype.updateElsHeight=function(){var e=this;if(!this.table.$ready)return u.a.nextTick(function(){return e.updateElsHeight()});var t=this.table.$refs,i=t.headerWrapper,n=t.appendWrapper,r=t.footerWrapper;if(this.appendHeight=n?n.offsetHeight:0,!this.showHeader||i){t=i?i.querySelector(".el-table__header tr"):null,n=this.headerDisplayNone(t),t=this.headerHeight=this.showHeader?i.offsetHeight:0;if(this.showHeader&&!n&&0<i.offsetWidth&&0<(this.table.columns||[]).length&&t<2)return u.a.nextTick(function(){return e.updateElsHeight()});n=this.tableHeight=this.table.$el.clientHeight,i=this.footerHeight=r?r.offsetHeight:0;null!==this.height&&(this.bodyHeight=n-t-i+(r?1:0)),this.fixedBodyHeight=this.scrollX?this.bodyHeight-this.gutterWidth:this.bodyHeight;r=!(this.store.states.data&&this.store.states.data.length);this.viewportHeight=this.scrollX?n-(r?0:this.gutterWidth):n,this.updateScrollY(),this.notifyObservers("scrollable")}},Zi.prototype.headerDisplayNone=function(e){if(!e)return!0;for(var t=e;"DIV"!==t.tagName;){if("none"===getComputedStyle(t).display)return!0;t=t.parentElement}return!1},Zi.prototype.updateColumnsWidth=function(){var t,e,i,n,r,o,s,a,l;u.a.prototype.$isServer||(n=this.fit,a=this.table.$el.clientWidth,t=0,i=(e=this.getFlattenColumns()).filter(function(e){return"number"!=typeof e.width}),e.forEach(function(e){"number"==typeof e.width&&e.realWidth&&(e.realWidth=null)}),0<i.length&&n?(e.forEach(function(e){t+=e.width||e.minWidth||80}),n=this.scrollY?this.gutterWidth:0,t<=a-n?(this.scrollX=!1,n=a-n-t,1===i.length?i[0].realWidth=(i[0].minWidth||80)+n:(r=n/i.reduce(function(e,t){return e+(t.minWidth||80)},0),o=0,i.forEach(function(e,t){0!==t&&(t=Math.floor((e.minWidth||80)*r),o+=t,e.realWidth=(e.minWidth||80)+t)}),i[0].realWidth=(i[0].minWidth||80)+n-o)):(this.scrollX=!0,i.forEach(function(e){e.realWidth=e.minWidth})),this.bodyWidth=Math.max(t,a),this.table.resizeState.width=this.bodyWidth):(e.forEach(function(e){e.width||e.minWidth?e.realWidth=e.width||e.minWidth:e.realWidth=80,t+=e.realWidth}),this.scrollX=a<t,this.bodyWidth=t),0<(a=this.store.states.fixedColumns).length&&(s=0,a.forEach(function(e){s+=e.realWidth||e.width}),this.fixedWidth=s),0<(a=this.store.states.rightFixedColumns).length&&(l=0,a.forEach(function(e){l+=e.realWidth||e.width}),this.rightFixedWidth=l),this.notifyObservers("columns"))},Zi.prototype.addObserver=function(e){this.observers.push(e)},Zi.prototype.removeObserver=function(e){e=this.observers.indexOf(e);-1!==e&&this.observers.splice(e,1)},Zi.prototype.notifyObservers=function(t){var i=this;this.observers.forEach(function(e){switch(t){case"columns":e.onColumnsChange(i);break;case"scrollable":e.onScrollableChange(i);break;default:throw new Error("Table Layout don't have event "+t+".")}})},Zi),Ct={created:function(){this.tableLayout.addObserver(this)},destroyed:function(){this.tableLayout.removeObserver(this)},computed:{tableLayout:function(){var e=this.layout;if(!e&&this.table&&(e=this.table.layout),!e)throw new Error("Can not find table layout.");return e}},mounted:function(){this.onColumnsChange(this.tableLayout),this.onScrollableChange(this.tableLayout)},updated:function(){this.__updated__||(this.onColumnsChange(this.tableLayout),this.onScrollableChange(this.tableLayout),this.__updated__=!0)},methods:{onColumnsChange:function(e){var t=this.$el.querySelectorAll("colgroup > col");if(t.length){var e=e.getFlattenColumns(),i={};e.forEach(function(e){i[e.id]=e});for(var n=0,r=t.length;n<r;n++){var o=t[n],s=o.getAttribute("name"),s=i[s];s&&o.setAttribute("width",s.realWidth||s.width)}}},onScrollableChange:function(e){for(var t=this.$el.querySelectorAll("colgroup > col[name=gutter]"),i=0,n=t.length;i<n;i++)t[i].setAttribute("width",e.scrollY?e.gutterWidth:"0");for(var r=this.$el.querySelectorAll("th.gutter"),o=0,s=r.length;o<s;o++){var a=r[o];a.style.width=e.scrollY?e.gutterWidth+"px":"0",a.style.display=e.scrollY?"":"none"}}}},Qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},St={name:"ElTableBody",mixins:[Ct],components:{ElCheckbox:Z,ElTooltip:ni},props:{store:{required:!0},stripe:Boolean,context:{},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:String,highlight:Boolean},render:function(t){var i=this,e=this.data||[];return t("table",{class:"el-table__body",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[t("colgroup",[this.columns.map(function(e){return t("col",{attrs:{name:e.id},key:e.id})})]),t("tbody",[e.reduce(function(e,t){return e.concat(i.wrappedRowRender(t,e.length))},[]),t("el-tooltip",{attrs:{effect:this.table.tooltipEffect,placement:"top",content:this.tooltipContent},ref:"tooltip"})])])},computed:Xi({table:function(){return this.$parent}},Yi({data:"data",columns:"columns",treeIndent:"indent",leftFixedLeafCount:"fixedLeafColumnsLength",rightFixedLeafCount:"rightFixedLeafColumnsLength",columnsCount:function(e){return e.columns.length},leftFixedCount:function(e){return e.fixedColumns.length},rightFixedCount:function(e){return e.rightFixedColumns.length},hasExpandColumn:function(e){return e.columns.some(function(e){return"expand"===e.type})}}),{firstDefaultColumnIndex:function(){return T(this.columns,function(e){return"default"===e.type})}}),watch:{"store.states.hoverRow":function(i,n){var r=this;this.store.states.isComplex&&!this.$isServer&&(window.requestAnimationFrame||function(e){return setTimeout(e,16)})(function(){var e=r.$el.querySelectorAll(".el-table__row"),t=e[n],e=e[i];t&&ue(t,"hover-row"),e&&he(e,"hover-row")})}},data:function(){return{tooltipContent:""}},created:function(){this.activateTooltip=Ye()(50,function(e){return e.handleShowPopper()})},methods:{getKeyOfRow:function(e,t){var i=this.table.rowKey;return i?Oi(e,i):t},isColumnHidden:function(e){return!0===this.fixed||"left"===this.fixed?e>=this.leftFixedLeafCount:"right"===this.fixed?e<this.columnsCount-this.rightFixedLeafCount:e<this.leftFixedLeafCount||e>=this.columnsCount-this.rightFixedLeafCount},getSpan:function(e,t,i,n){var r=1,o=1,s=this.table.spanMethod;return"function"==typeof s&&(n=s({row:e,column:t,rowIndex:i,columnIndex:n}),Array.isArray(n)?(r=n[0],o=n[1]):"object"===(void 0===n?"undefined":Qi(n))&&(r=n.rowspan,o=n.colspan)),{rowspan:r,colspan:o}},getRowStyle:function(e,t){var i=this.table.rowStyle;return"function"==typeof i?i.call(null,{row:e,rowIndex:t}):i||null},getRowClass:function(e,t){var i=["el-table__row"];this.table.highlightCurrentRow&&e===this.store.states.currentRow&&i.push("current-row"),this.stripe&&t%2==1&&i.push("el-table__row--striped");var n=this.table.rowClassName;return"string"==typeof n?i.push(n):"function"==typeof n&&i.push(n.call(null,{row:e,rowIndex:t})),-1<this.store.states.expandRows.indexOf(e)&&i.push("expanded"),i},getCellStyle:function(e,t,i,n){var r=this.table.cellStyle;return"function"==typeof r?r.call(null,{rowIndex:e,columnIndex:t,row:i,column:n}):r},getCellClass:function(e,t,i,n){var r=[n.id,n.align,n.className];this.isColumnHidden(t)&&r.push("is-hidden");var o=this.table.cellClassName;return"string"==typeof o?r.push(o):"function"==typeof o&&r.push(o.call(null,{rowIndex:e,columnIndex:t,row:i,column:n})),r.join(" ")},getColspanRealWidth:function(e,t,i){return t<1?e[i].realWidth:e.map(function(e){return e.realWidth}).slice(i,i+t).reduce(function(e,t){return e+t},-1)},handleCellMouseEnter:function(e,t){var i=this.table,n=Ei(e);n&&(r=Ni(i,n),r=i.hoverState={cell:n,column:r,row:t},i.$emit("cell-mouse-enter",r.row,r.column,r.cell,e));var r=e.target.querySelector(".cell");ce(r,"el-tooltip")&&r.childNodes.length&&((e=document.createRange()).setStart(r,0),e.setEnd(r,r.childNodes.length),(e.getBoundingClientRect().width+((parseInt(pe(r,"paddingLeft"),10)||0)+(parseInt(pe(r,"paddingRight"),10)||0))>r.offsetWidth||r.scrollWidth>r.offsetWidth)&&this.$refs.tooltip&&(r=this.$refs.tooltip,this.tooltipContent=n.innerText||n.textContent,r.referenceElm=n,r.$refs.popper&&(r.$refs.popper.style.display="none"),r.doDestroy(),r.setExpectedState(!0),this.activateTooltip(r)))},handleCellMouseLeave:function(e){var t=this.$refs.tooltip;t&&(t.setExpectedState(!1),t.handleClosePopper()),Ei(e)&&(t=this.table.hoverState||{},this.table.$emit("cell-mouse-leave",t.row,t.column,t.cell,e))},handleMouseEnter:Ye()(30,function(e){this.store.commit("setHoverRow",e)}),handleMouseLeave:Ye()(30,function(){this.store.commit("setHoverRow",null)}),handleContextMenu:function(e,t){this.handleEvent(e,t,"contextmenu")},handleDoubleClick:function(e,t){this.handleEvent(e,t,"dblclick")},handleClick:function(e,t){this.store.commit("setCurrentRow",t),this.handleEvent(e,t,"click")},handleEvent:function(e,t,i){var n=this.table,r=Ei(e),o=void 0;r&&(o=Ni(n,r))&&n.$emit("cell-"+i,t,o,r,e),n.$emit("row-"+i,t,o,e)},rowRender:function(o,s,a){var l=this,c=this.$createElement,h=this.treeIndent,u=this.columns,d=this.firstDefaultColumnIndex,f=u.map(function(e,t){return l.isColumnHidden(t)}),e=this.getRowClass(o,s),t=!0;return a&&(e.push("el-table__row--level-"+a.level),t=a.display),c("tr",{style:[t?null:{display:"none"},this.getRowStyle(o,s)],class:e,key:this.getKeyOfRow(o,s),on:{dblclick:function(e){return l.handleDoubleClick(e,o)},click:function(e){return l.handleClick(e,o)},contextmenu:function(e){return l.handleContextMenu(e,o)},mouseenter:function(e){return l.handleMouseEnter(s)},mouseleave:this.handleMouseLeave}},[u.map(function(e,t){var i=l.getSpan(o,e,s,t),n=i.rowspan,r=i.colspan;if(!n||!r)return null;i=Xi({},e);i.realWidth=l.getColspanRealWidth(u,r,t);i={store:l.store,_self:l.context||l.table.$vnode.context,column:i,row:o,$index:s};return t===d&&a&&(i.treeNode={indent:a.level*h,level:a.level},"boolean"==typeof a.expanded&&(i.treeNode.expanded=a.expanded,"loading"in a&&(i.treeNode.loading=a.loading),"noLazyChildren"in a&&(i.treeNode.noLazyChildren=a.noLazyChildren))),c("td",{style:l.getCellStyle(s,t,o,e),class:l.getCellClass(s,t,o,e),attrs:{rowspan:n,colspan:r},on:{mouseenter:function(e){return l.handleCellMouseEnter(e,o)},mouseleave:l.handleCellMouseLeave}},[e.renderCell.call(l._renderProxy,l.$createElement,i,f[t])])})])},wrappedRowRender:function(e,o){var s=this,t=this.$createElement,i=this.store,n=i.isRowExpanded,r=i.assertRowKey,i=i.states,a=i.treeData,l=i.lazyTreeNodeMap,c=i.childrenColumnName,h=i.rowKey;if(this.hasExpandColumn&&n(e)){var n=this.table.renderExpanded,u=this.rowRender(e,o);return n?[[u,t("tr",{key:"expanded-row__"+u.key},[t("td",{attrs:{colspan:this.columnsCount},class:"el-table__expanded-cell"},[n(this.$createElement,{row:e,$index:o,store:this.store})])])]]:(console.error("[Element Error]renderExpanded is required."),u)}if(Object.keys(a).length){r();var u=Oi(e,h),d=a[u],r=null;d&&(r={expanded:d.expanded,level:d.level,display:!0},"boolean"==typeof d.lazy&&("boolean"==typeof d.loaded&&d.loaded&&(r.noLazyChildren=!(d.children&&d.children.length)),r.loading=d.loading));var f,p=[this.rowRender(e,o,r)];return d&&(f=0,d.display=!0,function n(e,r){e&&e.length&&r&&e.forEach(function(e){var t={display:r.display&&r.expanded,level:r.level+1},i=Oi(e,h);if(null==i)throw new Error("for nested data item, row-key is required.");(d=Xi({},a[i]))&&(t.expanded=d.expanded,d.level=d.level||t.level,d.display=!(!d.expanded||!t.display),"boolean"==typeof d.lazy&&("boolean"==typeof d.loaded&&d.loaded&&(t.noLazyChildren=!(d.children&&d.children.length)),t.loading=d.loading)),f++,p.push(s.rowRender(e,o+f,t)),d&&(e=l[i]||e[c],n(e,d))})}(l[u]||e[c],d)),p}return this.rowRender(e,o)}}},Mt=function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("transition",{attrs:{name:"el-zoom-in-top"}},[i.multiple?n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:i.handleOutsideClick,expression:"handleOutsideClick"},{name:"show",rawName:"v-show",value:i.showPopper,expression:"showPopper"}],staticClass:"el-table-filter"},[n("div",{staticClass:"el-table-filter__content"},[n("el-scrollbar",{attrs:{"wrap-class":"el-table-filter__wrap"}},[n("el-checkbox-group",{staticClass:"el-table-filter__checkbox-group",model:{value:i.filteredValue,callback:function(e){i.filteredValue=e},expression:"filteredValue"}},i._l(i.filters,function(e){return n("el-checkbox",{key:e.value,attrs:{label:e.value}},[i._v(i._s(e.text))])}),1)],1)],1),n("div",{staticClass:"el-table-filter__bottom"},[n("button",{class:{"is-disabled":0===i.filteredValue.length},attrs:{disabled:0===i.filteredValue.length},on:{click:i.handleConfirm}},[i._v(i._s(i.t("el.table.confirmFilter")))]),n("button",{on:{click:i.handleReset}},[i._v(i._s(i.t("el.table.resetFilter")))])])]):n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:i.handleOutsideClick,expression:"handleOutsideClick"},{name:"show",rawName:"v-show",value:i.showPopper,expression:"showPopper"}],staticClass:"el-table-filter"},[n("ul",{staticClass:"el-table-filter__list"},[n("li",{staticClass:"el-table-filter__list-item",class:{"is-active":void 0===i.filterValue||null===i.filterValue},on:{click:function(e){i.handleSelect(null)}}},[i._v(i._s(i.t("el.table.clearFilter")))]),i._l(i.filters,function(t){return n("li",{key:t.value,staticClass:"el-table-filter__list-item",class:{"is-active":i.isActive(t)},attrs:{label:t.value},on:{click:function(e){i.handleSelect(t.value)}}},[i._v(i._s(t.text))])})],2)])])};function Zi(e){for(var t in function(e){if(!(e instanceof Zi))throw new TypeError("Cannot call a class as a function")}(this),this.observers=[],this.table=null,this.store=null,this.columns=null,this.fit=!0,this.showHeader=!0,this.height=null,this.scrollX=!1,this.scrollY=!1,this.bodyWidth=null,this.fixedWidth=null,this.rightFixedWidth=null,this.tableHeight=null,this.headerHeight=44,this.appendHeight=0,this.footerHeight=44,this.viewportHeight=null,this.bodyHeight=null,this.fixedBodyHeight=null,this.gutterWidth=_e(),e)e.hasOwnProperty(t)&&(this[t]=e[t]);if(!this.table)throw new Error("table is required for Table Layout");if(!this.store)throw new Error("store is required for Table Layout")}Mt._withStripped=!0;var Ji=[];u.a.prototype.$isServer||document.addEventListener("click",function(i){Ji.forEach(function(e){var t=i.target;e&&e.$el&&(t===e.$el||e.$el.contains(t)||e.handleOutsideClick&&e.handleOutsideClick(i))})});At=r({name:"ElTableFilterPanel",mixins:[De,H],directives:{Clickoutside:et},components:{ElCheckbox:Z,ElCheckboxGroup:Oe,ElScrollbar:Ue},props:{placement:{type:String,default:"bottom-end"}},methods:{isActive:function(e){return e.value===this.filterValue},handleOutsideClick:function(){var e=this;setTimeout(function(){e.showPopper=!1},16)},handleConfirm:function(){this.confirmFilter(this.filteredValue),this.handleOutsideClick()},handleReset:function(){this.filteredValue=[],this.confirmFilter(this.filteredValue),this.handleOutsideClick()},handleSelect:function(e){null!=(this.filterValue=e)?this.confirmFilter(this.filteredValue):this.confirmFilter([]),this.handleOutsideClick()},confirmFilter:function(e){this.table.store.commit("filterChange",{column:this.column,values:e}),this.table.store.updateAllSelected()}},data:function(){return{table:null,cell:null,column:null}},computed:{filters:function(){return this.column&&this.column.filters},filterValue:{get:function(){return(this.column.filteredValue||[])[0]},set:function(e){this.filteredValue&&(null!=e?this.filteredValue.splice(0,1,e):this.filteredValue.splice(0,1))}},filteredValue:{get:function(){return this.column&&this.column.filteredValue||[]},set:function(e){this.column&&(this.column.filteredValue=e)}},multiple:function(){return!this.column||this.column.filterMultiple}},mounted:function(){var i=this;this.popperElm=this.$el,this.referenceElm=this.cell,this.table.bodyWrapper.addEventListener("scroll",function(){i.updatePopper()}),this.$watch("showPopper",function(e){var t;i.column&&(i.column.filterOpened=e),e?(t=i)&&Ji.push(t):(t=i,-1!==Ji.indexOf(t)&&Ji.splice(t,1))})},watch:{showPopper:function(e){!0===e&&parseInt(this.popperJS._popper.style.zIndex,10)<Ce.zIndex&&(this.popperJS._popper.style.zIndex=Ce.nextZIndex())}}},Mt,[],!1,null,null,null);At.options.__file="packages/table/src/filter-panel.vue";var en=At.exports,$t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},It={name:"ElTableHeader",mixins:[Ct],render:function(r){var o=this,e=function(e){var r=1;e.forEach(function(e){e.level=1,function t(i,e){var n;e&&(i.level=e.level+1,r<i.level&&(r=i.level)),i.children?(n=0,i.children.forEach(function(e){t(e,i),n+=e.colSpan}),i.colSpan=n):i.colSpan=1}(e)});for(var t=[],i=0;i<r;i++)t.push([]);return function t(e){var i=[];return e.forEach(function(e){e.children?(i.push(e),i.push.apply(i,t(e.children))):i.push(e)}),i}(e).forEach(function(e){e.children?e.rowSpan=1:e.rowSpan=r-e.level+1,t[e.level-1].push(e)}),t}(this.store.states.originColumns,this.columns),t=1<e.length;return t&&(this.$parent.isGroup=!0),r("table",{class:"el-table__header",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[r("colgroup",[this.columns.map(function(e){return r("col",{attrs:{name:e.id},key:e.id})}),this.hasGutter?r("col",{attrs:{name:"gutter"}}):""]),r("thead",{class:[{"is-group":t,"has-gutter":this.hasGutter}]},[this._l(e,function(i,n){return r("tr",{style:o.getHeaderRowStyle(n),class:o.getHeaderRowClass(n)},[i.map(function(t,e){return r("th",{attrs:{colspan:t.colSpan,rowspan:t.rowSpan},on:{mousemove:function(e){return o.handleMouseMove(e,t)},mouseout:o.handleMouseOut,mousedown:function(e){return o.handleMouseDown(e,t)},click:function(e){return o.handleHeaderClick(e,t)},contextmenu:function(e){return o.handleHeaderContextMenu(e,t)}},style:o.getHeaderCellStyle(n,e,i,t),class:o.getHeaderCellClass(n,e,i,t),key:t.id},[r("div",{class:["cell",t.filteredValue&&0<t.filteredValue.length?"highlight":"",t.labelClassName]},[t.renderHeader?t.renderHeader.call(o._renderProxy,r,{column:t,$index:e,store:o.store,_self:o.$parent.$vnode.context}):t.label,t.sortable?r("span",{class:"caret-wrapper",on:{click:function(e){return o.handleSortClick(e,t)}}},[r("i",{class:"sort-caret ascending",on:{click:function(e){return o.handleSortClick(e,t,"ascending")}}}),r("i",{class:"sort-caret descending",on:{click:function(e){return o.handleSortClick(e,t,"descending")}}})]):"",t.filterable?r("span",{class:"el-table__column-filter-trigger",on:{click:function(e){return o.handleFilterClick(e,t)}}},[r("i",{class:["el-icon-arrow-down",t.filterOpened?"el-icon-arrow-up":""]})]):""])])}),o.hasGutter?r("th",{class:"gutter"}):""])})])])},props:{fixed:String,store:{required:!0},border:Boolean,defaultSort:{type:Object,default:function(){return{prop:"",order:""}}}},components:{ElCheckbox:Z},computed:$t({table:function(){return this.$parent},hasGutter:function(){return!this.fixed&&this.tableLayout.gutterWidth}},Yi({columns:"columns",isAllSelected:"isAllSelected",leftFixedLeafCount:"fixedLeafColumnsLength",rightFixedLeafCount:"rightFixedLeafColumnsLength",columnsCount:function(e){return e.columns.length},leftFixedCount:function(e){return e.fixedColumns.length},rightFixedCount:function(e){return e.rightFixedColumns.length}})),created:function(){this.filterPanels={}},mounted:function(){var i=this;this.$nextTick(function(){var e=i.defaultSort,t=e.prop,e=e.order;i.store.commit("sort",{prop:t,order:e,init:!0})})},beforeDestroy:function(){var e,t=this.filterPanels;for(e in t)t.hasOwnProperty(e)&&t[e]&&t[e].$destroy(!0)},methods:{isCellHidden:function(e,t){for(var i=0,n=0;n<e;n++)i+=t[n].colSpan;var r=i+t[e].colSpan-1;return!0===this.fixed||"left"===this.fixed?r>=this.leftFixedLeafCount:"right"===this.fixed?i<this.columnsCount-this.rightFixedLeafCount:r<this.leftFixedLeafCount||i>=this.columnsCount-this.rightFixedLeafCount},getHeaderRowStyle:function(e){var t=this.table.headerRowStyle;return"function"==typeof t?t.call(null,{rowIndex:e}):t},getHeaderRowClass:function(e){var t=[],i=this.table.headerRowClassName;return"string"==typeof i?t.push(i):"function"==typeof i&&t.push(i.call(null,{rowIndex:e})),t.join(" ")},getHeaderCellStyle:function(e,t,i,n){var r=this.table.headerCellStyle;return"function"==typeof r?r.call(null,{rowIndex:e,columnIndex:t,row:i,column:n}):r},getHeaderCellClass:function(e,t,i,n){var r=[n.id,n.order,n.headerAlign,n.className,n.labelClassName];0===e&&this.isCellHidden(t,i)&&r.push("is-hidden"),n.children||r.push("is-leaf"),n.sortable&&r.push("is-sortable");var o=this.table.headerCellClassName;return"string"==typeof o?r.push(o):"function"==typeof o&&r.push(o.call(null,{rowIndex:e,columnIndex:t,row:i,column:n})),r.join(" ")},toggleAllSelection:function(e){e.stopPropagation(),this.store.commit("toggleAllSelection")},handleFilterClick:function(e,t){e.stopPropagation();var i,n=e.target,e="TH"===n.tagName?n:n.parentNode;ce(e,"noclick")||(e=e.querySelector(".el-table__column-filter-trigger")||e,n=this.$parent,(i=this.filterPanels[t.id])&&t.filterOpened?i.showPopper=!1:(i||(i=new u.a(en),this.filterPanels[t.id]=i,t.filterPlacement&&(i.placement=t.filterPlacement),i.table=n,i.cell=e,i.column=t,this.$isServer||i.$mount(document.createElement("div"))),setTimeout(function(){i.showPopper=!0},16)))},handleHeaderClick:function(e,t){!t.filters&&t.sortable?this.handleSortClick(e,t):t.filterable&&!t.sortable&&this.handleFilterClick(e,t),this.$parent.$emit("header-click",t,e)},handleHeaderContextMenu:function(e,t){this.$parent.$emit("header-contextmenu",t,e)},handleMouseDown:function(r,o){var s,e,a,t,i,l,c,h=this;this.$isServer||o.children&&0<o.children.length||!this.draggingColumn||!this.border||(this.dragging=!0,this.$parent.resizeProxyVisible=!0,e=(s=this.$parent).$el.getBoundingClientRect().left,t=(a=this.$el.querySelector("th."+o.id)).getBoundingClientRect(),i=t.left-e+30,he(a,"noclick"),this.dragState={startMouseLeft:r.clientX,startLeft:t.right-e,startColumnLeft:t.left-e,tableLeft:e},(l=s.$refs.resizeProxy).style.left=this.dragState.startLeft+"px",document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},c=function(e){e=e.clientX-h.dragState.startMouseLeft,e=h.dragState.startLeft+e;l.style.left=Math.max(i,e)+"px"},document.addEventListener("mousemove",c),document.addEventListener("mouseup",function e(){var t,i,n;h.dragging&&(t=(n=h.dragState).startColumnLeft,i=n.startLeft,n=parseInt(l.style.left,10)-t,o.width=o.realWidth=n,s.$emit("header-dragend",o.width,i-t,o,r),h.store.scheduleLayout(),document.body.style.cursor="",h.dragging=!1,h.draggingColumn=null,h.dragState={},s.resizeProxyVisible=!1),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",e),document.onselectstart=null,document.ondragstart=null,setTimeout(function(){ue(a,"noclick")},0)}))},handleMouseMove:function(e,t){if(!(t.children&&0<t.children.length)){for(var i,n,r=e.target;r&&"TH"!==r.tagName;)r=r.parentNode;t&&t.resizable&&!this.dragging&&this.border&&(i=r.getBoundingClientRect(),n=document.body.style,12<i.width&&i.right-e.pageX<8?(n.cursor="col-resize",ce(r,"is-sortable")&&(r.style.cursor="col-resize"),this.draggingColumn=t):this.dragging||(n.cursor="",ce(r,"is-sortable")&&(r.style.cursor="pointer"),this.draggingColumn=null))}},handleMouseOut:function(){this.$isServer||(document.body.style.cursor="")},toggleOrder:function(e){var t=e.order,e=e.sortOrders;if(""===t)return e[0];t=e.indexOf(t||null);return e[t>e.length-2?0:t+1]},handleSortClick:function(e,t,i){e.stopPropagation();for(var n,r,o=t.order===i?null:i||this.toggleOrder(t),s=e.target;s&&"TH"!==s.tagName;)s=s.parentNode;s&&"TH"===s.tagName&&ce(s,"noclick")?ue(s,"noclick"):t.sortable&&(r=(n=this.store.states).sortProp,i=void 0,((e=n.sortingColumn)!==t||e===t&&null===e.order)&&(e&&(e.order=null),r=(n.sortingColumn=t).property),i=t.order=o||null,n.sortProp=r,n.sortOrder=i,this.store.commit("changeSortCondition"))}},data:function(){return{draggingColumn:null,dragging:!1,dragState:{}}}},Nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},zt={name:"ElTableFooter",mixins:[Ct],render:function(i){var s=this,a=[];return this.summaryMethod?a=this.summaryMethod({columns:this.columns,data:this.store.states.data}):this.columns.forEach(function(t,e){var i,n,r,o;0!==e?(i=s.store.states.data.map(function(e){return Number(e[t.property])}),n=[],r=!0,i.forEach(function(e){isNaN(e)||(r=!1,e=(""+e).split(".")[1],n.push(e?e.length:0))}),o=Math.max.apply(null,n),a[e]=r?"":i.reduce(function(e,t){var i=Number(t);return isNaN(i)?e:parseFloat((e+t).toFixed(Math.min(o,20)))},0)):a[e]=s.sumText}),i("table",{class:"el-table__footer",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[i("colgroup",[this.columns.map(function(e){return i("col",{attrs:{name:e.id},key:e.id})}),this.hasGutter?i("col",{attrs:{name:"gutter"}}):""]),i("tbody",{class:[{"has-gutter":this.hasGutter}]},[i("tr",[this.columns.map(function(e,t){return i("td",{key:t,attrs:{colspan:e.colSpan,rowspan:e.rowSpan},class:s.getRowClasses(e,t)},[i("div",{class:["cell",e.labelClassName]},[a[t]])])}),this.hasGutter?i("th",{class:"gutter"}):""])])])},props:{fixed:String,store:{required:!0},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:function(){return{prop:"",order:""}}}},computed:Nt({table:function(){return this.$parent},hasGutter:function(){return!this.fixed&&this.tableLayout.gutterWidth}},Yi({columns:"columns",isAllSelected:"isAllSelected",leftFixedLeafCount:"fixedLeafColumnsLength",rightFixedLeafCount:"rightFixedLeafColumnsLength",columnsCount:function(e){return e.columns.length},leftFixedCount:function(e){return e.fixedColumns.length},rightFixedCount:function(e){return e.rightFixedColumns.length}})),methods:{isCellHidden:function(e,t,i){if(!0===this.fixed||"left"===this.fixed)return e>=this.leftFixedLeafCount;if("right"!==this.fixed)return!(this.fixed||!i.fixed)||e<this.leftFixedCount||e>=this.columnsCount-this.rightFixedCount;for(var n=0,r=0;r<e;r++)n+=t[r].colSpan;return n<this.columnsCount-this.rightFixedLeafCount},getRowClasses:function(e,t){var i=[e.id,e.align,e.labelClassName];return e.className&&i.push(e.className),this.isCellHidden(t,this.columns,e)&&i.push("is-hidden"),e.children||i.push("is-leaf"),i}}},Bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},tn=1,Ht=r({name:"ElTable",mixins:[H,V],directives:{Mousewheel:pt},props:{data:{type:Array,default:function(){return[]}},size:String,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],context:{},showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:function(){return{hasChildren:"hasChildren",children:"children"}}},lazy:Boolean,load:Function},components:{TableHeader:It,TableFooter:zt,TableBody:St,ElCheckbox:Z},methods:{getMigratingConfig:function(){return{events:{expand:"expand is renamed to expand-change"}}},setCurrentRow:function(e){this.store.commit("setCurrentRow",e)},toggleRowSelection:function(e,t){this.store.toggleRowSelection(e,t,!1),this.store.updateAllSelected()},toggleRowExpansion:function(e,t){this.store.toggleRowExpansionAdapter(e,t)},clearSelection:function(){this.store.clearSelection()},clearFilter:function(e){this.store.clearFilter(e)},clearSort:function(){this.store.clearSort()},handleMouseLeave:function(){this.store.commit("setHoverRow",null),this.hoverState&&(this.hoverState=null)},updateScrollY:function(){this.layout.updateScrollY()&&(this.layout.notifyObservers("scrollable"),this.layout.updateColumnsWidth())},handleFixedMousewheel:function(e,t){var i,n=this.bodyWrapper;0<Math.abs(t.spinY)?(i=n.scrollTop,t.pixelY<0&&0!==i&&e.preventDefault(),0<t.pixelY&&n.scrollHeight-n.clientHeight>i&&e.preventDefault(),n.scrollTop+=Math.ceil(t.pixelY/5)):n.scrollLeft+=Math.ceil(t.pixelX/5)},handleHeaderFooterMousewheel:function(e,t){var i=t.pixelX,n=t.pixelY;Math.abs(i)>=Math.abs(n)&&(this.bodyWrapper.scrollLeft+=t.pixelX/5)},syncPostion:Object(Pi.throttle)(20,function(){var e=this.bodyWrapper,t=e.scrollLeft,i=e.scrollTop,n=e.offsetWidth,r=e.scrollWidth,o=this.$refs,s=o.headerWrapper,a=o.footerWrapper,e=o.fixedBodyWrapper,o=o.rightFixedBodyWrapper;s&&(s.scrollLeft=t),a&&(a.scrollLeft=t),e&&(e.scrollTop=i),o&&(o.scrollTop=i);n=r-n-1;this.scrollPosition=n<=t?"right":0===t?"left":"middle"}),bindEvents:function(){this.bodyWrapper.addEventListener("scroll",this.syncPostion,{passive:!0}),this.fit&&Fe(this.$el,this.resizeListener)},unbindEvents:function(){this.bodyWrapper.removeEventListener("scroll",this.syncPostion,{passive:!0}),this.fit&&ze(this.$el,this.resizeListener)},resizeListener:function(){var e,t,i,n;this.$ready&&(e=!1,n=this.$el,i=(t=this.resizeState).width,t=t.height,i!==(i=n.offsetWidth)&&(e=!0),n=n.offsetHeight,(this.height||this.shouldUpdateHeight)&&t!==n&&(e=!0),e&&(this.resizeState.width=i,this.resizeState.height=n,this.doLayout()))},doLayout:function(){this.shouldUpdateHeight&&this.layout.updateElsHeight(),this.layout.updateColumnsWidth()},sort:function(e,t){this.store.commit("sort",{prop:e,order:t})},toggleAllSelection:function(){this.store.commit("toggleAllSelection")}},computed:Bt({tableSize:function(){return this.size||(this.$ELEMENT||{}).size},bodyWrapper:function(){return this.$refs.bodyWrapper},shouldUpdateHeight:function(){return this.height||this.maxHeight||0<this.fixedColumns.length||0<this.rightFixedColumns.length},bodyWidth:function(){var e=this.layout,t=e.bodyWidth,i=e.scrollY,e=e.gutterWidth;return t?t-(i?e:0)+"px":""},bodyHeight:function(){var e=this.layout,t=e.headerHeight,i=void 0===t?0:t,t=e.bodyHeight,e=e.footerHeight,e=void 0===e?0:e;if(this.height)return{height:t?t+"px":""};if(this.maxHeight){t=ji(this.maxHeight);if("number"==typeof t)return{"max-height":t-e-(this.showHeader?i:0)+"px"}}return{}},fixedBodyHeight:function(){if(this.height)return{height:this.layout.fixedBodyHeight?this.layout.fixedBodyHeight+"px":""};if(this.maxHeight){var e=ji(this.maxHeight);if("number"==typeof e)return e=this.layout.scrollX?e-this.layout.gutterWidth:e,this.showHeader&&(e-=this.layout.headerHeight),{"max-height":(e-=this.layout.footerHeight)+"px"}}return{}},fixedHeight:function(){return this.maxHeight?this.showSummary?{bottom:0}:{bottom:this.layout.scrollX&&this.data.length?this.layout.gutterWidth+"px":""}:this.showSummary?{height:this.layout.tableHeight?this.layout.tableHeight+"px":""}:{height:this.layout.viewportHeight?this.layout.viewportHeight+"px":""}},emptyBlockStyle:function(){if(this.data&&this.data.length)return null;var e="100%";return this.layout.appendHeight&&(e="calc(100% - "+this.layout.appendHeight+"px)"),{width:this.bodyWidth,height:e}}},Yi({selection:"selection",columns:"columns",tableData:"data",fixedColumns:"fixedColumns",rightFixedColumns:"rightFixedColumns"})),watch:{height:{immediate:!0,handler:function(e){this.layout.setHeight(e)}},maxHeight:{immediate:!0,handler:function(e){this.layout.setMaxHeight(e)}},currentRowKey:{immediate:!0,handler:function(e){this.rowKey&&this.store.setCurrentRowKey(e)}},data:{immediate:!0,handler:function(e){this.store.commit("setData",e)}},expandRowKeys:{immediate:!0,handler:function(e){e&&this.store.setExpandRowKeysAdapter(e)}}},created:function(){var e=this;this.tableId="el-table_"+tn++,this.debouncedUpdateLayout=Object(Pi.debounce)(50,function(){return e.doLayout()})},mounted:function(){var t=this;this.bindEvents(),this.store.updateColumns(),this.doLayout(),this.resizeState={width:this.$el.offsetWidth,height:this.$el.offsetHeight},this.store.states.columns.forEach(function(e){e.filteredValue&&e.filteredValue.length&&t.store.commit("filterChange",{column:e,values:e.filteredValue,silent:!0})}),this.$ready=!0},destroyed:function(){this.unbindEvents()},data:function(){var e=this.treeProps,t=e.hasChildren,t=void 0===t?"hasChildren":t,e=e.children,e=void 0===e?"children":e;return this.store=function(e,t){var i=1<arguments.length&&void 0!==t?t:{};if(!e)throw new Error("Table is required.");var n=new Gi;return n.table=e,n.toggleAllSelection=Ye()(10,n._toggleAllSelection),Object.keys(i).forEach(function(e){n.states[e]=i[e]}),n}(this,{rowKey:this.rowKey,defaultExpandAll:this.defaultExpandAll,selectOnIndeterminate:this.selectOnIndeterminate,indent:this.indent,lazy:this.lazy,lazyColumnIdentifier:t,childrenColumnName:e}),{layout:new qi({store:this.store,table:this,fit:this.fit,showHeader:this.showHeader}),isHidden:!1,renderExpanded:null,resizeProxyVisible:!1,resizeState:{width:null,height:null},isGroup:!1,scrollPosition:"left"}}},ct,[],!1,null,null,null);Ht.options.__file="packages/table/src/table.vue";var nn=Ht.exports;nn.install=function(e){e.component(nn.name,nn)};var Vt=nn,rn={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:"",className:"el-table-column--selection"},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},on={selection:{renderHeader:function(e,t){t=t.store;return e("el-checkbox",{attrs:{disabled:t.states.data&&0===t.states.data.length,indeterminate:0<t.states.selection.length&&!this.isAllSelected,value:this.isAllSelected},nativeOn:{click:this.toggleAllSelection}})},renderCell:function(e,t){var i=t.row,n=t.column,r=t.store,t=t.$index;return e("el-checkbox",{nativeOn:{click:function(e){return e.stopPropagation()}},attrs:{value:r.isSelected(i),disabled:!!n.selectable&&!n.selectable.call(null,i,t)},on:{input:function(){r.commit("rowSelectedChanged",i)}}})},sortable:!1,resizable:!1},index:{renderHeader:function(e,t){return t.column.label||"#"},renderCell:function(e,t){var i=t.$index,n=i+1,t=t.column.index;return"number"==typeof t?n=i+t:"function"==typeof t&&(n=t(i)),e("div",[n])},sortable:!1},expand:{renderHeader:function(e,t){return t.column.label||""},renderCell:function(e,t){var i=t.row,n=t.store,t=["el-table__expand-icon"];return-1<n.states.expandRows.indexOf(i)&&t.push("el-table__expand-icon--expanded"),e("div",{class:t,on:{click:function(e){e.stopPropagation(),n.toggleRowExpansion(i)}}},[e("i",{class:"el-icon el-icon-arrow-right"})])},sortable:!1,resizable:!1,className:"el-table__expand-column"}};function sn(e,t){var i=t.row,n=t.column,r=t.$index,t=n.property,t=t&&_(i,t).v;return n&&n.formatter?n.formatter(i,n,t,r):t}var an=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ln=1,cn={name:"ElTableColumn",props:{type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{},minWidth:{},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:function(){return["ascending","descending",null]},validator:function(e){return e.every(function(e){return-1<["ascending","descending",null].indexOf(e)})}}},data:function(){return{isSubColumn:!1,columns:[]}},computed:{owner:function(){for(var e=this.$parent;e&&!e.tableId;)e=e.$parent;return e},columnOrTableParent:function(){for(var e=this.$parent;e&&!e.tableId&&!e.columnId;)e=e.$parent;return e},realWidth:function(){return Bi(this.width)},realMinWidth:function(){return void 0!==(e=this.minWidth)&&(e=Bi(e),isNaN(e)&&(e=80)),e;var e},realAlign:function(){return this.align?"is-"+this.align:null},realHeaderAlign:function(){return this.headerAlign?"is-"+this.headerAlign:this.realAlign}},methods:{getPropsData:function(){for(var i=this,e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(t,e){return Array.isArray(e)&&e.forEach(function(e){t[e]=i[e]}),t},{})},getColumnElIndex:function(e,t){return[].indexOf.call(e,t)},setColumnWidth:function(e){return this.realWidth&&(e.width=this.realWidth),this.realMinWidth&&(e.minWidth=this.realMinWidth),e.minWidth||(e.minWidth=80),e.realWidth=void 0===e.width?e.minWidth:e.width,e},setColumnForcedProps:function(i){var e=i.type,n=on[e]||{};return Object.keys(n).forEach(function(e){var t=n[e];void 0!==t&&(i[e]="className"===e?i[e]+" "+t:t)}),i},setColumnRenders:function(r){var o=this;this.$createElement,this.renderHeader?console.warn("[Element Warn][TableColumn]Comparing to render-header, scoped-slot header is easier to use. We recommend users to use scoped-slot header."):"selection"!==r.type&&(r.renderHeader=function(e,t){var i=o.$scopedSlots.header;return i?i(t):r.label});var s=r.renderCell;return"expand"===r.type?(r.renderCell=function(e,t){return e("div",{class:"cell"},[s(e,t)])},this.owner.renderExpanded=function(e,t){return o.$scopedSlots.default?o.$scopedSlots.default(t):o.$slots.default}):(s=s||sn,r.renderCell=function(e,a){var t=o.$scopedSlots.default?o.$scopedSlots.default(a):s(e,a),i=function(e){var t=a.row,i=a.treeNode,n=a.store;if(!i)return null;var r,o,s=[];return i.indent&&s.push(e("span",{class:"el-table__indent",style:{"padding-left":i.indent+"px"}})),"boolean"!=typeof i.expanded||i.noLazyChildren?s.push(e("span",{class:"el-table__placeholder"})):(r=["el-table__expand-icon",i.expanded?"el-table__expand-icon--expanded":""],o=["el-icon-arrow-right"],i.loading&&(o=["el-icon-loading"]),s.push(e("div",{class:r,on:{click:function(e){e.stopPropagation(),n.loadOrToggle(t)}}},[e("i",{class:o})]))),s}(e),n={class:"cell",style:{}};return r.showOverflowTooltip&&(n.class+=" el-tooltip",n.style={width:(a.column.realWidth||a.column.width)-1+"px"}),e("div",n,[i,t])}),r},registerNormalWatchers:function(){var i=this,n={prop:"property",realAlign:"align",realHeaderAlign:"headerAlign",realWidth:"width"},e=["label","property","filters","filterMultiple","sortable","index","formatter","className","labelClassName","showOverflowTooltip"].reduce(function(e,t){return e[t]=t,e},n);Object.keys(e).forEach(function(e){var t=n[e];i.$watch(e,function(e){i.columnConfig[t]=e})})},registerComplexWatchers:function(){var i=this,n={realWidth:"width",realMinWidth:"minWidth"},e=["fixed"].reduce(function(e,t){return e[t]=t,e},n);Object.keys(e).forEach(function(e){var t=n[e];i.$watch(e,function(e){i.columnConfig[t]=e;e="fixed"===t;i.owner.store.scheduleLayout(e)})})}},components:{ElCheckbox:Z},beforeCreate:function(){this.row={},this.column={},this.$index=0,this.columnId=""},created:function(){var e=this.columnOrTableParent;this.isSubColumn=this.owner!==e,this.columnId=(e.tableId||e.columnId)+"_column_"+ln++;var t=this.type||"default",e=""===this.sortable||this.sortable,e=function(e,t){var i,n,r,o={},s=void 0;for(s in e)o[s]=e[s];for(s in t){n=t,r=s,Object.prototype.hasOwnProperty.call(n,r)&&void 0!==(i=t[s])&&(o[s]=i)}return o}(an({},rn[t],{id:this.columnId,type:t,property:this.prop||this.property,align:this.realAlign,headerAlign:this.realHeaderAlign,showOverflowTooltip:this.showOverflowTooltip||this.showTooltipWhenOverflow,filterable:this.filters||this.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,filterOpened:!1,sortable:e,index:this.index}),e=this.getPropsData(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"]));e=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}(this.setColumnRenders,this.setColumnWidth,this.setColumnForcedProps)(e),this.columnConfig=e,this.registerNormalWatchers(),this.registerComplexWatchers()},mounted:function(){var e=this.owner,t=this.columnOrTableParent,i=(this.isSubColumn?t.$el:t.$refs.hiddenColumns).children,i=this.getColumnElIndex(i,this.$el);e.store.commit("insertColumn",this.columnConfig,i,this.isSubColumn?t.columnConfig:null)},destroyed:function(){var e;this.$parent&&(e=this.$parent,this.owner.store.commit("removeColumn",this.columnConfig,this.isSubColumn?e.columnConfig:null))},render:function(e){return e("div",this.$slots.default)},install:function(e){e.component(cn.name,cn)}},Xt=cn,Qt=function(){var t=this,e=t.$createElement,e=t._self._c||e;return t.ranged?e("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],ref:"reference",staticClass:"el-date-editor el-range-editor el-input__inner",class:["el-date-editor--"+t.type,t.pickerSize?"el-range-editor--"+t.pickerSize:"",t.pickerDisabled?"is-disabled":"",t.pickerVisible?"is-active":""],on:{click:t.handleRangeClick,mouseenter:t.handleMouseEnter,mouseleave:function(e){t.showClose=!1},keydown:t.handleKeydown}},[e("i",{class:["el-input__icon","el-range__icon",t.triggerClass]}),e("input",t._b({staticClass:"el-range-input",attrs:{autocomplete:"off",placeholder:t.startPlaceholder,disabled:t.pickerDisabled,readonly:!t.editable||t.readonly,name:t.name&&t.name[0]},domProps:{value:t.displayValue&&t.displayValue[0]},on:{input:t.handleStartInput,change:t.handleStartChange,focus:t.handleFocus}},"input",t.firstInputId,!1)),t._t("range-separator",[e("span",{staticClass:"el-range-separator"},[t._v(t._s(t.rangeSeparator))])]),e("input",t._b({staticClass:"el-range-input",attrs:{autocomplete:"off",placeholder:t.endPlaceholder,disabled:t.pickerDisabled,readonly:!t.editable||t.readonly,name:t.name&&t.name[1]},domProps:{value:t.displayValue&&t.displayValue[1]},on:{input:t.handleEndInput,change:t.handleEndChange,focus:t.handleFocus}},"input",t.secondInputId,!1)),t.haveTrigger?e("i",{staticClass:"el-input__icon el-range__close-icon",class:[t.showClose?""+t.clearIcon:""],on:{click:t.handleClickIcon}}):t._e()],2):e("el-input",t._b({directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],ref:"reference",staticClass:"el-date-editor",class:"el-date-editor--"+t.type,attrs:{readonly:!t.editable||t.readonly||"dates"===t.type||"week"===t.type,disabled:t.pickerDisabled,size:t.pickerSize,name:t.name,placeholder:t.placeholder,value:t.displayValue,validateEvent:!1},on:{focus:t.handleFocus,input:function(e){return t.userInput=e},change:t.handleChange},nativeOn:{keydown:function(e){return t.handleKeydown(e)},mouseenter:function(e){return t.handleMouseEnter(e)},mouseleave:function(e){t.showClose=!1}}},"el-input",t.firstInputId,!1),[e("i",{staticClass:"el-input__icon",class:t.triggerClass,attrs:{slot:"prefix"},on:{click:t.handleFocus},slot:"prefix"}),t.haveTrigger?e("i",{staticClass:"el-input__icon",class:[t.showClose?""+t.clearIcon:""],attrs:{slot:"suffix"},on:{click:t.handleClickIcon},slot:"suffix"}):t._e()])};Qt._withStripped=!0;function hn(){return{dayNamesShort:xn.map(function(e){return O("el.datepicker.weeks."+e)}),dayNames:xn.map(function(e){return O("el.datepicker.weeks."+e)}),monthNamesShort:Cn.map(function(e){return O("el.datepicker.months."+e)}),monthNames:Cn.map(function(e,t){return O("el.datepicker.month"+(t+1))}),amPm:["am","pm"]}}function un(e){return null!=e&&!isNaN(new Date(e).getTime())&&!Array.isArray(e)}function dn(e){return e instanceof Date}function fn(e,t){return(e=un(i=e)?new Date(i):null)?wn.a.format(e,t||"yyyy-MM-dd",hn()):"";var i}function pn(e,t){return wn.a.parse(e,t||"yyyy-MM-dd",hn())}function gn(e,t){return 3===t||5===t||8===t||10===t?30:1===t?e%4==0&&e%100!=0||e%400==0?29:28:31}function mn(e){return(e=new Date(e.getTime())).setDate(1),e.getDay()}function vn(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return new Date(e.getFullYear(),e.getMonth(),e.getDate()-t)}function yn(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t)}function bn(e){if(!un(e))return null;var t=new Date(e.getTime());return t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7),e=new Date(t.getFullYear(),0,4),1+Math.round(((t.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)}var ti=i(2),wn=i.n(ti),xn=["sun","mon","tue","wed","thu","fri","sat"],Cn=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"];function Sn(e,t,i,n){for(var r=t;r<i;r++)e[r]=n}function _n(e){return Array.apply(null,{length:e}).map(function(e,t){return t})}function kn(e,t,i,n){return new Date(t,i,n,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function Mn(e,t,i,n){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),t,i,n,e.getMilliseconds())}function Tn(e,t){return null!=e&&t?(t=pn(t,"HH:mm:ss"),Mn(e,t.getHours(),t.getMinutes(),t.getSeconds())):e}function Dn(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function An(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),0)}function $n(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"HH:mm:ss";if(0===t.length)return e;function n(e){return wn.a.parse(wn.a.format(e,i),i)}var r=n(e);if((t=t.map(function(e){return e.map(n)})).some(function(e){return r>=e[0]&&r<=e[1]}))return e;var o=t[0][0],s=t[0][0];return t.forEach(function(e){o=new Date(Math.min(e[0],o)),s=new Date(Math.max(e[1],o))}),kn(r<o?o:s,e.getFullYear(),e.getMonth(),e.getDate())}function En(e,t,i){return $n(e,t,i).getTime()===e.getTime()}function Ln(e,t,i){var n=Math.min(e.getDate(),gn(t,i));return kn(e,t,i,n)}function In(e){var t=e.getFullYear(),i=e.getMonth();return 0===i?Ln(e,t-1,11):Ln(e,t,i-1)}function Nn(e){var t=e.getFullYear(),i=e.getMonth();return 11===i?Ln(e,t+1,0):Ln(e,t,i+1)}function On(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,i=e.getFullYear(),n=e.getMonth();return Ln(e,i-t,n)}function Rn(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,i=e.getFullYear(),n=e.getMonth();return Ln(e,i+t,n)}function Pn(e){return e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim()}function Fn(e){return e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?y{2,4}/g,"").trim()}function zn(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function Wn(e,t){return"timestamp"===t?e.getTime():fn(e,t)}function Bn(e,t){return"timestamp"===t?new Date(Number(e)):pn(e,t)}function jn(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"-";return e?(0,(Yn[i]||Yn.default).parser)(e,t||Un[i],n):null}function Hn(e,t,i){return e?(0,(Yn[i]||Yn.default).formatter)(e,t||Un[i]):null}function Kn(e,i){function n(e,t){var i=e instanceof Date,n=t instanceof Date;return i&&n?e.getTime()===t.getTime():!i&&!n&&e===t}var t=e instanceof Array,r=i instanceof Array;return t&&r?e.length===i.length&&e.every(function(e,t){return n(e,i[t])}):!t&&!r&&n(e,i)}function Vn(e){return"string"==typeof e||e instanceof String}var ri={props:{appendToBody:De.props.appendToBody,offset:De.props.offset,boundariesPadding:De.props.boundariesPadding,arrowOffset:De.props.arrowOffset},methods:De.methods,data:function(){return q({visibleArrow:!0},De.data)},beforeDestroy:De.beforeDestroy},Un={date:"yyyy-MM-dd",month:"yyyy-MM",datetime:"yyyy-MM-dd HH:mm:ss",time:"HH:mm:ss",week:"yyyywWW",timerange:"HH:mm:ss",daterange:"yyyy-MM-dd",monthrange:"yyyy-MM",datetimerange:"yyyy-MM-dd HH:mm:ss",year:"yyyy"},Gn=["date","datetime","time","time-select","week","month","year","daterange","monthrange","timerange","datetimerange","dates"],ai=function(e,t){if(Array.isArray(e)&&2===e.length){var i=e[0],e=e[1];if(i&&e)return[Wn(i,t),Wn(e,t)]}return""},li=function(e,t,i){if(Array.isArray(e)||(e=e.split(i)),2!==e.length)return[];i=e[0],e=e[1];return[Bn(i,t),Bn(e,t)]},Yn={default:{formatter:function(e){return e?""+e:""},parser:function(e){return void 0===e||""===e?null:e}},week:{formatter:function(e,t){var i=bn(e),n=e.getMonth(),e=new Date(e);1===i&&11===n&&(e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7));t=fn(e,t);return/WW/.test(t)?t.replace(/WW/,i<10?"0"+i:i):t.replace(/W/,i)},parser:function(e,t){return Yn.date.parser(e,t)}},date:{formatter:Wn,parser:Bn},datetime:{formatter:Wn,parser:Bn},daterange:{formatter:ai,parser:li},monthrange:{formatter:ai,parser:li},datetimerange:{formatter:ai,parser:li},timerange:{formatter:ai,parser:li},time:{formatter:Wn,parser:Bn},month:{formatter:Wn,parser:Bn},year:{formatter:Wn,parser:Bn},number:{formatter:function(e){return e?""+e:""},parser:function(e){var t=Number(e);return isNaN(e)?null:t}},dates:{formatter:function(e,t){return e.map(function(e){return Wn(e,t)})},parser:function(e,t){return("string"==typeof e?e.split(", "):e).map(function(e){return e instanceof Date?e:Bn(e,t)})}}},qn={left:"bottom-start",center:"bottom",right:"bottom-end"},ui=function(e){return null==e||Vn(e)||Array.isArray(e)&&2===e.length&&e.every(Vn)},fi=r({mixins:[l,ri],inject:{elForm:{default:""},elFormItem:{default:""}},props:{size:String,format:String,valueFormat:String,readonly:Boolean,placeholder:String,startPlaceholder:String,endPlaceholder:String,prefixIcon:String,clearIcon:{type:String,default:"el-icon-circle-close"},name:{default:"",validator:ui},disabled:Boolean,clearable:{type:Boolean,default:!0},id:{default:"",validator:ui},popperClass:String,editable:{type:Boolean,default:!0},align:{type:String,default:"left"},value:{},defaultValue:{},defaultTime:{},rangeSeparator:{default:"-"},pickerOptions:{},unlinkPanels:Boolean,validateEvent:{type:Boolean,default:!0}},components:{ElInput:ee},directives:{Clickoutside:et},data:function(){return{pickerVisible:!1,showClose:!1,userInput:null,valueOnOpen:null,unwatchPickerOptions:null}},watch:{pickerVisible:function(e){this.readonly||this.pickerDisabled||(e?(this.showPicker(),this.valueOnOpen=Array.isArray(this.value)?[].concat(this.value):this.value):(this.hidePicker(),this.emitChange(this.value),this.userInput=null,this.validateEvent&&this.dispatch("ElFormItem","el.form.blur"),this.$emit("blur",this),this.blur()))},parsedValue:{immediate:!0,handler:function(e){this.picker&&(this.picker.value=e)}},defaultValue:function(e){this.picker&&(this.picker.defaultValue=e)},value:function(e,t){Kn(e,t)||this.pickerVisible||!this.validateEvent||this.dispatch("ElFormItem","el.form.change",e)}},computed:{ranged:function(){return-1<this.type.indexOf("range")},reference:function(){var e=this.$refs.reference;return e.$el||e},refInput:function(){return this.reference?[].slice.call(this.reference.querySelectorAll("input")):[]},valueIsEmpty:function(){var e=this.value;if(Array.isArray(e)){for(var t=0,i=e.length;t<i;t++)if(e[t])return!1}else if(e)return!1;return!0},triggerClass:function(){return this.prefixIcon||(-1!==this.type.indexOf("time")?"el-icon-time":"el-icon-date")},selectionMode:function(){return"week"===this.type?"week":"month"===this.type?"month":"year"===this.type?"year":"dates"===this.type?"dates":"day"},haveTrigger:function(){return void 0!==this.showTrigger?this.showTrigger:-1!==Gn.indexOf(this.type)},displayValue:function(){var e=Hn(this.parsedValue,this.format,this.type,this.rangeSeparator);return Array.isArray(this.userInput)?[this.userInput[0]||e&&e[0]||"",this.userInput[1]||e&&e[1]||""]:null!==this.userInput?this.userInput:e?"dates"===this.type?e.join(", "):e:""},parsedValue:function(){return!this.value||"time-select"===this.type||dn(this.value)||Array.isArray(this.value)&&this.value.every(dn)?this.value:this.valueFormat?jn(this.value,this.valueFormat,this.type,this.rangeSeparator)||this.value:Array.isArray(this.value)?this.value.map(function(e){return new Date(e)}):new Date(this.value)},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},pickerSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},pickerDisabled:function(){return this.disabled||(this.elForm||{}).disabled},firstInputId:function(){var e,t={};return(e=this.ranged?this.id&&this.id[0]:this.id)&&(t.id=e),t},secondInputId:function(){var e={},t=void 0;return this.ranged&&(t=this.id&&this.id[1]),t&&(e.id=t),e}},created:function(){this.popperOptions={boundariesPadding:0,gpuAcceleration:!1},this.placement=qn[this.align]||qn.left,this.$on("fieldReset",this.handleFieldReset)},methods:{focus:function(){this.ranged?this.handleFocus():this.$refs.reference.focus()},blur:function(){this.refInput.forEach(function(e){return e.blur()})},parseValue:function(e){var t=dn(e)||Array.isArray(e)&&e.every(dn);return this.valueFormat&&!t&&jn(e,this.valueFormat,this.type,this.rangeSeparator)||e},formatToValue:function(e){var t=dn(e)||Array.isArray(e)&&e.every(dn);return this.valueFormat&&t?Hn(e,this.valueFormat,this.type,this.rangeSeparator):e},parseString:function(e){var t=Array.isArray(e)?this.type:this.type.replace("range","");return jn(e,this.format,t)},formatToString:function(e){var t=Array.isArray(e)?this.type:this.type.replace("range","");return Hn(e,this.format,t)},handleMouseEnter:function(){this.readonly||this.pickerDisabled||!this.valueIsEmpty&&this.clearable&&(this.showClose=!0)},handleChange:function(){var e;!this.userInput||(e=this.parseString(this.displayValue))&&(this.picker.value=e,this.isValidValue(e)&&(this.emitInput(e),this.userInput=null)),""===this.userInput&&(this.emitInput(null),this.emitChange(null),this.userInput=null)},handleStartInput:function(e){this.userInput?this.userInput=[e.target.value,this.userInput[1]]:this.userInput=[e.target.value,null]},handleEndInput:function(e){this.userInput?this.userInput=[this.userInput[0],e.target.value]:this.userInput=[null,e.target.value]},handleStartChange:function(e){var t=this.parseString(this.userInput&&this.userInput[0]);t&&(this.userInput=[this.formatToString(t),this.displayValue[1]],t=[t,this.picker.value&&this.picker.value[1]],this.picker.value=t,this.isValidValue(t)&&(this.emitInput(t),this.userInput=null))},handleEndChange:function(e){var t=this.parseString(this.userInput&&this.userInput[1]);t&&(this.userInput=[this.displayValue[0],this.formatToString(t)],t=[this.picker.value&&this.picker.value[0],t],this.picker.value=t,this.isValidValue(t)&&(this.emitInput(t),this.userInput=null))},handleClickIcon:function(e){this.readonly||this.pickerDisabled||(this.showClose?(this.valueOnOpen=this.value,e.stopPropagation(),this.emitInput(null),this.emitChange(null),this.showClose=!1,this.picker&&"function"==typeof this.picker.handleClear&&this.picker.handleClear()):this.pickerVisible=!this.pickerVisible)},handleClose:function(){var e;this.pickerVisible&&(this.pickerVisible=!1,"dates"===this.type)&&(e=jn(this.valueOnOpen,this.valueFormat,this.type,this.rangeSeparator)||this.valueOnOpen,this.emitInput(e))},handleFieldReset:function(e){this.userInput=""===e?null:e},handleFocus:function(){var e=this.type;-1===Gn.indexOf(e)||this.pickerVisible||(this.pickerVisible=!0),this.$emit("focus",this)},handleKeydown:function(e){var t=this,i=e.keyCode;return 27===i?(this.pickerVisible=!1,void e.stopPropagation()):9!==i?13===i?(""!==this.userInput&&!this.isValidValue(this.parseString(this.displayValue))||(this.handleChange(),this.pickerVisible=this.picker.visible=!1,this.blur()),void e.stopPropagation()):void(this.userInput?e.stopPropagation():this.picker&&this.picker.handleKeydown&&this.picker.handleKeydown(e)):void(this.ranged?setTimeout(function(){-1===t.refInput.indexOf(document.activeElement)&&(t.pickerVisible=!1,t.blur(),e.stopPropagation())},0):(this.handleChange(),this.pickerVisible=this.picker.visible=!1,this.blur(),e.stopPropagation()))},handleRangeClick:function(){var e=this.type;-1===Gn.indexOf(e)||this.pickerVisible||(this.pickerVisible=!0),this.$emit("focus",this)},hidePicker:function(){this.picker&&(this.picker.resetView&&this.picker.resetView(),this.pickerVisible=this.picker.visible=!1,this.destroyPopper())},showPicker:function(){var e=this;this.$isServer||(this.picker||this.mountPicker(),this.pickerVisible=this.picker.visible=!0,this.updatePopper(),this.picker.value=this.parsedValue,this.picker.resetView&&this.picker.resetView(),this.$nextTick(function(){e.picker.adjustSpinners&&e.picker.adjustSpinners()}))},mountPicker:function(){var o=this;this.picker=new u.a(this.panel).$mount(),this.picker.defaultValue=this.defaultValue,this.picker.defaultTime=this.defaultTime,this.picker.popperClass=this.popperClass,this.popperElm=this.picker.$el,this.picker.width=this.reference.getBoundingClientRect().width,this.picker.showTime="datetime"===this.type||"datetimerange"===this.type,this.picker.selectionMode=this.selectionMode,this.picker.unlinkPanels=this.unlinkPanels,this.picker.arrowControl=this.arrowControl||this.timeArrowControl||!1,this.$watch("format",function(e){o.picker.format=e});function e(){var t,i,e,n,r=o.pickerOptions;for(n in r&&r.selectableRange&&(e=r.selectableRange,t=Yn.datetimerange.parser,i=Un.timerange,e=Array.isArray(e)?e:[e],o.picker.selectableRange=e.map(function(e){return t(e,i,o.rangeSeparator)})),r)r.hasOwnProperty(n)&&"selectableRange"!==n&&(o.picker[n]=r[n]);o.format&&(o.picker.format=o.format)}e(),this.unwatchPickerOptions=this.$watch("pickerOptions",e,{deep:!0}),this.$el.appendChild(this.picker.$el),this.picker.resetView&&this.picker.resetView(),this.picker.$on("dodestroy",this.doDestroy),this.picker.$on("pick",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];o.userInput=null,o.pickerVisible=o.picker.visible=t,o.emitInput(e),o.picker.resetView&&o.picker.resetView()}),this.picker.$on("select-range",function(e,t,i){0!==o.refInput.length&&(i&&"min"!==i?"max"===i&&(o.refInput[1].setSelectionRange(e,t),o.refInput[1].focus()):(o.refInput[0].setSelectionRange(e,t),o.refInput[0].focus()))})},unmountPicker:function(){this.picker&&(this.picker.$destroy(),this.picker.$off(),"function"==typeof this.unwatchPickerOptions&&this.unwatchPickerOptions(),this.picker.$el.parentNode.removeChild(this.picker.$el))},emitChange:function(e){Kn(e,this.valueOnOpen)||(this.$emit("change",e),this.valueOnOpen=e,this.validateEvent&&this.dispatch("ElFormItem","el.form.change",e))},emitInput:function(e){e=this.formatToValue(e);Kn(this.value,e)||this.$emit("input",e)},isValidValue:function(e){return this.picker||this.mountPicker(),!this.picker.isValidValue||e&&this.picker.isValidValue(e)}}},Qt,[],!1,null,null,null);fi.options.__file="packages/date-picker/src/picker.vue";mi=fi.exports,vi=function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-enter":i.handleEnter,"after-leave":i.handleLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:i.visible,expression:"visible"}],staticClass:"el-picker-panel el-date-picker el-popper",class:[{"has-sidebar":i.$slots.sidebar||i.shortcuts,"has-time":i.showTime},i.popperClass]},[n("div",{staticClass:"el-picker-panel__body-wrapper"},[i._t("sidebar"),i.shortcuts?n("div",{staticClass:"el-picker-panel__sidebar"},i._l(i.shortcuts,function(t,e){return n("button",{key:e,staticClass:"el-picker-panel__shortcut",attrs:{type:"button"},on:{click:function(e){i.handleShortcutClick(t)}}},[i._v(i._s(t.text))])}),0):i._e(),n("div",{staticClass:"el-picker-panel__body"},[i.showTime?n("div",{staticClass:"el-date-picker__time-header"},[n("span",{staticClass:"el-date-picker__editor-wrap"},[n("el-input",{attrs:{placeholder:i.t("el.datepicker.selectDate"),value:i.visibleDate,size:"small"},on:{input:function(e){return i.userInputDate=e},change:i.handleVisibleDateChange}})],1),n("span",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:i.handleTimePickClose,expression:"handleTimePickClose"}],staticClass:"el-date-picker__editor-wrap"},[n("el-input",{ref:"input",attrs:{placeholder:i.t("el.datepicker.selectTime"),value:i.visibleTime,size:"small"},on:{focus:function(e){i.timePickerVisible=!0},input:function(e){return i.userInputTime=e},change:i.handleVisibleTimeChange}}),n("time-picker",{ref:"timepicker",attrs:{"time-arrow-control":i.arrowControl,visible:i.timePickerVisible},on:{pick:i.handleTimePick,mounted:i.proxyTimePickerDataProperties}})],1)]):i._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:"time"!==i.currentView,expression:"currentView !== 'time'"}],staticClass:"el-date-picker__header",class:{"el-date-picker__header--bordered":"year"===i.currentView||"month"===i.currentView}},[n("button",{staticClass:"el-picker-panel__icon-btn el-date-picker__prev-btn el-icon-d-arrow-left",attrs:{type:"button","aria-label":i.t("el.datepicker.prevYear")},on:{click:i.prevYear}}),n("button",{directives:[{name:"show",rawName:"v-show",value:"date"===i.currentView,expression:"currentView === 'date'"}],staticClass:"el-picker-panel__icon-btn el-date-picker__prev-btn el-icon-arrow-left",attrs:{type:"button","aria-label":i.t("el.datepicker.prevMonth")},on:{click:i.prevMonth}}),n("span",{staticClass:"el-date-picker__header-label",attrs:{role:"button"},on:{click:i.showYearPicker}},[i._v(i._s(i.yearLabel))]),n("span",{directives:[{name:"show",rawName:"v-show",value:"date"===i.currentView,expression:"currentView === 'date'"}],staticClass:"el-date-picker__header-label",class:{active:"month"===i.currentView},attrs:{role:"button"},on:{click:i.showMonthPicker}},[i._v(i._s(i.t("el.datepicker.month"+(i.month+1))))]),n("button",{staticClass:"el-picker-panel__icon-btn el-date-picker__next-btn el-icon-d-arrow-right",attrs:{type:"button","aria-label":i.t("el.datepicker.nextYear")},on:{click:i.nextYear}}),n("button",{directives:[{name:"show",rawName:"v-show",value:"date"===i.currentView,expression:"currentView === 'date'"}],staticClass:"el-picker-panel__icon-btn el-date-picker__next-btn el-icon-arrow-right",attrs:{type:"button","aria-label":i.t("el.datepicker.nextMonth")},on:{click:i.nextMonth}})]),n("div",{staticClass:"el-picker-panel__content"},[n("date-table",{directives:[{name:"show",rawName:"v-show",value:"date"===i.currentView,expression:"currentView === 'date'"}],attrs:{"selection-mode":i.selectionMode,"first-day-of-week":i.firstDayOfWeek,value:i.value,"default-value":i.defaultValue?new Date(i.defaultValue):null,date:i.date,"cell-class-name":i.cellClassName,"disabled-date":i.disabledDate},on:{pick:i.handleDatePick}}),n("year-table",{directives:[{name:"show",rawName:"v-show",value:"year"===i.currentView,expression:"currentView === 'year'"}],attrs:{value:i.value,"default-value":i.defaultValue?new Date(i.defaultValue):null,date:i.date,"disabled-date":i.disabledDate},on:{pick:i.handleYearPick}}),n("month-table",{directives:[{name:"show",rawName:"v-show",value:"month"===i.currentView,expression:"currentView === 'month'"}],attrs:{value:i.value,"default-value":i.defaultValue?new Date(i.defaultValue):null,date:i.date,"disabled-date":i.disabledDate},on:{pick:i.handleMonthPick}})],1)])],2),n("div",{directives:[{name:"show",rawName:"v-show",value:i.footerVisible&&"date"===i.currentView,expression:"footerVisible && currentView === 'date'"}],staticClass:"el-picker-panel__footer"},[n("el-button",{directives:[{name:"show",rawName:"v-show",value:"dates"!==i.selectionMode,expression:"selectionMode !== 'dates'"}],staticClass:"el-picker-panel__link-btn",attrs:{size:"mini",type:"text"},on:{click:i.changeToNow}},[i._v("\n        "+i._s(i.t("el.datepicker.now"))+"\n      ")]),n("el-button",{staticClass:"el-picker-panel__link-btn",attrs:{plain:"",size:"mini"},on:{click:i.confirm}},[i._v("\n        "+i._s(i.t("el.datepicker.confirm"))+"\n      ")])],1)])])},wi=function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":function(e){t.$emit("dodestroy")}}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-time-panel el-popper",class:t.popperClass},[e("div",{staticClass:"el-time-panel__content",class:{"has-seconds":t.showSeconds}},[e("time-spinner",{ref:"spinner",attrs:{"arrow-control":t.useArrow,"show-seconds":t.showSeconds,"am-pm-mode":t.amPmMode,date:t.date},on:{change:t.handleChange,"select-range":t.setSelectionRange}})],1),e("div",{staticClass:"el-time-panel__footer"},[e("button",{staticClass:"el-time-panel__btn cancel",attrs:{type:"button"},on:{click:t.handleCancel}},[t._v(t._s(t.t("el.datepicker.cancel")))]),e("button",{staticClass:"el-time-panel__btn",class:{confirm:!t.disabled},attrs:{type:"button"},on:{click:function(e){t.handleConfirm()}}},[t._v(t._s(t.t("el.datepicker.confirm")))])])])])},Ci=function(){var n=this,e=n.$createElement,r=n._self._c||e;return r("div",{staticClass:"el-time-spinner",class:{"has-seconds":n.showSeconds}},[n.arrowControl?n._e():[r("el-scrollbar",{ref:"hours",staticClass:"el-time-spinner__wrapper",attrs:{"wrap-style":"max-height: inherit;","view-class":"el-time-spinner__list",noresize:"",tag:"ul"},nativeOn:{mouseenter:function(e){n.emitSelectRange("hours")},mousemove:function(e){n.adjustCurrentSpinner("hours")}}},n._l(n.hoursList,function(t,i){return r("li",{key:i,staticClass:"el-time-spinner__item",class:{active:i===n.hours,disabled:t},on:{click:function(e){n.handleClick("hours",{value:i,disabled:t})}}},[n._v(n._s(("0"+(n.amPmMode?i%12||12:i)).slice(-2))+n._s(n.amPm(i)))])}),0),r("el-scrollbar",{ref:"minutes",staticClass:"el-time-spinner__wrapper",attrs:{"wrap-style":"max-height: inherit;","view-class":"el-time-spinner__list",noresize:"",tag:"ul"},nativeOn:{mouseenter:function(e){n.emitSelectRange("minutes")},mousemove:function(e){n.adjustCurrentSpinner("minutes")}}},n._l(n.minutesList,function(e,t){return r("li",{key:t,staticClass:"el-time-spinner__item",class:{active:t===n.minutes,disabled:!e},on:{click:function(e){n.handleClick("minutes",{value:t,disabled:!1})}}},[n._v(n._s(("0"+t).slice(-2)))])}),0),r("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:n.showSeconds,expression:"showSeconds"}],ref:"seconds",staticClass:"el-time-spinner__wrapper",attrs:{"wrap-style":"max-height: inherit;","view-class":"el-time-spinner__list",noresize:"",tag:"ul"},nativeOn:{mouseenter:function(e){n.emitSelectRange("seconds")},mousemove:function(e){n.adjustCurrentSpinner("seconds")}}},n._l(60,function(e,t){return r("li",{key:t,staticClass:"el-time-spinner__item",class:{active:t===n.seconds},on:{click:function(e){n.handleClick("seconds",{value:t,disabled:!1})}}},[n._v(n._s(("0"+t).slice(-2)))])}),0)],n.arrowControl?[r("div",{staticClass:"el-time-spinner__wrapper is-arrow",on:{mouseenter:function(e){n.emitSelectRange("hours")}}},[r("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:n.decrease,expression:"decrease"}],staticClass:"el-time-spinner__arrow el-icon-arrow-up"}),r("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:n.increase,expression:"increase"}],staticClass:"el-time-spinner__arrow el-icon-arrow-down"}),r("ul",{ref:"hours",staticClass:"el-time-spinner__list"},n._l(n.arrowHourList,function(e,t){return r("li",{key:t,staticClass:"el-time-spinner__item",class:{active:e===n.hours,disabled:n.hoursList[e]}},[n._v(n._s(void 0===e?"":("0"+(n.amPmMode?e%12||12:e)).slice(-2)+n.amPm(e)))])}),0)]),r("div",{staticClass:"el-time-spinner__wrapper is-arrow",on:{mouseenter:function(e){n.emitSelectRange("minutes")}}},[r("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:n.decrease,expression:"decrease"}],staticClass:"el-time-spinner__arrow el-icon-arrow-up"}),r("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:n.increase,expression:"increase"}],staticClass:"el-time-spinner__arrow el-icon-arrow-down"}),r("ul",{ref:"minutes",staticClass:"el-time-spinner__list"},n._l(n.arrowMinuteList,function(e,t){return r("li",{key:t,staticClass:"el-time-spinner__item",class:{active:e===n.minutes}},[n._v("\n          "+n._s(void 0===e?"":("0"+e).slice(-2))+"\n        ")])}),0)]),n.showSeconds?r("div",{staticClass:"el-time-spinner__wrapper is-arrow",on:{mouseenter:function(e){n.emitSelectRange("seconds")}}},[r("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:n.decrease,expression:"decrease"}],staticClass:"el-time-spinner__arrow el-icon-arrow-up"}),r("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:n.increase,expression:"increase"}],staticClass:"el-time-spinner__arrow el-icon-arrow-down"}),r("ul",{ref:"seconds",staticClass:"el-time-spinner__list"},n._l(n.arrowSecondList,function(e,t){return r("li",{key:t,staticClass:"el-time-spinner__item",class:{active:e===n.seconds}},[n._v("\n          "+n._s(void 0===e?"":("0"+e).slice(-2))+"\n        ")])}),0)]):n._e()]:n._e()],2)};Ci._withStripped=wi._withStripped=vi._withStripped=!0;n=r({components:{ElScrollbar:Ue},directives:{repeatClick:di},props:{date:{},defaultValue:{},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:String,default:""}},computed:{hours:function(){return this.date.getHours()},minutes:function(){return this.date.getMinutes()},seconds:function(){return this.date.getSeconds()},hoursList:function(){return function(e){var t=[],i=[];if((e||[]).forEach(function(e){e=e.map(function(e){return e.getHours()});i=i.concat(function(e,t){for(var i=[],n=e;n<=t;n++)i.push(n);return i}(e[0],e[1]))}),i.length)for(var n=0;n<24;n++)t[n]=-1===i.indexOf(n);else for(var r=0;r<24;r++)t[r]=!1;return t}(this.selectableRange)},minutesList:function(){return e=this.selectableRange,r=this.hours,o=new Array(60),0<e.length?e.forEach(function(e){var t=e[0],i=e[1],n=t.getHours(),e=t.getMinutes(),t=i.getHours(),i=i.getMinutes();n===r&&t!==r?Sn(o,e,60,!0):n===r&&t===r?Sn(o,e,i+1,!0):n!==r&&t===r?Sn(o,0,i+1,!0):n<r&&r<t&&Sn(o,0,60,!0)}):Sn(o,0,60,!0),o;var e,r,o},arrowHourList:function(){var e=this.hours;return[0<e?e-1:void 0,e,e<23?e+1:void 0]},arrowMinuteList:function(){var e=this.minutes;return[0<e?e-1:void 0,e,e<59?e+1:void 0]},arrowSecondList:function(){var e=this.seconds;return[0<e?e-1:void 0,e,e<59?e+1:void 0]}},data:function(){return{selectableRange:[],currentScrollbar:null}},mounted:function(){var e=this;this.$nextTick(function(){e.arrowControl||e.bindScrollEvent()})},methods:{increase:function(){this.scrollDown(1)},decrease:function(){this.scrollDown(-1)},modifyDateField:function(e,t){switch(e){case"hours":this.$emit("change",Mn(this.date,t,this.minutes,this.seconds));break;case"minutes":this.$emit("change",Mn(this.date,this.hours,t,this.seconds));break;case"seconds":this.$emit("change",Mn(this.date,this.hours,this.minutes,t))}},handleClick:function(e,t){var i=t.value;t.disabled||(this.modifyDateField(e,i),this.emitSelectRange(e),this.adjustSpinner(e,i))},emitSelectRange:function(e){"hours"===e?this.$emit("select-range",0,2):"minutes"===e?this.$emit("select-range",3,5):"seconds"===e&&this.$emit("select-range",6,8),this.currentScrollbar=e},bindScrollEvent:function(){function e(t){i.$refs[t].wrap.onscroll=function(e){i.handleScroll(t,e)}}var i=this;e("hours"),e("minutes"),e("seconds")},handleScroll:function(e){var t=Math.min(Math.round((this.$refs[e].wrap.scrollTop-(.5*this.scrollBarHeight(e)-10)/this.typeItemHeight(e)+3)/this.typeItemHeight(e)),"hours"===e?23:59);this.modifyDateField(e,t)},adjustSpinners:function(){this.adjustSpinner("hours",this.hours),this.adjustSpinner("minutes",this.minutes),this.adjustSpinner("seconds",this.seconds)},adjustCurrentSpinner:function(e){this.adjustSpinner(e,this[e])},adjustSpinner:function(e,t){var i;this.arrowControl||(i=this.$refs[e].wrap)&&(i.scrollTop=Math.max(0,t*this.typeItemHeight(e)))},scrollDown:function(e){var t=this;this.currentScrollbar||this.emitSelectRange("hours");var i=this.currentScrollbar,n=this.hoursList,r=this[i];if("hours"===this.currentScrollbar){var o=Math.abs(e);e=0<e?1:-1;for(var s=n.length;s--&&o;)n[r=(r+e+n.length)%n.length]||o--;if(n[r])return}else r=(r+e+60)%60;this.modifyDateField(i,r),this.adjustSpinner(i,r),this.$nextTick(function(){return t.emitSelectRange(t.currentScrollbar)})},amPm:function(e){if("a"!==this.amPmMode.toLowerCase())return"";e=e<12?" am":" pm";return"A"===this.amPmMode&&(e=e.toUpperCase()),e},typeItemHeight:function(e){return this.$refs[e].$el.querySelector("li").offsetHeight},scrollBarHeight:function(e){return this.$refs[e].$el.offsetHeight}}},Ci,[],!1,null,null,null);n.options.__file="packages/date-picker/src/basic/time-spinner.vue";o=n.exports,d=r({mixins:[H],components:{TimeSpinner:o},props:{visible:Boolean,timeArrowControl:Boolean},watch:{visible:function(e){var t=this;e?(this.oldValue=this.value,this.$nextTick(function(){return t.$refs.spinner.emitSelectRange("hours")})):this.needInitAdjust=!0},value:function(e){var t=this,i=void 0;e instanceof Date?i=$n(e,this.selectableRange,this.format):e||(i=this.defaultValue?new Date(this.defaultValue):new Date),this.date=i,this.visible&&this.needInitAdjust&&(this.$nextTick(function(e){return t.adjustSpinners()}),this.needInitAdjust=!1)},selectableRange:function(e){this.$refs.spinner.selectableRange=e},defaultValue:function(e){un(this.value)||(this.date=e?new Date(e):new Date)}},data:function(){return{popperClass:"",format:"HH:mm:ss",value:"",defaultValue:null,date:new Date,oldValue:new Date,selectableRange:[],selectionRange:[0,2],disabled:!1,arrowControl:!1,needInitAdjust:!0}},computed:{showSeconds:function(){return-1!==(this.format||"").indexOf("ss")},useArrow:function(){return this.arrowControl||this.timeArrowControl||!1},amPmMode:function(){return-1!==(this.format||"").indexOf("A")?"A":-1!==(this.format||"").indexOf("a")?"a":""}},methods:{handleCancel:function(){this.$emit("pick",this.oldValue,!1)},handleChange:function(e){this.visible&&(this.date=An(e),this.isValidValue(this.date)&&this.$emit("pick",this.date,!0))},setSelectionRange:function(e,t){this.$emit("select-range",e,t),this.selectionRange=[e,t]},handleConfirm:function(){var e,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],i=arguments[1];i||(e=An($n(this.date,this.selectableRange,this.format)),this.$emit("pick",e,t,i))},handleKeydown:function(e){var t=e.keyCode,i={38:-1,40:1,37:-1,39:1};if(37===t||39===t){var n=i[t];return this.changeSelectionRange(n),void e.preventDefault()}if(38===t||40===t){t=i[t];return this.$refs.spinner.scrollDown(t),void e.preventDefault()}},isValidValue:function(e){return En(e,this.selectableRange,this.format)},adjustSpinners:function(){return this.$refs.spinner.adjustSpinners()},changeSelectionRange:function(e){var t=[0,3].concat(this.showSeconds?[6]:[]),i=["hours","minutes"].concat(this.showSeconds?["seconds"]:[]),t=(t.indexOf(this.selectionRange[0])+e+t.length)%t.length;this.$refs.spinner.emitSelectRange(i[t])}},mounted:function(){var e=this;this.$nextTick(function(){return e.handleConfirm(!0,!0)}),this.$emit("mounted")}},wi,[],!1,null,null,null);d.options.__file="packages/date-picker/src/panel/time.vue";var Qn=d.exports,K=function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("table",{staticClass:"el-year-table",on:{click:e.handleYearTableClick}},[t("tbody",[t("tr",[t("td",{staticClass:"available",class:e.getCellStyle(e.startYear+0)},[t("a",{staticClass:"cell"},[e._v(e._s(e.startYear))])]),t("td",{staticClass:"available",class:e.getCellStyle(e.startYear+1)},[t("a",{staticClass:"cell"},[e._v(e._s(e.startYear+1))])]),t("td",{staticClass:"available",class:e.getCellStyle(e.startYear+2)},[t("a",{staticClass:"cell"},[e._v(e._s(e.startYear+2))])]),t("td",{staticClass:"available",class:e.getCellStyle(e.startYear+3)},[t("a",{staticClass:"cell"},[e._v(e._s(e.startYear+3))])])]),t("tr",[t("td",{staticClass:"available",class:e.getCellStyle(e.startYear+4)},[t("a",{staticClass:"cell"},[e._v(e._s(e.startYear+4))])]),t("td",{staticClass:"available",class:e.getCellStyle(e.startYear+5)},[t("a",{staticClass:"cell"},[e._v(e._s(e.startYear+5))])]),t("td",{staticClass:"available",class:e.getCellStyle(e.startYear+6)},[t("a",{staticClass:"cell"},[e._v(e._s(e.startYear+6))])]),t("td",{staticClass:"available",class:e.getCellStyle(e.startYear+7)},[t("a",{staticClass:"cell"},[e._v(e._s(e.startYear+7))])])]),t("tr",[t("td",{staticClass:"available",class:e.getCellStyle(e.startYear+8)},[t("a",{staticClass:"cell"},[e._v(e._s(e.startYear+8))])]),t("td",{staticClass:"available",class:e.getCellStyle(e.startYear+9)},[t("a",{staticClass:"cell"},[e._v(e._s(e.startYear+9))])]),t("td"),t("td")])])])};K._withStripped=!0;se=r({props:{disabledDate:{},value:{},defaultValue:{validator:function(e){return null===e||e instanceof Date&&un(e)}},date:{}},computed:{startYear:function(){return 10*Math.floor(this.date.getFullYear()/10)}},methods:{getCellStyle:function(t){var e,i,n,r={},o=new Date;return r.disabled="function"==typeof this.disabledDate&&(i=(e=t)%400==0||e%100!=0&&e%4==0?366:365,n=new Date(e,0,1),_n(i).map(function(e){return yn(n,e)}).every(this.disabledDate)),r.current=0<=T(A(this.value),function(e){return e.getFullYear()===t}),r.today=o.getFullYear()===t,r.default=this.defaultValue&&this.defaultValue.getFullYear()===t,r},handleYearTableClick:function(e){e=e.target;"A"===e.tagName&&(ce(e.parentNode,"disabled")||(e=e.textContent||e.innerText,this.$emit("pick",Number(e))))}}},K,[],!1,null,null,null);se.options.__file="packages/date-picker/src/basic/year-table.vue";te=se.exports,Ee=function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("table",{staticClass:"el-month-table",on:{click:i.handleMonthTableClick,mousemove:i.handleMouseMove}},[n("tbody",i._l(i.rows,function(e,t){return n("tr",{key:t},i._l(e,function(e,t){return n("td",{key:t,class:i.getCellStyle(e)},[n("div",[n("a",{staticClass:"cell"},[i._v(i._s(i.t("el.datepicker.months."+i.months[e.text])))])])])}),0)}),0)])};Ee._withStripped=!0;function Xn(e){return new Date(e.getFullYear(),e.getMonth())}function Zn(e){return"number"==typeof e||"string"==typeof e?Xn(new Date(e)).getTime():e instanceof Date?Xn(e).getTime():NaN}Ie=r({props:{disabledDate:{},value:{},selectionMode:{default:"month"},minDate:{},maxDate:{},defaultValue:{validator:function(e){return null===e||un(e)||Array.isArray(e)&&e.every(un)}},date:{},rangeState:{default:function(){return{endDate:null,selecting:!1}}}},mixins:[H],watch:{"rangeState.endDate":function(e){this.markRange(this.minDate,e)},minDate:function(e,t){Zn(e)!==Zn(t)&&this.markRange(this.minDate,this.maxDate)},maxDate:function(e,t){Zn(e)!==Zn(t)&&this.markRange(this.minDate,this.maxDate)}},data:function(){return{months:["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],tableRows:[[],[],[]],lastRow:null,lastColumn:null}},methods:{cellMatchesDate:function(e,t){t=new Date(t);return this.date.getFullYear()===t.getFullYear()&&Number(e.text)===t.getMonth()},getCellStyle:function(t){var e,i,n=this,r={},o=this.date.getFullYear(),s=new Date,a=t.text,l=this.defaultValue?Array.isArray(this.defaultValue)?this.defaultValue:[this.defaultValue]:[];return r.disabled="function"==typeof this.disabledDate&&(e=gn(o,a),i=new Date(o,a,1),_n(e).map(function(e){return yn(i,e)}).every(this.disabledDate)),r.current=0<=T(A(this.value),function(e){return e.getFullYear()===o&&e.getMonth()===a}),r.today=s.getFullYear()===o&&s.getMonth()===a,r.default=l.some(function(e){return n.cellMatchesDate(t,e)}),t.inRange&&(r["in-range"]=!0,t.start&&(r["start-date"]=!0),t.end&&(r["end-date"]=!0)),r},getMonthOfCell:function(e){var t=this.date.getFullYear();return new Date(t,e,1)},markRange:function(e,t){e=Zn(e),t=Zn(t)||e;var i=[Math.min(e,t),Math.max(e,t)];e=i[0],t=i[1];for(var n=this.rows,r=0,o=n.length;r<o;r++)for(var s=n[r],a=0,l=s.length;a<l;a++){var c=s[a],h=4*r+a,h=new Date(this.date.getFullYear(),h).getTime();c.inRange=e&&e<=h&&h<=t,c.start=e&&h===e,c.end=t&&h===t}},handleMouseMove:function(e){var t;this.rangeState.selecting&&("A"===(t=e.target).tagName&&(t=t.parentNode.parentNode),"DIV"===t.tagName&&(t=t.parentNode),"TD"===t.tagName&&(e=t.parentNode.rowIndex,t=t.cellIndex,this.rows[e][t].disabled||e===this.lastRow&&t===this.lastColumn||(this.lastRow=e,this.lastColumn=t,this.$emit("changerange",{minDate:this.minDate,maxDate:this.maxDate,rangeState:{selecting:!0,endDate:this.getMonthOfCell(4*e+t)}}))))},handleMonthTableClick:function(e){var t=e.target;"A"===t.tagName&&(t=t.parentNode.parentNode),"DIV"===t.tagName&&(t=t.parentNode),"TD"!==t.tagName||ce(t,"disabled")||(e=t.cellIndex,t=4*t.parentNode.rowIndex+e,e=this.getMonthOfCell(t),"range"===this.selectionMode?this.rangeState.selecting?(e>=this.minDate?this.$emit("pick",{minDate:this.minDate,maxDate:e}):this.$emit("pick",{minDate:e,maxDate:this.minDate}),this.rangeState.selecting=!1):(this.$emit("pick",{minDate:e,maxDate:null}),this.rangeState.selecting=!0):this.$emit("pick",t))}},computed:{rows:function(){for(var o=this,e=this.tableRows,s=this.disabledDate,a=[],l=Zn(new Date),c=0;c<3;c++)for(var h=e[c],t=0;t<4;t++)!function(e){var t=h[e];(t=t||{row:c,column:e,type:"normal",inRange:!1,start:!1,end:!1}).type="normal";var i=4*c+e,n=new Date(o.date.getFullYear(),i).getTime();t.inRange=n>=Zn(o.minDate)&&n<=Zn(o.maxDate),t.start=o.minDate&&n===Zn(o.minDate),t.end=o.maxDate&&n===Zn(o.maxDate),n===l&&(t.type="today"),t.text=i;var r=new Date(n);t.disabled="function"==typeof s&&s(r),t.selected=D(a,function(e){return e.getTime()===r.getTime()}),o.$set(h,e,t)}(t);return e}}},Ee,[],!1,null,null,null);Ie.options.__file="packages/date-picker/src/basic/month-table.vue";c=Ie.exports,Ge=function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("table",{staticClass:"el-date-table",class:{"is-week-mode":"week"===i.selectionMode},attrs:{cellspacing:"0",cellpadding:"0"},on:{click:i.handleClick,mousemove:i.handleMouseMove}},[n("tbody",[n("tr",[i.showWeekNumber?n("th",[i._v(i._s(i.t("el.datepicker.week")))]):i._e(),i._l(i.WEEKS,function(e,t){return n("th",{key:t},[i._v(i._s(i.t("el.datepicker.weeks."+e)))])})],2),i._l(i.rows,function(e,t){return n("tr",{key:t,staticClass:"el-date-table__row",class:{current:i.isWeekActive(e[1])}},i._l(e,function(e,t){return n("td",{key:t,class:i.getCellClasses(e)},[n("div",[n("span",[i._v("\n          "+i._s(e.text)+"\n        ")])])])}),0)})],2)])};Ge._withStripped=!0;function Jn(e){return"number"==typeof e||"string"==typeof e?Dn(new Date(e)).getTime():e instanceof Date?Dn(e).getTime():NaN}var er=["sun","mon","tue","wed","thu","fri","sat"],$e=r({mixins:[H],props:{firstDayOfWeek:{default:7,type:Number,validator:function(e){return 1<=e&&e<=7}},value:{},defaultValue:{validator:function(e){return null===e||un(e)||Array.isArray(e)&&e.every(un)}},date:{},selectionMode:{default:"day"},showWeekNumber:{type:Boolean,default:!1},disabledDate:{},cellClassName:{},minDate:{},maxDate:{},rangeState:{default:function(){return{endDate:null,selecting:!1}}}},computed:{offsetDay:function(){var e=this.firstDayOfWeek;return 3<e?7-e:-e},WEEKS:function(){var e=this.firstDayOfWeek;return er.concat(er).slice(e,e+7)},year:function(){return this.date.getFullYear()},month:function(){return this.date.getMonth()},startDate:function(){return e=this.year,t=this.month,t=(e=new Date(e,t,1)).getDay(),vn(e,0===t?7:t);var e,t},rows:function(){for(var o=this,e=new Date(this.year,this.month,1),s=mn(e),a=gn(e.getFullYear(),e.getMonth()),l=gn(e.getFullYear(),0===e.getMonth()?11:e.getMonth()-1),s=0===s?7:s,c=this.offsetDay,t=this.tableRows,h=1,u=this.startDate,d=this.disabledDate,f=this.cellClassName,p="dates"===this.selectionMode?A(this.value):[],g=Jn(new Date),m=0;m<6;m++){var v=t[m];this.showWeekNumber&&(v[0]||(v[0]={type:"week",text:bn(yn(u,7*m+1))}));for(var i,n,r,y=0;y<7;y++)!function(e){var t=v[o.showWeekNumber?e+1:e];(t=t||{row:m,column:e,type:"normal",inRange:!1,start:!1,end:!1}).type="normal";var i,n=yn(u,7*m+e-c).getTime();t.inRange=n>=Jn(o.minDate)&&n<=Jn(o.maxDate),t.start=o.minDate&&n===Jn(o.minDate),t.end=o.maxDate&&n===Jn(o.maxDate),n===g&&(t.type="today"),0<=m&&m<=1?(i=s+c<0?7+s+c:s+c)<=e+7*m?t.text=h++:(t.text=l-(i-e%7)+1+7*m,t.type="prev-month"):h<=a?t.text=h++:(t.text=h++-a,t.type="next-month");var r=new Date(n);t.disabled="function"==typeof d&&d(r),t.selected=D(p,function(e){return e.getTime()===r.getTime()}),t.customClass="function"==typeof f&&f(r),o.$set(v,o.showWeekNumber?e+1:e,t)}(y);"week"===this.selectionMode&&(i=this.showWeekNumber?1:0,n=this.showWeekNumber?7:6,r=this.isWeekActive(v[1+i]),v[i].inRange=r,v[i].start=r,v[n].inRange=r,v[n].end=r)}return t}},watch:{"rangeState.endDate":function(e){this.markRange(this.minDate,e)},minDate:function(e,t){Jn(e)!==Jn(t)&&this.markRange(this.minDate,this.maxDate)},maxDate:function(e,t){Jn(e)!==Jn(t)&&this.markRange(this.minDate,this.maxDate)}},data:function(){return{tableRows:[[],[],[],[],[],[]],lastRow:null,lastColumn:null}},methods:{cellMatchesDate:function(e,t){t=new Date(t);return this.year===t.getFullYear()&&this.month===t.getMonth()&&Number(e.text)===t.getDate()},getCellClasses:function(t){var i=this,e=this.selectionMode,n=this.defaultValue?Array.isArray(this.defaultValue)?this.defaultValue:[this.defaultValue]:[],r=[];return"normal"!==t.type&&"today"!==t.type||t.disabled?r.push(t.type):(r.push("available"),"today"===t.type&&r.push("today")),"normal"===t.type&&n.some(function(e){return i.cellMatchesDate(t,e)})&&r.push("default"),"day"!==e||"normal"!==t.type&&"today"!==t.type||!this.cellMatchesDate(t,this.value)||r.push("current"),!t.inRange||"normal"!==t.type&&"today"!==t.type&&"week"!==this.selectionMode||(r.push("in-range"),t.start&&r.push("start-date"),t.end&&r.push("end-date")),t.disabled&&r.push("disabled"),t.selected&&r.push("selected"),t.customClass&&r.push(t.customClass),r.join(" ")},getDateOfCell:function(e,t){t=7*e+(t-(this.showWeekNumber?1:0))-this.offsetDay;return yn(this.startDate,t)},isWeekActive:function(e){if("week"!==this.selectionMode)return!1;var t=new Date(this.year,this.month,1),i=t.getFullYear(),n=t.getMonth();if("prev-month"===e.type&&(t.setMonth(0===n?11:n-1),t.setFullYear(0===n?i-1:i)),"next-month"===e.type&&(t.setMonth(11===n?0:n+1),t.setFullYear(11===n?i+1:i)),t.setDate(parseInt(e.text,10)),un(this.value)){e=(this.value.getDay()-this.firstDayOfWeek+7)%7-1;return vn(this.value,e).getTime()===t.getTime()}return!1},markRange:function(e,t){e=Jn(e),t=Jn(t)||e;var i=[Math.min(e,t),Math.max(e,t)];e=i[0],t=i[1];for(var n,r,o=this.startDate,s=this.rows,a=0,l=s.length;a<l;a++)for(var c=s[a],h=0,u=c.length;h<u;h++){this.showWeekNumber&&0===h||(n=c[h],r=7*a+h+(this.showWeekNumber?-1:0),r=yn(o,r-this.offsetDay).getTime(),n.inRange=e&&e<=r&&r<=t,n.start=e&&r===e,n.end=t&&r===t)}},handleMouseMove:function(e){var t;this.rangeState.selecting&&("SPAN"===(t=e.target).tagName&&(t=t.parentNode.parentNode),"DIV"===t.tagName&&(t=t.parentNode),"TD"===t.tagName&&(e=t.parentNode.rowIndex-1,t=t.cellIndex,this.rows[e][t].disabled||e===this.lastRow&&t===this.lastColumn||(this.lastRow=e,this.lastColumn=t,this.$emit("changerange",{minDate:this.minDate,maxDate:this.maxDate,rangeState:{selecting:!0,endDate:this.getDateOfCell(e,t)}}))))},handleClick:function(e){var t,i,n,r,o=e.target;"SPAN"===o.tagName&&(o=o.parentNode.parentNode),"DIV"===o.tagName&&(o=o.parentNode),"TD"===o.tagName&&(t=o.parentNode.rowIndex-1,e="week"===this.selectionMode?1:o.cellIndex,(o=this.rows[t][e]).disabled||"week"===o.type||(i=this.getDateOfCell(t,e),"range"===this.selectionMode?this.rangeState.selecting?(i>=this.minDate?this.$emit("pick",{minDate:this.minDate,maxDate:i}):this.$emit("pick",{minDate:i,maxDate:this.minDate}),this.rangeState.selecting=!1):(this.$emit("pick",{minDate:i,maxDate:null}),this.rangeState.selecting=!0):"day"===this.selectionMode?this.$emit("pick",i):"week"===this.selectionMode?(r=bn(i),n=i.getFullYear()+"w"+r,this.$emit("pick",{year:i.getFullYear(),week:r,value:n,date:i})):"dates"===this.selectionMode&&(r=this.value||[],r=o.selected?(n=r,0<=(o="function"==typeof(o=function(e){return e.getTime()===i.getTime()})?T(n,o):n.indexOf(o))?[].concat(n.slice(0,o),n.slice(o+1)):n):[].concat(r,[i]),this.$emit("pick",r))))}}},Ge,[],!1,null,null,null);$e.options.__file="packages/date-picker/src/basic/date-table.vue";it=$e.exports,s=r({mixins:[H],directives:{Clickoutside:et},watch:{showTime:function(e){var i=this;e&&this.$nextTick(function(e){var t=i.$refs.input.$el;t&&(i.pickerWidth=t.getBoundingClientRect().width+10)})},value:function(e){"dates"===this.selectionMode&&this.value||(un(e)?this.date=new Date(e):this.date=this.getDefaultValue())},defaultValue:function(e){un(this.value)||(this.date=e?new Date(e):new Date)},timePickerVisible:function(e){var t=this;e&&this.$nextTick(function(){return t.$refs.timepicker.adjustSpinners()})},selectionMode:function(e){"month"===e?"year"===this.currentView&&"month"===this.currentView||(this.currentView="month"):"dates"===e&&(this.currentView="date")}},methods:{proxyTimePickerDataProperties:function(){function e(e){r.$refs.timepicker.value=e}function t(e){r.$refs.timepicker.date=e}function i(e){r.$refs.timepicker.selectableRange=e}var n,r=this;this.$watch("value",e),this.$watch("date",t),this.$watch("selectableRange",i),n=this.timeFormat,r.$refs.timepicker.format=n,e(this.value),t(this.date),i(this.selectableRange)},handleClear:function(){this.date=this.getDefaultValue(),this.$emit("pick",null)},emit:function(e){for(var t,i=this,n=arguments.length,r=Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e?Array.isArray(e)?(t=e.map(function(e){return(i.showTime?An:Dn)(e)}),this.$emit.apply(this,["pick",t].concat(r))):this.$emit.apply(this,["pick",(this.showTime?An:Dn)(e)].concat(r)):this.$emit.apply(this,["pick",e].concat(r)),this.userInputDate=null,this.userInputTime=null},showMonthPicker:function(){this.currentView="month"},showYearPicker:function(){this.currentView="year"},prevMonth:function(){this.date=In(this.date)},nextMonth:function(){this.date=Nn(this.date)},prevYear:function(){"year"===this.currentView?this.date=On(this.date,10):this.date=On(this.date)},nextYear:function(){"year"===this.currentView?this.date=Rn(this.date,10):this.date=Rn(this.date)},handleShortcutClick:function(e){e.onClick&&e.onClick(this)},handleTimePick:function(e,t,i){var n;un(e)?(n=this.value?Mn(this.value,e.getHours(),e.getMinutes(),e.getSeconds()):Tn(this.getDefaultValue(),this.defaultTime),this.date=n,this.emit(this.date,!0)):this.emit(e,!0),i||(this.timePickerVisible=t)},handleTimePickClose:function(){this.timePickerVisible=!1},handleMonthPick:function(e){"month"===this.selectionMode?(this.date=kn(this.date,this.year,e,1),this.emit(this.date)):(this.date=Ln(this.date,this.year,e),this.currentView="date")},handleDatePick:function(e){var t;"day"===this.selectionMode?(t=this.value?kn(this.value,e.getFullYear(),e.getMonth(),e.getDate()):Tn(e,this.defaultTime),this.checkDateWithinRange(t)||(t=kn(this.selectableRange[0][0],e.getFullYear(),e.getMonth(),e.getDate())),this.date=t,this.emit(this.date,this.showTime)):"week"===this.selectionMode?this.emit(e.date):"dates"===this.selectionMode&&this.emit(e,!0)},handleYearPick:function(e){"year"===this.selectionMode?(this.date=kn(this.date,e,0,1),this.emit(this.date)):(this.date=Ln(this.date,e,this.month),this.currentView="month")},changeToNow:function(){this.disabledDate&&this.disabledDate(new Date)||!this.checkDateWithinRange(new Date)||(this.date=new Date,this.emit(this.date))},confirm:function(){var e;"dates"===this.selectionMode?this.emit(this.value):(e=this.value?this.value:Tn(this.getDefaultValue(),this.defaultTime),this.date=new Date(e),this.emit(e))},resetView:function(){"month"===this.selectionMode?this.currentView="month":"year"===this.selectionMode?this.currentView="year":this.currentView="date"},handleEnter:function(){document.body.addEventListener("keydown",this.handleKeydown)},handleLeave:function(){this.$emit("dodestroy"),document.body.removeEventListener("keydown",this.handleKeydown)},handleKeydown:function(e){var t=e.keyCode;this.visible&&!this.timePickerVisible&&(-1!==[38,40,37,39].indexOf(t)&&(this.handleKeyControl(t),e.stopPropagation(),e.preventDefault()),13===t&&null===this.userInputDate&&null===this.userInputTime&&this.emit(this.date,!1))},handleKeyControl:function(e){for(var t={year:{38:-4,40:4,37:-1,39:1,offset:function(e,t){return e.setFullYear(e.getFullYear()+t)}},month:{38:-4,40:4,37:-1,39:1,offset:function(e,t){return e.setMonth(e.getMonth()+t)}},week:{38:-1,40:1,37:-1,39:1,offset:function(e,t){return e.setDate(e.getDate()+7*t)}},day:{38:-7,40:7,37:-1,39:1,offset:function(e,t){return e.setDate(e.getDate()+t)}}},i=this.selectionMode,n=this.date.getTime(),r=new Date(this.date.getTime());Math.abs(n-r.getTime())<=31536e6;){var o=t[i];if(o.offset(r,o[e]),"function"!=typeof this.disabledDate||!this.disabledDate(r)){this.date=r,this.$emit("pick",r,!0);break}}},handleVisibleTimeChange:function(e){e=pn(e,this.timeFormat);e&&this.checkDateWithinRange(e)&&(this.date=kn(e,this.year,this.month,this.monthDate),this.userInputTime=null,this.$refs.timepicker.value=this.date,this.timePickerVisible=!1,this.emit(this.date,!0))},handleVisibleDateChange:function(e){e=pn(e,this.dateFormat);e&&("function"==typeof this.disabledDate&&this.disabledDate(e)||(this.date=Mn(e,this.date.getHours(),this.date.getMinutes(),this.date.getSeconds()),this.userInputDate=null,this.resetView(),this.emit(this.date,!0)))},isValidValue:function(e){return e&&!isNaN(e)&&("function"!=typeof this.disabledDate||!this.disabledDate(e))&&this.checkDateWithinRange(e)},getDefaultValue:function(){return this.defaultValue?new Date(this.defaultValue):new Date},checkDateWithinRange:function(e){return!(0<this.selectableRange.length)||En(e,this.selectableRange,this.format||"HH:mm:ss")}},components:{TimePicker:Qn,YearTable:te,MonthTable:c,DateTable:it,ElInput:ee,ElButton:xt},data:function(){return{popperClass:"",date:new Date,value:"",defaultValue:null,defaultTime:null,showTime:!1,selectionMode:"day",shortcuts:"",visible:!1,currentView:"date",disabledDate:"",cellClassName:"",selectableRange:[],firstDayOfWeek:7,showWeekNumber:!1,timePickerVisible:!1,format:"",arrowControl:!1,userInputDate:null,userInputTime:null}},computed:{year:function(){return this.date.getFullYear()},month:function(){return this.date.getMonth()},week:function(){return bn(this.date)},monthDate:function(){return this.date.getDate()},footerVisible:function(){return this.showTime||"dates"===this.selectionMode},visibleTime:function(){return null!==this.userInputTime?this.userInputTime:fn(this.value||this.defaultValue,this.timeFormat)},visibleDate:function(){return null!==this.userInputDate?this.userInputDate:fn(this.value||this.defaultValue,this.dateFormat)},yearLabel:function(){var e=this.t("el.datepicker.year");if("year"!==this.currentView)return this.year+" "+e;var t=10*Math.floor(this.year/10);return e?t+" "+e+" - "+(9+t)+" "+e:t+" - "+(9+t)},timeFormat:function(){return this.format?Fn(this.format):"HH:mm:ss"},dateFormat:function(){return this.format?Pn(this.format):"yyyy-MM-dd"}}},vi,[],!1,null,null,null);s.options.__file="packages/date-picker/src/panel/date.vue";var tr=s.exports,ft=function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":function(e){i.$emit("dodestroy")}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:i.visible,expression:"visible"}],staticClass:"el-picker-panel el-date-range-picker el-popper",class:[{"has-sidebar":i.$slots.sidebar||i.shortcuts,"has-time":i.showTime},i.popperClass]},[n("div",{staticClass:"el-picker-panel__body-wrapper"},[i._t("sidebar"),i.shortcuts?n("div",{staticClass:"el-picker-panel__sidebar"},i._l(i.shortcuts,function(t,e){return n("button",{key:e,staticClass:"el-picker-panel__shortcut",attrs:{type:"button"},on:{click:function(e){i.handleShortcutClick(t)}}},[i._v(i._s(t.text))])}),0):i._e(),n("div",{staticClass:"el-picker-panel__body"},[i.showTime?n("div",{staticClass:"el-date-range-picker__time-header"},[n("span",{staticClass:"el-date-range-picker__editors-wrap"},[n("span",{staticClass:"el-date-range-picker__time-picker-wrap"},[n("el-input",{ref:"minInput",staticClass:"el-date-range-picker__editor",attrs:{size:"small",disabled:i.rangeState.selecting,placeholder:i.t("el.datepicker.startDate"),value:i.minVisibleDate},on:{input:function(e){return i.handleDateInput(e,"min")},change:function(e){return i.handleDateChange(e,"min")}}})],1),n("span",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:i.handleMinTimeClose,expression:"handleMinTimeClose"}],staticClass:"el-date-range-picker__time-picker-wrap"},[n("el-input",{staticClass:"el-date-range-picker__editor",attrs:{size:"small",disabled:i.rangeState.selecting,placeholder:i.t("el.datepicker.startTime"),value:i.minVisibleTime},on:{focus:function(e){i.minTimePickerVisible=!0},input:function(e){return i.handleTimeInput(e,"min")},change:function(e){return i.handleTimeChange(e,"min")}}}),n("time-picker",{ref:"minTimePicker",attrs:{"time-arrow-control":i.arrowControl,visible:i.minTimePickerVisible},on:{pick:i.handleMinTimePick,mounted:function(e){i.$refs.minTimePicker.format=i.timeFormat}}})],1)]),n("span",{staticClass:"el-icon-arrow-right"}),n("span",{staticClass:"el-date-range-picker__editors-wrap is-right"},[n("span",{staticClass:"el-date-range-picker__time-picker-wrap"},[n("el-input",{staticClass:"el-date-range-picker__editor",attrs:{size:"small",disabled:i.rangeState.selecting,placeholder:i.t("el.datepicker.endDate"),value:i.maxVisibleDate,readonly:!i.minDate},on:{input:function(e){return i.handleDateInput(e,"max")},change:function(e){return i.handleDateChange(e,"max")}}})],1),n("span",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:i.handleMaxTimeClose,expression:"handleMaxTimeClose"}],staticClass:"el-date-range-picker__time-picker-wrap"},[n("el-input",{staticClass:"el-date-range-picker__editor",attrs:{size:"small",disabled:i.rangeState.selecting,placeholder:i.t("el.datepicker.endTime"),value:i.maxVisibleTime,readonly:!i.minDate},on:{focus:function(e){i.minDate&&(i.maxTimePickerVisible=!0)},input:function(e){return i.handleTimeInput(e,"max")},change:function(e){return i.handleTimeChange(e,"max")}}}),n("time-picker",{ref:"maxTimePicker",attrs:{"time-arrow-control":i.arrowControl,visible:i.maxTimePickerVisible},on:{pick:i.handleMaxTimePick,mounted:function(e){i.$refs.maxTimePicker.format=i.timeFormat}}})],1)])]):i._e(),n("div",{staticClass:"el-picker-panel__content el-date-range-picker__content is-left"},[n("div",{staticClass:"el-date-range-picker__header"},[n("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-left",attrs:{type:"button"},on:{click:i.leftPrevYear}}),n("button",{staticClass:"el-picker-panel__icon-btn el-icon-arrow-left",attrs:{type:"button"},on:{click:i.leftPrevMonth}}),i.unlinkPanels?n("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-right",class:{"is-disabled":!i.enableYearArrow},attrs:{type:"button",disabled:!i.enableYearArrow},on:{click:i.leftNextYear}}):i._e(),i.unlinkPanels?n("button",{staticClass:"el-picker-panel__icon-btn el-icon-arrow-right",class:{"is-disabled":!i.enableMonthArrow},attrs:{type:"button",disabled:!i.enableMonthArrow},on:{click:i.leftNextMonth}}):i._e(),n("div",[i._v(i._s(i.leftLabel))])]),n("date-table",{attrs:{"selection-mode":"range",date:i.leftDate,"default-value":i.defaultValue,"min-date":i.minDate,"max-date":i.maxDate,"range-state":i.rangeState,"disabled-date":i.disabledDate,"cell-class-name":i.cellClassName,"first-day-of-week":i.firstDayOfWeek},on:{changerange:i.handleChangeRange,pick:i.handleRangePick}})],1),n("div",{staticClass:"el-picker-panel__content el-date-range-picker__content is-right"},[n("div",{staticClass:"el-date-range-picker__header"},[i.unlinkPanels?n("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-left",class:{"is-disabled":!i.enableYearArrow},attrs:{type:"button",disabled:!i.enableYearArrow},on:{click:i.rightPrevYear}}):i._e(),i.unlinkPanels?n("button",{staticClass:"el-picker-panel__icon-btn el-icon-arrow-left",class:{"is-disabled":!i.enableMonthArrow},attrs:{type:"button",disabled:!i.enableMonthArrow},on:{click:i.rightPrevMonth}}):i._e(),n("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-right",attrs:{type:"button"},on:{click:i.rightNextYear}}),n("button",{staticClass:"el-picker-panel__icon-btn el-icon-arrow-right",attrs:{type:"button"},on:{click:i.rightNextMonth}}),n("div",[i._v(i._s(i.rightLabel))])]),n("date-table",{attrs:{"selection-mode":"range",date:i.rightDate,"default-value":i.defaultValue,"min-date":i.minDate,"max-date":i.maxDate,"range-state":i.rangeState,"disabled-date":i.disabledDate,"cell-class-name":i.cellClassName,"first-day-of-week":i.firstDayOfWeek},on:{changerange:i.handleChangeRange,pick:i.handleRangePick}})],1)])],2),i.showTime?n("div",{staticClass:"el-picker-panel__footer"},[n("el-button",{staticClass:"el-picker-panel__link-btn",attrs:{size:"mini",type:"text"},on:{click:i.handleClear}},[i._v("\n        "+i._s(i.t("el.datepicker.clear"))+"\n      ")]),n("el-button",{staticClass:"el-picker-panel__link-btn",attrs:{plain:"",size:"mini",disabled:i.btnDisabled},on:{click:function(e){i.handleConfirm(!1)}}},[i._v("\n        "+i._s(i.t("el.datepicker.confirm"))+"\n      ")])],1):i._e()])])};ft._withStripped=!0;function ir(e){return Array.isArray(e)?[new Date(e[0]),new Date(e[1])]:e?[new Date(e),yn(new Date(e),1)]:[new Date,yn(new Date,1)]}dt=r({mixins:[H],directives:{Clickoutside:et},computed:{btnDisabled:function(){return!(this.minDate&&this.maxDate&&!this.selecting&&this.isValidValue([this.minDate,this.maxDate]))},leftLabel:function(){return this.leftDate.getFullYear()+" "+this.t("el.datepicker.year")+" "+this.t("el.datepicker.month"+(this.leftDate.getMonth()+1))},rightLabel:function(){return this.rightDate.getFullYear()+" "+this.t("el.datepicker.year")+" "+this.t("el.datepicker.month"+(this.rightDate.getMonth()+1))},leftYear:function(){return this.leftDate.getFullYear()},leftMonth:function(){return this.leftDate.getMonth()},leftMonthDate:function(){return this.leftDate.getDate()},rightYear:function(){return this.rightDate.getFullYear()},rightMonth:function(){return this.rightDate.getMonth()},rightMonthDate:function(){return this.rightDate.getDate()},minVisibleDate:function(){return null!==this.dateUserInput.min?this.dateUserInput.min:this.minDate?fn(this.minDate,this.dateFormat):""},maxVisibleDate:function(){return null!==this.dateUserInput.max?this.dateUserInput.max:this.maxDate||this.minDate?fn(this.maxDate||this.minDate,this.dateFormat):""},minVisibleTime:function(){return null!==this.timeUserInput.min?this.timeUserInput.min:this.minDate?fn(this.minDate,this.timeFormat):""},maxVisibleTime:function(){return null!==this.timeUserInput.max?this.timeUserInput.max:this.maxDate||this.minDate?fn(this.maxDate||this.minDate,this.timeFormat):""},timeFormat:function(){return this.format?Fn(this.format):"HH:mm:ss"},dateFormat:function(){return this.format?Pn(this.format):"yyyy-MM-dd"},enableMonthArrow:function(){var e=(this.leftMonth+1)%12,t=12<=this.leftMonth+1?1:0;return this.unlinkPanels&&new Date(this.leftYear+t,e)<new Date(this.rightYear,this.rightMonth)},enableYearArrow:function(){return this.unlinkPanels&&12<=12*this.rightYear+this.rightMonth-(12*this.leftYear+this.leftMonth+1)}},data:function(){return{popperClass:"",value:[],defaultValue:null,defaultTime:null,minDate:"",maxDate:"",leftDate:new Date,rightDate:Nn(new Date),rangeState:{endDate:null,selecting:!1,row:null,column:null},showTime:!1,shortcuts:"",visible:"",disabledDate:"",cellClassName:"",firstDayOfWeek:7,minTimePickerVisible:!1,maxTimePickerVisible:!1,format:"",arrowControl:!1,unlinkPanels:!1,dateUserInput:{min:null,max:null},timeUserInput:{min:null,max:null}}},watch:{minDate:function(e){var t=this;this.dateUserInput.min=null,this.timeUserInput.min=null,this.$nextTick(function(){t.$refs.maxTimePicker&&t.maxDate&&t.maxDate<t.minDate&&(t.$refs.maxTimePicker.selectableRange=[[pn(fn(t.minDate,"HH:mm:ss"),"HH:mm:ss"),pn("23:59:59","HH:mm:ss")]])}),e&&this.$refs.minTimePicker&&(this.$refs.minTimePicker.date=e,this.$refs.minTimePicker.value=e)},maxDate:function(e){this.dateUserInput.max=null,this.timeUserInput.max=null,e&&this.$refs.maxTimePicker&&(this.$refs.maxTimePicker.date=e,this.$refs.maxTimePicker.value=e)},minTimePickerVisible:function(e){var t=this;e&&this.$nextTick(function(){t.$refs.minTimePicker.date=t.minDate,t.$refs.minTimePicker.value=t.minDate,t.$refs.minTimePicker.adjustSpinners()})},maxTimePickerVisible:function(e){var t=this;e&&this.$nextTick(function(){t.$refs.maxTimePicker.date=t.maxDate,t.$refs.maxTimePicker.value=t.maxDate,t.$refs.maxTimePicker.adjustSpinners()})},value:function(e){var t,i,n;e?Array.isArray(e)&&(this.minDate=un(e[0])?new Date(e[0]):null,this.maxDate=un(e[1])?new Date(e[1]):null,this.minDate?(this.leftDate=this.minDate,this.unlinkPanels&&this.maxDate?(t=this.minDate.getFullYear(),i=this.minDate.getMonth(),n=this.maxDate.getFullYear(),e=this.maxDate.getMonth(),this.rightDate=t===n&&i===e?Nn(this.maxDate):this.maxDate):this.rightDate=Nn(this.leftDate)):(this.leftDate=ir(this.defaultValue)[0],this.rightDate=Nn(this.leftDate))):(this.minDate=null,this.maxDate=null)},defaultValue:function(e){var t,i;Array.isArray(this.value)||(t=(i=ir(e))[0],i=i[1],this.leftDate=t,this.rightDate=e&&e[1]&&this.unlinkPanels?i:Nn(this.leftDate))}},methods:{handleClear:function(){this.minDate=null,this.maxDate=null,this.leftDate=ir(this.defaultValue)[0],this.rightDate=Nn(this.leftDate),this.$emit("pick",null)},handleChangeRange:function(e){this.minDate=e.minDate,this.maxDate=e.maxDate,this.rangeState=e.rangeState},handleDateInput:function(e,t){var i;(this.dateUserInput[t]=e).length===this.dateFormat.length&&(i=pn(e,this.dateFormat))&&("function"==typeof this.disabledDate&&this.disabledDate(new Date(i))||("min"===t?(this.minDate=kn(this.minDate||new Date,i.getFullYear(),i.getMonth(),i.getDate()),this.leftDate=new Date(i),this.unlinkPanels||(this.rightDate=Nn(this.leftDate))):(this.maxDate=kn(this.maxDate||new Date,i.getFullYear(),i.getMonth(),i.getDate()),this.rightDate=new Date(i),this.unlinkPanels||(this.leftDate=In(i)))))},handleDateChange:function(e,t){e=pn(e,this.dateFormat);e&&("min"===t?(this.minDate=kn(this.minDate,e.getFullYear(),e.getMonth(),e.getDate()),this.minDate>this.maxDate&&(this.maxDate=this.minDate)):(this.maxDate=kn(this.maxDate,e.getFullYear(),e.getMonth(),e.getDate()),this.maxDate<this.minDate&&(this.minDate=this.maxDate)))},handleTimeInput:function(e,t){var i,n=this;(this.timeUserInput[t]=e).length===this.timeFormat.length&&(i=pn(e,this.timeFormat))&&("min"===t?(this.minDate=Mn(this.minDate,i.getHours(),i.getMinutes(),i.getSeconds()),this.$nextTick(function(e){return n.$refs.minTimePicker.adjustSpinners()})):(this.maxDate=Mn(this.maxDate,i.getHours(),i.getMinutes(),i.getSeconds()),this.$nextTick(function(e){return n.$refs.maxTimePicker.adjustSpinners()})))},handleTimeChange:function(e,t){e=pn(e,this.timeFormat);e&&("min"===t?(this.minDate=Mn(this.minDate,e.getHours(),e.getMinutes(),e.getSeconds()),this.minDate>this.maxDate&&(this.maxDate=this.minDate),this.$refs.minTimePicker.value=this.minDate,this.minTimePickerVisible=!1):(this.maxDate=Mn(this.maxDate,e.getHours(),e.getMinutes(),e.getSeconds()),this.maxDate<this.minDate&&(this.minDate=this.maxDate),this.$refs.maxTimePicker.value=this.minDate,this.maxTimePickerVisible=!1))},handleRangePick:function(e){var t=this,i=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this.defaultTime||[],r=Tn(e.minDate,n[0]),o=Tn(e.maxDate,n[1]);this.maxDate===o&&this.minDate===r||(this.onPick&&this.onPick(e),this.maxDate=o,this.minDate=r,setTimeout(function(){t.maxDate=o,t.minDate=r},10),i&&!this.showTime&&this.handleConfirm())},handleShortcutClick:function(e){e.onClick&&e.onClick(this)},handleMinTimePick:function(e,t,i){this.minDate=this.minDate||new Date,e&&(this.minDate=Mn(this.minDate,e.getHours(),e.getMinutes(),e.getSeconds())),i||(this.minTimePickerVisible=t),(!this.maxDate||this.maxDate&&this.maxDate.getTime()<this.minDate.getTime())&&(this.maxDate=new Date(this.minDate))},handleMinTimeClose:function(){this.minTimePickerVisible=!1},handleMaxTimePick:function(e,t,i){this.maxDate&&e&&(this.maxDate=Mn(this.maxDate,e.getHours(),e.getMinutes(),e.getSeconds())),i||(this.maxTimePickerVisible=t),this.maxDate&&this.minDate&&this.minDate.getTime()>this.maxDate.getTime()&&(this.minDate=new Date(this.maxDate))},handleMaxTimeClose:function(){this.maxTimePickerVisible=!1},leftPrevYear:function(){this.leftDate=On(this.leftDate),this.unlinkPanels||(this.rightDate=Nn(this.leftDate))},leftPrevMonth:function(){this.leftDate=In(this.leftDate),this.unlinkPanels||(this.rightDate=Nn(this.leftDate))},rightNextYear:function(){this.unlinkPanels?this.rightDate=Rn(this.rightDate):(this.leftDate=Rn(this.leftDate),this.rightDate=Nn(this.leftDate))},rightNextMonth:function(){this.unlinkPanels?this.rightDate=Nn(this.rightDate):(this.leftDate=Nn(this.leftDate),this.rightDate=Nn(this.leftDate))},leftNextYear:function(){this.leftDate=Rn(this.leftDate)},leftNextMonth:function(){this.leftDate=Nn(this.leftDate)},rightPrevYear:function(){this.rightDate=On(this.rightDate)},rightPrevMonth:function(){this.rightDate=In(this.rightDate)},handleConfirm:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.isValidValue([this.minDate,this.maxDate])&&this.$emit("pick",[this.minDate,this.maxDate],e)},isValidValue:function(e){return Array.isArray(e)&&e&&e[0]&&e[1]&&un(e[0])&&un(e[1])&&e[0].getTime()<=e[1].getTime()&&("function"!=typeof this.disabledDate||!this.disabledDate(e[0])&&!this.disabledDate(e[1]))},resetView:function(){this.minDate&&null==this.maxDate&&(this.rangeState.selecting=!1),this.minDate=this.value&&un(this.value[0])?new Date(this.value[0]):null,this.maxDate=this.value&&un(this.value[0])?new Date(this.value[1]):null}},components:{TimePicker:Qn,DateTable:it,ElInput:ee,ElButton:xt}},ft,[],!1,null,null,null);dt.options.__file="packages/date-picker/src/panel/date-range.vue";var nr=dt.exports,gt=function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":function(e){i.$emit("dodestroy")}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:i.visible,expression:"visible"}],staticClass:"el-picker-panel el-date-range-picker el-popper",class:[{"has-sidebar":i.$slots.sidebar||i.shortcuts},i.popperClass]},[n("div",{staticClass:"el-picker-panel__body-wrapper"},[i._t("sidebar"),i.shortcuts?n("div",{staticClass:"el-picker-panel__sidebar"},i._l(i.shortcuts,function(t,e){return n("button",{key:e,staticClass:"el-picker-panel__shortcut",attrs:{type:"button"},on:{click:function(e){i.handleShortcutClick(t)}}},[i._v(i._s(t.text))])}),0):i._e(),n("div",{staticClass:"el-picker-panel__body"},[n("div",{staticClass:"el-picker-panel__content el-date-range-picker__content is-left"},[n("div",{staticClass:"el-date-range-picker__header"},[n("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-left",attrs:{type:"button"},on:{click:i.leftPrevYear}}),i.unlinkPanels?n("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-right",class:{"is-disabled":!i.enableYearArrow},attrs:{type:"button",disabled:!i.enableYearArrow},on:{click:i.leftNextYear}}):i._e(),n("div",[i._v(i._s(i.leftLabel))])]),n("month-table",{attrs:{"selection-mode":"range",date:i.leftDate,"default-value":i.defaultValue,"min-date":i.minDate,"max-date":i.maxDate,"range-state":i.rangeState,"disabled-date":i.disabledDate},on:{changerange:i.handleChangeRange,pick:i.handleRangePick}})],1),n("div",{staticClass:"el-picker-panel__content el-date-range-picker__content is-right"},[n("div",{staticClass:"el-date-range-picker__header"},[i.unlinkPanels?n("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-left",class:{"is-disabled":!i.enableYearArrow},attrs:{type:"button",disabled:!i.enableYearArrow},on:{click:i.rightPrevYear}}):i._e(),n("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-right",attrs:{type:"button"},on:{click:i.rightNextYear}}),n("div",[i._v(i._s(i.rightLabel))])]),n("month-table",{attrs:{"selection-mode":"range",date:i.rightDate,"default-value":i.defaultValue,"min-date":i.minDate,"max-date":i.maxDate,"range-state":i.rangeState,"disabled-date":i.disabledDate},on:{changerange:i.handleChangeRange,pick:i.handleRangePick}})],1)])],2)])])};gt._withStripped=!0;function rr(e){return Array.isArray(e)?[new Date(e[0]),new Date(e[1])]:e?[new Date(e),Nn(new Date(e))]:[new Date,Nn(new Date)]}yt=r({mixins:[H],directives:{Clickoutside:et},computed:{btnDisabled:function(){return!(this.minDate&&this.maxDate&&!this.selecting&&this.isValidValue([this.minDate,this.maxDate]))},leftLabel:function(){return this.leftDate.getFullYear()+" "+this.t("el.datepicker.year")},rightLabel:function(){return this.rightDate.getFullYear()+" "+this.t("el.datepicker.year")},leftYear:function(){return this.leftDate.getFullYear()},rightYear:function(){return this.rightDate.getFullYear()===this.leftDate.getFullYear()?this.leftDate.getFullYear()+1:this.rightDate.getFullYear()},enableYearArrow:function(){return this.unlinkPanels&&this.rightYear>this.leftYear+1}},data:function(){return{popperClass:"",value:[],defaultValue:null,defaultTime:null,minDate:"",maxDate:"",leftDate:new Date,rightDate:Rn(new Date),rangeState:{endDate:null,selecting:!1,row:null,column:null},shortcuts:"",visible:"",disabledDate:"",format:"",arrowControl:!1,unlinkPanels:!1}},watch:{value:function(e){var t;e?Array.isArray(e)&&(this.minDate=un(e[0])?new Date(e[0]):null,this.maxDate=un(e[1])?new Date(e[1]):null,this.minDate?(this.leftDate=this.minDate,this.unlinkPanels&&this.maxDate?(t=this.minDate.getFullYear(),e=this.maxDate.getFullYear(),this.rightDate=t===e?Rn(this.maxDate):this.maxDate):this.rightDate=Rn(this.leftDate)):(this.leftDate=rr(this.defaultValue)[0],this.rightDate=Rn(this.leftDate))):(this.minDate=null,this.maxDate=null)},defaultValue:function(e){var t,i;Array.isArray(this.value)||(t=(i=rr(e))[0],i=i[1],this.leftDate=t,this.rightDate=e&&e[1]&&t.getFullYear()!==i.getFullYear()&&this.unlinkPanels?i:Rn(this.leftDate))}},methods:{handleClear:function(){this.minDate=null,this.maxDate=null,this.leftDate=rr(this.defaultValue)[0],this.rightDate=Rn(this.leftDate),this.$emit("pick",null)},handleChangeRange:function(e){this.minDate=e.minDate,this.maxDate=e.maxDate,this.rangeState=e.rangeState},handleRangePick:function(e){var t=this,i=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this.defaultTime||[],r=Tn(e.minDate,n[0]),o=Tn(e.maxDate,n[1]);this.maxDate===o&&this.minDate===r||(this.onPick&&this.onPick(e),this.maxDate=o,this.minDate=r,setTimeout(function(){t.maxDate=o,t.minDate=r},10),i&&this.handleConfirm())},handleShortcutClick:function(e){e.onClick&&e.onClick(this)},leftPrevYear:function(){this.leftDate=On(this.leftDate),this.unlinkPanels||(this.rightDate=On(this.rightDate))},rightNextYear:function(){this.unlinkPanels||(this.leftDate=Rn(this.leftDate)),this.rightDate=Rn(this.rightDate)},leftNextYear:function(){this.leftDate=Rn(this.leftDate)},rightPrevYear:function(){this.rightDate=On(this.rightDate)},handleConfirm:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.isValidValue([this.minDate,this.maxDate])&&this.$emit("pick",[this.minDate,this.maxDate],e)},isValidValue:function(e){return Array.isArray(e)&&e&&e[0]&&e[1]&&un(e[0])&&un(e[1])&&e[0].getTime()<=e[1].getTime()&&("function"!=typeof this.disabledDate||!this.disabledDate(e[0])&&!this.disabledDate(e[1]))},resetView:function(){this.minDate=this.value&&un(this.value[0])?new Date(this.value[0]):null,this.maxDate=this.value&&un(this.value[0])?new Date(this.value[1]):null}},components:{MonthTable:c,ElInput:ee,ElButton:xt}},gt,[],!1,null,null,null);yt.options.__file="packages/date-picker/src/panel/month-range.vue";function or(e){return"daterange"===e||"datetimerange"===e?nr:"monthrange"===e?sr:tr}var sr=yt.exports,ar={mixins:[mi],name:"ElDatePicker",props:{type:{type:String,default:"date"},timeArrowControl:Boolean},watch:{type:function(e){this.picker?(this.unmountPicker(),this.panel=or(e),this.mountPicker()):this.panel=or(e)}},created:function(){this.panel=or(this.type)},install:function(e){e.component(ar.name,ar)}},bt=ar,Mt=function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("transition",{attrs:{name:"el-zoom-in-top"},on:{"before-enter":i.handleMenuEnter,"after-leave":function(e){i.$emit("dodestroy")}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:i.visible,expression:"visible"}],ref:"popper",staticClass:"el-picker-panel time-select el-popper",class:i.popperClass,style:{width:i.width+"px"}},[n("el-scrollbar",{attrs:{noresize:"","wrap-class":"el-picker-panel__content"}},i._l(i.items,function(t){return n("div",{key:t.value,staticClass:"time-select-item",class:{selected:i.value===t.value,disabled:t.disabled,default:t.value===i.defaultValue},attrs:{disabled:t.disabled},on:{click:function(e){i.handleClick(t)}}},[i._v(i._s(t.value))])}),0)],1)])};Mt._withStripped=!0;function lr(e){return 2<=(e=(e||"").split(":")).length?{hours:parseInt(e[0],10),minutes:parseInt(e[1],10)}:null}function cr(e,t){return e=lr(e),t=lr(t),e=e.minutes+60*e.hours,t=t.minutes+60*t.hours,e===t?0:t<e?1:-1}At=r({components:{ElScrollbar:Ue},watch:{value:function(e){var t=this;e&&this.$nextTick(function(){return t.scrollToOption()})}},methods:{handleClick:function(e){e.disabled||this.$emit("pick",e.value)},handleClear:function(){this.$emit("pick",null)},scrollToOption:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".selected",t=this.$refs.popper.querySelector(".el-picker-panel__content");tt(t,t.querySelector(e))},handleMenuEnter:function(){var e=this,t=-1!==this.items.map(function(e){return e.value}).indexOf(this.value),i=-1!==this.items.map(function(e){return e.value}).indexOf(this.defaultValue),n=(t?".selected":i&&".default")||".time-select-item:not(.disabled)";this.$nextTick(function(){return e.scrollToOption(n)})},scrollDown:function(e){for(var t=this.items,i=t.length,n=t.length,r=t.map(function(e){return e.value}).indexOf(this.value);n--;)if(!t[r=(r+e+i)%i].disabled)return void this.$emit("pick",t[r].value,!0)},isValidValue:function(e){return-1!==this.items.filter(function(e){return!e.disabled}).map(function(e){return e.value}).indexOf(e)},handleKeydown:function(e){var t=e.keyCode;if(38===t||40===t){t={40:1,38:-1}[t.toString()];return this.scrollDown(t),void e.stopPropagation()}}},data:function(){return{popperClass:"",start:"09:00",end:"18:00",step:"00:30",value:"",defaultValue:"",visible:!1,minTime:"",maxTime:"",width:0}},computed:{items:function(){var e=this.start,t=this.end,i=this.step,n=[];if(e&&t&&i)for(var r=e;cr(r,t)<=0;)n.push({value:r,disabled:cr(r,this.minTime||"-1:-1")<=0||0<=cr(r,this.maxTime||"100:100")}),r=function(e,t){e=lr(e),t=lr(t),e={hours:e.hours,minutes:e.minutes};return e.minutes+=t.minutes,e.hours+=t.hours,e.hours+=Math.floor(e.minutes/60),e.minutes=e.minutes%60,(e.hours<10?"0"+e.hours:e.hours)+":"+(e.minutes<10?"0"+e.minutes:e.minutes)}(r,i);return n}}},Mt,[],!1,null,null,null);At.options.__file="packages/date-picker/src/panel/time-select.vue";var hr=At.exports,ur={mixins:[mi],name:"ElTimeSelect",componentName:"ElTimeSelect",props:{type:{type:String,default:"time-select"}},beforeCreate:function(){this.panel=hr},install:function(e){e.component(ur.name,ur)}},$t=ur,Ct=function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":function(e){t.$emit("dodestroy")}}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-time-range-picker el-picker-panel el-popper",class:t.popperClass},[e("div",{staticClass:"el-time-range-picker__content"},[e("div",{staticClass:"el-time-range-picker__cell"},[e("div",{staticClass:"el-time-range-picker__header"},[t._v(t._s(t.t("el.datepicker.startTime")))]),e("div",{staticClass:"el-time-range-picker__body el-time-panel__content",class:{"has-seconds":t.showSeconds,"is-arrow":t.arrowControl}},[e("time-spinner",{ref:"minSpinner",attrs:{"show-seconds":t.showSeconds,"am-pm-mode":t.amPmMode,"arrow-control":t.arrowControl,date:t.minDate},on:{change:t.handleMinChange,"select-range":t.setMinSelectionRange}})],1)]),e("div",{staticClass:"el-time-range-picker__cell"},[e("div",{staticClass:"el-time-range-picker__header"},[t._v(t._s(t.t("el.datepicker.endTime")))]),e("div",{staticClass:"el-time-range-picker__body el-time-panel__content",class:{"has-seconds":t.showSeconds,"is-arrow":t.arrowControl}},[e("time-spinner",{ref:"maxSpinner",attrs:{"show-seconds":t.showSeconds,"am-pm-mode":t.amPmMode,"arrow-control":t.arrowControl,date:t.maxDate},on:{change:t.handleMaxChange,"select-range":t.setMaxSelectionRange}})],1)])]),e("div",{staticClass:"el-time-panel__footer"},[e("button",{staticClass:"el-time-panel__btn cancel",attrs:{type:"button"},on:{click:function(e){t.handleCancel()}}},[t._v(t._s(t.t("el.datepicker.cancel")))]),e("button",{staticClass:"el-time-panel__btn confirm",attrs:{type:"button",disabled:t.btnDisabled},on:{click:function(e){t.handleConfirm()}}},[t._v(t._s(t.t("el.datepicker.confirm")))])])])])};Ct._withStripped=!0;function dr(e){return kn(gr,e.getFullYear(),e.getMonth(),e.getDate())}function fr(e,t){return new Date(Math.min(e.getTime()+t,dr(e).getTime()))}var pr=pn("00:00:00","HH:mm:ss"),gr=pn("23:59:59","HH:mm:ss"),Nt=r({mixins:[H],components:{TimeSpinner:o},computed:{showSeconds:function(){return-1!==(this.format||"").indexOf("ss")},offset:function(){return this.showSeconds?11:8},spinner:function(){return this.selectionRange[0]<this.offset?this.$refs.minSpinner:this.$refs.maxSpinner},btnDisabled:function(){return this.minDate.getTime()>this.maxDate.getTime()},amPmMode:function(){return-1!==(this.format||"").indexOf("A")?"A":-1!==(this.format||"").indexOf("a")?"a":""}},data:function(){return{popperClass:"",minDate:new Date,maxDate:new Date,value:[],oldValue:[new Date,new Date],defaultValue:null,format:"HH:mm:ss",visible:!1,selectionRange:[0,2],arrowControl:!1}},watch:{value:function(e){Array.isArray(e)?(this.minDate=new Date(e[0]),this.maxDate=new Date(e[1])):Array.isArray(this.defaultValue)?(this.minDate=new Date(this.defaultValue[0]),this.maxDate=new Date(this.defaultValue[1])):this.defaultValue?(this.minDate=new Date(this.defaultValue),this.maxDate=fr(new Date(this.defaultValue),36e5)):(this.minDate=new Date,this.maxDate=fr(new Date,36e5))},visible:function(e){var t=this;e&&(this.oldValue=this.value,this.$nextTick(function(){return t.$refs.minSpinner.emitSelectRange("hours")}))}},methods:{handleClear:function(){this.$emit("pick",null)},handleCancel:function(){this.$emit("pick",this.oldValue)},handleMinChange:function(e){this.minDate=An(e),this.handleChange()},handleMaxChange:function(e){this.maxDate=An(e),this.handleChange()},handleChange:function(){var e;this.isValidValue([this.minDate,this.maxDate])&&(this.$refs.minSpinner.selectableRange=[[(e=this.minDate,kn(pr,e.getFullYear(),e.getMonth(),e.getDate())),this.maxDate]],this.$refs.maxSpinner.selectableRange=[[this.minDate,dr(this.maxDate)]],this.$emit("pick",[this.minDate,this.maxDate],!0))},setMinSelectionRange:function(e,t){this.$emit("select-range",e,t,"min"),this.selectionRange=[e,t]},setMaxSelectionRange:function(e,t){this.$emit("select-range",e,t,"max"),this.selectionRange=[e+this.offset,t+this.offset]},handleConfirm:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.$refs.minSpinner.selectableRange,i=this.$refs.maxSpinner.selectableRange;this.minDate=$n(this.minDate,t,this.format),this.maxDate=$n(this.maxDate,i,this.format),this.$emit("pick",[this.minDate,this.maxDate],e)},adjustSpinners:function(){this.$refs.minSpinner.adjustSpinners(),this.$refs.maxSpinner.adjustSpinners()},changeSelectionRange:function(e){var t=this.showSeconds?[0,3,6,11,14,17]:[0,3,8,11],i=["hours","minutes"].concat(this.showSeconds?["seconds"]:[]),e=(t.indexOf(this.selectionRange[0])+e+t.length)%t.length,t=t.length/2;e<t?this.$refs.minSpinner.emitSelectRange(i[e]):this.$refs.maxSpinner.emitSelectRange(i[e-t])},isValidValue:function(e){return Array.isArray(e)&&En(this.minDate,this.$refs.minSpinner.selectableRange)&&En(this.maxDate,this.$refs.maxSpinner.selectableRange)},handleKeydown:function(e){var t=e.keyCode,i={38:-1,40:1,37:-1,39:1};if(37===t||39===t){var n=i[t];return this.changeSelectionRange(n),void e.preventDefault()}if(38===t||40===t){t=i[t];return this.spinner.scrollDown(t),void e.preventDefault()}}}},Ct,[],!1,null,null,null);Nt.options.__file="packages/date-picker/src/panel/time-range.vue";var mr=Nt.exports,vr={mixins:[mi],name:"ElTimePicker",props:{isRange:Boolean,arrowControl:Boolean},data:function(){return{type:""}},watch:{isRange:function(e){this.picker?(this.unmountPicker(),this.type=e?"timerange":"time",this.panel=e?mr:Qn,this.mountPicker()):(this.type=e?"timerange":"time",this.panel=e?mr:Qn)}},created:function(){this.type=this.isRange?"timerange":"time",this.panel=this.isRange?mr:Qn},install:function(e){e.component(vr.name,vr)}},pt=vr,It=function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("span",[t("transition",{attrs:{name:e.transition},on:{"after-enter":e.handleAfterEnter,"after-leave":e.handleAfterLeave}},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.disabled&&e.showPopper,expression:"!disabled && showPopper"}],ref:"popper",staticClass:"el-popover el-popper",class:[e.popperClass,e.content&&"el-popover--plain"],style:{width:e.width+"px"},attrs:{role:"tooltip",id:e.tooltipId,"aria-hidden":e.disabled||!e.showPopper?"true":"false"}},[e.title?t("div",{staticClass:"el-popover__title",domProps:{textContent:e._s(e.title)}}):e._e(),e._t("default",[e._v(e._s(e.content))])],2)]),e._t("reference")],2)};It._withStripped=!0;zt=r({name:"ElPopover",mixins:[De],props:{trigger:{type:String,default:"click",validator:function(e){return-1<["click","focus","hover","manual"].indexOf(e)}},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:200},title:String,disabled:Boolean,content:String,reference:{},popperClass:String,width:{},visibleArrow:{default:!0},arrowOffset:{type:Number,default:0},transition:{type:String,default:"fade-in-linear"},tabindex:{type:Number,default:0}},computed:{tooltipId:function(){return"el-popover-"+k()}},watch:{showPopper:function(e){this.disabled||(e?this.$emit("show"):this.$emit("hide"))}},mounted:function(){var t=this,i=this.referenceElm=this.reference||this.$refs.reference,e=this.popper||this.$refs.popper;!i&&this.$slots.reference&&this.$slots.reference[0]&&(i=this.referenceElm=this.$slots.reference[0].elm),i&&(he(i,"el-popover__reference"),i.setAttribute("aria-describedby",this.tooltipId),i.setAttribute("tabindex",this.tabindex),e.setAttribute("tabindex",0),"click"!==this.trigger&&(ae(i,"focusin",function(){t.handleFocus();var e=i.__vue__;e&&"function"==typeof e.focus&&e.focus()}),ae(e,"focusin",this.handleFocus),ae(i,"focusout",this.handleBlur),ae(e,"focusout",this.handleBlur)),ae(i,"keydown",this.handleKeydown),ae(i,"click",this.handleClick)),"click"===this.trigger?(ae(i,"click",this.doToggle),ae(document,"click",this.handleDocumentClick)):"hover"===this.trigger?(ae(i,"mouseenter",this.handleMouseEnter),ae(e,"mouseenter",this.handleMouseEnter),ae(i,"mouseleave",this.handleMouseLeave),ae(e,"mouseleave",this.handleMouseLeave)):"focus"===this.trigger&&(this.tabindex<0&&console.warn("[Element Warn][Popover]a negative taindex means that the element cannot be focused by tab key"),i.querySelector("input, textarea")?(ae(i,"focusin",this.doShow),ae(i,"focusout",this.doClose)):(ae(i,"mousedown",this.doShow),ae(i,"mouseup",this.doClose)))},beforeDestroy:function(){this.cleanup()},deactivated:function(){this.cleanup()},methods:{doToggle:function(){this.showPopper=!this.showPopper},doShow:function(){this.showPopper=!0},doClose:function(){this.showPopper=!1},handleFocus:function(){he(this.referenceElm,"focusing"),"click"!==this.trigger&&"focus"!==this.trigger||(this.showPopper=!0)},handleClick:function(){ue(this.referenceElm,"focusing")},handleBlur:function(){ue(this.referenceElm,"focusing"),"click"!==this.trigger&&"focus"!==this.trigger||(this.showPopper=!1)},handleMouseEnter:function(){var e=this;clearTimeout(this._timer),this.openDelay?this._timer=setTimeout(function(){e.showPopper=!0},this.openDelay):this.showPopper=!0},handleKeydown:function(e){27===e.keyCode&&"manual"!==this.trigger&&this.doClose()},handleMouseLeave:function(){var e=this;clearTimeout(this._timer),this.closeDelay?this._timer=setTimeout(function(){e.showPopper=!1},this.closeDelay):this.showPopper=!1},handleDocumentClick:function(e){var t=this.reference||this.$refs.reference,i=this.popper||this.$refs.popper;!t&&this.$slots.reference&&this.$slots.reference[0]&&(t=this.referenceElm=this.$slots.reference[0].elm),this.$el&&t&&!this.$el.contains(e.target)&&!t.contains(e.target)&&i&&!i.contains(e.target)&&(this.showPopper=!1)},handleAfterEnter:function(){this.$emit("after-enter")},handleAfterLeave:function(){this.$emit("after-leave"),this.doDestroy()},cleanup:function(){(this.openDelay||this.closeDelay)&&clearTimeout(this._timer)}},destroyed:function(){var e=this.reference;le(e,"click",this.doToggle),le(e,"mouseup",this.doClose),le(e,"mousedown",this.doShow),le(e,"focusin",this.doShow),le(e,"focusout",this.doClose),le(e,"mousedown",this.doShow),le(e,"mouseup",this.doClose),le(e,"mouseleave",this.handleMouseLeave),le(e,"mouseenter",this.handleMouseEnter),le(document,"click",this.handleDocumentClick)}},It,[],!1,null,null,null);zt.options.__file="packages/popover/src/main.vue";function yr(e,t,i){t=t.expression?t.value:t.arg,(t=i.context.$refs[t])&&(Array.isArray(t)?t[0].$refs.reference=e:t.$refs.reference=e)}var br=zt.exports,wr={bind:function(e,t,i){yr(e,t,i)},inserted:function(e,t,i){yr(e,t,i)}};u.a.directive("popover",wr),br.install=function(e){e.directive("popover",wr),e.component(br.name,br)},br.directive=wr;St=br,Bt=function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("transition",{attrs:{name:"msgbox-fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-message-box__wrapper",attrs:{tabindex:"-1",role:"dialog","aria-modal":"true","aria-label":t.title||"dialog"},on:{click:function(e){return e.target!==e.currentTarget?null:t.handleWrapperClick(e)}}},[e("div",{staticClass:"el-message-box",class:[t.customClass,t.center&&"el-message-box--center"]},[null!==t.title?e("div",{staticClass:"el-message-box__header"},[e("div",{staticClass:"el-message-box__title"},[t.icon&&t.center?e("div",{class:["el-message-box__status",t.icon]}):t._e(),e("span",[t._v(t._s(t.title))])]),t.showClose?e("button",{staticClass:"el-message-box__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.handleAction(t.distinguishCancelAndClose?"close":"cancel")},keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.handleAction(t.distinguishCancelAndClose?"close":"cancel")}}},[e("i",{staticClass:"el-message-box__close el-icon-close"})]):t._e()]):t._e(),e("div",{staticClass:"el-message-box__content"},[e("div",{staticClass:"el-message-box__container"},[t.icon&&!t.center&&""!==t.message?e("div",{class:["el-message-box__status",t.icon]}):t._e(),""!==t.message?e("div",{staticClass:"el-message-box__message"},[t._t("default",[t.dangerouslyUseHTMLString?e("p",{domProps:{innerHTML:t._s(t.message)}}):e("p",[t._v(t._s(t.message))])])],2):t._e()]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showInput,expression:"showInput"}],staticClass:"el-message-box__input"},[e("el-input",{ref:"input",attrs:{type:t.inputType,placeholder:t.inputPlaceholder},nativeOn:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleInputEnter(e):null}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}),e("div",{staticClass:"el-message-box__errormsg",style:{visibility:t.editorErrorMessage?"visible":"hidden"}},[t._v(t._s(t.editorErrorMessage))])],1)]),e("div",{staticClass:"el-message-box__btns"},[t.showCancelButton?e("el-button",{class:[t.cancelButtonClasses],attrs:{loading:t.cancelButtonLoading,round:t.roundButton,size:"small"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.handleAction("cancel")}},nativeOn:{click:function(e){t.handleAction("cancel")}}},[t._v("\n          "+t._s(t.cancelButtonText||t.t("el.messagebox.cancel"))+"\n        ")]):t._e(),e("el-button",{directives:[{name:"show",rawName:"v-show",value:t.showConfirmButton,expression:"showConfirmButton"}],ref:"confirm",class:[t.confirmButtonClasses],attrs:{loading:t.confirmButtonLoading,round:t.roundButton,size:"small"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.handleAction("confirm")}},nativeOn:{click:function(e){t.handleAction("confirm")}}},[t._v("\n          "+t._s(t.confirmButtonText||t.t("el.messagebox.confirm"))+"\n        ")])],1)])])])};Bt._withStripped=!0;var xr,Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sr=Sr||{};Sr.Dialog=function(e,t,i){var n=this;if(this.dialogNode=e,null===this.dialogNode||"dialog"!==this.dialogNode.getAttribute("role"))throw new Error("Dialog() requires a DOM element with ARIA role of dialog.");"string"==typeof t?this.focusAfterClosed=document.getElementById(t):"object"===(void 0===t?"undefined":Cr(t))?this.focusAfterClosed=t:this.focusAfterClosed=null,"string"==typeof i?this.focusFirst=document.getElementById(i):"object"===(void 0===i?"undefined":Cr(i))?this.focusFirst=i:this.focusFirst=null,this.focusFirst?this.focusFirst.focus():Ft.focusFirstDescendant(this.dialogNode),this.lastFocus=document.activeElement,xr=function(e){n.trapFocus(e)},this.addListeners()},Sr.Dialog.prototype.addListeners=function(){document.addEventListener("focus",xr,!0)},Sr.Dialog.prototype.removeListeners=function(){document.removeEventListener("focus",xr,!0)},Sr.Dialog.prototype.closeDialog=function(){var e=this;this.removeListeners(),this.focusAfterClosed&&setTimeout(function(){e.focusAfterClosed.focus()})},Sr.Dialog.prototype.trapFocus=function(e){Ft.IgnoreUtilFocusChanges||(this.dialogNode.contains(e.target)?this.lastFocus=e.target:(Ft.focusFirstDescendant(this.dialogNode),this.lastFocus===document.activeElement&&Ft.focusLastDescendant(this.dialogNode),this.lastFocus=document.activeElement))};var _r=Sr.Dialog,kr=void 0,Mr={success:"success",info:"info",warning:"warning",error:"error"},ct=r({mixins:[Me,H],props:{modal:{default:!0},lockScroll:{default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{default:!0},closeOnPressEscape:{default:!0},closeOnHashChange:{default:!0},center:{default:!1,type:Boolean},roundButton:{default:!1,type:Boolean}},components:{ElInput:ee,ElButton:xt},computed:{icon:function(){var e=this.type;return this.iconClass||(e&&Mr[e]?"el-icon-"+Mr[e]:"")},confirmButtonClasses:function(){return"el-button--primary "+this.confirmButtonClass},cancelButtonClasses:function(){return""+this.cancelButtonClass}},methods:{getSafeClose:function(){var e=this,t=this.uid;return function(){e.$nextTick(function(){t===e.uid&&e.doClose()})}},doClose:function(){var e=this;this.visible&&(this.visible=!1,this._closing=!0,this.onClose&&this.onClose(),kr.closeDialog(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose(),setTimeout(function(){e.action&&e.callback(e.action,e)}))},handleWrapperClick:function(){this.closeOnClickModal&&this.handleAction(this.distinguishCancelAndClose?"close":"cancel")},handleInputEnter:function(){if("textarea"!==this.inputType)return this.handleAction("confirm")},handleAction:function(e){"prompt"===this.$type&&"confirm"===e&&!this.validate()||(this.action=e,"function"==typeof this.beforeClose?(this.close=this.getSafeClose(),this.beforeClose(e,this,this.close)):this.doClose())},validate:function(){if("prompt"===this.$type){var e=this.inputPattern;if(e&&!e.test(this.inputValue||""))return this.editorErrorMessage=this.inputErrorMessage||O("el.messagebox.error"),he(this.getInputElement(),"invalid"),!1;e=this.inputValidator;if("function"==typeof e){e=e(this.inputValue);if(!1===e)return this.editorErrorMessage=this.inputErrorMessage||O("el.messagebox.error"),he(this.getInputElement(),"invalid"),!1;if("string"==typeof e)return this.editorErrorMessage=e,he(this.getInputElement(),"invalid"),!1}}return this.editorErrorMessage="",ue(this.getInputElement(),"invalid"),!0},getFirstFocus:function(){var e=this.$el.querySelector(".el-message-box__btns .el-button"),t=this.$el.querySelector(".el-message-box__btns .el-message-box__title");return e||t},getInputElement:function(){var e=this.$refs.input.$refs;return e.input||e.textarea},handleClose:function(){this.handleAction("close")}},watch:{inputValue:{immediate:!0,handler:function(t){var i=this;this.$nextTick(function(e){"prompt"===i.$type&&null!==t&&i.validate()})}},visible:function(e){var t=this;e&&(this.uid++,"alert"!==this.$type&&"confirm"!==this.$type||this.$nextTick(function(){t.$refs.confirm.$el.focus()}),this.focusAfterClosed=document.activeElement,kr=new _r(this.$el,this.focusAfterClosed,this.getFirstFocus())),"prompt"===this.$type&&(e?setTimeout(function(){t.$refs.input&&t.$refs.input.$el&&t.getInputElement().focus()},500):(this.editorErrorMessage="",ue(this.getInputElement(),"invalid")))}},mounted:function(){var e=this;this.$nextTick(function(){e.closeOnHashChange&&window.addEventListener("hashchange",e.close)})},beforeDestroy:function(){this.closeOnHashChange&&window.removeEventListener("hashchange",this.close),setTimeout(function(){kr.closeDialog()})},data:function(){return{uid:1,title:void 0,message:"",type:"",iconClass:"",customClass:"",showInput:!1,inputValue:null,inputPlaceholder:"",inputType:"text",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,action:"",confirmButtonText:"",cancelButtonText:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonClass:"",confirmButtonDisabled:!1,cancelButtonClass:"",editorErrorMessage:null,callback:null,dangerouslyUseHTMLString:!1,focusAfterClosed:null,isOnComposition:!1,distinguishCancelAndClose:!1}}},Bt,[],!1,null,null,null);ct.options.__file="packages/message-box/src/main.vue";var Ht=ct.exports,Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Dr(e){return null!==e&&"object"===(void 0===e?"undefined":Tr(e))&&C(e,"componentOptions")}function Ar(e){var t;Or&&("function"==typeof(t=Or.callback)&&(Rr.showInput?t(Rr.inputValue,e):t(e)),Or.resolve&&("confirm"===e?Rr.showInput?Or.resolve({value:Rr.inputValue,action:e}):Or.resolve(e):!Or.reject||"cancel"!==e&&"close"!==e||Or.reject(e)))}function $r(){if(Rr||((Rr=new Nr({el:document.createElement("div")})).callback=Ar),Rr.action="",(!Rr.visible||Rr.closeTimer)&&0<Pr.length){var e,t=(Or=Pr.shift()).options;for(e in t)t.hasOwnProperty(e)&&(Rr[e]=t[e]);void 0===t.callback&&(Rr.callback=Ar);var i=Rr.callback;Rr.callback=function(e,t){i(e,t),$r()},Dr(Rr.message)?(Rr.$slots.default=[Rr.message],Rr.message=null):delete Rr.$slots.default,["modal","showClose","closeOnClickModal","closeOnPressEscape","closeOnHashChange"].forEach(function(e){void 0===Rr[e]&&(Rr[e]=!0)}),document.body.appendChild(Rr.$el),u.a.nextTick(function(){Rr.visible=!0})}}function Er(i,n){if(!u.a.prototype.$isServer){if("string"==typeof i||Dr(i)?(i={message:i},"string"==typeof arguments[1]&&(i.title=arguments[1])):i.callback&&!n&&(n=i.callback),"undefined"!=typeof Promise)return new Promise(function(e,t){Pr.push({options:q({},Ir,Er.defaults,i),callback:n,resolve:e,reject:t}),$r()});Pr.push({options:q({},Ir,Er.defaults,i),callback:n}),$r()}}var Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ir={title:null,message:"",type:"",iconClass:"",showInput:!1,showClose:!0,modalFade:!0,lockScroll:!0,closeOnClickModal:!0,closeOnPressEscape:!0,closeOnHashChange:!0,inputValue:null,inputPlaceholder:"",inputType:"text",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,confirmButtonPosition:"right",confirmButtonHighlight:!1,cancelButtonHighlight:!1,confirmButtonText:"",cancelButtonText:"",confirmButtonClass:"",cancelButtonClass:"",customClass:"",beforeClose:null,dangerouslyUseHTMLString:!1,center:!1,roundButton:!1,distinguishCancelAndClose:!1},Nr=u.a.extend(Ht),Or=void 0,Rr=void 0,Pr=[];Er.setDefaults=function(e){Er.defaults=e},Er.alert=function(e,t,i){return"object"===(void 0===t?"undefined":Lr(t))?(i=t,t=""):void 0===t&&(t=""),Er(q({title:t,message:e,$type:"alert",closeOnPressEscape:!1,closeOnClickModal:!1},i))},Er.confirm=function(e,t,i){return"object"===(void 0===t?"undefined":Lr(t))?(i=t,t=""):void 0===t&&(t=""),Er(q({title:t,message:e,$type:"confirm",showCancelButton:!0},i))},Er.prompt=function(e,t,i){return"object"===(void 0===t?"undefined":Lr(t))?(i=t,t=""):void 0===t&&(t=""),Er(q({title:t,message:e,showCancelButton:!0,showInput:!0,$type:"prompt"},i))},Er.close=function(){Rr.doClose(),Rr.visible=!1,Pr=[],Or=null};var Fr=Er,ti=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"el-breadcrumb",attrs:{"aria-label":"Breadcrumb",role:"navigation"}},[this._t("default")],2)};ti._withStripped=!0;ai=r({name:"ElBreadcrumb",props:{separator:{type:String,default:"/"},separatorClass:{type:String,default:""}},provide:function(){return{elBreadcrumb:this}},mounted:function(){var e=this.$el.querySelectorAll(".el-breadcrumb__item");e.length&&e[e.length-1].setAttribute("aria-current","page")}},ti,[],!1,null,null,null);ai.options.__file="packages/breadcrumb/src/breadcrumb.vue";var zr=ai.exports;zr.install=function(e){e.component(zr.name,zr)};li=zr,ri=function(){var e=this.$createElement,e=this._self._c||e;return e("span",{staticClass:"el-breadcrumb__item"},[e("span",{ref:"link",class:["el-breadcrumb__inner",this.to?"is-link":""],attrs:{role:"link"}},[this._t("default")],2),this.separatorClass?e("i",{staticClass:"el-breadcrumb__separator",class:this.separatorClass}):e("span",{staticClass:"el-breadcrumb__separator",attrs:{role:"presentation"}},[this._v(this._s(this.separator))])])};ri._withStripped=!0;ui=r({name:"ElBreadcrumbItem",props:{to:{},replace:Boolean},data:function(){return{separator:"",separatorClass:""}},inject:["elBreadcrumb"],mounted:function(){var n=this;this.separator=this.elBreadcrumb.separator,this.separatorClass=this.elBreadcrumb.separatorClass;var e=this.$refs.link;e.setAttribute("role","link"),e.addEventListener("click",function(e){var t=n.to,i=n.$router;t&&i&&(n.replace?i.replace(t):i.push(t))})}},ri,[],!1,null,null,null);ui.options.__file="packages/breadcrumb/src/breadcrumb-item.vue";var Wr=ui.exports;Wr.install=function(e){e.component(Wr.name,Wr)};Qt=Wr,fi=function(){var e=this.$createElement;return(this._self._c||e)("form",{staticClass:"el-form",class:[this.labelPosition?"el-form--label-"+this.labelPosition:"",{"el-form--inline":this.inline}]},[this._t("default")],2)};fi._withStripped=!0;di=r({name:"ElForm",componentName:"ElForm",provide:function(){return{elForm:this}},props:{model:Object,rules:Object,labelPosition:String,labelWidth:String,labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:String,disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1}},watch:{rules:function(){this.fields.forEach(function(e){e.removeValidateEvents(),e.addValidateEvents()}),this.validateOnRuleChange&&this.validate(function(){})}},computed:{autoLabelWidth:function(){if(!this.potentialLabelWidthArr.length)return 0;var e=Math.max.apply(Math,this.potentialLabelWidthArr);return e?e+"px":""}},data:function(){return{fields:[],potentialLabelWidthArr:[]}},created:function(){var t=this;this.$on("el.form.addField",function(e){e&&t.fields.push(e)}),this.$on("el.form.removeField",function(e){e.prop&&t.fields.splice(t.fields.indexOf(e),1)})},methods:{resetFields:function(){this.model?this.fields.forEach(function(e){e.resetField()}):console.warn("[Element Warn][Form]model is required for resetFields to work.")},clearValidate:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];(t.length?"string"==typeof t?this.fields.filter(function(e){return t===e.prop}):this.fields.filter(function(e){return-1<t.indexOf(e.prop)}):this.fields).forEach(function(e){e.clearValidate()})},validate:function(n){var i=this;if(this.model){var e=void 0;"function"!=typeof n&&window.Promise&&(e=new window.Promise(function(t,i){n=function(e){(e?t:i)(e)}}));var r=!0,o=0;0===this.fields.length&&n&&n(!0);var s={};return this.fields.forEach(function(e){e.validate("",function(e,t){e&&(r=!1),s=q({},s,t),"function"==typeof n&&++o===i.fields.length&&n(r,s)})}),e||void 0}console.warn("[Element Warn][Form]model is required for validate to work!")},validateField:function(t,i){t=[].concat(t);var e=this.fields.filter(function(e){return-1!==t.indexOf(e.prop)});e.length?e.forEach(function(e){e.validate("",i)}):console.warn("[Element Warn]please pass correct props!")},getLabelWidthIndex:function(e){var t=this.potentialLabelWidthArr.indexOf(e);if(-1===t)throw new Error("[ElementForm]unpected width ",e);return t},registerLabelWidth:function(e,t){e&&t?(t=this.getLabelWidthIndex(t),this.potentialLabelWidthArr.splice(t,1,e)):e&&this.potentialLabelWidthArr.push(e)},deregisterLabelWidth:function(e){e=this.getLabelWidthIndex(e);this.potentialLabelWidthArr.splice(e,1)}}},fi,[],!1,null,null,null);di.options.__file="packages/form/src/form.vue";var Br=di.exports;Br.install=function(e){e.component(Br.name,Br)};Ci=Br,n=function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{staticClass:"el-form-item",class:[{"el-form-item--feedback":e.elForm&&e.elForm.statusIcon,"is-error":"error"===e.validateState,"is-validating":"validating"===e.validateState,"is-success":"success"===e.validateState,"is-required":e.isRequired||e.required,"is-no-asterisk":e.elForm&&e.elForm.hideRequiredAsterisk},e.sizeClass?"el-form-item--"+e.sizeClass:""]},[t("label-wrap",{attrs:{"is-auto-width":e.labelStyle&&"auto"===e.labelStyle.width,"update-all":"auto"===e.form.labelWidth}},[e.label||e.$slots.label?t("label",{staticClass:"el-form-item__label",style:e.labelStyle,attrs:{for:e.labelFor}},[e._t("label",[e._v(e._s(e.label+e.form.labelSuffix))])],2):e._e()]),t("div",{staticClass:"el-form-item__content",style:e.contentStyle},[e._t("default"),t("transition",{attrs:{name:"el-zoom-in-top"}},["error"===e.validateState&&e.showMessage&&e.form.showMessage?e._t("error",[t("div",{staticClass:"el-form-item__error",class:{"el-form-item__error--inline":"boolean"==typeof e.inlineMessage?e.inlineMessage:e.elForm&&e.elForm.inlineMessage||!1}},[e._v("\n          "+e._s(e.validateMessage)+"\n        ")])],{error:e.validateMessage}):e._e()],2)],2)],1)};n._withStripped=!0;var wi=i(8),jr=i.n(wi),d=i(3),Hr=i.n(d),Kr=/%[sdj%]/g;function Vr(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=1,r=t[0],o=t.length;if("function"==typeof r)return r.apply(null,t.slice(1));if("string"!=typeof r)return r;for(var s=String(r).replace(Kr,function(e){if("%%"===e)return"%";if(o<=n)return e;switch(e){case"%s":return String(t[n++]);case"%d":return Number(t[n++]);case"%j":try{return JSON.stringify(t[n++])}catch(e){return"[Circular]"}break;default:return e}}),a=t[n];n<o;a=t[++n])s+=" "+a;return s}function Ur(e,t){return null==e||"array"===t&&Array.isArray(e)&&!e.length||!("string"!==t&&"url"!==t&&"hex"!==t&&"email"!==t&&"pattern"!==t||"string"!=typeof e||e)}function Gr(i,n,r){var o=0,s=i.length;!function e(t){t&&t.length?r(t):(t=o,o+=1,t<s?n(i[t],e):r([]))}([])}function Yr(l,e,c,t){if(e.first)return Gr((i=l,n=[],Object.keys(i).forEach(function(e){n.push.apply(n,i[e])}),n),c,t),0;var i,n,h=e.firstFields||[];!0===h&&(h=Object.keys(l));function u(e){s.push.apply(s,e),++o===r&&t(s)}var e=Object.keys(l),r=e.length,o=0,s=[];e.forEach(function(e){var t,i,n,r,o,s=l[e];function a(e){n.push.apply(n,e),++r===o&&i(n)}-1!==h.indexOf(e)?Gr(s,c,u):(t=c,i=u,n=[],r=0,o=s.length,s.forEach(function(e){t(e,a)}))})}function qr(t){return function(e){return e&&e.message?(e.field=e.field||t.fullField,e):{message:e,field:e.field||t.fullField}}}function Qr(e,t){if(t)for(var i in t){var n;t.hasOwnProperty(i)&&("object"===(void 0===(n=t[i])?"undefined":Hr()(n))&&"object"===Hr()(e[i])?e[i]=jr()({},e[i],n):e[i]=n)}return e}function Xr(e,t,i,n,r,o){!e.required||i.hasOwnProperty(e.field)&&!Ur(t,o||e.type)||n.push(Vr(r.messages.required,e.fullField))}var Zr={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Jr={integer:function(e){return Jr.number(e)&&parseInt(e,10)===e},float:function(e){return Jr.number(e)&&!Jr.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(e){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"===(void 0===e?"undefined":Hr()(e))&&!Jr.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&!!e.match(Zr.email)&&e.length<255},url:function(e){return"string"==typeof e&&!!e.match(Zr.url)},hex:function(e){return"string"==typeof e&&!!e.match(Zr.hex)}},eo={required:Xr,whitespace:function(e,t,i,n,r){!/^\s+$/.test(t)&&""!==t||n.push(Vr(r.messages.whitespace,e.fullField))},type:function(e,t,i,n,r){e.required&&void 0===t?Xr(e,t,i,n,r):(i=e.type,-1<["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(i)?Jr[i](t)||n.push(Vr(r.messages.types[i],e.fullField,e.type)):i&&(void 0===t?"undefined":Hr()(t))!==e.type&&n.push(Vr(r.messages.types[i],e.fullField,e.type)))},range:function(e,t,i,n,r){var o="number"==typeof e.len,s="number"==typeof e.min,a="number"==typeof e.max,l=t,c=null,h="number"==typeof t,u="string"==typeof t,d=Array.isArray(t);if(h?c="number":u?c="string":d&&(c="array"),!c)return!1;d&&(l=t.length),u&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?l!==e.len&&n.push(Vr(r.messages[c].len,e.fullField,e.len)):s&&!a&&l<e.min?n.push(Vr(r.messages[c].min,e.fullField,e.min)):a&&!s&&l>e.max?n.push(Vr(r.messages[c].max,e.fullField,e.max)):s&&a&&(l<e.min||l>e.max)&&n.push(Vr(r.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,i,n,r){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&n.push(Vr(r.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,i,n,r){e.pattern&&(e.pattern instanceof RegExp?(e.pattern.lastIndex=0,e.pattern.test(t)||n.push(Vr(r.messages.pattern.mismatch,e.fullField,t,e.pattern))):"string"==typeof e.pattern&&(new RegExp(e.pattern).test(t)||n.push(Vr(r.messages.pattern.mismatch,e.fullField,t,e.pattern))))}},K=function(e,t,i,n,r){var o=e.type,s=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Ur(t,o)&&!e.required)return i();eo.required(e,t,n,s,r,o),Ur(t,o)||eo.type(e,t,n,s,r)}i(s)},to={string:function(e,t,i,n,r){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Ur(t,"string")&&!e.required)return i();eo.required(e,t,n,o,r,"string"),Ur(t,"string")||(eo.type(e,t,n,o,r),eo.range(e,t,n,o,r),eo.pattern(e,t,n,o,r),!0===e.whitespace&&eo.whitespace(e,t,n,o,r))}i(o)},method:function(e,t,i,n,r){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Ur(t)&&!e.required)return i();eo.required(e,t,n,o,r),void 0!==t&&eo.type(e,t,n,o,r)}i(o)},number:function(e,t,i,n,r){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Ur(t)&&!e.required)return i();eo.required(e,t,n,o,r),void 0!==t&&(eo.type(e,t,n,o,r),eo.range(e,t,n,o,r))}i(o)},boolean:function(e,t,i,n,r){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Ur(t)&&!e.required)return i();eo.required(e,t,n,o,r),void 0!==t&&eo.type(e,t,n,o,r)}i(o)},regexp:function(e,t,i,n,r){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Ur(t)&&!e.required)return i();eo.required(e,t,n,o,r),Ur(t)||eo.type(e,t,n,o,r)}i(o)},integer:function(e,t,i,n,r){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Ur(t)&&!e.required)return i();eo.required(e,t,n,o,r),void 0!==t&&(eo.type(e,t,n,o,r),eo.range(e,t,n,o,r))}i(o)},float:function(e,t,i,n,r){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Ur(t)&&!e.required)return i();eo.required(e,t,n,o,r),void 0!==t&&(eo.type(e,t,n,o,r),eo.range(e,t,n,o,r))}i(o)},array:function(e,t,i,n,r){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Ur(t,"array")&&!e.required)return i();eo.required(e,t,n,o,r,"array"),Ur(t,"array")||(eo.type(e,t,n,o,r),eo.range(e,t,n,o,r))}i(o)},object:function(e,t,i,n,r){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Ur(t)&&!e.required)return i();eo.required(e,t,n,o,r),void 0!==t&&eo.type(e,t,n,o,r)}i(o)},enum:function(e,t,i,n,r){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Ur(t)&&!e.required)return i();eo.required(e,t,n,o,r),t&&eo.enum(e,t,n,o,r)}i(o)},pattern:function(e,t,i,n,r){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Ur(t,"string")&&!e.required)return i();eo.required(e,t,n,o,r),Ur(t,"string")||eo.pattern(e,t,n,o,r)}i(o)},date:function(e,t,i,n,r){var o,s=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Ur(t)&&!e.required)return i();eo.required(e,t,n,s,r),Ur(t)||(o=void 0,o="number"==typeof t?new Date(t):t,eo.type(e,o,n,s,r),o&&eo.range(e,o.getTime(),n,s,r))}i(s)},url:K,hex:K,email:K,required:function(e,t,i,n,r){var o=[],s=Array.isArray(t)?"array":void 0===t?"undefined":Hr()(t);eo.required(e,t,n,o,r,s),i(o)}};function io(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var no=io();function ro(e){this.rules=null,this._messages=no,this.define(e)}ro.prototype={messages:function(e){return e&&(this._messages=Qr(io(),e)),this._messages},define:function(e){if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==(void 0===e?"undefined":Hr()(e))||Array.isArray(e))throw new Error("Rules must be an object");this.rules={};var t,i=void 0;for(i in e)e.hasOwnProperty(i)&&(t=e[i],this.rules[i]=Array.isArray(t)?t:[t])},validate:function(i){var e,n,r,o,u,s=this,a=i,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=arguments[2];"function"==typeof d&&(l=d,d={}),this.rules&&0!==Object.keys(this.rules).length?(d.messages?((e=this.messages())===no&&(e=io()),Qr(e,d.messages),d.messages=e):d.messages=this.messages(),r=n=void 0,o={},(d.keys||Object.keys(this.rules)).forEach(function(t){n=s.rules[t],r=a[t],n.forEach(function(e){"function"==typeof e.transform&&(a===i&&(a=jr()({},a)),r=a[t]=e.transform(r)),(e="function"==typeof e?{validator:e}:jr()({},e)).validator=s.getValidationMethod(e),e.field=t,e.fullField=e.fullField||t,e.type=s.getType(e),e.validator&&(o[t]=o[t]||[],o[t].push({rule:e,value:r,source:a,field:t}))})}),u={},Yr(o,d,function(s,a){var l=s.rule,c=!("object"!==l.type&&"array"!==l.type||"object"!==Hr()(l.fields)&&"object"!==Hr()(l.defaultField));function h(e,t){return jr()({},t,{fullField:l.fullField+"."+e})}function t(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];if(Array.isArray(t)||(t=[t]),t.length,t.length&&l.message&&(t=[].concat(l.message)),t=t.map(qr(l)),d.first&&t.length)return u[l.field]=1,a(t);if(c){if(l.required&&!s.value)return t=l.message?[].concat(l.message).map(qr(l)):d.error?[d.error(l,Vr(d.messages.required,l.field))]:[],a(t);var e,i,n={};if(l.defaultField)for(var r in s.value)s.value.hasOwnProperty(r)&&(n[r]=l.defaultField);for(e in n=jr()({},n,s.rule.fields)){n.hasOwnProperty(e)&&(i=Array.isArray(n[e])?n[e]:[n[e]],n[e]=i.map(h.bind(null,e)))}var o=new ro(n);o.messages(d.messages),s.rule.options&&(s.rule.options.messages=d.messages,s.rule.options.error=d.error),o.validate(s.value,s.rule.options||d,function(e){a(e&&e.length?t.concat(e):e)})}else a(t)}c=c&&(l.required||!l.required&&s.value),l.field=s.field;var e=l.validator(l,s.value,t,s.source,d);e&&e.then&&e.then(function(){return t()},function(e){return t(e)})},function(e){!function(e){for(var t,i,n=void 0,r=[],o={},n=0;n<e.length;n++)t=e[n],Array.isArray(t)?r=r.concat.apply(r,t):r.push(t);if(r.length)for(n=0;n<r.length;n++)o[i=r[n].field]=o[i]||[],o[i].push(r[n]);else o=r=null;l(r,o)}(e)})):l&&l()},getType:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!to.hasOwnProperty(e.type))throw new Error(Vr("Unknown rule type %s",e.type));return e.type||"string"},getValidationMethod:function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),i=t.indexOf("message");return-1!==i&&t.splice(i,1),1===t.length&&"required"===t[0]?to.required:to[this.getType(e)]||!1}},ro.register=function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");to[e]=t},ro.messages=no;var oo=ro,se=r({props:{isAutoWidth:Boolean,updateAll:Boolean},inject:["elForm","elFormItem"],render:function(){var e=arguments[0],t=this.$slots.default;if(!t)return null;if(this.isAutoWidth){var i=this.elForm.autoLabelWidth,n={};return!i||"auto"===i||(i=parseInt(i,10)-this.computedWidth)&&(n.marginLeft=i+"px"),e("div",{class:"el-form-item__label-wrap",style:n},[t])}return t[0]},methods:{getLabelWidth:function(){if(this.$el&&this.$el.firstElementChild){var e=window.getComputedStyle(this.$el.firstElementChild).width;return Math.ceil(parseFloat(e))}return 0},updateLabelWidth:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"update";this.$slots.default&&this.isAutoWidth&&this.$el.firstElementChild&&("update"===e?this.computedWidth=this.getLabelWidth():"remove"===e&&this.elForm.deregisterLabelWidth(this.computedWidth))}},watch:{computedWidth:function(e,t){this.updateAll&&(this.elForm.registerLabelWidth(e,t),this.elFormItem.updateComputedLabelWidth(e))}},data:function(){return{computedWidth:0}},mounted:function(){this.updateLabelWidth("update")},updated:function(){this.updateLabelWidth("update")},beforeDestroy:function(){this.updateLabelWidth("remove")}},void 0,void 0,!1,null,null,null);se.options.__file="packages/form/src/label-wrap.vue";Ee=se.exports,Ie=r({name:"ElFormItem",componentName:"ElFormItem",mixins:[l],provide:function(){return{elFormItem:this}},inject:["elForm"],props:{label:String,labelWidth:String,prop:String,required:{type:Boolean,default:void 0},rules:[Object,Array],error:String,validateStatus:String,for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:String},components:{LabelWrap:Ee},watch:{error:{immediate:!0,handler:function(e){this.validateMessage=e,this.validateState=e?"error":""}},validateStatus:function(e){this.validateState=e}},computed:{labelFor:function(){return this.for||this.prop},labelStyle:function(){var e={};if("top"===this.form.labelPosition)return e;var t=this.labelWidth||this.form.labelWidth;return t&&(e.width=t),e},contentStyle:function(){var e={},t=this.label;if("top"===this.form.labelPosition||this.form.inline)return e;if(!t&&!this.labelWidth&&this.isNested)return e;t=this.labelWidth||this.form.labelWidth;return"auto"===t?"auto"===this.labelWidth?e.marginLeft=this.computedLabelWidth:"auto"===this.form.labelWidth&&(e.marginLeft=this.elForm.autoLabelWidth):e.marginLeft=t,e},form:function(){for(var e=this.$parent,t=e.$options.componentName;"ElForm"!==t;)"ElFormItem"===t&&(this.isNested=!0),t=(e=e.$parent).$options.componentName;return e},fieldValue:function(){var e=this.form.model;if(e&&this.prop){var t=this.prop;return-1!==t.indexOf(":")&&(t=t.replace(/:/,".")),_(e,t,!0).v}},isRequired:function(){var e=this.getRules(),t=!1;return e&&e.length&&e.every(function(e){return!e.required||!(t=!0)}),t},_formSize:function(){return this.elForm.size},elFormItemSize:function(){return this.size||this._formSize},sizeClass:function(){return this.elFormItemSize||(this.$ELEMENT||{}).size}},data:function(){return{validateState:"",validateMessage:"",validateDisabled:!1,validator:{},isNested:!1,computedLabelWidth:""}},methods:{validate:function(e){var i=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:x;this.validateDisabled=!1;var t=this.getFilteredRule(e);if((!t||0===t.length)&&void 0===this.required)return n(),!0;this.validateState="validating";e={};t&&0<t.length&&t.forEach(function(e){delete e.trigger}),e[this.prop]=t;t=new oo(e),e={};e[this.prop]=this.fieldValue,t.validate(e,{firstFields:!0},function(e,t){i.validateState=e?"error":"success",i.validateMessage=e?e[0].message:"",n(i.validateMessage,t),i.elForm&&i.elForm.$emit("validate",i.prop,!e,i.validateMessage||null)})},clearValidate:function(){this.validateState="",this.validateMessage="",this.validateDisabled=!1},resetField:function(){var e=this;this.validateState="",this.validateMessage="";var t=this.form.model,i=this.fieldValue,n=this.prop;-1!==n.indexOf(":")&&(n=n.replace(/:/,"."));n=_(t,n,!0);this.validateDisabled=!0,Array.isArray(i)?n.o[n.k]=[].concat(this.initialValue):n.o[n.k]=this.initialValue,this.$nextTick(function(){e.validateDisabled=!1}),this.broadcast("ElTimeSelect","fieldReset",this.initialValue)},getRules:function(){var e=this.form.rules,t=this.rules,i=void 0!==this.required?{required:!!this.required}:[],n=_(e,this.prop||""),e=e?n.o[this.prop||""]||n.v:[];return[].concat(t||e||[]).concat(i)},getFilteredRule:function(t){return this.getRules().filter(function(e){return!e.trigger||""===t||(Array.isArray(e.trigger)?-1<e.trigger.indexOf(t):e.trigger===t)}).map(function(e){return q({},e)})},onFieldBlur:function(){this.validate("blur")},onFieldChange:function(){this.validateDisabled?this.validateDisabled=!1:this.validate("change")},updateComputedLabelWidth:function(e){this.computedLabelWidth=e?e+"px":""},addValidateEvents:function(){!this.getRules().length&&void 0===this.required||(this.$on("el.form.blur",this.onFieldBlur),this.$on("el.form.change",this.onFieldChange))},removeValidateEvents:function(){this.$off()}},mounted:function(){var e;this.prop&&(this.dispatch("ElForm","el.form.addField",[this]),e=this.fieldValue,Array.isArray(e)&&(e=[].concat(e)),Object.defineProperty(this,"initialValue",{value:e}),this.addValidateEvents())},beforeDestroy:function(){this.dispatch("ElForm","el.form.removeField",[this])}},n,[],!1,null,null,null);Ie.options.__file="packages/form/src/form-item.vue";var so=Ie.exports;so.install=function(e){e.component(so.name,so)};Ge=so,$e=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"el-tabs__active-bar",class:"is-"+this.rootTabs.tabPosition,style:this.barStyle})};$e._withStripped=!0;te=r({name:"TabBar",props:{tabs:Array},inject:["rootTabs"],computed:{barStyle:{get:function(){function r(e){return e.toLowerCase().replace(/( |^)[a-z]/g,function(e){return e.toUpperCase()})}var o=this,e={},s=0,a=0,l=-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"width":"height",t="width"==l?"x":"y";this.tabs.every(function(t,e){var i=D(o.$parent.$refs.tabs||[],function(e){return e.id.replace("tab-","")===t.paneName});if(!i)return!1;if(t.active){a=i["client"+r(l)];var n=window.getComputedStyle(i);return"width"==l&&1<o.tabs.length&&(a-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)),"width"==l&&(s+=parseFloat(n.paddingLeft)),!1}return s+=i["client"+r(l)],!0});t="translate"+r(t)+"("+s+"px)";return e[l]=a+"px",e.transform=t,e.msTransform=t,e.webkitTransform=t,e}}}},$e,[],!1,null,null,null);te.options.__file="packages/tabs/src/tab-bar.vue";vi=te.exports;function ao(){}function lo(e){return e.toLowerCase().replace(/( |^)[a-z]/g,function(e){return e.toUpperCase()})}s=r({name:"TabNav",components:{TabBar:vi},inject:["rootTabs"],props:{panes:Array,currentName:String,editable:Boolean,onTabClick:{type:Function,default:ao},onTabRemove:{type:Function,default:ao},type:String,stretch:Boolean},data:function(){return{scrollable:!1,navOffset:0,isFocus:!1,focusable:!0}},computed:{navStyle:function(){return{transform:"translate"+(-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"X":"Y")+"(-"+this.navOffset+"px)"}},sizeName:function(){return-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"width":"height"}},methods:{scrollPrev:function(){var e=this.$refs.navScroll["offset"+lo(this.sizeName)],t=this.navOffset;t&&(e=e<t?t-e:0,this.navOffset=e)},scrollNext:function(){var e=this.$refs.nav["offset"+lo(this.sizeName)],t=this.$refs.navScroll["offset"+lo(this.sizeName)],i=this.navOffset;e-i<=t||(t=2*t<e-i?i+t:e-t,this.navOffset=t)},scrollToActiveTab:function(){var e,t,i,n,r,o;this.scrollable&&(o=this.$refs.nav,(n=this.$el.querySelector(".is-active"))&&(r=this.$refs.navScroll,e=-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition),t=n.getBoundingClientRect(),i=r.getBoundingClientRect(),n=e?o.offsetWidth-i.width:o.offsetHeight-i.height,o=r=this.navOffset,e?(t.left<i.left&&(o=r-(i.left-t.left)),t.right>i.right&&(o=r+t.right-i.right)):(t.top<i.top&&(o=r-(i.top-t.top)),t.bottom>i.bottom&&(o=r+(t.bottom-i.bottom))),o=Math.max(o,0),this.navOffset=Math.min(o,n)))},update:function(){var e,t,i,n;this.$refs.nav&&(n=this.sizeName,e=this.$refs.nav["offset"+lo(n)],t=this.$refs.navScroll["offset"+lo(n)],i=this.navOffset,t<e?(n=this.navOffset,this.scrollable=this.scrollable||{},this.scrollable.prev=n,this.scrollable.next=n+t<e,e-n<t&&(this.navOffset=e-t)):(this.scrollable=!1,0<i&&(this.navOffset=0)))},changeTab:function(e){var t,i,n=e.keyCode,r=void 0;-1!==[37,38,39,40].indexOf(n)&&(r=e.currentTarget.querySelectorAll("[role=tab]"),i=Array.prototype.indexOf.call(r,e.target),r[t=37===n||38===n?0===i?r.length-1:i-1:i<r.length-1?i+1:0].focus(),r[t].click(),this.setFocus())},setFocus:function(){this.focusable&&(this.isFocus=!0)},removeFocus:function(){this.isFocus=!1},visibilityChangeHandler:function(){var e=this,t=document.visibilityState;"hidden"===t?this.focusable=!1:"visible"===t&&setTimeout(function(){e.focusable=!0},50)},windowBlurHandler:function(){this.focusable=!1},windowFocusHandler:function(){var e=this;setTimeout(function(){e.focusable=!0},50)}},updated:function(){this.update()},render:function(a){var l=this,e=this.type,t=this.panes,c=this.editable,i=this.stretch,h=this.onTabClick,u=this.onTabRemove,n=this.navStyle,r=this.scrollable,o=this.scrollNext,s=this.scrollPrev,d=this.changeTab,f=this.setFocus,p=this.removeFocus,s=r?[a("span",{class:["el-tabs__nav-prev",r.prev?"":"is-disabled"],on:{click:s}},[a("i",{class:"el-icon-arrow-left"})]),a("span",{class:["el-tabs__nav-next",r.next?"":"is-disabled"],on:{click:o}},[a("i",{class:"el-icon-arrow-right"})])]:null,o=this._l(t,function(t,e){var i=t.name||t.index||e,n=t.isClosable||c;t.index=""+e;var r=n?a("span",{class:"el-icon-close",on:{click:function(e){u(t,e)}}}):null,o=t.$slots.label||t.label,s=t.active?0:-1;return a("div",{class:((e={"el-tabs__item":!0})["is-"+l.rootTabs.tabPosition]=!0,e["is-active"]=t.active,e["is-disabled"]=t.disabled,e["is-closable"]=n,e["is-focus"]=l.isFocus,e),attrs:{id:"tab-"+i,"aria-controls":"pane-"+i,role:"tab","aria-selected":t.active,tabindex:s},key:"tab-"+i,ref:"tabs",refInFor:!0,on:{focus:function(){f()},blur:function(){p()},click:function(e){p(),h(t,i,e)},keydown:function(e){!n||46!==e.keyCode&&8!==e.keyCode||u(t,e)}}},[o,r])});return a("div",{class:["el-tabs__nav-wrap",r?"is-scrollable":"","is-"+this.rootTabs.tabPosition]},[s,a("div",{class:["el-tabs__nav-scroll"],ref:"navScroll"},[a("div",{class:["el-tabs__nav","is-"+this.rootTabs.tabPosition,i&&-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"is-stretch":""],ref:"nav",style:n,attrs:{role:"tablist"},on:{keydown:d}},[e?null:a("tab-bar",{attrs:{tabs:t}}),o])])])},mounted:function(){var e=this;Fe(this.$el,this.update),document.addEventListener("visibilitychange",this.visibilityChangeHandler),window.addEventListener("blur",this.windowBlurHandler),window.addEventListener("focus",this.windowFocusHandler),setTimeout(function(){e.scrollToActiveTab()},0)},beforeDestroy:function(){this.$el&&this.update&&ze(this.$el,this.update),document.removeEventListener("visibilitychange",this.visibilityChangeHandler),window.removeEventListener("blur",this.windowBlurHandler),window.removeEventListener("focus",this.windowFocusHandler)}},void 0,void 0,!1,null,null,null);s.options.__file="packages/tabs/src/tab-nav.vue";it=r({name:"ElTabs",components:{TabNav:s.exports},props:{type:String,activeName:String,closable:Boolean,addable:Boolean,value:{},editable:Boolean,tabPosition:{type:String,default:"top"},beforeLeave:Function,stretch:Boolean},provide:function(){return{rootTabs:this}},data:function(){return{currentName:this.value||this.activeName,panes:[]}},watch:{activeName:function(e){this.setCurrentName(e)},value:function(e){this.setCurrentName(e)},currentName:function(e){var t=this;this.$refs.nav&&this.$nextTick(function(){t.$refs.nav.$nextTick(function(e){t.$refs.nav.scrollToActiveTab()})})}},methods:{calcPaneInstances:function(){var e,t,i=this,n=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.$slots.default?(t=!((e=this.$slots.default.filter(function(e){return e.tag&&e.componentOptions&&"ElTabPane"===e.componentOptions.Ctor.options.name}).map(function(e){return e.componentInstance})).length===this.panes.length&&e.every(function(e,t){return e===i.panes[t]})),(n||t)&&(this.panes=e)):0!==this.panes.length&&(this.panes=[])},handleTabClick:function(e,t,i){e.disabled||(this.setCurrentName(t),this.$emit("tab-click",e,i))},handleTabRemove:function(e,t){e.disabled||(t.stopPropagation(),this.$emit("edit",e.name,"remove"),this.$emit("tab-remove",e.name))},handleTabAdd:function(){this.$emit("edit",null,"add"),this.$emit("tab-add")},setCurrentName:function(e){function t(){n.currentName=e,n.$emit("input",e)}var i,n=this;this.currentName!==e&&this.beforeLeave?(i=this.beforeLeave(e,this.currentName))&&i.then?i.then(function(){t(),n.$refs.nav&&n.$refs.nav.removeFocus()},function(){}):!1!==i&&t():t()}},render:function(e){var t=this.type,i=this.handleTabClick,n=this.handleTabRemove,r=this.handleTabAdd,o=this.currentName,s=this.panes,a=this.editable,l=this.addable,c=this.tabPosition,h=this.stretch,l=a||l?e("span",{class:"el-tabs__new-tab",on:{click:r,keydown:function(e){13===e.keyCode&&r()}},attrs:{tabindex:"0"}},[e("i",{class:"el-icon-plus"})]):null,s=e("div",{class:["el-tabs__header","is-"+c]},[l,e("tab-nav",{props:{currentName:o,onTabClick:i,onTabRemove:n,editable:a,type:t,panes:s,stretch:h},ref:"nav"})]),h=e("div",{class:"el-tabs__content"},[this.$slots.default]);return e("div",{class:((e={"el-tabs":!0,"el-tabs--card":"card"===t})["el-tabs--"+c]=!0,e["el-tabs--border-card"]="border-card"===t,e)},["bottom"!==c?[s,h]:[h,s]])},created:function(){this.currentName||this.setCurrentName("0"),this.$on("tab-nav-update",this.calcPaneInstances.bind(null,!0))},mounted:function(){this.calcPaneInstances()},updated:function(){this.calcPaneInstances()}},void 0,void 0,!1,null,null,null);it.options.__file="packages/tabs/src/tabs.vue";var co=it.exports;co.install=function(e){e.component(co.name,co)};ft=co,dt=function(){var e=this,t=e.$createElement,t=e._self._c||t;return!e.lazy||e.loaded||e.active?t("div",{directives:[{name:"show",rawName:"v-show",value:e.active,expression:"active"}],staticClass:"el-tab-pane",attrs:{role:"tabpanel","aria-hidden":!e.active,id:"pane-"+e.paneName,"aria-labelledby":"tab-"+e.paneName}},[e._t("default")],2):e._e()};dt._withStripped=!0;c=r({name:"ElTabPane",componentName:"ElTabPane",props:{label:String,labelContent:Function,name:String,closable:Boolean,disabled:Boolean,lazy:Boolean},data:function(){return{index:null,loaded:!1}},computed:{isClosable:function(){return this.closable||this.$parent.closable},active:function(){var e=this.$parent.currentName===(this.name||this.index);return e&&(this.loaded=!0),e},paneName:function(){return this.name||this.index}},updated:function(){this.$parent.$emit("tab-nav-update")}},dt,[],!1,null,null,null);c.options.__file="packages/tabs/src/tab-pane.vue";var ho=c.exports;ho.install=function(e){e.component(ho.name,ho)};gt=ho,yt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-tree",class:{"el-tree--highlight-current":t.highlightCurrent,"is-dragging":!!t.dragState.draggingNode,"is-drop-not-allow":!t.dragState.allowDrop,"is-drop-inner":"inner"===t.dragState.dropType},attrs:{role:"tree"}},[t._l(t.root.childNodes,function(e){return i("el-tree-node",{key:t.getNodeKey(e),attrs:{node:e,props:t.props,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent},on:{"node-expand":t.handleNodeExpand}})}),t.isEmpty?i("div",{staticClass:"el-tree__empty-block"},[i("span",{staticClass:"el-tree__empty-text"},[t._v(t._s(t.emptyText))])]):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.dragState.showDropIndicator,expression:"dragState.showDropIndicator"}],ref:"dropIndicator",staticClass:"el-tree__drop-indicator"})],2)};yt._withStripped=!0;function uo(e,t){return e?t[e]:t[fo]}var fo="$treeNodeId",po=function(e,t){t&&!t[fo]&&Object.defineProperty(t,fo,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},Mt=function(e,t,i){return t&&go(e.prototype,t),i&&go(e,i),e};function go(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mo(e){for(var t=!0,i=!0,n=!0,r=0,o=e.length;r<o;r++){var s=e[r];!0===s.checked&&!s.indeterminate||(t=!1,s.disabled||(n=!1)),!1===s.checked&&!s.indeterminate||(i=!1)}return{all:t,none:i,allWithoutDisable:n,half:!t&&!i}}function vo(e){var t,i,n;0!==e.childNodes.length&&(t=(i=mo(e.childNodes)).all,n=i.none,i=i.half,t?(e.checked=!0,e.indeterminate=!1):i?(e.checked=!1,e.indeterminate=!0):n&&(e.checked=!1,e.indeterminate=!1),(n=e.parent)&&0!==n.level&&(e.store.checkStrictly||vo(n)))}var yo=function(e,t){var i=e.store.props,n=e.data||{},i=i[t];if("function"==typeof i)return i(n,e);if("string"==typeof i)return n[i];if(void 0===i){t=n[t];return void 0===t?"":t}},bo=0,wo=(Co.prototype.setData=function(e){Array.isArray(e)||po(this,e),this.data=e,this.childNodes=[];for(var t,i=0,n=(t=0===this.level&&this.data instanceof Array?this.data:yo(this,"children")||[]).length;i<n;i++)this.insertChild({data:t[i]})},Co.prototype.contains=function(a){var l=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return function e(t){for(var i=t.childNodes||[],n=!1,r=0,o=i.length;r<o;r++){var s=i[r];if(s===a||l&&e(s)){n=!0;break}}return n}(this)},Co.prototype.remove=function(){var e=this.parent;e&&e.removeChild(this)},Co.prototype.insertChild=function(e,t,i){if(!e)throw new Error("insertChild error: child is required.");e instanceof Co||(i||-1===(i=this.getChildren(!0)).indexOf(e.data)&&(void 0===t||t<0?i.push(e.data):i.splice(t,0,e.data)),q(e,{parent:this,store:this.store}),e=new Co(e)),e.level=this.level+1,void 0===t||t<0?this.childNodes.push(e):this.childNodes.splice(t,0,e),this.updateLeafState()},Co.prototype.insertBefore=function(e,t){var i=void 0;t&&(i=this.childNodes.indexOf(t)),this.insertChild(e,i)},Co.prototype.insertAfter=function(e,t){var i=void 0;t&&-1!==(i=this.childNodes.indexOf(t))&&(i+=1),this.insertChild(e,i)},Co.prototype.removeChild=function(e){var t=this.getChildren()||[],i=t.indexOf(e.data);-1<i&&t.splice(i,1);i=this.childNodes.indexOf(e);-1<i&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(i,1)),this.updateLeafState()},Co.prototype.removeChildByData=function(e){for(var t=null,i=0;i<this.childNodes.length;i++)if(this.childNodes[i].data===e){t=this.childNodes[i];break}t&&this.removeChild(t)},Co.prototype.expand=function(t,i){function n(){if(i)for(var e=r.parent;0<e.level;)e.expanded=!0,e=e.parent;r.expanded=!0,t&&t()}var r=this;this.shouldLoadData()?this.loadData(function(e){e instanceof Array&&(r.checked?r.setChecked(!0,!0):r.store.checkStrictly||vo(r),n())}):n()},Co.prototype.doCreateChildren=function(e){var t=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};e.forEach(function(e){t.insertChild(q({data:e},i),void 0,!0)})},Co.prototype.collapse=function(){this.expanded=!1},Co.prototype.shouldLoadData=function(){return!0===this.store.lazy&&this.store.load&&!this.loaded},Co.prototype.updateLeafState=function(){var e;!0!==this.store.lazy||!0===this.loaded||void 0===this.isLeafByUser?(e=this.childNodes,!this.store.lazy||!0===this.store.lazy&&!0===this.loaded?this.isLeaf=!e||0===e.length:this.isLeaf=!1):this.isLeaf=this.isLeafByUser},Co.prototype.setChecked=function(a,l,e,c){var h=this;if(this.indeterminate="half"===a,this.checked=!0===a,!this.store.checkStrictly){if(!this.shouldLoadData()||this.store.checkDescendants){var t=mo(this.childNodes),i=t.all,t=t.allWithoutDisable;this.isLeaf||i||!t||(this.checked=!1,a=!1);var n=function(){if(l){for(var e=h.childNodes,t=0,i=e.length;t<i;t++){var n=e[t];c=c||!1!==a;var r=n.disabled?n.checked:c;n.setChecked(r,l,!0,c)}var o=mo(e),s=o.half,o=o.all;o||(h.checked=o,h.indeterminate=s)}};if(this.shouldLoadData())return void this.loadData(function(){n(),vo(h)},{checked:!1!==a});n()}t=this.parent;t&&0!==t.level&&(e||vo(t))}},Co.prototype.getChildren=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(0===this.level)return this.data;var t=this.data;if(!t)return null;var i=this.store.props,n="children";return i&&(n=i.children||"children"),void 0===t[n]&&(t[n]=null),e&&!t[n]&&(t[n]=[]),t[n]},Co.prototype.updateChildren=function(){var i=this,e=this.getChildren()||[],n=this.childNodes.map(function(e){return e.data}),r={},o=[];e.forEach(function(e,t){var i=e[fo];i&&0<=T(n,function(e){return e[fo]===i})?r[i]={index:t,data:e}:o.push({index:t,data:e})}),this.store.lazy||n.forEach(function(e){r[e[fo]]||i.removeChildByData(e)}),o.forEach(function(e){var t=e.index,e=e.data;i.insertChild({data:e},t)}),this.updateLeafState()},Co.prototype.loadData=function(t){var i=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!0!==this.store.lazy||!this.store.load||this.loaded||this.loading&&!Object.keys(n).length?t&&t.call(this):(this.loading=!0,this.store.load(this,function(e){i.loaded=!0,i.loading=!1,i.childNodes=[],i.doCreateChildren(e,n),i.updateLeafState(),t&&t.call(i,e)}))},Mt(Co,[{key:"label",get:function(){return yo(this,"label")}},{key:"key",get:function(){var e=this.store.key;return this.data?this.data[e]:null}},{key:"disabled",get:function(){return yo(this,"disabled")}},{key:"nextSibling",get:function(){var e=this.parent;if(e){var t=e.childNodes.indexOf(this);if(-1<t)return e.childNodes[t+1]}return null}},{key:"previousSibling",get:function(){var e=this.parent;if(e){var t=e.childNodes.indexOf(this);if(-1<t)return 0<t?e.childNodes[t-1]:null}return null}}]),Co),xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Co(e){for(var t in function(e){if(!(e instanceof Co))throw new TypeError("Cannot call a class as a function")}(this),this.id=bo++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1);var i=this.store;if(!i)throw new Error("[Node]store is required!");i.registerNode(this);var n,r=i.props;!r||void 0===r.isLeaf||"boolean"==typeof(n=yo(this,"isLeaf"))&&(this.isLeafByUser=n),!0!==i.lazy&&this.data?(this.setData(this.data),i.defaultExpandAll&&(this.expanded=!0)):0<this.level&&i.lazy&&i.defaultExpandAll&&this.expand(),Array.isArray(this.data)||po(this,this.data),this.data&&(r=i.defaultExpandedKeys,(n=i.key)&&r&&-1!==r.indexOf(this.key)&&this.expand(null,i.autoExpandParent),n&&void 0!==i.currentNodeKey&&this.key===i.currentNodeKey&&(i.currentNode=this,i.currentNode.isCurrent=!0),i.lazy&&i._initDefaultCheckedNode(this),this.updateLeafState())}var So=(_o.prototype.filter=function(n){var r=this.filterNodeMethod,o=this.lazy;!function t(e){var i=(e.root?e.root:e).childNodes;i.forEach(function(e){e.visible=r.call(e,n,e.data,e),t(e)}),!e.visible&&i.length&&(i=!i.some(function(e){return e.visible}),e.root?e.root.visible=!1==i:e.visible=!1==i),n&&(!e.visible||e.isLeaf||o||e.expand())}(this)},_o.prototype.setData=function(e){e!==this.root.data?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()},_o.prototype.getNode=function(e){if(e instanceof wo)return e;e="object"!==(void 0===e?"undefined":xo(e))?e:uo(this.key,e);return this.nodesMap[e]||null},_o.prototype.insertBefore=function(e,t){t=this.getNode(t);t.parent.insertBefore({data:e},t)},_o.prototype.insertAfter=function(e,t){t=this.getNode(t);t.parent.insertAfter({data:e},t)},_o.prototype.remove=function(e){e=this.getNode(e);e&&e.parent&&(e===this.currentNode&&(this.currentNode=null),e.parent.removeChild(e))},_o.prototype.append=function(e,t){t=t?this.getNode(t):this.root;t&&t.insertChild({data:e})},_o.prototype._initDefaultCheckedNodes=function(){var t=this,e=this.defaultCheckedKeys||[],i=this.nodesMap;e.forEach(function(e){e=i[e];e&&e.setChecked(!0,!t.checkStrictly)})},_o.prototype._initDefaultCheckedNode=function(e){-1!==(this.defaultCheckedKeys||[]).indexOf(e.key)&&e.setChecked(!0,!this.checkStrictly)},_o.prototype.setDefaultCheckedKey=function(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())},_o.prototype.registerNode=function(e){this.key&&e&&e.data&&void 0!==e.key&&(this.nodesMap[e.key]=e)},_o.prototype.deregisterNode=function(e){var t=this;this.key&&e&&e.data&&(e.childNodes.forEach(function(e){t.deregisterNode(e)}),delete this.nodesMap[e.key])},_o.prototype.getCheckedNodes=function(){var i=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=[];return function t(e){(e.root?e.root:e).childNodes.forEach(function(e){(e.checked||n&&e.indeterminate)&&(!i||i&&e.isLeaf)&&r.push(e.data),t(e)})}(this),r},_o.prototype.getCheckedKeys=function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this.getCheckedNodes(e).map(function(e){return(e||{})[t.key]})},_o.prototype.getHalfCheckedNodes=function(){var i=[];return function t(e){(e.root?e.root:e).childNodes.forEach(function(e){e.indeterminate&&i.push(e.data),t(e)})}(this),i},_o.prototype.getHalfCheckedKeys=function(){var t=this;return this.getHalfCheckedNodes().map(function(e){return(e||{})[t.key]})},_o.prototype._getAllNodes=function(){var e,t=[],i=this.nodesMap;for(e in i)i.hasOwnProperty(e)&&t.push(i[e]);return t},_o.prototype.updateChildren=function(e,t){var i=this.nodesMap[e];if(i){for(var n=i.childNodes,r=n.length-1;0<=r;r--){var o=n[r];this.remove(o.data)}for(var s=0,a=t.length;s<a;s++){var l=t[s];this.append(l,i.data)}}},_o.prototype._setCheckedKeys=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=arguments[2],n=this._getAllNodes().sort(function(e,t){return t.level-e.level}),r=Object.create(null),o=Object.keys(i);n.forEach(function(e){return e.setChecked(!1,!1)});for(var s=0,a=n.length;s<a;s++){var l=n[s],c=l.data[e].toString();if(-1<o.indexOf(c)){for(var h=l.parent;h&&0<h.level;)r[h.data[e]]=!0,h=h.parent;l.isLeaf||this.checkStrictly?l.setChecked(!0,!1):(l.setChecked(!0,!0),t&&(l.setChecked(!1,!1),function t(e){e.childNodes.forEach(function(e){e.isLeaf||e.setChecked(!1,!1),t(e)})}(l)))}else l.checked&&!r[c]&&l.setChecked(!1,!1)}},_o.prototype.setCheckedNodes=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=this.key,n={};e.forEach(function(e){n[(e||{})[i]]=!0}),this._setCheckedKeys(i,t,n)},_o.prototype.setCheckedKeys=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];this.defaultCheckedKeys=e;var i=this.key,n={};e.forEach(function(e){n[e]=!0}),this._setCheckedKeys(i,t,n)},_o.prototype.setDefaultExpandedKeys=function(e){var t=this;e=e||[],(this.defaultExpandedKeys=e).forEach(function(e){e=t.getNode(e);e&&e.expand(null,t.autoExpandParent)})},_o.prototype.setChecked=function(e,t,i){e=this.getNode(e);e&&e.setChecked(!!t,i)},_o.prototype.getCurrentNode=function(){return this.currentNode},_o.prototype.setCurrentNode=function(e){var t=this.currentNode;t&&(t.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0},_o.prototype.setUserCurrentNode=function(e){e=e[this.key],e=this.nodesMap[e];this.setCurrentNode(e)},_o.prototype.setCurrentNodeKey=function(e){if(null==e)return this.currentNode&&(this.currentNode.isCurrent=!1),void(this.currentNode=null);e=this.getNode(e);e&&this.setCurrentNode(e)},_o),At=function(){var t=this,i=this,e=i.$createElement,n=i._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:i.node.visible,expression:"node.visible"}],ref:"node",staticClass:"el-tree-node",class:{"is-expanded":i.expanded,"is-current":i.node.isCurrent,"is-hidden":!i.node.visible,"is-focusable":!i.node.disabled,"is-checked":!i.node.disabled&&i.node.checked},attrs:{role:"treeitem",tabindex:"-1","aria-expanded":i.expanded,"aria-disabled":i.node.disabled,"aria-checked":i.node.checked,draggable:i.tree.draggable},on:{click:function(e){return e.stopPropagation(),i.handleClick(e)},contextmenu:function(e){return t.handleContextMenu(e)},dragstart:function(e){return e.stopPropagation(),i.handleDragStart(e)},dragover:function(e){return e.stopPropagation(),i.handleDragOver(e)},dragend:function(e){return e.stopPropagation(),i.handleDragEnd(e)},drop:function(e){return e.stopPropagation(),i.handleDrop(e)}}},[n("div",{staticClass:"el-tree-node__content",style:{"padding-left":(i.node.level-1)*i.tree.indent+"px"}},[n("span",{class:[{"is-leaf":i.node.isLeaf,expanded:!i.node.isLeaf&&i.expanded},"el-tree-node__expand-icon",i.tree.iconClass?i.tree.iconClass:"el-icon-caret-right"],on:{click:function(e){return e.stopPropagation(),i.handleExpandIconClick(e)}}}),i.showCheckbox?n("el-checkbox",{attrs:{indeterminate:i.node.indeterminate,disabled:!!i.node.disabled},on:{change:i.handleCheckChange},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:i.node.checked,callback:function(e){i.$set(i.node,"checked",e)},expression:"node.checked"}}):i._e(),i.node.loading?n("span",{staticClass:"el-tree-node__loading-icon el-icon-loading"}):i._e(),n("node-content",{attrs:{node:i.node}})],1),n("el-collapse-transition",[!i.renderAfterExpand||i.childNodeRendered?n("div",{directives:[{name:"show",rawName:"v-show",value:i.expanded,expression:"expanded"}],staticClass:"el-tree-node__children",attrs:{role:"group","aria-expanded":i.expanded}},i._l(i.node.childNodes,function(e){return n("el-tree-node",{key:i.getNodeKey(e),attrs:{"render-content":i.renderContent,"render-after-expand":i.renderAfterExpand,"show-checkbox":i.showCheckbox,node:e},on:{"node-expand":i.handleChildNodeExpand}})}),1):i._e()])],1)};function _o(e){var t,i=this;for(t in function(e){if(!(e instanceof _o))throw new TypeError("Cannot call a class as a function")}(this),this.currentNode=null,this.currentNodeKey=null,e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.nodesMap={},this.root=new wo({data:this.data,store:this}),this.lazy&&this.load?(0,this.load)(this.root,function(e){i.root.doCreateChildren(e),i._initDefaultCheckedNodes()}):this._initDefaultCheckedNodes()}At._withStripped=!0;o=r({name:"ElTreeNode",componentName:"ElTreeNode",mixins:[l],props:{node:{default:function(){return{}}},props:{},renderContent:Function,renderAfterExpand:{type:Boolean,default:!0},showCheckbox:{type:Boolean,default:!1}},components:{ElCollapseTransition:qt,ElCheckbox:Z,NodeContent:{props:{node:{required:!0}},render:function(e){var t=this.$parent,i=t.tree,n=this.node,r=n.data,o=n.store;return t.renderContent?t.renderContent.call(t._renderProxy,e,{_self:i.$vnode.context,node:n,data:r,store:o}):i.$scopedSlots.default?i.$scopedSlots.default({node:n,data:r}):e("span",{class:"el-tree-node__label"},[n.label])}}},data:function(){return{tree:null,expanded:!1,childNodeRendered:!1,oldChecked:null,oldIndeterminate:null}},watch:{"node.indeterminate":function(e){this.handleSelectChange(this.node.checked,e)},"node.checked":function(e){this.handleSelectChange(e,this.node.indeterminate)},"node.expanded":function(e){var t=this;this.$nextTick(function(){return t.expanded=e}),e&&(this.childNodeRendered=!0)}},methods:{getNodeKey:function(e){return uo(this.tree.nodeKey,e.data)},handleSelectChange:function(e,t){this.oldChecked!==e&&this.oldIndeterminate!==t&&this.tree.$emit("check-change",this.node.data,e,t),this.oldChecked=e,this.indeterminate=t},handleClick:function(){var e=this.tree.store;e.setCurrentNode(this.node),this.tree.$emit("current-change",e.currentNode?e.currentNode.data:null,e.currentNode),(this.tree.currentNode=this).tree.expandOnClickNode&&this.handleExpandIconClick(),this.tree.checkOnClickNode&&!this.node.disabled&&this.handleCheckChange(null,{target:{checked:!this.node.checked}}),this.tree.$emit("node-click",this.node.data,this.node,this)},handleContextMenu:function(e){this.tree._events["node-contextmenu"]&&0<this.tree._events["node-contextmenu"].length&&(e.stopPropagation(),e.preventDefault()),this.tree.$emit("node-contextmenu",e,this.node.data,this.node,this)},handleExpandIconClick:function(){this.node.isLeaf||(this.expanded?(this.tree.$emit("node-collapse",this.node.data,this.node,this),this.node.collapse()):(this.node.expand(),this.$emit("node-expand",this.node.data,this.node,this)))},handleCheckChange:function(e,t){var i=this;this.node.setChecked(t.target.checked,!this.tree.checkStrictly),this.$nextTick(function(){var e=i.tree.store;i.tree.$emit("check",i.node.data,{checkedNodes:e.getCheckedNodes(),checkedKeys:e.getCheckedKeys(),halfCheckedNodes:e.getHalfCheckedNodes(),halfCheckedKeys:e.getHalfCheckedKeys()})})},handleChildNodeExpand:function(e,t,i){this.broadcast("ElTreeNode","tree-node-expand",t),this.tree.$emit("node-expand",e,t,i)},handleDragStart:function(e){this.tree.draggable&&this.tree.$emit("tree-node-drag-start",e,this)},handleDragOver:function(e){this.tree.draggable&&(this.tree.$emit("tree-node-drag-over",e,this),e.preventDefault())},handleDrop:function(e){e.preventDefault()},handleDragEnd:function(e){this.tree.draggable&&this.tree.$emit("tree-node-drag-end",e,this)}},created:function(){var t=this,e=this.$parent;e.isTree?this.tree=e:this.tree=e.tree;e=this.tree;e||console.warn("Can not find node's tree.");e=(e.props||{}).children||"children";this.$watch("node.data."+e,function(){t.node.updateChildren()}),this.node.expanded&&(this.expanded=!0,this.childNodeRendered=!0),this.tree.accordion&&this.$on("tree-node-expand",function(e){t.node!==e&&t.node.collapse()})}},At,[],!1,null,null,null);o.options.__file="packages/tree/src/tree-node.vue";Ct=r({name:"ElTree",mixins:[l],components:{ElTreeNode:o.exports},data:function(){return{store:null,root:null,currentNode:null,treeItems:null,checkboxItems:[],dragState:{showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0}}},props:{data:{type:Array},emptyText:{type:String,default:function(){return O("el.tree.emptyText")}},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{default:function(){return{children:"children",label:"label",disabled:"disabled"}}},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},iconClass:String},computed:{children:{set:function(e){this.data=e},get:function(){return this.data}},treeItemArray:function(){return Array.prototype.slice.call(this.treeItems)},isEmpty:function(){var e=this.root.childNodes;return!e||0===e.length||e.every(function(e){return!e.visible})}},watch:{defaultCheckedKeys:function(e){this.store.setDefaultCheckedKey(e)},defaultExpandedKeys:function(e){this.store.defaultExpandedKeys=e,this.store.setDefaultExpandedKeys(e)},data:function(e){this.store.setData(e)},checkboxItems:function(e){Array.prototype.forEach.call(e,function(e){e.setAttribute("tabindex",-1)})},checkStrictly:function(e){this.store.checkStrictly=e}},methods:{filter:function(e){if(!this.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");this.store.filter(e)},getNodeKey:function(e){return uo(this.nodeKey,e.data)},getNodePath:function(e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");e=this.store.getNode(e);if(!e)return[];for(var t=[e.data],i=e.parent;i&&i!==this.root;)t.push(i.data),i=i.parent;return t.reverse()},getCheckedNodes:function(e,t){return this.store.getCheckedNodes(e,t)},getCheckedKeys:function(e){return this.store.getCheckedKeys(e)},getCurrentNode:function(){var e=this.store.getCurrentNode();return e?e.data:null},getCurrentKey:function(){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");var e=this.getCurrentNode();return e?e[this.nodeKey]:null},setCheckedNodes:function(e,t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");this.store.setCheckedNodes(e,t)},setCheckedKeys:function(e,t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");this.store.setCheckedKeys(e,t)},setChecked:function(e,t,i){this.store.setChecked(e,t,i)},getHalfCheckedNodes:function(){return this.store.getHalfCheckedNodes()},getHalfCheckedKeys:function(){return this.store.getHalfCheckedKeys()},setCurrentNode:function(e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");this.store.setUserCurrentNode(e)},setCurrentKey:function(e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");this.store.setCurrentNodeKey(e)},getNode:function(e){return this.store.getNode(e)},remove:function(e){this.store.remove(e)},append:function(e,t){this.store.append(e,t)},insertBefore:function(e,t){this.store.insertBefore(e,t)},insertAfter:function(e,t){this.store.insertAfter(e,t)},handleNodeExpand:function(e,t,i){this.broadcast("ElTreeNode","tree-node-expand",t),this.$emit("node-expand",e,t,i)},updateKeyChildren:function(e,t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");this.store.updateChildren(e,t)},initTabIndex:function(){this.treeItems=this.$el.querySelectorAll(".is-focusable[role=treeitem]"),this.checkboxItems=this.$el.querySelectorAll("input[type=checkbox]");var e=this.$el.querySelectorAll(".is-checked[role=treeitem]");e.length?e[0].setAttribute("tabindex",0):this.treeItems[0]&&this.treeItems[0].setAttribute("tabindex",0)},handleKeydown:function(e){var t,i,n,r=e.target;-1!==r.className.indexOf("el-tree-node")&&(t=e.keyCode,this.treeItems=this.$el.querySelectorAll(".is-focusable[role=treeitem]"),i=this.treeItemArray.indexOf(r),n=void 0,-1<[38,40].indexOf(t)&&(e.preventDefault(),n=38===t?0!==i?i-1:0:i<this.treeItemArray.length-1?i+1:0,this.treeItemArray[n].focus()),-1<[37,39].indexOf(t)&&(e.preventDefault(),r.click()),r=r.querySelector('[type="checkbox"]'),-1<[13,32].indexOf(t)&&r&&(e.preventDefault(),r.click()))}},created:function(){var f=this;this.isTree=!0,this.store=new So({key:this.nodeKey,data:this.data,lazy:this.lazy,props:this.props,load:this.load,currentNodeKey:this.currentNodeKey,checkStrictly:this.checkStrictly,checkDescendants:this.checkDescendants,defaultCheckedKeys:this.defaultCheckedKeys,defaultExpandedKeys:this.defaultExpandedKeys,autoExpandParent:this.autoExpandParent,defaultExpandAll:this.defaultExpandAll,filterNodeMethod:this.filterNodeMethod}),this.root=this.store.root;var p=this.dragState;this.$on("tree-node-drag-start",function(e,t){if("function"==typeof f.allowDrag&&!f.allowDrag(t.node))return e.preventDefault(),!1;e.dataTransfer.effectAllowed="move";try{e.dataTransfer.setData("text/plain","")}catch(e){}p.draggingNode=t,f.$emit("node-drag-start",t.node,e)}),this.$on("tree-node-drag-over",function(t,e){var i=function(){for(var e=t.target;e&&"BODY"!==e.tagName;){if(e.__vue__&&"ElTreeNode"===e.__vue__.$options.name)return e.__vue__;e=e.parentNode}return null}(),n=p.dropNode;n&&n!==i&&ue(n.$el,"is-drop-inner");var r,o,s,a,l,c,h,u,d=p.draggingNode;d&&i&&(r=l=u=c=!0,"function"==typeof f.allowDrop&&(c=f.allowDrop(d.node,i.node,"prev"),r=u=f.allowDrop(d.node,i.node,"inner"),l=f.allowDrop(d.node,i.node,"next")),t.dataTransfer.dropEffect=u?"move":"none",(c||u||l)&&n!==i&&(n&&f.$emit("node-drag-leave",d.node,n.node,t),f.$emit("node-drag-enter",d.node,i.node,t)),(c||u||l)&&(p.dropNode=i),i.node.nextSibling===d.node&&(l=!1),i.node.previousSibling===d.node&&(c=!1),i.node.contains(d.node,!1)&&(u=!1),d.node!==i.node&&!d.node.contains(i.node)||(l=u=c=!1),o=i.$el.getBoundingClientRect(),s=f.$el.getBoundingClientRect(),h=void 0,a=c?u?.25:l?.45:1:-1,n=l?u?.75:c?.55:0:1,l=-9999,h=(c=t.clientY-o.top)<o.height*a?"before":c>o.height*n?"after":u?"inner":"none",n=i.$el.querySelector(".el-tree-node__expand-icon").getBoundingClientRect(),u=f.$refs.dropIndicator,"before"==h?l=n.top-s.top:"after"==h&&(l=n.bottom-s.top),u.style.top=l+"px",u.style.left=n.right-s.left+"px",("inner"==h?he:ue)(i.$el,"is-drop-inner"),p.showDropIndicator="before"==h||"after"==h,p.allowDrop=p.showDropIndicator||r,p.dropType=h,f.$emit("node-drag-over",d.node,i.node,t))}),this.$on("tree-node-drag-end",function(e){var t,i=p.draggingNode,n=p.dropType,r=p.dropNode;e.preventDefault(),e.dataTransfer.dropEffect="move",i&&r&&(t={data:i.node.data},"none"!==n&&i.node.remove(),"before"===n?r.node.parent.insertBefore(t,r.node):"after"===n?r.node.parent.insertAfter(t,r.node):"inner"===n&&r.node.insertChild(t),"none"!==n&&f.store.registerNode(t),ue(r.$el,"is-drop-inner"),f.$emit("node-drag-end",i.node,r.node,n,e),"none"!==n&&f.$emit("node-drop",i.node,r.node,n,e)),i&&!r&&f.$emit("node-drag-end",i.node,null,n,e),p.showDropIndicator=!1,p.draggingNode=null,p.dropNode=null,p.allowDrop=!0})},mounted:function(){this.initTabIndex(),this.$el.addEventListener("keydown",this.handleKeydown)},updated:function(){this.treeItems=this.$el.querySelectorAll("[role=treeitem]"),this.checkboxItems=this.$el.querySelectorAll("input[type=checkbox]")}},yt,[],!1,null,null,null);Ct.options.__file="packages/tree/src/tree.vue";var ko=Ct.exports;ko.install=function(e){e.component(ko.name,ko)};Nt=ko,mi=function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("transition",{attrs:{name:"el-alert-fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-alert",class:[t.typeClass,t.center?"is-center":"","is-"+t.effect],attrs:{role:"alert"}},[t.showIcon?e("i",{staticClass:"el-alert__icon",class:[t.iconClass,t.isBigIcon]}):t._e(),e("div",{staticClass:"el-alert__content"},[t.title||t.$slots.title?e("span",{staticClass:"el-alert__title",class:[t.isBoldTitle]},[t._t("title",[t._v(t._s(t.title))])],2):t._e(),t.$slots.default&&!t.description?e("p",{staticClass:"el-alert__description"},[t._t("default")],2):t._e(),t.description&&!t.$slots.default?e("p",{staticClass:"el-alert__description"},[t._v(t._s(t.description))]):t._e(),e("i",{directives:[{name:"show",rawName:"v-show",value:t.closable,expression:"closable"}],staticClass:"el-alert__closebtn",class:{"is-customed":""!==t.closeText,"el-icon-close":""===t.closeText},on:{click:function(e){t.close()}}},[t._v(t._s(t.closeText))])])])])};mi._withStripped=!0;var Mo={success:"el-icon-success",warning:"el-icon-warning",error:"el-icon-error"},It=r({name:"ElAlert",props:{title:{type:String,default:""},description:{type:String,default:""},type:{type:String,default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,default:"light",validator:function(e){return-1!==["light","dark"].indexOf(e)}}},data:function(){return{visible:!0}},methods:{close:function(){this.visible=!1,this.$emit("close")}},computed:{typeClass:function(){return"el-alert--"+this.type},iconClass:function(){return Mo[this.type]||"el-icon-info"},isBigIcon:function(){return this.description||this.$slots.default?"is-big":""},isBoldTitle:function(){return this.description||this.$slots.default?"is-bold":""}}},mi,[],!1,null,null,null);It.options.__file="packages/alert/src/main.vue";var To=It.exports;To.install=function(e){e.component(To.name,To)};zt=To,Sr=function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("transition",{attrs:{name:"el-notification-fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],class:["el-notification",t.customClass,t.horizontalClass],style:t.positionStyle,attrs:{role:"alert"},on:{mouseenter:function(e){t.clearTimer()},mouseleave:function(e){t.startTimer()},click:t.click}},[t.type||t.iconClass?e("i",{staticClass:"el-notification__icon",class:[t.typeClass,t.iconClass]}):t._e(),e("div",{staticClass:"el-notification__group",class:{"is-with-icon":t.typeClass||t.iconClass}},[e("h2",{staticClass:"el-notification__title",domProps:{textContent:t._s(t.title)}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.message,expression:"message"}],staticClass:"el-notification__content"},[t._t("default",[t.dangerouslyUseHTMLString?e("p",{domProps:{innerHTML:t._s(t.message)}}):e("p",[t._v(t._s(t.message))])])],2),t.showClose?e("div",{staticClass:"el-notification__closeBtn el-icon-close",on:{click:function(e){return e.stopPropagation(),t.close(e)}}}):t._e()])])])};Sr._withStripped=!0;var Do={success:"success",info:"info",warning:"warning",error:"error"},Bt=r({data:function(){return{visible:!1,title:"",message:"",duration:4500,type:"",showClose:!0,customClass:"",iconClass:"",onClose:null,onClick:null,closed:!1,verticalOffset:0,timer:null,dangerouslyUseHTMLString:!1,position:"top-right"}},computed:{typeClass:function(){return this.type&&Do[this.type]?"el-icon-"+Do[this.type]:""},horizontalClass:function(){return-1<this.position.indexOf("right")?"right":"left"},verticalProperty:function(){return/^top-/.test(this.position)?"top":"bottom"},positionStyle:function(){var e;return(e={})[this.verticalProperty]=this.verticalOffset+"px",e}},watch:{closed:function(e){e&&(this.visible=!1,this.$el.addEventListener("transitionend",this.destroyElement))}},methods:{destroyElement:function(){this.$el.removeEventListener("transitionend",this.destroyElement),this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},click:function(){"function"==typeof this.onClick&&this.onClick()},close:function(){this.closed=!0,"function"==typeof this.onClose&&this.onClose()},clearTimer:function(){clearTimeout(this.timer)},startTimer:function(){var e=this;0<this.duration&&(this.timer=setTimeout(function(){e.closed||e.close()},this.duration))},keydown:function(e){46===e.keyCode||8===e.keyCode?this.clearTimer():27===e.keyCode?this.closed||this.close():this.startTimer()}},mounted:function(){var e=this;0<this.duration&&(this.timer=setTimeout(function(){e.closed||e.close()},this.duration)),document.addEventListener("keydown",this.keydown)},beforeDestroy:function(){document.removeEventListener("keydown",this.keydown)}},Sr,[],!1,null,null,null);Bt.options.__file="packages/notification/src/main.vue";function Ao(e){if(!u.a.prototype.$isServer){var t=(e=q({},e)).onClose,i="notification_"+Io++,n=e.position||"top-right";e.onClose=function(){Ao.close(i,t)},Eo=new $o({data:e}),Dr(e.message)&&(Eo.$slots.default=[e.message],e.message="REPLACED_BY_VNODE"),Eo.id=i,Eo.$mount(),document.body.appendChild(Eo.$el),Eo.visible=!0,Eo.dom=Eo.$el,Eo.dom.style.zIndex=Ce.nextZIndex();var r=e.offset||0;return Lo.filter(function(e){return e.position===n}).forEach(function(e){r+=e.$el.offsetHeight+16}),r+=16,Eo.verticalOffset=r,Lo.push(Eo),Eo}}var ct=Bt.exports,$o=u.a.extend(ct),Eo=void 0,Lo=[],Io=1;["success","warning","info","error"].forEach(function(t){Ao[t]=function(e){return"string"!=typeof e&&!Dr(e)||(e={message:e}),e.type=t,Ao(e)}}),Ao.close=function(i,e){var n=-1,t=Lo.length,r=Lo.filter(function(e,t){return e.id===i&&(n=t,!0)})[0];if(r&&("function"==typeof e&&e(r),Lo.splice(n,1),!(t<=1)))for(var o=r.position,s=r.dom.offsetHeight,a=n;a<t-1;a++)Lo[a].position===o&&(Lo[a].dom.style[r.verticalProperty]=parseInt(Lo[a].dom.style[r.verticalProperty],10)-s-16+"px")},Ao.closeAll=function(){for(var e=Lo.length-1;0<=e;e--)Lo[e].close()};var No=Ao,Ht=function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("div",{staticClass:"el-slider",class:{"is-vertical":i.vertical,"el-slider--with-input":i.showInput},attrs:{role:"slider","aria-valuemin":i.min,"aria-valuemax":i.max,"aria-orientation":i.vertical?"vertical":"horizontal","aria-disabled":i.sliderDisabled}},[i.showInput&&!i.range?n("el-input-number",{ref:"input",staticClass:"el-slider__input",attrs:{step:i.step,disabled:i.sliderDisabled,controls:i.showInputControls,min:i.min,max:i.max,debounce:i.debounce,size:i.inputSize},on:{change:i.emitChange},model:{value:i.firstValue,callback:function(e){i.firstValue=e},expression:"firstValue"}}):i._e(),n("div",{ref:"slider",staticClass:"el-slider__runway",class:{"show-input":i.showInput,disabled:i.sliderDisabled},style:i.runwayStyle,on:{click:i.onSliderClick}},[n("div",{staticClass:"el-slider__bar",style:i.barStyle}),n("slider-button",{ref:"button1",attrs:{vertical:i.vertical,"tooltip-class":i.tooltipClass},model:{value:i.firstValue,callback:function(e){i.firstValue=e},expression:"firstValue"}}),i.range?n("slider-button",{ref:"button2",attrs:{vertical:i.vertical,"tooltip-class":i.tooltipClass},model:{value:i.secondValue,callback:function(e){i.secondValue=e},expression:"secondValue"}}):i._e(),i._l(i.stops,function(e,t){return i.showStops?n("div",{key:t,staticClass:"el-slider__stop",style:i.getStopStyle(e)}):i._e()}),0<i.markList.length?[n("div",i._l(i.markList,function(e,t){return n("div",{key:t,staticClass:"el-slider__stop el-slider__marks-stop",style:i.getStopStyle(e.position)})}),0),n("div",{staticClass:"el-slider__marks"},i._l(i.markList,function(e,t){return n("slider-marker",{key:t,style:i.getStopStyle(e.position),attrs:{mark:e.mark}})}),1)]:i._e()],2)],1)},ti=function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{ref:"button",staticClass:"el-slider__button-wrapper",class:{hover:t.hovering,dragging:t.dragging},style:t.wrapperStyle,attrs:{tabindex:"0"},on:{mouseenter:t.handleMouseEnter,mouseleave:t.handleMouseLeave,mousedown:t.onButtonDown,touchstart:t.onButtonDown,focus:t.handleMouseEnter,blur:t.handleMouseLeave,keydown:[function(e){return!("button"in e)&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.onLeftKeyDown(e)},function(e){return!("button"in e)&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])||"button"in e&&2!==e.button?null:t.onRightKeyDown(e)},function(e){return"button"in e||!t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?(e.preventDefault(),t.onLeftKeyDown(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?(e.preventDefault(),t.onRightKeyDown(e)):null}]}},[e("el-tooltip",{ref:"tooltip",attrs:{placement:"top","popper-class":t.tooltipClass,disabled:!t.showTooltip}},[e("span",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.formatValue))]),e("div",{staticClass:"el-slider__button",class:{hover:t.hovering,dragging:t.dragging}})])],1)};ti._withStripped=Ht._withStripped=!0;ai=r({name:"ElSliderButton",components:{ElTooltip:ni},props:{value:{type:Number,default:0},vertical:{type:Boolean,default:!1},tooltipClass:String},data:function(){return{hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:null,oldValue:this.value}},computed:{disabled:function(){return this.$parent.sliderDisabled},max:function(){return this.$parent.max},min:function(){return this.$parent.min},step:function(){return this.$parent.step},showTooltip:function(){return this.$parent.showTooltip},precision:function(){return this.$parent.precision},currentPosition:function(){return(this.value-this.min)/(this.max-this.min)*100+"%"},enableFormat:function(){return this.$parent.formatTooltip instanceof Function},formatValue:function(){return this.enableFormat&&this.$parent.formatTooltip(this.value)||this.value},wrapperStyle:function(){return this.vertical?{bottom:this.currentPosition}:{left:this.currentPosition}}},watch:{dragging:function(e){this.$parent.dragging=e}},methods:{displayTooltip:function(){this.$refs.tooltip&&(this.$refs.tooltip.showPopper=!0)},hideTooltip:function(){this.$refs.tooltip&&(this.$refs.tooltip.showPopper=!1)},handleMouseEnter:function(){this.hovering=!0,this.displayTooltip()},handleMouseLeave:function(){this.hovering=!1,this.hideTooltip()},onButtonDown:function(e){this.disabled||(e.preventDefault(),this.onDragStart(e),window.addEventListener("mousemove",this.onDragging),window.addEventListener("touchmove",this.onDragging),window.addEventListener("mouseup",this.onDragEnd),window.addEventListener("touchend",this.onDragEnd),window.addEventListener("contextmenu",this.onDragEnd))},onLeftKeyDown:function(){this.disabled||(this.newPosition=parseFloat(this.currentPosition)-this.step/(this.max-this.min)*100,this.setPosition(this.newPosition),this.$parent.emitChange())},onRightKeyDown:function(){this.disabled||(this.newPosition=parseFloat(this.currentPosition)+this.step/(this.max-this.min)*100,this.setPosition(this.newPosition),this.$parent.emitChange())},onDragStart:function(e){this.dragging=!0,this.isClick=!0,"touchstart"===e.type&&(e.clientY=e.touches[0].clientY,e.clientX=e.touches[0].clientX),this.vertical?this.startY=e.clientY:this.startX=e.clientX,this.startPosition=parseFloat(this.currentPosition),this.newPosition=this.startPosition},onDragging:function(e){var t;this.dragging&&(this.isClick=!1,this.displayTooltip(),this.$parent.resetSize(),t=0,"touchmove"===e.type&&(e.clientY=e.touches[0].clientY,e.clientX=e.touches[0].clientX),t=this.vertical?(this.currentY=e.clientY,(this.startY-this.currentY)/this.$parent.sliderSize*100):(this.currentX=e.clientX,(this.currentX-this.startX)/this.$parent.sliderSize*100),this.newPosition=this.startPosition+t,this.setPosition(this.newPosition))},onDragEnd:function(){var e=this;this.dragging&&(setTimeout(function(){e.dragging=!1,e.hideTooltip(),e.isClick||(e.setPosition(e.newPosition),e.$parent.emitChange())},0),window.removeEventListener("mousemove",this.onDragging),window.removeEventListener("touchmove",this.onDragging),window.removeEventListener("mouseup",this.onDragEnd),window.removeEventListener("touchend",this.onDragEnd),window.removeEventListener("contextmenu",this.onDragEnd))},setPosition:function(e){var t,i=this;null===e||isNaN(e)||(e<0?e=0:100<e&&(e=100),t=100/((this.max-this.min)/this.step),t=Math.round(e/t)*t*(this.max-this.min)*.01+this.min,t=parseFloat(t.toFixed(this.precision)),this.$emit("input",t),this.$nextTick(function(){i.displayTooltip(),i.$refs.tooltip&&i.$refs.tooltip.updatePopper()}),this.dragging||this.value===this.oldValue||(this.oldValue=this.value))}}},ti,[],!1,null,null,null);ai.options.__file="packages/slider/src/button.vue";ri=ai.exports,ui={name:"ElMarker",props:{mark:{type:[String,Object]}},render:function(){var e=arguments[0],t="string"==typeof this.mark?this.mark:this.mark.label;return e("div",{class:"el-slider__marks-text",style:this.mark.style||{}},[t])}},fi=r({name:"ElSlider",mixins:[l],inject:{elForm:{default:""}},props:{min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},value:{type:[Number,Array],default:0},showInput:{type:Boolean,default:!1},showInputControls:{type:Boolean,default:!0},inputSize:{type:String,default:"small"},showStops:{type:Boolean,default:!1},showTooltip:{type:Boolean,default:!0},formatTooltip:Function,disabled:{type:Boolean,default:!1},range:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},height:{type:String},debounce:{type:Number,default:300},label:{type:String},tooltipClass:String,marks:Object},components:{ElInputNumber:gi,SliderButton:ri,SliderMarker:ui},data:function(){return{firstValue:null,secondValue:null,oldValue:null,dragging:!1,sliderSize:1}},watch:{value:function(e,i){this.dragging||Array.isArray(e)&&Array.isArray(i)&&e.every(function(e,t){return e===i[t]})||this.setValues()},dragging:function(e){e||this.setValues()},firstValue:function(e){this.range?this.$emit("input",[this.minValue,this.maxValue]):this.$emit("input",e)},secondValue:function(){this.range&&this.$emit("input",[this.minValue,this.maxValue])},min:function(){this.setValues()},max:function(){this.setValues()}},methods:{valueChanged:function(){var i=this;return this.range?![this.minValue,this.maxValue].every(function(e,t){return e===i.oldValue[t]}):this.value!==this.oldValue},setValues:function(){var e;this.min>this.max?console.error("[Element Error][Slider]min should not be greater than max."):(e=this.value,this.range&&Array.isArray(e)?e[1]<this.min?this.$emit("input",[this.min,this.min]):e[0]>this.max?this.$emit("input",[this.max,this.max]):e[0]<this.min?this.$emit("input",[this.min,e[1]]):e[1]>this.max?this.$emit("input",[e[0],this.max]):(this.firstValue=e[0],this.secondValue=e[1],this.valueChanged()&&(this.dispatch("ElFormItem","el.form.change",[this.minValue,this.maxValue]),this.oldValue=e.slice())):this.range||"number"!=typeof e||isNaN(e)||(e<this.min?this.$emit("input",this.min):e>this.max?this.$emit("input",this.max):(this.firstValue=e,this.valueChanged()&&(this.dispatch("ElFormItem","el.form.change",e),this.oldValue=e))))},setPosition:function(e){var t,i=this.min+e*(this.max-this.min)/100;this.range?(t=void 0,t=Math.abs(this.minValue-i)<Math.abs(this.maxValue-i)?this.firstValue<this.secondValue?"button1":"button2":this.firstValue>this.secondValue?"button1":"button2",this.$refs[t].setPosition(e)):this.$refs.button1.setPosition(e)},onSliderClick:function(e){var t;this.sliderDisabled||this.dragging||(this.resetSize(),this.vertical?(t=this.$refs.slider.getBoundingClientRect().bottom,this.setPosition((t-e.clientY)/this.sliderSize*100)):(t=this.$refs.slider.getBoundingClientRect().left,this.setPosition((e.clientX-t)/this.sliderSize*100)),this.emitChange())},resetSize:function(){this.$refs.slider&&(this.sliderSize=this.$refs.slider["client"+(this.vertical?"Height":"Width")])},emitChange:function(){var e=this;this.$nextTick(function(){e.$emit("change",e.range?[e.minValue,e.maxValue]:e.value)})},getStopStyle:function(e){return this.vertical?{bottom:e+"%"}:{left:e+"%"}}},computed:{stops:function(){var t=this;if(!this.showStops||this.min>this.max)return[];if(0===this.step)return[];for(var e=(this.max-this.min)/this.step,i=100*this.step/(this.max-this.min),n=[],r=1;r<e;r++)n.push(r*i);return this.range?n.filter(function(e){return e<100*(t.minValue-t.min)/(t.max-t.min)||e>100*(t.maxValue-t.min)/(t.max-t.min)}):n.filter(function(e){return e>100*(t.firstValue-t.min)/(t.max-t.min)})},markList:function(){var t=this;return this.marks?Object.keys(this.marks).map(parseFloat).sort(function(e,t){return e-t}).filter(function(e){return e<=t.max&&e>=t.min}).map(function(e){return{point:e,position:100*(e-t.min)/(t.max-t.min),mark:t.marks[e]}}):[]},minValue:function(){return Math.min(this.firstValue,this.secondValue)},maxValue:function(){return Math.max(this.firstValue,this.secondValue)},barSize:function(){return this.range?100*(this.maxValue-this.minValue)/(this.max-this.min)+"%":100*(this.firstValue-this.min)/(this.max-this.min)+"%"},barStart:function(){return this.range?100*(this.minValue-this.min)/(this.max-this.min)+"%":"0%"},precision:function(){var e=[this.min,this.max,this.step].map(function(e){e=(""+e).split(".")[1];return e?e.length:0});return Math.max.apply(null,e)},runwayStyle:function(){return this.vertical?{height:this.height}:{}},barStyle:function(){return this.vertical?{height:this.barSize,bottom:this.barStart}:{width:this.barSize,left:this.barStart}},sliderDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},mounted:function(){var e=void 0,e=this.range?(Array.isArray(this.value)?(this.firstValue=Math.max(this.min,this.value[0]),this.secondValue=Math.min(this.max,this.value[1])):(this.firstValue=this.min,this.secondValue=this.max),this.oldValue=[this.firstValue,this.secondValue],this.firstValue+"-"+this.secondValue):("number"!=typeof this.value||isNaN(this.value)?this.firstValue=this.min:this.firstValue=Math.min(this.max,Math.max(this.min,this.value)),this.oldValue=this.firstValue,this.firstValue);this.$el.setAttribute("aria-valuetext",e),this.$el.setAttribute("aria-label",this.label?this.label:"slider between "+this.min+" and "+this.max),this.resetSize(),window.addEventListener("resize",this.resetSize)},beforeDestroy:function(){window.removeEventListener("resize",this.resetSize)}},Ht,[],!1,null,null,null);fi.options.__file="packages/slider/src/main.vue";var Oo=fi.exports;Oo.install=function(e){e.component(Oo.name,Oo)};di=Oo,wi=function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("transition",{attrs:{name:"el-loading-fade"},on:{"after-leave":e.handleAfterLeave}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-loading-mask",class:[e.customClass,{"is-fullscreen":e.fullscreen}],style:{backgroundColor:e.background||""}},[t("div",{staticClass:"el-loading-spinner"},[e.spinner?t("i",{class:e.spinner}):t("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[t("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})]),e.text?t("p",{staticClass:"el-loading-text"},[e._v(e._s(e.text))]):e._e()])])])};wi._withStripped=!0;d=r({data:function(){return{text:null,spinner:null,background:null,fullscreen:!0,visible:!1,customClass:""}},methods:{handleAfterLeave:function(){this.$emit("after-leave")},setText:function(e){this.text=e}}},wi,[],!1,null,null,null);d.options.__file="packages/loading/src/loading.vue";function Ro(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:300,n=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(!e||!t)throw new Error("instance & callback is required");function r(){o||(o=!0,t&&t.apply(null,arguments))}var o=!1;n?e.$once("after-leave",r):e.$on("after-leave",r),setTimeout(function(){r()},i+100)}var K=d.exports,Po=u.a.extend(K),Fo={install:function(r){var a,e;r.prototype.$isServer||(a=function(i,n){n.value?r.nextTick(function(){n.modifiers.fullscreen?(i.originalPosition=pe(document.body,"position"),i.originalOverflow=pe(document.body,"overflow"),i.maskStyle.zIndex=Ce.nextZIndex(),he(i.mask,"is-fullscreen"),e(document.body,i,n)):(ue(i.mask,"is-fullscreen"),n.modifiers.body?(i.originalPosition=pe(document.body,"position"),["top","left"].forEach(function(e){var t="top"===e?"scrollTop":"scrollLeft";i.maskStyle[e]=i.getBoundingClientRect()[e]+document.body[t]+document.documentElement[t]-parseInt(pe(document.body,"margin-"+e),10)+"px"}),["height","width"].forEach(function(e){i.maskStyle[e]=i.getBoundingClientRect()[e]+"px"}),e(document.body,i,n)):(i.originalPosition=pe(i,"position"),e(i,i,n)))}):(Ro(i.instance,function(e){var t;i.instance.hiding&&(i.domVisible=!1,ue(t=n.modifiers.fullscreen||n.modifiers.body?document.body:i,"el-loading-parent--relative"),ue(t,"el-loading-parent--hidden"),i.instance.hiding=!1)},300,!0),i.instance.visible=!1,i.instance.hiding=!0)},e=function(e,t,i){t.domVisible||"none"===pe(t,"display")||"hidden"===pe(t,"visibility")?t.domVisible&&!0===t.instance.hiding&&(t.instance.visible=!0,t.instance.hiding=!1):(Object.keys(t.maskStyle).forEach(function(e){t.mask.style[e]=t.maskStyle[e]}),"absolute"!==t.originalPosition&&"fixed"!==t.originalPosition&&he(e,"el-loading-parent--relative"),i.modifiers.fullscreen&&i.modifiers.lock&&he(e,"el-loading-parent--hidden"),t.domVisible=!0,e.appendChild(t.mask),r.nextTick(function(){t.instance.hiding?t.instance.$emit("after-leave"):t.instance.visible=!0}),t.domInserted=!0)},r.directive("loading",{bind:function(e,t,i){var n=e.getAttribute("element-loading-text"),r=e.getAttribute("element-loading-spinner"),o=e.getAttribute("element-loading-background"),s=e.getAttribute("element-loading-custom-class"),i=i.context,s=new Po({el:document.createElement("div"),data:{text:i&&i[n]||n,spinner:i&&i[r]||r,background:i&&i[o]||o,customClass:i&&i[s]||s,fullscreen:!!t.modifiers.fullscreen}});e.instance=s,e.mask=s.$el,e.maskStyle={},t.value&&a(e,t)},update:function(e,t){e.instance.setText(e.getAttribute("element-loading-text")),t.oldValue!==t.value&&a(e,t)},unbind:function(e,t){e.domInserted&&(e.mask&&e.mask.parentNode&&e.mask.parentNode.removeChild(e.mask),a(e,{value:!1,modifiers:t.modifiers})),e.instance&&e.instance.$destroy()}}))}},zo=u.a.extend(K),Wo={text:null,fullscreen:!0,body:!1,lock:!1,customClass:""},Bo=void 0;zo.prototype.originalPosition="",zo.prototype.originalOverflow="",zo.prototype.close=function(){var i=this;this.fullscreen&&(Bo=void 0),Ro(this,function(e){var t=i.fullscreen||i.body?document.body:i.target;ue(t,"el-loading-parent--relative"),ue(t,"el-loading-parent--hidden"),i.$el&&i.$el.parentNode&&i.$el.parentNode.removeChild(i.$el),i.$destroy()},300),this.visible=!1};function jo(){var i,e,t,n,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!u.a.prototype.$isServer){if("string"==typeof(r=q({},Wo,r)).target&&(r.target=document.querySelector(r.target)),r.target=r.target||document.body,r.target!==document.body?r.fullscreen=!1:r.body=!0,r.fullscreen&&Bo)return Bo;var o=r.body?document.body:r.target,s=new zo({el:document.createElement("div"),data:r});return e=o,t=s,n={},(i=r).fullscreen?(t.originalPosition=pe(document.body,"position"),t.originalOverflow=pe(document.body,"overflow"),n.zIndex=Ce.nextZIndex()):i.body?(t.originalPosition=pe(document.body,"position"),["top","left"].forEach(function(e){var t="top"===e?"scrollTop":"scrollLeft";n[e]=i.target.getBoundingClientRect()[e]+document.body[t]+document.documentElement[t]+"px"}),["height","width"].forEach(function(e){n[e]=i.target.getBoundingClientRect()[e]+"px"})):t.originalPosition=pe(e,"position"),Object.keys(n).forEach(function(e){t.$el.style[e]=n[e]}),"absolute"!==s.originalPosition&&"fixed"!==s.originalPosition&&he(o,"el-loading-parent--relative"),r.fullscreen&&r.lock&&he(o,"el-loading-parent--hidden"),o.appendChild(s.$el),u.a.nextTick(function(){s.visible=!0}),r.fullscreen&&(Bo=s),s}}var Ho={install:function(e){e.use(Fo),e.prototype.$loading=jo},directive:Fo,service:jo},se=function(){var e=this.$createElement;return(this._self._c||e)("i",{class:"el-icon-"+this.name})};se._withStripped=!0;Ee=r({name:"ElIcon",props:{name:String}},se,[],!1,null,null,null);Ee.options.__file="packages/icon/src/icon.vue";var Ko=Ee.exports;Ko.install=function(e){e.component(Ko.name,Ko)};var n=Ko,Vo={name:"ElRow",componentName:"ElRow",props:{tag:{type:String,default:"div"},gutter:Number,type:String,justify:{type:String,default:"start"},align:{type:String,default:"top"}},computed:{style:function(){var e={};return this.gutter&&(e.marginLeft="-"+this.gutter/2+"px",e.marginRight=e.marginLeft),e}},render:function(e){return e(this.tag,{class:["el-row","start"!==this.justify?"is-justify-"+this.justify:"","top"!==this.align?"is-align-"+this.align:"",{"el-row--flex":"flex"===this.type}],style:this.style},this.$slots.default)},install:function(e){e.component(Vo.name,Vo)}},Ie=Vo,Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Go={name:"ElCol",props:{span:{type:Number,default:24},tag:{type:String,default:"div"},offset:Number,pull:Number,push:Number,xs:[Number,Object],sm:[Number,Object],md:[Number,Object],lg:[Number,Object],xl:[Number,Object]},computed:{gutter:function(){for(var e=this.$parent;e&&"ElRow"!==e.$options.componentName;)e=e.$parent;return e?e.gutter:0}},render:function(e){var n=this,r=[],t={};return this.gutter&&(t.paddingLeft=this.gutter/2+"px",t.paddingRight=t.paddingLeft),["span","offset","pull","push"].forEach(function(e){!n[e]&&0!==n[e]||r.push("span"!==e?"el-col-"+e+"-"+n[e]:"el-col-"+n[e])}),["xs","sm","md","lg","xl"].forEach(function(t){var i;"number"==typeof n[t]?r.push("el-col-"+t+"-"+n[t]):"object"===Uo(n[t])&&(i=n[t],Object.keys(i).forEach(function(e){r.push("span"!==e?"el-col-"+t+"-"+e+"-"+i[e]:"el-col-"+t+"-"+i[e])}))}),e(this.tag,{class:["el-col",r],style:t},this.$slots.default)},install:function(e){e.component(Go.name,Go)}},$e=Go,te=function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("transition-group",{class:["el-upload-list","el-upload-list--"+i.listType,{"is-disabled":i.disabled}],attrs:{tag:"ul",name:"el-list"}},i._l(i.files,function(t){return n("li",{key:t.uid,class:["el-upload-list__item","is-"+t.status,i.focusing?"focusing":""],attrs:{tabindex:"0"},on:{keydown:function(e){if(!("button"in e)&&i._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"]))return null;i.disabled||i.$emit("remove",t)},focus:function(e){i.focusing=!0},blur:function(e){i.focusing=!1},click:function(e){i.focusing=!1}}},[i._t("default",["uploading"!==t.status&&-1<["picture-card","picture"].indexOf(i.listType)?n("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:t.url,alt:""}}):i._e(),n("a",{staticClass:"el-upload-list__item-name",on:{click:function(e){i.handleClick(t)}}},[n("i",{staticClass:"el-icon-document"}),i._v(i._s(t.name)+"\n      ")]),n("label",{staticClass:"el-upload-list__item-status-label"},[n("i",{class:{"el-icon-upload-success":!0,"el-icon-circle-check":"text"===i.listType,"el-icon-check":-1<["picture-card","picture"].indexOf(i.listType)}})]),i.disabled?i._e():n("i",{staticClass:"el-icon-close",on:{click:function(e){i.$emit("remove",t)}}}),i.disabled?i._e():n("i",{staticClass:"el-icon-close-tip"},[i._v(i._s(i.t("el.upload.deleteTip")))]),"uploading"===t.status?n("el-progress",{attrs:{type:"picture-card"===i.listType?"circle":"line","stroke-width":"picture-card"===i.listType?6:2,percentage:i.parsePercentage(t.percentage)}}):i._e(),"picture-card"===i.listType?n("span",{staticClass:"el-upload-list__item-actions"},[i.handlePreview&&"picture-card"===i.listType?n("span",{staticClass:"el-upload-list__item-preview",on:{click:function(e){i.handlePreview(t)}}},[n("i",{staticClass:"el-icon-zoom-in"})]):i._e(),i.disabled?i._e():n("span",{staticClass:"el-upload-list__item-delete",on:{click:function(e){i.$emit("remove",t)}}},[n("i",{staticClass:"el-icon-delete"})])]):i._e()],{file:t})],2)}),0)},vi=function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{staticClass:"el-progress",class:["el-progress--"+e.type,e.status?"is-"+e.status:"",{"el-progress--without-text":!e.showText,"el-progress--text-inside":e.textInside}],attrs:{role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100"}},["line"===e.type?t("div",{staticClass:"el-progress-bar"},[t("div",{staticClass:"el-progress-bar__outer",style:{height:e.strokeWidth+"px"}},[t("div",{staticClass:"el-progress-bar__inner",style:e.barStyle},[e.showText&&e.textInside?t("div",{staticClass:"el-progress-bar__innerText"},[e._v(e._s(e.content))]):e._e()])])]):t("div",{staticClass:"el-progress-circle",style:{height:e.width+"px",width:e.width+"px"}},[t("svg",{attrs:{viewBox:"0 0 100 100"}},[t("path",{staticClass:"el-progress-circle__track",style:e.trailPathStyle,attrs:{d:e.trackPath,stroke:"#e5e9f2","stroke-width":e.relativeStrokeWidth,fill:"none"}}),t("path",{staticClass:"el-progress-circle__path",style:e.circlePathStyle,attrs:{d:e.trackPath,stroke:e.stroke,fill:"none","stroke-linecap":e.strokeLinecap,"stroke-width":e.percentage?e.relativeStrokeWidth:0}})])]),e.showText&&!e.textInside?t("div",{staticClass:"el-progress__text",style:{fontSize:e.progressTextSize+"px"}},[e.status?t("i",{class:e.iconClass}):[e._v(e._s(e.content))]],2):e._e()])};vi._withStripped=te._withStripped=!0;s=r({name:"ElProgress",props:{type:{type:String,default:"line",validator:function(e){return-1<["line","circle","dashboard"].indexOf(e)}},percentage:{type:Number,default:0,required:!0,validator:function(e){return 0<=e&&e<=100}},status:{type:String,validator:function(e){return-1<["success","exception","warning"].indexOf(e)}},strokeWidth:{type:Number,default:6},strokeLinecap:{type:String,default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:[String,Array,Function],default:""},format:Function},computed:{barStyle:function(){var e={};return e.width=this.percentage+"%",e.backgroundColor=this.getCurrentColor(this.percentage),e},relativeStrokeWidth:function(){return(this.strokeWidth/this.width*100).toFixed(1)},radius:function(){return"circle"===this.type||"dashboard"===this.type?parseInt(50-parseFloat(this.relativeStrokeWidth)/2,10):0},trackPath:function(){var e=this.radius,t="dashboard"===this.type;return"\n        M 50 50\n        m 0 "+(t?"":"-")+e+"\n        a "+e+" "+e+" 0 1 1 0 "+(t?"-":"")+2*e+"\n        a "+e+" "+e+" 0 1 1 0 "+(t?"":"-")+2*e+"\n        "},perimeter:function(){return 2*Math.PI*this.radius},rate:function(){return"dashboard"===this.type?.75:1},strokeDashoffset:function(){return-1*this.perimeter*(1-this.rate)/2+"px"},trailPathStyle:function(){return{strokeDasharray:this.perimeter*this.rate+"px, "+this.perimeter+"px",strokeDashoffset:this.strokeDashoffset}},circlePathStyle:function(){return{strokeDasharray:this.perimeter*this.rate*(this.percentage/100)+"px, "+this.perimeter+"px",strokeDashoffset:this.strokeDashoffset,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease"}},stroke:function(){var e=void 0;if(this.color)e=this.getCurrentColor(this.percentage);else switch(this.status){case"success":e="#13ce66";break;case"exception":e="#ff4949";break;case"warning":e="#e6a23c";break;default:e="#20a0ff"}return e},iconClass:function(){return"warning"===this.status?"el-icon-warning":"line"===this.type?"success"===this.status?"el-icon-circle-check":"el-icon-circle-close":"success"===this.status?"el-icon-check":"el-icon-close"},progressTextSize:function(){return"line"===this.type?12+.4*this.strokeWidth:.111111*this.width+2},content:function(){return"function"==typeof this.format?this.format(this.percentage)||"":this.percentage+"%"}},methods:{getCurrentColor:function(e){return"function"==typeof this.color?this.color(e):"string"==typeof this.color?this.color:this.getLevelColor(e)},getLevelColor:function(e){for(var t=this.getColorArray().sort(function(e,t){return e.percentage-t.percentage}),i=0;i<t.length;i++)if(t[i].percentage>e)return t[i].color;return t[t.length-1].color},getColorArray:function(){var e=this.color,i=100/e.length;return e.map(function(e,t){return"string"==typeof e?{color:e,progress:(t+1)*i}:e})}}},vi,[],!1,null,null,null);s.options.__file="packages/progress/src/progress.vue";var Yo=s.exports;Yo.install=function(e){e.component(Yo.name,Yo)};it=Yo,dt=r({name:"ElUploadList",mixins:[H],data:function(){return{focusing:!1}},components:{ElProgress:it},props:{files:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},handlePreview:Function,listType:String},methods:{parsePercentage:function(e){return parseInt(e,10)},handleClick:function(e){this.handlePreview&&this.handlePreview(e)}}},te,[],!1,null,null,null);dt.options.__file="packages/upload/src/upload-list.vue";var qo=dt.exports,c=i(6),Qo=i.n(c),Mt=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"el-upload-dragger",class:{"is-dragover":t.dragover},on:{drop:function(e){return e.preventDefault(),t.onDrop(e)},dragover:function(e){return e.preventDefault(),t.onDragover(e)},dragleave:function(e){e.preventDefault(),t.dragover=!1}}},[t._t("default")],2)};Mt._withStripped=!0;At=r({name:"ElUploadDrag",props:{disabled:Boolean},inject:{uploader:{default:""}},data:function(){return{dragover:!1}},methods:{onDragover:function(){this.disabled||(this.dragover=!0)},onDrop:function(e){var r;!this.disabled&&this.uploader&&(r=this.uploader.accept,this.dragover=!1,r?this.$emit("file",[].slice.call(e.dataTransfer.files).filter(function(e){var t=e.type,e=e.name,i=-1<e.indexOf(".")?"."+e.split(".").pop():"",n=t.replace(/\/.*$/,"");return r.split(",").map(function(e){return e.trim()}).filter(function(e){return e}).some(function(e){return/\..+$/.test(e)?i===e:/\/\*$/.test(e)?n===e.replace(/\/\*$/,""):!!/^[^\/]+\/[^\/]+$/.test(e)&&t===e})})):this.$emit("file",e.dataTransfer.files))}}},Mt,[],!1,null,null,null);At.options.__file="packages/upload/src/upload-dragger.vue";o=r({inject:["uploader"],components:{UploadDragger:At.exports},props:{type:String,action:{type:String,required:!0},name:{type:String,default:"file"},data:Object,headers:Object,withCredentials:Boolean,multiple:Boolean,accept:String,onStart:Function,onProgress:Function,onSuccess:Function,onError:Function,beforeUpload:Function,drag:Boolean,onPreview:{type:Function,default:function(){}},onRemove:{type:Function,default:function(){}},fileList:Array,autoUpload:Boolean,listType:String,httpRequest:{type:Function,default:function(n){if("undefined"!=typeof XMLHttpRequest){var r=new XMLHttpRequest,o=n.action;r.upload&&(r.upload.onprogress=function(e){0<e.total&&(e.percent=e.loaded/e.total*100),n.onProgress(e)});var t=new FormData;n.data&&Object.keys(n.data).forEach(function(e){t.append(e,n.data[e])}),t.append(n.filename,n.file,n.file.name),r.onerror=function(e){n.onError(e)},r.onload=function(){if(r.status<200||300<=r.status)return n.onError((e=o,i=void 0,i=(t=r).response?""+(t.response.error||t.response):t.responseText?""+t.responseText:"fail to post "+e+" "+t.status,(i=new Error(i)).status=t.status,i.method="post",i.url=e,i));var e,t,i;n.onSuccess(function(){var t=r.responseText||r.response;if(!t)return t;try{return JSON.parse(t)}catch(e){return t}}())},r.open("post",o,!0),n.withCredentials&&"withCredentials"in r&&(r.withCredentials=!0);var e,i=n.headers||{};for(e in i)i.hasOwnProperty(e)&&null!==i[e]&&r.setRequestHeader(e,i[e]);return r.send(t),r}}},disabled:Boolean,limit:Number,onExceed:Function},data:function(){return{mouseover:!1,reqs:{}}},methods:{isImage:function(e){return-1!==e.indexOf("image")},handleChange:function(e){e=e.target.files;e&&this.uploadFiles(e)},uploadFiles:function(e){var t=this;this.limit&&this.fileList.length+e.length>this.limit?this.onExceed&&this.onExceed(e,this.fileList):(e=Array.prototype.slice.call(e),this.multiple||(e=e.slice(0,1)),0!==e.length&&e.forEach(function(e){t.onStart(e),t.autoUpload&&t.upload(e)}))},upload:function(n){var r=this;if(this.$refs.input.value=null,!this.beforeUpload)return this.post(n);var e=this.beforeUpload(n);e&&e.then?e.then(function(e){var t=Object.prototype.toString.call(e);if("[object File]"===t||"[object Blob]"===t){for(var i in"[object Blob]"===t&&(e=new File([e],n.name,{type:n.type})),n)n.hasOwnProperty(i)&&(e[i]=n[i]);r.post(e)}else r.post(n)},function(){r.onRemove(null,n)}):!1!==e?this.post(n):this.onRemove(null,n)},abort:function(e){var t,i=this.reqs;e?((t=e).uid&&(t=e.uid),i[t]&&i[t].abort()):Object.keys(i).forEach(function(e){i[e]&&i[e].abort(),delete i[e]})},post:function(t){var i=this,n=t.uid,e={headers:this.headers,withCredentials:this.withCredentials,file:t,data:this.data,filename:this.name,action:this.action,onProgress:function(e){i.onProgress(e,t)},onSuccess:function(e){i.onSuccess(e,t),delete i.reqs[n]},onError:function(e){i.onError(e,t),delete i.reqs[n]}},r=this.httpRequest(e);(this.reqs[n]=r)&&r.then&&r.then(e.onSuccess,e.onError)},handleClick:function(){this.disabled||(this.$refs.input.value=null,this.$refs.input.click())},handleKeydown:function(e){e.target===e.currentTarget&&(13!==e.keyCode&&32!==e.keyCode||this.handleClick())}},render:function(e){var t=this.handleClick,i=this.drag,n=this.name,r=this.handleChange,o=this.multiple,s=this.accept,a=this.listType,l=this.uploadFiles,c=this.disabled,t={class:{"el-upload":!0},on:{click:t,keydown:this.handleKeydown}};return t.class["el-upload--"+a]=!0,e("div",Qo()([t,{attrs:{tabindex:"0"}}]),[i?e("upload-dragger",{attrs:{disabled:c},on:{file:l}},[this.$slots.default]):this.$slots.default,e("input",{class:"el-upload__input",attrs:{type:"file",name:n,multiple:o,accept:s},ref:"input",on:{change:r}})])}},void 0,void 0,!1,null,null,null);o.options.__file="packages/upload/src/upload.vue";yt=o.exports;function Xo(){}Ct=r({name:"ElUpload",mixins:[V],components:{ElProgress:it,UploadList:qo,Upload:yt},provide:function(){return{uploader:this}},inject:{elForm:{default:""}},props:{action:{type:String,required:!0},headers:{type:Object,default:function(){return{}}},data:Object,multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,dragger:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:String,type:{type:String,default:"select"},beforeUpload:Function,beforeRemove:Function,onRemove:{type:Function,default:Xo},onChange:{type:Function,default:Xo},onPreview:{type:Function},onSuccess:{type:Function,default:Xo},onProgress:{type:Function,default:Xo},onError:{type:Function,default:Xo},fileList:{type:Array,default:function(){return[]}},autoUpload:{type:Boolean,default:!0},listType:{type:String,default:"text"},httpRequest:Function,disabled:Boolean,limit:Number,onExceed:{type:Function,default:Xo}},data:function(){return{uploadFiles:[],dragOver:!1,draging:!1,tempIndex:1}},computed:{uploadDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{listType:function(e){"picture-card"!==e&&"picture"!==e||(this.uploadFiles=this.uploadFiles.map(function(e){if(!e.url&&e.raw)try{e.url=URL.createObjectURL(e.raw)}catch(e){console.error("[Element Error][Upload]",e)}return e}))},fileList:{immediate:!0,handler:function(e){var t=this;this.uploadFiles=e.map(function(e){return e.uid=e.uid||Date.now()+t.tempIndex++,e.status=e.status||"success",e})}}},methods:{handleStart:function(e){e.uid=Date.now()+this.tempIndex++;var t={status:"ready",name:e.name,size:e.size,percentage:0,uid:e.uid,raw:e};if("picture-card"===this.listType||"picture"===this.listType)try{t.url=URL.createObjectURL(e)}catch(e){return void console.error("[Element Error][Upload]",e)}this.uploadFiles.push(t),this.onChange(t,this.uploadFiles)},handleProgress:function(e,t){t=this.getFile(t);this.onProgress(e,t,this.uploadFiles),t.status="uploading",t.percentage=e.percent||0},handleSuccess:function(e,t){t=this.getFile(t);t&&(t.status="success",t.response=e,this.onSuccess(e,t,this.uploadFiles),this.onChange(t,this.uploadFiles))},handleError:function(e,t){var i=this.getFile(t),t=this.uploadFiles;i.status="fail",t.splice(t.indexOf(i),1),this.onError(e,i,this.uploadFiles),this.onChange(i,this.uploadFiles)},handleRemove:function(t,e){var i=this;e&&(t=this.getFile(e));function n(){i.abort(t);var e=i.uploadFiles;e.splice(e.indexOf(t),1),i.onRemove(t,e)}this.beforeRemove?"function"==typeof this.beforeRemove&&((e=this.beforeRemove(t,this.uploadFiles))&&e.then?e.then(function(){n()},Xo):!1!==e&&n()):n()},getFile:function(t){var e=this.uploadFiles,i=void 0;return e.every(function(e){return!(i=t.uid===e.uid?e:null)}),i},abort:function(e){this.$refs["upload-inner"].abort(e)},clearFiles:function(){this.uploadFiles=[]},submit:function(){var t=this;this.uploadFiles.filter(function(e){return"ready"===e.status}).forEach(function(e){t.$refs["upload-inner"].upload(e.raw)})},getMigratingConfig:function(){return{props:{"default-file-list":"default-file-list is renamed to file-list.","show-upload-list":"show-upload-list is renamed to show-file-list.","thumbnail-mode":"thumbnail-mode has been deprecated, you can implement the same effect according to this case: http://element.eleme.io/#/zh-CN/component/upload#yong-hu-tou-xiang-shang-chuan"}}}},beforeDestroy:function(){this.uploadFiles.forEach(function(e){e.url&&0===e.url.indexOf("blob:")&&URL.revokeObjectURL(e.url)})},render:function(e){var t=this,i=void 0;this.showFileList&&(i=e(qo,{attrs:{disabled:this.uploadDisabled,listType:this.listType,files:this.uploadFiles,handlePreview:this.onPreview},on:{remove:this.handleRemove}},[function(e){if(t.$scopedSlots.file)return t.$scopedSlots.file({file:e.file})}]));var n=e("upload",{props:{type:this.type,drag:this.drag,action:this.action,multiple:this.multiple,"before-upload":this.beforeUpload,"with-credentials":this.withCredentials,headers:this.headers,name:this.name,data:this.data,accept:this.accept,fileList:this.uploadFiles,autoUpload:this.autoUpload,listType:this.listType,disabled:this.uploadDisabled,limit:this.limit,"on-exceed":this.onExceed,"on-start":this.handleStart,"on-progress":this.handleProgress,"on-success":this.handleSuccess,"on-error":this.handleError,"on-preview":this.onPreview,"on-remove":this.handleRemove,"http-request":this.httpRequest},ref:"upload-inner"},[this.$slots.trigger||this.$slots.default]);return e("div",["picture-card"===this.listType?i:"",this.$slots.trigger?[n,this.$slots.default]:n,this.$slots.tip,"picture-card"!==this.listType?i:""])}},void 0,void 0,!1,null,null,null);Ct.options.__file="packages/upload/src/index.vue";var Zo=Ct.exports;Zo.install=function(e){e.component(Zo.name,Zo)};mi=Zo,It=function(){var e=this.$createElement,e=this._self._c||e;return e("span",{staticClass:"el-spinner"},[e("svg",{staticClass:"el-spinner-inner",style:{width:this.radius/2+"px",height:this.radius/2+"px"},attrs:{viewBox:"0 0 50 50"}},[e("circle",{staticClass:"path",attrs:{cx:"25",cy:"25",r:"20",fill:"none",stroke:this.strokeColor,"stroke-width":this.strokeWidth}})])])};It._withStripped=!0;Sr=r({name:"ElSpinner",props:{type:String,radius:{type:Number,default:100},strokeWidth:{type:Number,default:5},strokeColor:{type:String,default:"#efefef"}}},It,[],!1,null,null,null);Sr.options.__file="packages/spinner/src/spinner.vue";var Jo=Sr.exports;Jo.install=function(e){e.component(Jo.name,Jo)};Bt=Jo,ct=function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("transition",{attrs:{name:"el-message-fade"},on:{"after-leave":e.handleAfterLeave}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],class:["el-message",e.type&&!e.iconClass?"el-message--"+e.type:"",e.center?"is-center":"",e.showClose?"is-closable":"",e.customClass],style:e.positionStyle,attrs:{role:"alert"},on:{mouseenter:e.clearTimer,mouseleave:e.startTimer}},[e.iconClass?t("i",{class:e.iconClass}):t("i",{class:e.typeClass}),e._t("default",[e.dangerouslyUseHTMLString?t("p",{staticClass:"el-message__content",domProps:{innerHTML:e._s(e.message)}}):t("p",{staticClass:"el-message__content"},[e._v(e._s(e.message))])]),e.showClose?t("i",{staticClass:"el-message__closeBtn el-icon-close",on:{click:e.close}}):e._e()],2)])};ct._withStripped=!0;var es={success:"success",info:"info",warning:"warning",error:"error"},ti=r({data:function(){return{visible:!1,message:"",duration:3e3,type:"info",iconClass:"",customClass:"",onClose:null,showClose:!1,closed:!1,verticalOffset:20,timer:null,dangerouslyUseHTMLString:!1,center:!1}},computed:{typeClass:function(){return this.type&&!this.iconClass?"el-message__icon el-icon-"+es[this.type]:""},positionStyle:function(){return{top:this.verticalOffset+"px"}}},watch:{closed:function(e){e&&(this.visible=!1)}},methods:{handleAfterLeave:function(){this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},close:function(){this.closed=!0,"function"==typeof this.onClose&&this.onClose(this)},clearTimer:function(){clearTimeout(this.timer)},startTimer:function(){var e=this;0<this.duration&&(this.timer=setTimeout(function(){e.closed||e.close()},this.duration))},keydown:function(e){27===e.keyCode&&(this.closed||this.close())}},mounted:function(){this.startTimer(),document.addEventListener("keydown",this.keydown)},beforeDestroy:function(){document.removeEventListener("keydown",this.keydown)}},ct,[],!1,null,null,null);ti.options.__file="packages/message/src/main.vue";function ts(e){if(!u.a.prototype.$isServer){"string"==typeof(e=e||{})&&(e={message:e});var t=e.onClose,i="message_"+os++;e.onClose=function(){ts.close(i,t)},(ns=new is({data:e})).id=i,Dr(ns.message)&&(ns.$slots.default=[ns.message],ns.message=null),ns.$mount(),document.body.appendChild(ns.$el);var n=e.offset||20;return rs.forEach(function(e){n+=e.$el.offsetHeight+16}),ns.verticalOffset=n,ns.visible=!0,ns.$el.style.zIndex=Ce.nextZIndex(),rs.push(ns),ns}}var ai=ti.exports,is=u.a.extend(ai),ns=void 0,rs=[],os=1;["success","warning","info","error"].forEach(function(t){ts[t]=function(e){return"string"==typeof e&&(e={message:e}),e.type=t,ts(e)}}),ts.close=function(e,t){for(var i=rs.length,n=-1,r=void 0,o=0;o<i;o++)if(e===rs[o].id){r=rs[o].$el.offsetHeight,n=o,"function"==typeof t&&t(rs[o]),rs.splice(o,1);break}if(!(i<=1||-1===n||n>rs.length-1))for(var s=n;s<i-1;s++){var a=rs[s].$el;a.style.top=parseInt(a.style.top,10)-r-16+"px"}},ts.closeAll=function(){for(var e=rs.length-1;0<=e;e--)rs[e].close()};var ss=ts,ri=function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{staticClass:"el-badge"},[e._t("default"),t("transition",{attrs:{name:"el-zoom-in-center"}},[t("sup",{directives:[{name:"show",rawName:"v-show",value:!e.hidden&&(e.content||0===e.content||e.isDot),expression:"!hidden && (content || content === 0 || isDot)"}],staticClass:"el-badge__content",class:["el-badge__content--"+e.type,{"is-fixed":e.$slots.default,"is-dot":e.isDot}],domProps:{textContent:e._s(e.content)}})])],2)};ri._withStripped=!0;ui=r({name:"ElBadge",props:{value:[String,Number],max:Number,isDot:Boolean,hidden:Boolean,type:{type:String,validator:function(e){return-1<["primary","success","warning","info","danger"].indexOf(e)}}},computed:{content:function(){if(!this.isDot){var e=this.value,t=this.max;return"number"==typeof e&&"number"==typeof t&&t<e?t+"+":e}}}},ri,[],!1,null,null,null);ui.options.__file="packages/badge/src/main.vue";var as=ui.exports;as.install=function(e){e.component(as.name,as)};Ht=as,fi=function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{staticClass:"el-card",class:e.shadow?"is-"+e.shadow+"-shadow":"is-always-shadow"},[e.$slots.header||e.header?t("div",{staticClass:"el-card__header"},[e._t("header",[e._v(e._s(e.header))])],2):e._e(),t("div",{staticClass:"el-card__body",style:e.bodyStyle},[e._t("default")],2)])};fi._withStripped=!0;wi=r({name:"ElCard",props:{header:{},bodyStyle:{},shadow:{type:String}}},fi,[],!1,null,null,null);wi.options.__file="packages/card/src/main.vue";var ls=wi.exports;ls.install=function(e){e.component(ls.name,ls)};d=ls,K=function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("div",{staticClass:"el-rate",attrs:{role:"slider","aria-valuenow":i.currentValue,"aria-valuetext":i.text,"aria-valuemin":"0","aria-valuemax":i.max,tabindex:"0"},on:{keydown:i.handleKey}},[i._l(i.max,function(t,e){return n("span",{key:e,staticClass:"el-rate__item",style:{cursor:i.rateDisabled?"auto":"pointer"},on:{mousemove:function(e){i.setCurrentValue(t,e)},mouseleave:i.resetCurrentValue,click:function(e){i.selectValue(t)}}},[n("i",{staticClass:"el-rate__icon",class:[i.classes[t-1],{hover:i.hoverIndex===t}],style:i.getIconStyle(t)},[i.showDecimalIcon(t)?n("i",{staticClass:"el-rate__decimal",class:i.decimalIconClass,style:i.decimalStyle}):i._e()])])}),i.showText||i.showScore?n("span",{staticClass:"el-rate__text",style:{color:i.textColor}},[i._v(i._s(i.text))]):i._e()],2)};K._withStripped=!0;se=r({name:"ElRate",mixins:[V],inject:{elForm:{default:""}},data:function(){return{pointerAtLeftHalf:!0,currentValue:this.value,hoverIndex:-1}},props:{value:{type:Number,default:0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:[Array,Object],default:function(){return["#F7BA2A","#F7BA2A","#F7BA2A"]}},voidColor:{type:String,default:"#C6D1DE"},disabledVoidColor:{type:String,default:"#EFF2F7"},iconClasses:{type:[Array,Object],default:function(){return["el-icon-star-on","el-icon-star-on","el-icon-star-on"]}},voidIconClass:{type:String,default:"el-icon-star-off"},disabledVoidIconClass:{type:String,default:"el-icon-star-on"},disabled:{type:Boolean,default:!1},allowHalf:{type:Boolean,default:!1},showText:{type:Boolean,default:!1},showScore:{type:Boolean,default:!1},textColor:{type:String,default:"#1f2d3d"},texts:{type:Array,default:function(){return["极差","失望","一般","满意","惊喜"]}},scoreTemplate:{type:String,default:"{value}"}},computed:{text:function(){var e="";return this.showScore?e=this.scoreTemplate.replace(/\{\s*value\s*\}/,this.rateDisabled?this.value:this.currentValue):this.showText&&(e=this.texts[Math.ceil(this.currentValue)-1]),e},decimalStyle:function(){var e="";return this.rateDisabled?e=this.valueDecimal+"%":this.allowHalf&&(e="50%"),{color:this.activeColor,width:e}},valueDecimal:function(){return 100*this.value-100*Math.floor(this.value)},classMap:function(){var e;return Array.isArray(this.iconClasses)?((e={})[this.lowThreshold]=this.iconClasses[0],e[this.highThreshold]={value:this.iconClasses[1],excluded:!0},e[this.max]=this.iconClasses[2],e):this.iconClasses},decimalIconClass:function(){return this.getValueFromMap(this.value,this.classMap)},voidClass:function(){return this.rateDisabled?this.disabledVoidIconClass:this.voidIconClass},activeClass:function(){return this.getValueFromMap(this.currentValue,this.classMap)},colorMap:function(){var e;return Array.isArray(this.colors)?((e={})[this.lowThreshold]=this.colors[0],e[this.highThreshold]={value:this.colors[1],excluded:!0},e[this.max]=this.colors[2],e):this.colors},activeColor:function(){return this.getValueFromMap(this.currentValue,this.colorMap)},classes:function(){var e=[],t=0,i=this.currentValue;for(this.allowHalf&&this.currentValue!==Math.floor(this.currentValue)&&i--;t<i;t++)e.push(this.activeClass);for(;t<this.max;t++)e.push(this.voidClass);return e},rateDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{value:function(e){this.currentValue=e,this.pointerAtLeftHalf=this.value!==Math.floor(this.value)}},methods:{getMigratingConfig:function(){return{props:{"text-template":"text-template is renamed to score-template."}}},getValueFromMap:function(i,n){var e=Object.keys(n).filter(function(e){var t=n[e];return g(t)&&t.excluded?i<e:i<=e}).sort(function(e,t){return e-t}),e=n[e[0]];return g(e)?e.value:e||""},showDecimalIcon:function(e){var t=this.rateDisabled&&0<this.valueDecimal&&e-1<this.value&&e>this.value,e=this.allowHalf&&this.pointerAtLeftHalf&&e-.5<=this.currentValue&&e>this.currentValue;return t||e},getIconStyle:function(e){var t=this.rateDisabled?this.disabledVoidColor:this.voidColor;return{color:e<=this.currentValue?this.activeColor:t}},selectValue:function(e){this.rateDisabled||(this.allowHalf&&this.pointerAtLeftHalf?(this.$emit("input",this.currentValue),this.$emit("change",this.currentValue)):(this.$emit("input",e),this.$emit("change",e)))},handleKey:function(e){var t,i;this.rateDisabled||(t=this.currentValue,38===(i=e.keyCode)||39===i?(this.allowHalf?t+=.5:t+=1,e.stopPropagation(),e.preventDefault()):37!==i&&40!==i||(this.allowHalf?t-=.5:--t,e.stopPropagation(),e.preventDefault()),t=(t=t<0?0:t)>this.max?this.max:t,this.$emit("input",t),this.$emit("change",t))},setCurrentValue:function(e,t){var i;this.rateDisabled||(this.allowHalf?(ce(i=t.target,"el-rate__item")&&(i=i.querySelector(".el-rate__icon")),ce(i,"el-rate__decimal")&&(i=i.parentNode),this.pointerAtLeftHalf=2*t.offsetX<=i.clientWidth,this.currentValue=this.pointerAtLeftHalf?e-.5:e):this.currentValue=e,this.hoverIndex=e)},resetCurrentValue:function(){this.rateDisabled||(this.allowHalf&&(this.pointerAtLeftHalf=this.value!==Math.floor(this.value)),this.currentValue=this.value,this.hoverIndex=-1)}},created:function(){this.value||this.$emit("input",0)}},K,[],!1,null,null,null);se.options.__file="packages/rate/src/main.vue";var cs=se.exports;cs.install=function(e){e.component(cs.name,cs)};Ee=cs,vi=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"el-steps",class:[!this.simple&&"el-steps--"+this.direction,this.simple&&"el-steps--simple"]},[this._t("default")],2)};vi._withStripped=!0;s=r({name:"ElSteps",mixins:[V],props:{space:[Number,String],active:Number,direction:{type:String,default:"horizontal"},alignCenter:Boolean,simple:Boolean,finishStatus:{type:String,default:"finish"},processStatus:{type:String,default:"process"}},data:function(){return{steps:[],stepOffset:0}},methods:{getMigratingConfig:function(){return{props:{center:"center is removed."}}}},watch:{active:function(e,t){this.$emit("change",e,t)},steps:function(e){e.forEach(function(e,t){e.index=t})}}},vi,[],!1,null,null,null);s.options.__file="packages/steps/src/steps.vue";var hs=s.exports;hs.install=function(e){e.component(hs.name,hs)};te=hs,dt=function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{staticClass:"el-step",class:[!e.isSimple&&"is-"+e.$parent.direction,e.isSimple&&"is-simple",e.isLast&&!e.space&&!e.isCenter&&"is-flex",e.isCenter&&!e.isVertical&&!e.isSimple&&"is-center"],style:e.style},[t("div",{staticClass:"el-step__head",class:"is-"+e.currentStatus},[t("div",{staticClass:"el-step__line",style:e.isLast?"":{marginRight:e.$parent.stepOffset+"px"}},[t("i",{staticClass:"el-step__line-inner",style:e.lineStyle})]),t("div",{staticClass:"el-step__icon",class:"is-"+(e.icon?"icon":"text")},["success"!==e.currentStatus&&"error"!==e.currentStatus?e._t("icon",[e.icon?t("i",{staticClass:"el-step__icon-inner",class:[e.icon]}):e._e(),e.icon||e.isSimple?e._e():t("div",{staticClass:"el-step__icon-inner"},[e._v(e._s(e.index+1))])]):t("i",{staticClass:"el-step__icon-inner is-status",class:["el-icon-"+("success"===e.currentStatus?"check":"close")]})],2)]),t("div",{staticClass:"el-step__main"},[t("div",{ref:"title",staticClass:"el-step__title",class:["is-"+e.currentStatus]},[e._t("title",[e._v(e._s(e.title))])],2),e.isSimple?t("div",{staticClass:"el-step__arrow"}):t("div",{staticClass:"el-step__description",class:["is-"+e.currentStatus]},[e._t("description",[e._v(e._s(e.description))])],2)])])};dt._withStripped=!0;c=r({name:"ElStep",props:{title:String,icon:String,description:String,status:String},data:function(){return{index:-1,lineStyle:{},internalStatus:""}},beforeCreate:function(){this.$parent.steps.push(this)},beforeDestroy:function(){var e=this.$parent.steps,t=e.indexOf(this);0<=t&&e.splice(t,1)},computed:{currentStatus:function(){return this.status||this.internalStatus},prevStatus:function(){var e=this.$parent.steps[this.index-1];return e?e.currentStatus:"wait"},isCenter:function(){return this.$parent.alignCenter},isVertical:function(){return"vertical"===this.$parent.direction},isSimple:function(){return this.$parent.simple},isLast:function(){var e=this.$parent;return e.steps[e.steps.length-1]===this},stepsCount:function(){return this.$parent.steps.length},space:function(){var e=this.isSimple,t=this.$parent.space;return e?"":t},style:function(){var e={},t=this.$parent.steps.length,t="number"==typeof this.space?this.space+"px":this.space?this.space:100/(t-(this.isCenter?0:1))+"%";return e.flexBasis=t,this.isVertical||(this.isLast?e.maxWidth=100/this.stepsCount+"%":e.marginRight=-this.$parent.stepOffset+"px"),e}},methods:{updateStatus:function(e){var t=this.$parent.$children[this.index-1];e>this.index?this.internalStatus=this.$parent.finishStatus:e===this.index&&"error"!==this.prevStatus?this.internalStatus=this.$parent.processStatus:this.internalStatus="wait",t&&t.calcProgress(this.internalStatus)},calcProgress:function(e){var t=100,i={};i.transitionDelay=150*this.index+"ms",e===this.$parent.processStatus?(this.currentStatus,t=0):"wait"===e&&(t=0,i.transitionDelay=-150*this.index+"ms"),i.borderWidth=t&&!this.isSimple?"1px":0,"vertical"===this.$parent.direction?i.height=t+"%":i.width=t+"%",this.lineStyle=i}},mounted:function(){var t=this,i=this.$watch("index",function(e){t.$watch("$parent.active",t.updateStatus,{immediate:!0}),t.$watch("$parent.processStatus",function(){var e=t.$parent.active;t.updateStatus(e)},{immediate:!0}),i()})}},dt,[],!1,null,null,null);c.options.__file="packages/steps/src/step.vue";var us=c.exports;us.install=function(e){e.component(us.name,us)};Mt=us,At=function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("div",{class:i.carouselClasses,on:{mouseenter:function(e){return e.stopPropagation(),i.handleMouseEnter(e)},mouseleave:function(e){return e.stopPropagation(),i.handleMouseLeave(e)}}},[n("div",{staticClass:"el-carousel__container",style:{height:i.height}},[i.arrowDisplay?n("transition",{attrs:{name:"carousel-arrow-left"}},[n("button",{directives:[{name:"show",rawName:"v-show",value:("always"===i.arrow||i.hover)&&(i.loop||0<i.activeIndex),expression:"(arrow === 'always' || hover) && (loop || activeIndex > 0)"}],staticClass:"el-carousel__arrow el-carousel__arrow--left",attrs:{type:"button"},on:{mouseenter:function(e){i.handleButtonEnter("left")},mouseleave:i.handleButtonLeave,click:function(e){e.stopPropagation(),i.throttledArrowClick(i.activeIndex-1)}}},[n("i",{staticClass:"el-icon-arrow-left"})])]):i._e(),i.arrowDisplay?n("transition",{attrs:{name:"carousel-arrow-right"}},[n("button",{directives:[{name:"show",rawName:"v-show",value:("always"===i.arrow||i.hover)&&(i.loop||i.activeIndex<i.items.length-1),expression:"(arrow === 'always' || hover) && (loop || activeIndex < items.length - 1)"}],staticClass:"el-carousel__arrow el-carousel__arrow--right",attrs:{type:"button"},on:{mouseenter:function(e){i.handleButtonEnter("right")},mouseleave:i.handleButtonLeave,click:function(e){e.stopPropagation(),i.throttledArrowClick(i.activeIndex+1)}}},[n("i",{staticClass:"el-icon-arrow-right"})])]):i._e(),i._t("default")],2),"none"!==i.indicatorPosition?n("ul",{class:i.indicatorsClasses},i._l(i.items,function(e,t){return n("li",{key:t,class:["el-carousel__indicator","el-carousel__indicator--"+i.direction,{"is-active":t===i.activeIndex}],on:{mouseenter:function(e){i.throttledIndicatorHover(t)},click:function(e){e.stopPropagation(),i.handleIndicatorClick(t)}}},[n("button",{staticClass:"el-carousel__button"},[i.hasLabel?n("span",[i._v(i._s(e.label))]):i._e()])])}),0):i._e()])};At._withStripped=!0;var o=i(4),ds=i.n(o),yt=r({name:"ElCarousel",props:{initialIndex:{type:Number,default:0},height:String,trigger:{type:String,default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:String,indicator:{type:Boolean,default:!0},arrow:{type:String,default:"hover"},type:String,loop:{type:Boolean,default:!0},direction:{type:String,default:"horizontal",validator:function(e){return-1!==["horizontal","vertical"].indexOf(e)}}},data:function(){return{items:[],activeIndex:-1,containerWidth:0,timer:null,hover:!1}},computed:{arrowDisplay:function(){return"never"!==this.arrow&&"vertical"!==this.direction},hasLabel:function(){return this.items.some(function(e){return 0<e.label.toString().length})},carouselClasses:function(){var e=["el-carousel","el-carousel--"+this.direction];return"card"===this.type&&e.push("el-carousel--card"),e},indicatorsClasses:function(){var e=["el-carousel__indicators","el-carousel__indicators--"+this.direction];return this.hasLabel&&e.push("el-carousel__indicators--labels"),"outside"!==this.indicatorPosition&&"card"!==this.type||e.push("el-carousel__indicators--outside"),e}},watch:{items:function(e){0<e.length&&this.setActiveItem(this.initialIndex)},activeIndex:function(e,t){this.resetItemPosition(t),-1<t&&this.$emit("change",e,t)},autoplay:function(e){e?this.startTimer():this.pauseTimer()},loop:function(){this.setActiveItem(this.activeIndex)}},methods:{handleMouseEnter:function(){this.hover=!0,this.pauseTimer()},handleMouseLeave:function(){this.hover=!1,this.startTimer()},itemInStage:function(e,t){var i=this.items.length;return t===i-1&&e.inStage&&this.items[0].active||e.inStage&&this.items[t+1]&&this.items[t+1].active?"left":!!(0===t&&e.inStage&&this.items[i-1].active||e.inStage&&this.items[t-1]&&this.items[t-1].active)&&"right"},handleButtonEnter:function(i){var n=this;"vertical"!==this.direction&&this.items.forEach(function(e,t){i===n.itemInStage(e,t)&&(e.hover=!0)})},handleButtonLeave:function(){"vertical"!==this.direction&&this.items.forEach(function(e){e.hover=!1})},updateItems:function(){this.items=this.$children.filter(function(e){return"ElCarouselItem"===e.$options.name})},resetItemPosition:function(i){var n=this;this.items.forEach(function(e,t){e.translateItem(t,n.activeIndex,i)})},playSlides:function(){this.activeIndex<this.items.length-1?this.activeIndex++:this.loop&&(this.activeIndex=0)},pauseTimer:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},startTimer:function(){this.interval<=0||!this.autoplay||this.timer||(this.timer=setInterval(this.playSlides,this.interval))},setActiveItem:function(t){var e,i;"string"!=typeof t||0<(i=this.items.filter(function(e){return e.name===t})).length&&(t=this.items.indexOf(i[0])),t=Number(t),isNaN(t)||t!==Math.floor(t)?console.warn("[Element Warn][Carousel]index must be an integer."):(e=this.items.length,i=this.activeIndex,this.activeIndex=t<0?this.loop?e-1:0:e<=t?this.loop?0:e-1:t,i===this.activeIndex&&this.resetItemPosition(i))},prev:function(){this.setActiveItem(this.activeIndex-1)},next:function(){this.setActiveItem(this.activeIndex+1)},handleIndicatorClick:function(e){this.activeIndex=e},handleIndicatorHover:function(e){"hover"===this.trigger&&e!==this.activeIndex&&(this.activeIndex=e)}},created:function(){var t=this;this.throttledArrowClick=ds()(300,!0,function(e){t.setActiveItem(e)}),this.throttledIndicatorHover=ds()(300,function(e){t.handleIndicatorHover(e)})},mounted:function(){var e=this;this.updateItems(),this.$nextTick(function(){Fe(e.$el,e.resetItemPosition),e.initialIndex<e.items.length&&0<=e.initialIndex&&(e.activeIndex=e.initialIndex),e.startTimer()})},beforeDestroy:function(){this.$el&&ze(this.$el,this.resetItemPosition),this.pauseTimer()}},At,[],!1,null,null,null);yt.options.__file="packages/carousel/src/main.vue";var fs=yt.exports;fs.install=function(e){e.component(fs.name,fs)};Ct=fs,It=function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.ready,expression:"ready"}],staticClass:"el-carousel__item",class:{"is-active":e.active,"el-carousel__item--card":"card"===e.$parent.type,"is-in-stage":e.inStage,"is-hover":e.hover,"is-animating":e.animating},style:e.itemStyle,on:{click:e.handleItemClick}},["card"===e.$parent.type?t("div",{directives:[{name:"show",rawName:"v-show",value:!e.active,expression:"!active"}],staticClass:"el-carousel__mask"}):e._e(),e._t("default")],2)};It._withStripped=!0;Sr=r({name:"ElCarouselItem",props:{name:String,label:{type:[String,Number],default:""}},data:function(){return{hover:!1,translate:0,scale:1,active:!1,ready:!1,inStage:!1,animating:!1}},methods:{processIndex:function(e,t,i){return 0===t&&e===i-1?-1:t===i-1&&0===e?i:e<t-1&&i/2<=t-e?i+1:t+1<e&&i/2<=e-t?-2:e},calcCardTranslate:function(e,t){var i=this.$parent.$el.offsetWidth;return this.inStage?i*(1.17*(e-t)+1)/4:e<t?-1.83*i/4:3.83*i/4},calcTranslate:function(e,t,i){return this.$parent.$el[i?"offsetHeight":"offsetWidth"]*(e-t)},translateItem:function(e,t,i){var n=this.$parent.type,r=this.parentDirection,o=this.$parent.items.length;"card"!==n&&void 0!==i&&(this.animating=e===t||e===i),e!==t&&2<o&&this.$parent.loop&&(e=this.processIndex(e,t,o)),"card"===n?("vertical"===r&&console.warn("[Element Warn][Carousel]vertical direction is not supported in card mode"),this.inStage=Math.round(Math.abs(e-t))<=1,this.active=e===t,this.translate=this.calcCardTranslate(e,t),this.scale=this.active?1:.83):(this.active=e===t,r="vertical"===r,this.translate=this.calcTranslate(e,t,r)),this.ready=!0},handleItemClick:function(){var e,t=this.$parent;t&&"card"===t.type&&(e=t.items.indexOf(this),t.setActiveItem(e))}},computed:{parentDirection:function(){return this.$parent.direction},itemStyle:function(){return function(n){if("object"!==(void 0===n?"undefined":b(n)))return n;var e=["ms-","webkit-"];return["transform","transition","animation"].forEach(function(t){var i=n[t];t&&i&&e.forEach(function(e){n[e+t]=i})}),n}({transform:("vertical"===this.parentDirection?"translateY":"translateX")+"("+this.translate+"px) scale("+this.scale+")"})}},created:function(){this.$parent&&this.$parent.updateItems()},destroyed:function(){this.$parent&&this.$parent.updateItems()}},It,[],!1,null,null,null);Sr.options.__file="packages/carousel/src/item.vue";var ps=Sr.exports;ps.install=function(e){e.component(ps.name,ps)};ct=ps,ti=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"el-collapse",attrs:{role:"tablist","aria-multiselectable":"true"}},[this._t("default")],2)};ti._withStripped=!0;ai=r({name:"ElCollapse",componentName:"ElCollapse",props:{accordion:Boolean,value:{type:[Array,String,Number],default:function(){return[]}}},data:function(){return{activeNames:[].concat(this.value)}},provide:function(){return{collapse:this}},watch:{value:function(e){this.activeNames=[].concat(e)}},methods:{setActiveNames:function(e){e=[].concat(e);var t=this.accordion?e[0]:e;this.activeNames=e,this.$emit("input",t),this.$emit("change",t)},handleItemClick:function(e){var t,i;this.accordion?this.setActiveNames(!this.activeNames[0]&&0!==this.activeNames[0]||this.activeNames[0]!==e.name?e.name:""):(-1<(i=(t=this.activeNames.slice(0)).indexOf(e.name))?t.splice(i,1):t.push(e.name),this.setActiveNames(t))}},created:function(){this.$on("item-click",this.handleItemClick)}},ti,[],!1,null,null,null);ai.options.__file="packages/collapse/src/collapse.vue";var gs=ai.exports;gs.install=function(e){e.component(gs.name,gs)};ri=gs,ui=function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{staticClass:"el-collapse-item",class:{"is-active":t.isActive,"is-disabled":t.disabled}},[e("div",{attrs:{role:"tab","aria-expanded":t.isActive,"aria-controls":"el-collapse-content-"+t.id,"aria-describedby":"el-collapse-content-"+t.id}},[e("div",{staticClass:"el-collapse-item__header",class:{focusing:t.focusing,"is-active":t.isActive},attrs:{role:"button",id:"el-collapse-head-"+t.id,tabindex:t.disabled?void 0:0},on:{click:t.handleHeaderClick,keyup:function(e){return"button"in e||!t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.stopPropagation(),t.handleEnterClick(e)):null},focus:t.handleFocus,blur:function(e){t.focusing=!1}}},[t._t("title",[t._v(t._s(t.title))]),e("i",{staticClass:"el-collapse-item__arrow el-icon-arrow-right",class:{"is-active":t.isActive}})],2)]),e("el-collapse-transition",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"el-collapse-item__wrap",attrs:{role:"tabpanel","aria-hidden":!t.isActive,"aria-labelledby":"el-collapse-head-"+t.id,id:"el-collapse-content-"+t.id}},[e("div",{staticClass:"el-collapse-item__content"},[t._t("default")],2)])])],1)};ui._withStripped=!0;fi=r({name:"ElCollapseItem",componentName:"ElCollapseItem",mixins:[l],components:{ElCollapseTransition:qt},data:function(){return{contentWrapStyle:{height:"auto",display:"block"},contentHeight:0,focusing:!1,isClick:!1,id:k()}},inject:["collapse"],props:{title:String,name:{type:[String,Number],default:function(){return this._uid}},disabled:Boolean},computed:{isActive:function(){return-1<this.collapse.activeNames.indexOf(this.name)}},methods:{handleFocus:function(){var e=this;setTimeout(function(){e.isClick?e.isClick=!1:e.focusing=!0},50)},handleHeaderClick:function(){this.disabled||(this.dispatch("ElCollapse","item-click",this),this.focusing=!1,this.isClick=!0)},handleEnterClick:function(){this.dispatch("ElCollapse","item-click",this)}}},ui,[],!1,null,null,null);fi.options.__file="packages/collapse/src/collapse-item.vue";var ms=fi.exports;ms.install=function(e){e.component(ms.name,ms)};function vs(e){return e.stopPropagation()}wi=ms,K=function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:function(){return i.toggleDropDownVisible(!1)},expression:"() => toggleDropDownVisible(false)"}],ref:"reference",class:["el-cascader",i.realSize&&"el-cascader--"+i.realSize,{"is-disabled":i.isDisabled}],on:{mouseenter:function(e){i.inputHover=!0},mouseleave:function(e){i.inputHover=!1},click:function(){return i.toggleDropDownVisible(!i.readonly||void 0)},keydown:i.handleKeyDown}},[n("el-input",{ref:"input",class:{"is-focus":i.dropDownVisible},attrs:{size:i.realSize,placeholder:i.placeholder,readonly:i.readonly,disabled:i.isDisabled,"validate-event":!1},on:{focus:i.handleFocus,blur:i.handleBlur,input:i.handleInput},model:{value:i.multiple?i.presentText:i.inputValue,callback:function(e){i.multiple?i.presentText:i.inputValue=e},expression:"multiple ? presentText : inputValue"}},[n("template",{slot:"suffix"},[i.clearBtnVisible?n("i",{key:"clear",staticClass:"el-input__icon el-icon-circle-close",on:{click:function(e){return e.stopPropagation(),i.handleClear(e)}}}):n("i",{key:"arrow-down",class:["el-input__icon","el-icon-arrow-down",i.dropDownVisible&&"is-reverse"],on:{click:function(e){e.stopPropagation(),i.toggleDropDownVisible()}}})])],2),i.multiple?n("div",{staticClass:"el-cascader__tags"},[i._l(i.presentTags,function(e,t){return n("el-tag",{key:e.key,attrs:{type:"info",size:i.tagSize,hit:e.hitState,closable:e.closable,"disable-transitions":""},on:{close:function(e){i.deleteTag(t)}}},[n("span",[i._v(i._s(e.text))])])}),i.filterable&&!i.isDisabled?n("input",{directives:[{name:"model",rawName:"v-model.trim",value:i.inputValue,expression:"inputValue",modifiers:{trim:!0}}],staticClass:"el-cascader__search-input",attrs:{type:"text",placeholder:i.presentTags.length?"":i.placeholder},domProps:{value:i.inputValue},on:{input:[function(e){e.target.composing||(i.inputValue=e.target.value.trim())},function(e){return i.handleInput(i.inputValue,e)}],click:function(e){e.stopPropagation(),i.toggleDropDownVisible(!0)},keydown:function(e){return"button"in e||!i._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?i.handleDelete(e):null},blur:function(e){i.$forceUpdate()}}}):i._e()],2):i._e(),n("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":i.handleDropdownLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:i.dropDownVisible,expression:"dropDownVisible"}],ref:"popper",class:["el-popper","el-cascader__dropdown",i.popperClass]},[n("el-cascader-panel",{directives:[{name:"show",rawName:"v-show",value:!i.filtering,expression:"!filtering"}],ref:"panel",attrs:{options:i.options,props:i.config,border:!1,"render-label":i.$scopedSlots.default},on:{"expand-change":i.handleExpandChange,close:function(e){i.toggleDropDownVisible(!1)}},model:{value:i.checkedValue,callback:function(e){i.checkedValue=e},expression:"checkedValue"}}),i.filterable?n("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:i.filtering,expression:"filtering"}],ref:"suggestionPanel",staticClass:"el-cascader__suggestion-panel",attrs:{tag:"ul","view-class":"el-cascader__suggestion-list"},nativeOn:{keydown:function(e){return i.handleSuggestionKeyDown(e)}}},[i.suggestions.length?i._l(i.suggestions,function(e,t){return n("li",{key:e.uid,class:["el-cascader__suggestion-item",e.checked&&"is-checked"],attrs:{tabindex:-1},on:{click:function(e){i.handleSuggestionClick(t)}}},[n("span",[i._v(i._s(e.text))]),e.checked?n("i",{staticClass:"el-icon-check"}):i._e()])}):i._t("empty",[n("li",{staticClass:"el-cascader__empty-text"},[i._v(i._s(i.t("el.cascader.noMatch")))])])],2):i._e()],1)])],1)},se=function(){var e=this.$createElement,i=this._self._c||e;return i("div",{class:["el-cascader-panel",this.border&&"is-bordered"],on:{keydown:this.handleKeyDown}},this._l(this.menus,function(e,t){return i("cascader-menu",{key:t,ref:"menu",refInFor:!0,attrs:{index:t,nodes:e}})}),1)},vi=r({inject:["panel"],components:{ElCheckbox:Z,ElRadio:bi},props:{node:{required:se._withStripped=K._withStripped=!0},nodeId:String},computed:{config:function(){return this.panel.config},isLeaf:function(){return this.node.isLeaf},isDisabled:function(){return this.node.isDisabled},checkedValue:function(){return this.panel.checkedValue},isChecked:function(){return this.node.isSameNode(this.checkedValue)},inActivePath:function(){return this.isInPath(this.panel.activePath)},inCheckedPath:function(){var t=this;return!!this.config.checkStrictly&&this.panel.checkedNodePaths.some(function(e){return t.isInPath(e)})},value:function(){return this.node.getValueByOption()}},methods:{handleExpand:function(){var t=this,e=this.panel,i=this.node,n=this.isDisabled,r=this.config,o=r.multiple;!r.checkStrictly&&n||i.loading||(r.lazy&&!i.loaded?e.lazyLoad(i,function(){var e=t.isLeaf;e||t.handleExpand(),o&&(e=!!e&&i.checked,t.handleMultiCheckChange(e))}):e.handleExpand(i))},handleCheckChange:function(){var e=this.panel,t=this.value,i=this.node;e.handleCheckChange(t),e.handleExpand(i)},handleMultiCheckChange:function(e){this.node.doCheck(e),this.panel.calculateMultiCheckedValue()},isInPath:function(e){var t=this.node;return(e[t.level-1]||{}).uid===t.uid},renderPrefix:function(e){var t=this.isLeaf,i=this.isChecked,n=this.config,r=n.checkStrictly;return n.multiple?this.renderCheckbox(e):r?this.renderRadio(e):t&&i?this.renderCheckIcon(e):null},renderPostfix:function(e){var t=this.node,i=this.isLeaf;return t.loading?this.renderLoadingIcon(e):i?null:this.renderExpandIcon(e)},renderCheckbox:function(e){var t=this.node,i=this.config,n=this.isDisabled,r={on:{change:this.handleMultiCheckChange},nativeOn:{}};return i.checkStrictly&&(r.nativeOn.click=vs),e("el-checkbox",Qo()([{attrs:{value:t.checked,indeterminate:t.indeterminate,disabled:n}},r]))},renderRadio:function(e){var t=this.checkedValue,i=this.value,n=this.isDisabled;return L(i,t)&&(i=t),e("el-radio",{attrs:{value:t,label:i,disabled:n},on:{change:this.handleCheckChange},nativeOn:{click:vs}},[e("span")])},renderCheckIcon:function(e){return e("i",{class:"el-icon-check el-cascader-node__prefix"})},renderLoadingIcon:function(e){return e("i",{class:"el-icon-loading el-cascader-node__postfix"})},renderExpandIcon:function(e){return e("i",{class:"el-icon-arrow-right el-cascader-node__postfix"})},renderContent:function(e){var t=this.panel,i=this.node,t=t.renderLabelFn;return e("span",{class:"el-cascader-node__label"},[(t?t({node:i,data:i.data}):null)||i.label])}},render:function(e){var t=this,i=this.inActivePath,n=this.inCheckedPath,r=this.isChecked,o=this.isLeaf,s=this.isDisabled,a=this.config,l=this.nodeId,c=a.expandTrigger,h=a.checkStrictly,u=a.multiple,d=!h&&s,a={on:{}};return"click"===c?a.on.click=this.handleExpand:(a.on.mouseenter=function(e){t.handleExpand(),t.$emit("expand",e)},a.on.focus=function(e){t.handleExpand(),t.$emit("expand",e)}),!o||s||h||u||(a.on.click=this.handleCheckChange),e("li",Qo()([{attrs:{role:"menuitem",id:l,"aria-expanded":i,tabindex:d?null:-1},class:{"el-cascader-node":!0,"is-selectable":h,"in-active-path":i,"in-checked-path":n,"is-active":r,"is-disabled":d}},a]),[this.renderPrefix(e),this.renderContent(e),this.renderPostfix(e)])}},void 0,void 0,!1,null,null,null);vi.options.__file="packages/cascader-panel/src/cascader-node.vue";s=r({name:"ElCascaderMenu",mixins:[H],inject:["panel"],components:{ElScrollbar:Ue,CascaderNode:vi.exports},props:{nodes:{type:Array,required:!0},index:Number},data:function(){return{activeNode:null,hoverTimer:null,id:k()}},computed:{isEmpty:function(){return!this.nodes.length},menuId:function(){return"cascader-menu-"+this.id+"-"+this.index}},methods:{handleExpand:function(e){this.activeNode=e.target},handleMouseMove:function(e){var t,i,n,r=this.activeNode,o=this.hoverTimer,s=this.$refs.hoverZone;r&&s&&(r.contains(e.target)?(clearTimeout(o),i=this.$el.getBoundingClientRect().left,t=e.clientX-i,e=(n=this.$el).offsetWidth,i=n.offsetHeight,r=(n=r.offsetTop)+r.offsetHeight,s.innerHTML='\n          <path style="pointer-events: auto;" fill="transparent" d="M'+t+" "+n+" L"+e+" 0 V"+n+' Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M'+t+" "+r+" L"+e+" "+i+" V"+r+' Z" />\n        '):o||(this.hoverTimer=setTimeout(this.clearHoverZone,this.panel.config.hoverThreshold)))},clearHoverZone:function(){var e=this.$refs.hoverZone;e&&(e.innerHTML="")},renderEmptyText:function(e){return e("div",{class:"el-cascader-menu__empty-text"},[this.t("el.cascader.noData")])},renderNodeList:function(n){var r=this.menuId,e=this.panel.isHoverMenu,o={on:{}};e&&(o.on.expand=this.handleExpand);var t=this.nodes.map(function(e,t){var i=e.hasChildren;return n("cascader-node",Qo()([{key:e.uid,attrs:{node:e,"node-id":r+"-"+t,"aria-haspopup":i,"aria-owns":i?r:null}},o]))});return[].concat(t,[e?n("svg",{ref:"hoverZone",class:"el-cascader-menu__hover-zone"}):null])}},render:function(e){var t=this.isEmpty,i=this.menuId,n={nativeOn:{}};return this.panel.isHoverMenu&&(n.nativeOn.mousemove=this.handleMouseMove),e("el-scrollbar",Qo()([{attrs:{tag:"ul",role:"menu",id:i,"wrap-class":"el-cascader-menu__wrap","view-class":{"el-cascader-menu__list":!0,"is-empty":t}},class:"el-cascader-menu"},n]),[t?this.renderEmptyText(e):this.renderNodeList(e)])}},void 0,void 0,!1,null,null,null);s.options.__file="packages/cascader-panel/src/cascader-menu.vue";dt=s.exports,c=function(e,t,i){return t&&ys(e.prototype,t),i&&ys(e,i),e};function ys(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var bs=0,ws=(xs.prototype.initState=function(){var e=this.config,t=e.value,e=e.label;this.value=this.data[t],this.label=this.data[e],this.pathNodes=this.calculatePathNodes(),this.path=this.pathNodes.map(function(e){return e.value}),this.pathLabels=this.pathNodes.map(function(e){return e.label}),this.loading=!1,this.loaded=!1},xs.prototype.initChildren=function(){var t=this,i=this.config,e=i.children,e=this.data[e];this.hasChildren=Array.isArray(e),this.children=(e||[]).map(function(e){return new xs(e,i,t)})},xs.prototype.calculatePathNodes=function(){for(var e=[this],t=this.parent;t;)e.unshift(t),t=t.parent;return e},xs.prototype.getPath=function(){return this.path},xs.prototype.getValue=function(){return this.value},xs.prototype.getValueByOption=function(){return this.config.emitPath?this.getPath():this.getValue()},xs.prototype.getText=function(e,t){return e?this.pathLabels.join(t):this.label},xs.prototype.isSameNode=function(e){var t=this.getValueByOption();return this.config.multiple&&Array.isArray(e)?e.some(function(e){return L(e,t)}):L(e,t)},xs.prototype.broadcast=function(t){for(var e=arguments.length,i=Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];var r="onParent"+$(t);this.children.forEach(function(e){e&&(e.broadcast.apply(e,[t].concat(i)),e[r]&&e[r].apply(e,i))})},xs.prototype.emit=function(e){var t=this.parent,i="onChild"+$(e);if(t){for(var n=arguments.length,r=Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t[i]&&t[i].apply(t,r),t.emit.apply(t,[e].concat(r))}},xs.prototype.onParentCheck=function(e){this.isDisabled||this.setCheckState(e)},xs.prototype.onChildCheck=function(){var e=this.children.filter(function(e){return!e.isDisabled}),e=!!e.length&&e.every(function(e){return e.checked});this.setCheckState(e)},xs.prototype.setCheckState=function(e){var t=this.children.length,i=this.children.reduce(function(e,t){return e+(t.checked?1:t.indeterminate?.5:0)},0);this.checked=e,this.indeterminate=i!==t&&0<i},xs.prototype.syncCheckState=function(e){var t=this.getValueByOption(),t=this.isSameNode(e,t);this.doCheck(t)},xs.prototype.doCheck=function(e){this.checked!==e&&(this.config.checkStrictly?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check")))},c(xs,[{key:"isDisabled",get:function(){var e=this.data,t=this.parent,i=this.config,n=i.disabled,i=i.checkStrictly;return e[n]||!i&&t&&t.isDisabled}},{key:"isLeaf",get:function(){var e=this.data,t=this.loaded,i=this.hasChildren,n=this.children,r=this.config,o=r.lazy,r=r.leaf;if(o){n=Q(e[r])?e[r]:!!t&&!n.length;return this.hasChildren=!n,n}return!i}}]),xs);function xs(e,t,i){!function(e){if(!(e instanceof xs))throw new TypeError("Cannot call a class as a function")}(this),this.data=e,this.config=t,this.parent=i||null,this.level=this.parent?this.parent.level+1:1,this.uid=bs++,this.initState(),this.initChildren()}function Cs(e){return!e.getAttribute("aria-owns")}function Ss(e,t){var i=e.parentNode;if(i){i=i.querySelectorAll('.el-cascader-node[tabindex="-1"]');return i[Array.prototype.indexOf.call(i,e)+t]||null}return null}function _s(e,t){if(e){e=e.id.split("-");return Number(e[e.length-2])}}function ks(e){e&&(e.focus(),Cs(e)||e.click())}var Ms=($s.prototype.initNodes=function(e){var t=this;e=A(e),this.nodes=e.map(function(e){return new ws(e,t.config)}),this.flattedNodes=this.getFlattedNodes(!1,!1),this.leafNodes=this.getFlattedNodes(!0,!1)},$s.prototype.appendNode=function(e,t){e=new ws(e,this.config,t);(t?t.children:this.nodes).push(e)},$s.prototype.appendNodes=function(e,t){var i=this;(e=A(e)).forEach(function(e){return i.appendNode(e,t)})},$s.prototype.getNodes=function(){return this.nodes},$s.prototype.getFlattedNodes=function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=e?this.leafNodes:this.flattedNodes;return t?i:function i(e,n){return e.reduce(function(e,t){return t.isLeaf?e.push(t):(n||e.push(t),e=e.concat(i(t.children,n))),e},[])}(this.nodes,e)},$s.prototype.getNodeByValue=function(t){if(t){var e=this.getFlattedNodes(!1,!this.config.lazy).filter(function(e){return M(e.path,t)||e.value===t});return e&&e.length?e[0]:null}return null},$s),Ts=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ds=Ft.keys,As={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:x,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},i=r({name:"ElCascaderPanel",components:{CascaderMenu:dt},props:{value:{},options:Array,props:Object,border:{type:Boolean,default:!0},renderLabel:Function},provide:function(){return{panel:this}},data:function(){return{checkedValue:null,checkedNodePaths:[],store:[],menus:[],activePath:[],loadCount:0}},computed:{config:function(){return q(Ts({},As),this.props||{})},multiple:function(){return this.config.multiple},checkStrictly:function(){return this.config.checkStrictly},leafOnly:function(){return!this.checkStrictly},isHoverMenu:function(){return"hover"===this.config.expandTrigger},renderLabelFn:function(){return this.renderLabel||this.$scopedSlots.default}},watch:{options:{handler:function(){this.initStore()},immediate:!0,deep:!0},value:function(){this.syncCheckedValue(),this.checkStrictly&&this.calculateCheckedNodePaths()},checkedValue:function(e){L(e,this.value)||(this.checkStrictly&&this.calculateCheckedNodePaths(),this.$emit("input",e),this.$emit("change",e))}},mounted:function(){I(this.value)||this.syncCheckedValue()},methods:{initStore:function(){var e=this.config,t=this.options;e.lazy&&I(t)?this.lazyLoad():(this.store=new Ms(t,e),this.menus=[this.store.getNodes()],this.syncMenuState())},syncCheckedValue:function(){var e=this.value,t=this.checkedValue;L(e,t)||(this.checkedValue=e,this.syncMenuState())},syncMenuState:function(){var e=this.multiple,t=this.checkStrictly;this.syncActivePath(),e&&this.syncMultiCheckState(),t&&this.calculateCheckedNodePaths(),this.$nextTick(this.scrollIntoView)},syncMultiCheckState:function(){var t=this;this.getFlattedNodes(this.leafOnly).forEach(function(e){e.syncCheckState(t.checkedValue)})},syncActivePath:function(){var t=this,e=this.store,i=this.multiple,n=this.activePath,r=this.checkedValue;I(n)?I(r)?(this.activePath=[],this.menus=[e.getNodes()]):(r=i?r[0]:r,r=((this.getNodeByValue(r)||{}).pathNodes||[]).slice(0,-1),this.expandNodes(r)):(n=n.map(function(e){return t.getNodeByValue(e.getValue())}),this.expandNodes(n))},expandNodes:function(e){var t=this;e.forEach(function(e){return t.handleExpand(e,!0)})},calculateCheckedNodePaths:function(){var t=this,e=this.checkedValue,e=this.multiple?A(e):[e];this.checkedNodePaths=e.map(function(e){e=t.getNodeByValue(e);return e?e.pathNodes:[]})},handleKeyDown:function(e){var t=e.target;switch(e.keyCode){case Ds.up:e=Ss(t,-1);ks(e);break;case Ds.down:var i=Ss(t,1);ks(i);break;case Ds.left:i=this.$refs.menu[_s(t)-1];i&&(r=i.$el.querySelector('.el-cascader-node[aria-expanded="true"]'),ks(r));break;case Ds.right:var n,r=this.$refs.menu[_s(t)+1];r&&(n=r.$el.querySelector('.el-cascader-node[tabindex="-1"]'),ks(n));break;case Ds.enter:(n=t)&&((t=n.querySelector("input"))?t.click():Cs(n)&&n.click());break;case Ds.esc:case Ds.tab:this.$emit("close");break;default:return}},handleExpand:function(e,t){var i=this.activePath,n=e.level,r=i.slice(0,n-1),n=this.menus.slice(0,n);e.isLeaf||(r.push(e),n.push(e.children)),this.activePath=r,this.menus=n,t||(r=r.map(function(e){return e.getValue()}),i=i.map(function(e){return e.getValue()}),M(r,i)||(this.$emit("active-item-change",r),this.$emit("expand-change",r)))},handleCheckChange:function(e){this.checkedValue=e},lazyLoad:function(o,s){var a=this,e=this.config;o||(o=o||{root:!0,level:0},this.store=new Ms([],e),this.menus=[this.store.getNodes()]),o.loading=!0,e.lazyLoad(o,function(e){var t,i,n,r=o.root?null:o;e&&e.length&&a.store.appendNodes(e,r),o.loading=!1,o.loaded=!0,Array.isArray(a.checkedValue)&&(t=a.checkedValue[a.loadCount++],i=a.config.value,r=a.config.leaf,Array.isArray(e)&&0<e.filter(function(e){return e[i]===t}).length&&((n=a.store.getNodeByValue(t)).data[r]||a.lazyLoad(n,function(){a.handleExpand(n)}),a.loadCount===a.checkedValue.length&&a.$parent.computePresentText())),s&&s(e)})},calculateMultiCheckedValue:function(){this.checkedValue=this.getCheckedNodes(this.leafOnly).map(function(e){return e.getValueByOption()})},scrollIntoView:function(){this.$isServer||(this.$refs.menu||[]).forEach(function(e){e=e.$el;e&&tt(e.querySelector(".el-scrollbar__wrap"),e.querySelector(".el-cascader-node.is-active")||e.querySelector(".el-cascader-node.in-active-path"))})},getNodeByValue:function(e){return this.store.getNodeByValue(e)},getFlattedNodes:function(e){var t=!this.config.lazy;return this.store.getFlattedNodes(e,t)},getCheckedNodes:function(e){var t=this.checkedValue;return this.multiple?this.getFlattedNodes(e).filter(function(e){return e.checked}):I(t)?[]:[this.getNodeByValue(t)]},clearCheckedNodes:function(){var e=this.config,t=this.leafOnly,i=e.multiple,e=e.emitPath;i?(this.getCheckedNodes(t).filter(function(e){return!e.isDisabled}).forEach(function(e){return e.doCheck(!1)}),this.calculateMultiCheckedValue()):this.checkedValue=e?[]:null}}},se,[],!1,null,null,null);function $s(e,t){!function(e){if(!(e instanceof $s))throw new TypeError("Cannot call a class as a function")}(this),this.config=t,this.initNodes(e)}i.options.__file="packages/cascader-panel/src/cascader-panel.vue";var Es=i.exports;Es.install=function(e){e.component(Es.name,Es)};var o=Es,Ls=Ft.keys,Is={expandTrigger:{newProp:"expandTrigger",type:String},changeOnSelect:{newProp:"checkStrictly",type:Boolean},hoverThreshold:{newProp:"hoverThreshold",type:Number}},At={props:{placement:{type:String,default:"bottom-start"},appendToBody:De.props.appendToBody,visibleArrow:{type:Boolean,default:!0},arrowOffset:De.props.arrowOffset,offset:De.props.offset,boundariesPadding:De.props.boundariesPadding,popperOptions:De.props.popperOptions},methods:De.methods,data:De.data,beforeDestroy:De.beforeDestroy},Ns={medium:36,small:32,mini:28},yt=r({name:"ElCascader",directives:{Clickoutside:et},mixins:[At,l,H,V],inject:{elForm:{default:""},elFormItem:{default:""}},components:{ElInput:ee,ElTag:We,ElScrollbar:Ue,ElCascaderPanel:o},props:{value:{},options:Array,props:Object,size:String,placeholder:{type:String,default:function(){return O("el.cascader.placeholder")}},disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:Function,separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,debounce:{type:Number,default:300},beforeFilter:{type:Function,default:function(){return function(){}}},popperClass:String},data:function(){return{dropDownVisible:!1,checkedValue:this.value||null,inputHover:!1,inputValue:null,presentText:null,presentTags:[],checkedNodes:[],filtering:!1,suggestions:[],inputInitialHeight:0,pressDeleteCount:0}},computed:{realSize:function(){var e=(this.elFormItem||{}).elFormItemSize;return this.size||e||(this.$ELEMENT||{}).size},tagSize:function(){return-1<["small","mini"].indexOf(this.realSize)?"mini":"small"},isDisabled:function(){return this.disabled||(this.elForm||{}).disabled},config:function(){var r=this.props||{},o=this.$attrs;return Object.keys(Is).forEach(function(e){var t,i=Is[e],n=i.newProp,i=i.type,t=o[e]||o[t=/([^-])([A-Z])/g,e.replace(t,"$1-$2").replace(t,"$1-$2").toLowerCase()];Q(e)&&!Q(r[n])&&(i===Boolean&&""===t&&(t=!0),r[n]=t)}),r},multiple:function(){return this.config.multiple},leafOnly:function(){return!this.config.checkStrictly},readonly:function(){return!this.filterable||this.multiple},clearBtnVisible:function(){return!(!this.clearable||this.isDisabled||this.filtering||!this.inputHover||(this.multiple?!this.checkedNodes.filter(function(e){return!e.isDisabled}).length:!this.presentText))},panel:function(){return this.$refs.panel}},watch:{disabled:function(){this.computePresentContent()},value:function(e){L(e,this.checkedValue)||(this.checkedValue=e,this.computePresentContent())},checkedValue:function(e){var t=this.value,i=this.dropDownVisible,n=this.config,r=n.checkStrictly,n=n.multiple;L(e,t)&&!y(t)||(this.computePresentContent(),n||r||!i||this.toggleDropDownVisible(!1),this.$emit("input",e),this.$emit("change",e),this.dispatch("ElFormItem","el.form.change",[e]))},options:{handler:function(){this.$nextTick(this.computePresentContent)},deep:!0},presentText:function(e){this.inputValue=e},presentTags:function(e,t){this.multiple&&(e.length||t.length)&&this.$nextTick(this.updateStyle)},filtering:function(e){this.$nextTick(this.updatePopper)}},mounted:function(){var t=this,e=this.$refs.input;e&&e.$el&&(this.inputInitialHeight=e.$el.offsetHeight||Ns[this.realSize]||40),I(this.value)||this.computePresentContent(),this.filterHandler=Ye()(this.debounce,function(){var e=t.inputValue;e?(e=t.beforeFilter(e))&&e.then?e.then(t.getSuggestions):!1!==e?t.getSuggestions():t.filtering=!1:t.filtering=!1}),Fe(this.$el,this.updateStyle)},beforeDestroy:function(){ze(this.$el,this.updateStyle)},methods:{getMigratingConfig:function(){return{props:{"expand-trigger":"expand-trigger is removed, use `props.expandTrigger` instead.","change-on-select":"change-on-select is removed, use `props.checkStrictly` instead.","hover-threshold":"hover-threshold is removed, use `props.hoverThreshold` instead"},events:{"active-item-change":"active-item-change is renamed to expand-change"}}},toggleDropDownVisible:function(e){var t,i,n=this;this.isDisabled||(t=this.dropDownVisible,i=this.$refs.input,(e=Q(e)?e:!t)!==t&&((this.dropDownVisible=e)&&this.$nextTick(function(){n.updatePopper(),n.panel.scrollIntoView()}),i.$refs.input.setAttribute("aria-expanded",e),this.$emit("visible-change",e)))},handleDropdownLeave:function(){this.filtering=!1,this.inputValue=this.presentText},handleKeyDown:function(e){switch(e.keyCode){case Ls.enter:this.toggleDropDownVisible();break;case Ls.down:this.toggleDropDownVisible(!0),this.focusFirstNode(),e.preventDefault();break;case Ls.esc:case Ls.tab:this.toggleDropDownVisible(!1)}},handleFocus:function(e){this.$emit("focus",e)},handleBlur:function(e){this.$emit("blur",e)},handleInput:function(e,t){this.dropDownVisible||this.toggleDropDownVisible(!0),t&&t.isComposing||(e?this.filterHandler():this.filtering=!1)},handleClear:function(){this.presentText="",this.panel.clearCheckedNodes()},handleExpandChange:function(e){this.$nextTick(this.updatePopper.bind(this)),this.$emit("expand-change",e),this.$emit("active-item-change",e)},focusFirstNode:function(){var r=this;this.$nextTick(function(){var e=r.filtering,t=r.$refs,i=t.popper,n=t.suggestionPanel,t=null;(t=e&&n?n.$el.querySelector(".el-cascader__suggestion-item"):i.querySelector(".el-cascader-menu").querySelector('.el-cascader-node[tabindex="-1"]'))&&(t.focus(),e||t.click())})},computePresentContent:function(){var e=this;this.$nextTick(function(){e.config.multiple?(e.computePresentTags(),e.presentText=e.presentTags.length?" ":null):e.computePresentText()})},computePresentText:function(){var e=this.checkedValue,t=this.config;if(!I(e)){e=this.panel.getNodeByValue(e);if(e&&(t.checkStrictly||e.isLeaf))return void(this.presentText=e.getText(this.showAllLevels,this.separator))}this.presentText=null},computePresentTags:function(){function t(e){return{node:e,key:e.uid,text:e.getText(o,s),hitState:!1,closable:!n&&!e.isDisabled}}var e,i,n=this.isDisabled,r=this.leafOnly,o=this.showAllLevels,s=this.separator,a=this.collapseTags,l=this.getCheckedNodes(r),c=[];l.length&&(e=l[0],r=(i=l.slice(1)).length,c.push(t(e)),r&&(a?c.push({key:-1,text:"+ "+r,closable:!1}):i.forEach(function(e){return c.push(t(e))}))),this.checkedNodes=l,this.presentTags=c},getSuggestions:function(){var t=this,i=this.filterMethod;v(i)||(i=function(e,t){return e.text.includes(t)});var e=this.panel.getFlattedNodes(this.leafOnly).filter(function(e){return!e.isDisabled&&(e.text=e.getText(t.showAllLevels,t.separator)||"",i(e,t.inputValue))});this.multiple?this.presentTags.forEach(function(e){e.hitState=!1}):e.forEach(function(e){e.checked=L(t.checkedValue,e.getValueByOption())}),this.filtering=!0,this.suggestions=e,this.$nextTick(this.updatePopper)},handleSuggestionKeyDown:function(e){var t=e.keyCode,e=e.target;switch(t){case Ls.enter:e.click();break;case Ls.up:t=e.previousElementSibling;t&&t.focus();break;case Ls.down:e=e.nextElementSibling;e&&e.focus();break;case Ls.esc:case Ls.tab:this.toggleDropDownVisible(!1)}},handleDelete:function(){var e=this.inputValue,t=this.pressDeleteCount,i=this.presentTags,n=i.length-1,i=i[n];this.pressDeleteCount=e?0:t+1,i&&this.pressDeleteCount&&(i.hitState?this.deleteTag(n):i.hitState=!0)},handleSuggestionClick:function(e){var t=this.multiple,e=this.suggestions[e];t?(t=e.checked,e.doCheck(!t),this.panel.calculateMultiCheckedValue()):(this.checkedValue=e.getValueByOption(),this.toggleDropDownVisible(!1))},deleteTag:function(i){var e=this.checkedValue,t=e[i];this.checkedValue=e.filter(function(e,t){return t!==i}),this.$emit("remove-tag",t)},updateStyle:function(){var e,t,i,n=this.$el,r=this.inputInitialHeight;!this.$isServer&&n&&(e=this.$refs.suggestionPanel,(t=n.querySelector(".el-input__inner"))&&(i=n.querySelector(".el-cascader__tags"),n=null,e&&(n=e.$el)&&(n.querySelector(".el-cascader__suggestion-list").style.minWidth=t.offsetWidth+"px"),i&&(i=i.offsetHeight,r=Math.max(i+6,r)+"px",t.style.height=r,this.updatePopper())))},getCheckedNodes:function(e){return this.panel.getCheckedNodes(e)}}},K,[],!1,null,null,null);yt.options.__file="packages/cascader/src/cascader.vue";var Os=yt.exports;Os.install=function(e){e.component(Os.name,Os)};It=Os,Sr=function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.hide,expression:"hide"}],class:["el-color-picker",t.colorDisabled?"is-disabled":"",t.colorSize?"el-color-picker--"+t.colorSize:""]},[t.colorDisabled?e("div",{staticClass:"el-color-picker__mask"}):t._e(),e("div",{staticClass:"el-color-picker__trigger",on:{click:t.handleTrigger}},[e("span",{staticClass:"el-color-picker__color",class:{"is-alpha":t.showAlpha}},[e("span",{staticClass:"el-color-picker__color-inner",style:{backgroundColor:t.displayedColor}}),t.value||t.showPanelColor?t._e():e("span",{staticClass:"el-color-picker__empty el-icon-close"})]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.value||t.showPanelColor,expression:"value || showPanelColor"}],staticClass:"el-color-picker__icon el-icon-arrow-down"})]),e("picker-dropdown",{ref:"dropdown",class:["el-color-picker__panel",t.popperClass||""],attrs:{color:t.color,"show-alpha":t.showAlpha,predefine:t.predefine},on:{pick:t.confirmValue,clear:t.clearValue},model:{value:t.showPicker,callback:function(e){t.showPicker=e},expression:"showPicker"}})],1)};Sr._withStripped=!0;function Rs(e,t,i){return[e,t*i/((e=(2-t)*i)<1?e:2-e)||0,e/2]}function Ps(e,t){"string"==typeof(i=e)&&-1!==i.indexOf(".")&&1===parseFloat(i)&&(e="100%");var i="string"==typeof e&&-1!==e.indexOf("%");return e=Math.min(t,Math.max(0,parseFloat(e))),i&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Fs(e){return 2===e.length?16*(Hs[e[0].toUpperCase()]||+e[0])+(Hs[e[1].toUpperCase()]||+e[1]):Hs[e[1].toUpperCase()]||+e[1]}function zs(e,t,i){e=Ps(e,255),t=Ps(t,255),i=Ps(i,255);var n=Math.max(e,t,i),r=Math.min(e,t,i),o=void 0,s=n,a=n-r,l=0===n?0:a/n;if(n===r)o=0;else{switch(n){case e:o=(t-i)/a+(t<i?6:0);break;case t:o=(i-e)/a+2;break;case i:o=(e-t)/a+4}o/=6}return{h:360*o,s:100*l,v:100*s}}function Ws(e,t,i){e=6*Ps(e,360),t=Ps(t,100),i=Ps(i,100);var n=Math.floor(e),r=i*(1-t),o=i*(1-(s=e-n)*t),t=[i,o,r,r,e=i*(1-(1-s)*t),i][s=n%6],n=[e,i,i,o,r,r][s],s=[r,r,e,i,i,o][s];return{r:Math.round(255*t),g:Math.round(255*n),b:Math.round(255*s)}}var Bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},js={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},Hs={A:10,B:11,C:12,D:13,E:14,F:15},Ks=(Vs.prototype.set=function(e,t){if(1!==arguments.length||"object"!==(void 0===e?"undefined":Bs(e)))this["_"+e]=t,this.doOnChange();else for(var i in e)e.hasOwnProperty(i)&&this.set(i,e[i])},Vs.prototype.get=function(e){return this["_"+e]},Vs.prototype.toRgb=function(){return Ws(this._hue,this._saturation,this._value)},Vs.prototype.fromString=function(e){var n=this;if(!e)return this._hue=0,this._saturation=100,this._value=100,void this.doOnChange();function t(e,t,i){n._hue=Math.max(0,Math.min(360,e)),n._saturation=Math.max(0,Math.min(100,t)),n._value=Math.max(0,Math.min(100,i)),n.doOnChange()}var i,r,o,s;-1!==e.indexOf("hsl")?(4===(i=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(function(e){return""!==e}).map(function(e,t){return 2<t?parseFloat(e):parseInt(e,10)})).length?this._alpha=Math.floor(100*parseFloat(i[3])):3===i.length&&(this._alpha=100),3<=i.length&&t((i=function(e,t,i){i/=100;var n=t/=100,r=Math.max(i,.01);return t*=(i*=2)<=1?i:2-i,n*=r<=1?r:2-r,{h:e,s:100*(0==i?2*n/(r+n):2*t/(i+t)),v:(i+t)/2*100}}(i[0],i[1],i[2])).h,i.s,i.v)):-1!==e.indexOf("hsv")?(4===(r=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(function(e){return""!==e}).map(function(e,t){return 2<t?parseFloat(e):parseInt(e,10)})).length?this._alpha=Math.floor(100*parseFloat(r[3])):3===r.length&&(this._alpha=100),3<=r.length&&t(r[0],r[1],r[2])):-1!==e.indexOf("rgb")?(4===(o=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(function(e){return""!==e}).map(function(e,t){return 2<t?parseFloat(e):parseInt(e,10)})).length?this._alpha=Math.floor(100*parseFloat(o[3])):3===o.length&&(this._alpha=100),3<=o.length&&t((s=zs(o[0],o[1],o[2])).h,s.s,s.v)):-1!==e.indexOf("#")&&(r=e.replace("#","").trim(),/^(?:[0-9a-fA-F]{3}){1,2}$/.test(r)&&(e=s=o=void 0,3===r.length?(o=Fs(r[0]+r[0]),s=Fs(r[1]+r[1]),e=Fs(r[2]+r[2])):6!==r.length&&8!==r.length||(o=Fs(r.substring(0,2)),s=Fs(r.substring(2,4)),e=Fs(r.substring(4,6))),8===r.length?this._alpha=Math.floor(Fs(r.substring(6))/255*100):3!==r.length&&6!==r.length||(this._alpha=100),t((e=zs(o,s,e)).h,e.s,e.v)))},Vs.prototype.compare=function(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1},Vs.prototype.doOnChange=function(){var e=this._hue,t=this._saturation,i=this._value,n=this._alpha,r=this.format;if(this.enableAlpha)switch(r){case"hsl":var o=Rs(e,t/100,i/100);this.value="hsla("+e+", "+Math.round(100*o[1])+"%, "+Math.round(100*o[2])+"%, "+n/100+")";break;case"hsv":this.value="hsva("+e+", "+Math.round(t)+"%, "+Math.round(i)+"%, "+n/100+")";break;default:var s=Ws(e,t,i),a=s.r,o=s.g,s=s.b;this.value="rgba("+a+", "+o+", "+s+", "+n/100+")"}else switch(r){case"hsl":var l=Rs(e,t/100,i/100);this.value="hsl("+e+", "+Math.round(100*l[1])+"%, "+Math.round(100*l[2])+"%)";break;case"hsv":this.value="hsv("+e+", "+Math.round(t)+"%, "+Math.round(i)+"%)";break;case"rgb":var c=Ws(e,t,i),r=c.r,l=c.g,c=c.b;this.value="rgb("+r+", "+l+", "+c+")";break;default:this.value=(c=Ws(e,t,i),e=c.r,t=c.g,i=c.b,c=function(e){e=Math.min(Math.round(e),255);var t=Math.floor(e/16),e=e%16;return""+(js[t]||t)+(js[e]||e)},isNaN(e)||isNaN(t)||isNaN(i)?"":"#"+c(e)+c(t)+c(i))}},Vs),ti=function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":t.doDestroy}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showPopper,expression:"showPopper"}],staticClass:"el-color-dropdown"},[e("div",{staticClass:"el-color-dropdown__main-wrapper"},[e("hue-slider",{ref:"hue",staticStyle:{float:"right"},attrs:{color:t.color,vertical:""}}),e("sv-panel",{ref:"sl",attrs:{color:t.color}})],1),t.showAlpha?e("alpha-slider",{ref:"alpha",attrs:{color:t.color}}):t._e(),t.predefine?e("predefine",{attrs:{color:t.color,colors:t.predefine}}):t._e(),e("div",{staticClass:"el-color-dropdown__btns"},[e("span",{staticClass:"el-color-dropdown__value"},[e("el-input",{attrs:{"validate-event":!1,size:"mini"},on:{blur:t.handleConfirm},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleConfirm(e):null}},model:{value:t.customInput,callback:function(e){t.customInput=e},expression:"customInput"}})],1),e("el-button",{staticClass:"el-color-dropdown__link-btn",attrs:{size:"mini",type:"text"},on:{click:function(e){t.$emit("clear")}}},[t._v("\n        "+t._s(t.t("el.colorpicker.clear"))+"\n      ")]),e("el-button",{staticClass:"el-color-dropdown__btn",attrs:{plain:"",size:"mini"},on:{click:t.confirmValue}},[t._v("\n        "+t._s(t.t("el.colorpicker.confirm"))+"\n      ")])],1)],1)])};function Vs(e){for(var t in function(e){if(!(e instanceof Vs))throw new TypeError("Cannot call a class as a function")}(this),this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="",e=e||{})e.hasOwnProperty(t)&&(this[t]=e[t]);this.doOnChange()}function Us(e,i){var n,t;u.a.prototype.$isServer||(n=function(e){i.drag&&i.drag(e)},t=function e(t){document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",e),document.onselectstart=null,document.ondragstart=null,Gs=!1,i.end&&i.end(t)},e.addEventListener("mousedown",function(e){Gs||(document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},document.addEventListener("mousemove",n),document.addEventListener("mouseup",t),Gs=!0,i.start&&i.start(e))}))}var ai=function(){var e=this.$createElement,e=this._self._c||e;return e("div",{staticClass:"el-color-svpanel",style:{backgroundColor:this.background}},[e("div",{staticClass:"el-color-svpanel__white"}),e("div",{staticClass:"el-color-svpanel__black"}),e("div",{staticClass:"el-color-svpanel__cursor",style:{top:this.cursorTop+"px",left:this.cursorLeft+"px"}},[e("div")])])},Gs=!(ai._withStripped=ti._withStripped=!0),ui=r({name:"el-sl-panel",props:{color:{required:!0}},computed:{colorValue:function(){return{hue:this.color.get("hue"),value:this.color.get("value")}}},watch:{colorValue:function(){this.update()}},methods:{update:function(){var e=this.color.get("saturation"),t=this.color.get("value"),i=this.$el,n=i.clientWidth,i=i.clientHeight;this.cursorLeft=e*n/100,this.cursorTop=(100-t)*i/100,this.background="hsl("+this.color.get("hue")+", 100%, 50%)"},handleDrag:function(e){var t=this.$el.getBoundingClientRect(),i=e.clientX-t.left,e=e.clientY-t.top,i=Math.max(0,i);i=Math.min(i,t.width),e=Math.max(0,e),e=Math.min(e,t.height),this.cursorLeft=i,this.cursorTop=e,this.color.set({saturation:i/t.width*100,value:100-e/t.height*100})}},mounted:function(){var t=this;Us(this.$el,{drag:function(e){t.handleDrag(e)},end:function(e){t.handleDrag(e)}}),this.update()},data:function(){return{cursorTop:0,cursorLeft:0,background:"hsl(0, 100%, 50%)"}}},ai,[],!1,null,null,null);ui.options.__file="packages/color-picker/src/components/sv-panel.vue";fi=ui.exports,vi=function(){var e=this.$createElement,e=this._self._c||e;return e("div",{staticClass:"el-color-hue-slider",class:{"is-vertical":this.vertical}},[e("div",{ref:"bar",staticClass:"el-color-hue-slider__bar",on:{click:this.handleClick}}),e("div",{ref:"thumb",staticClass:"el-color-hue-slider__thumb",style:{left:this.thumbLeft+"px",top:this.thumbTop+"px"}})])},s=r({name:"el-color-hue-slider",props:{color:{required:vi._withStripped=!0},vertical:Boolean},data:function(){return{thumbLeft:0,thumbTop:0}},computed:{hueValue:function(){return this.color.get("hue")}},watch:{hueValue:function(){this.update()}},methods:{handleClick:function(e){var t=this.$refs.thumb;e.target!==t&&this.handleDrag(e)},handleDrag:function(e){var t,i=this.$el.getBoundingClientRect(),n=this.$refs.thumb,r=void 0,r=this.vertical?(t=e.clientY-i.top,t=Math.min(t,i.height-n.offsetHeight/2),t=Math.max(n.offsetHeight/2,t),Math.round((t-n.offsetHeight/2)/(i.height-n.offsetHeight)*360)):(e=e.clientX-i.left,e=Math.min(e,i.width-n.offsetWidth/2),e=Math.max(n.offsetWidth/2,e),Math.round((e-n.offsetWidth/2)/(i.width-n.offsetWidth)*360));this.color.set("hue",r)},getThumbLeft:function(){if(this.vertical)return 0;var e=this.$el,t=this.color.get("hue");if(!e)return 0;var i=this.$refs.thumb;return Math.round(t*(e.offsetWidth-i.offsetWidth/2)/360)},getThumbTop:function(){if(!this.vertical)return 0;var e=this.$el,t=this.color.get("hue");if(!e)return 0;var i=this.$refs.thumb;return Math.round(t*(e.offsetHeight-i.offsetHeight/2)/360)},update:function(){this.thumbLeft=this.getThumbLeft(),this.thumbTop=this.getThumbTop()}},mounted:function(){var t=this,e=this.$refs,i=e.bar,n=e.thumb,e={drag:function(e){t.handleDrag(e)},end:function(e){t.handleDrag(e)}};Us(i,e),Us(n,e),this.update()}},vi,[],!1,null,null,null);s.options.__file="packages/color-picker/src/components/hue-slider.vue";c=s.exports,dt=function(){var e=this.$createElement,e=this._self._c||e;return e("div",{staticClass:"el-color-alpha-slider",class:{"is-vertical":this.vertical}},[e("div",{ref:"bar",staticClass:"el-color-alpha-slider__bar",style:{background:this.background},on:{click:this.handleClick}}),e("div",{ref:"thumb",staticClass:"el-color-alpha-slider__thumb",style:{left:this.thumbLeft+"px",top:this.thumbTop+"px"}})])},se=r({name:"el-color-alpha-slider",props:{color:{required:dt._withStripped=!0},vertical:Boolean},watch:{"color._alpha":function(){this.update()},"color.value":function(){this.update()}},methods:{handleClick:function(e){var t=this.$refs.thumb;e.target!==t&&this.handleDrag(e)},handleDrag:function(e){var t,i=this.$el.getBoundingClientRect(),n=this.$refs.thumb;this.vertical?(t=e.clientY-i.top,t=Math.max(n.offsetHeight/2,t),t=Math.min(t,i.height-n.offsetHeight/2),this.color.set("alpha",Math.round((t-n.offsetHeight/2)/(i.height-n.offsetHeight)*100))):(e=e.clientX-i.left,e=Math.max(n.offsetWidth/2,e),e=Math.min(e,i.width-n.offsetWidth/2),this.color.set("alpha",Math.round((e-n.offsetWidth/2)/(i.width-n.offsetWidth)*100)))},getThumbLeft:function(){if(this.vertical)return 0;var e=this.$el,t=this.color._alpha;if(!e)return 0;var i=this.$refs.thumb;return Math.round(t*(e.offsetWidth-i.offsetWidth/2)/100)},getThumbTop:function(){if(!this.vertical)return 0;var e=this.$el,t=this.color._alpha;if(!e)return 0;var i=this.$refs.thumb;return Math.round(t*(e.offsetHeight-i.offsetHeight/2)/100)},getBackground:function(){if(this.color&&this.color.value){var e=this.color.toRgb(),t=e.r,i=e.g,e=e.b;return"linear-gradient(to right, rgba("+t+", "+i+", "+e+", 0) 0%, rgba("+t+", "+i+", "+e+", 1) 100%)"}return null},update:function(){this.thumbLeft=this.getThumbLeft(),this.thumbTop=this.getThumbTop(),this.background=this.getBackground()}},data:function(){return{thumbLeft:0,thumbTop:0,background:null}},mounted:function(){var t=this,e=this.$refs,i=e.bar,n=e.thumb,e={drag:function(e){t.handleDrag(e)},end:function(e){t.handleDrag(e)}};Us(i,e),Us(n,e),this.update()}},dt,[],!1,null,null,null);se.options.__file="packages/color-picker/src/components/alpha-slider.vue";i=se.exports,At=function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("div",{staticClass:"el-color-predefine"},[n("div",{staticClass:"el-color-predefine__colors"},i._l(i.rgbaColors,function(e,t){return n("div",{key:i.colors[t],staticClass:"el-color-predefine__color-selector",class:{selected:e.selected,"is-alpha":e._alpha<100},on:{click:function(e){i.handleSelect(t)}}},[n("div",{style:{"background-color":e.value}})])}),0)])};At._withStripped=!0;K=r({props:{colors:{type:Array,required:!0},color:{required:!0}},data:function(){return{rgbaColors:this.parseColors(this.colors,this.color)}},methods:{handleSelect:function(e){this.color.fromString(this.colors[e])},parseColors:function(e,i){return e.map(function(e){var t=new Ks;return t.enableAlpha=!0,t.format="rgba",t.fromString(e),t.selected=t.value===i.value,t})}},watch:{"$parent.currentColor":function(e){var t=new Ks;t.fromString(e),this.rgbaColors.forEach(function(e){e.selected=t.compare(e)})},colors:function(e){this.rgbaColors=this.parseColors(e,this.color)},color:function(e){this.rgbaColors=this.parseColors(this.colors,e)}}},At,[],!1,null,null,null);K.options.__file="packages/color-picker/src/components/predefine.vue";yt=K.exports,ai=r({name:"el-color-picker-dropdown",mixins:[De,H],components:{SvPanel:fi,HueSlider:c,AlphaSlider:i,ElInput:ee,ElButton:xt,Predefine:yt},props:{color:{required:!0},showAlpha:Boolean,predefine:Array},data:function(){return{customInput:""}},computed:{currentColor:function(){var e=this.$parent;return e.value||e.showPanelColor?e.color.value:""}},methods:{confirmValue:function(){this.$emit("pick")},handleConfirm:function(){this.color.fromString(this.customInput)}},mounted:function(){this.$parent.popperElm=this.popperElm=this.$el,this.referenceElm=this.$parent.$el},watch:{showPopper:function(e){var n=this;!0===e&&this.$nextTick(function(){var e=n.$refs,t=e.sl,i=e.hue,e=e.alpha;t&&t.update(),i&&i.update(),e&&e.update()})},currentColor:{immediate:!0,handler:function(e){this.customInput=e}}}},ti,[],!1,null,null,null);ai.options.__file="packages/color-picker/src/components/picker-dropdown.vue";ui=ai.exports,vi=r({name:"ElColorPicker",mixins:[l],props:{value:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:String,popperClass:String,predefine:Array},inject:{elForm:{default:""},elFormItem:{default:""}},directives:{Clickoutside:et},computed:{displayedColor:function(){return this.value||this.showPanelColor?this.displayedRgb(this.color,this.showAlpha):"transparent"},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},colorSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},colorDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{value:function(e){e?e&&e!==this.color.value&&this.color.fromString(e):this.showPanelColor=!1},color:{deep:!0,handler:function(){this.showPanelColor=!0}},displayedColor:function(e){var t;this.showPicker&&((t=new Ks({enableAlpha:this.showAlpha,format:this.colorFormat})).fromString(this.value),e!==this.displayedRgb(t,this.showAlpha)&&this.$emit("active-change",e))}},methods:{handleTrigger:function(){this.colorDisabled||(this.showPicker=!this.showPicker)},confirmValue:function(){var e=this.color.value;this.$emit("input",e),this.$emit("change",e),this.dispatch("ElFormItem","el.form.change",e),this.showPicker=!1},clearValue:function(){this.$emit("input",null),this.$emit("change",null),null!==this.value&&this.dispatch("ElFormItem","el.form.change",null),this.showPanelColor=!1,this.showPicker=!1,this.resetColor()},hide:function(){this.showPicker=!1,this.resetColor()},resetColor:function(){var t=this;this.$nextTick(function(e){t.value?t.color.fromString(t.value):t.showPanelColor=!1})},displayedRgb:function(e,t){if(!(e instanceof Ks))throw Error("color should be instance of Color Class");var i=e.toRgb(),n=i.r,r=i.g,i=i.b;return t?"rgba("+n+", "+r+", "+i+", "+e.get("alpha")/100+")":"rgb("+n+", "+r+", "+i+")"}},mounted:function(){var e=this.value;e&&this.color.fromString(e),this.popperElm=this.$refs.dropdown.$el},data:function(){return{color:new Ks({enableAlpha:this.showAlpha,format:this.colorFormat}),showPicker:!1,showPanelColor:!1}},components:{PickerDropdown:ui}},Sr,[],!1,null,null,null);vi.options.__file="packages/color-picker/src/main.vue";var Ys=vi.exports;Ys.install=function(e){e.component(Ys.name,Ys)};s=Ys,dt=function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{staticClass:"el-transfer"},[e("transfer-panel",t._b({ref:"leftPanel",attrs:{data:t.sourceData,title:t.titles[0]||t.t("el.transfer.titles.0"),"default-checked":t.leftDefaultChecked,placeholder:t.filterPlaceholder||t.t("el.transfer.filterPlaceholder")},on:{"checked-change":t.onSourceCheckedChange}},"transfer-panel",t.$props,!1),[t._t("left-footer")],2),e("div",{staticClass:"el-transfer__buttons"},[e("el-button",{class:["el-transfer__button",t.hasButtonTexts?"is-with-texts":""],attrs:{type:"primary",disabled:0===t.rightChecked.length},nativeOn:{click:function(e){return t.addToLeft(e)}}},[e("i",{staticClass:"el-icon-arrow-left"}),void 0!==t.buttonTexts[0]?e("span",[t._v(t._s(t.buttonTexts[0]))]):t._e()]),e("el-button",{class:["el-transfer__button",t.hasButtonTexts?"is-with-texts":""],attrs:{type:"primary",disabled:0===t.leftChecked.length},nativeOn:{click:function(e){return t.addToRight(e)}}},[void 0!==t.buttonTexts[1]?e("span",[t._v(t._s(t.buttonTexts[1]))]):t._e(),e("i",{staticClass:"el-icon-arrow-right"})])],1),e("transfer-panel",t._b({ref:"rightPanel",attrs:{data:t.targetData,title:t.titles[1]||t.t("el.transfer.titles.1"),"default-checked":t.rightDefaultChecked,placeholder:t.filterPlaceholder||t.t("el.transfer.filterPlaceholder")},on:{"checked-change":t.onTargetCheckedChange}},"transfer-panel",t.$props,!1),[t._t("right-footer")],2)],1)},se=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-transfer-panel"},[i("p",{staticClass:"el-transfer-panel__header"},[i("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleAllCheckedChange},model:{value:t.allChecked,callback:function(e){t.allChecked=e},expression:"allChecked"}},[t._v("\n      "+t._s(t.title)+"\n      "),i("span",[t._v(t._s(t.checkedSummary))])])],1),i("div",{class:["el-transfer-panel__body",t.hasFooter?"is-with-footer":""]},[t.filterable?i("el-input",{staticClass:"el-transfer-panel__filter",attrs:{size:"small",placeholder:t.placeholder},nativeOn:{mouseenter:function(e){t.inputHover=!0},mouseleave:function(e){t.inputHover=!1}},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}},[i("i",{class:["el-input__icon","el-icon-"+t.inputIcon],attrs:{slot:"prefix"},on:{click:t.clearQuery},slot:"prefix"})]):t._e(),i("el-checkbox-group",{directives:[{name:"show",rawName:"v-show",value:!t.hasNoMatch&&0<t.data.length,expression:"!hasNoMatch && data.length > 0"}],staticClass:"el-transfer-panel__list",class:{"is-filterable":t.filterable},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},t._l(t.filteredData,function(e){return i("el-checkbox",{key:e[t.keyProp],staticClass:"el-transfer-panel__item",attrs:{label:e[t.keyProp],disabled:e[t.disabledProp]}},[i("option-content",{attrs:{option:e}})],1)}),1),i("p",{directives:[{name:"show",rawName:"v-show",value:t.hasNoMatch,expression:"hasNoMatch"}],staticClass:"el-transfer-panel__empty"},[t._v(t._s(t.t("el.transfer.noMatch")))]),i("p",{directives:[{name:"show",rawName:"v-show",value:0===t.data.length&&!t.hasNoMatch,expression:"data.length === 0 && !hasNoMatch"}],staticClass:"el-transfer-panel__empty"},[t._v(t._s(t.t("el.transfer.noData")))])],1),t.hasFooter?i("p",{staticClass:"el-transfer-panel__footer"},[t._t("default")],2):t._e()])};se._withStripped=dt._withStripped=!0;At=r({mixins:[H],name:"ElTransferPanel",componentName:"ElTransferPanel",components:{ElCheckboxGroup:Oe,ElCheckbox:Z,ElInput:ee,OptionContent:{props:{option:Object},render:function(e){var t=function e(t){return"ElTransferPanel"!==t.$options.componentName&&t.$parent?e(t.$parent):t}(this),i=t.$parent||t;return t.renderContent?t.renderContent(e,this.option):i.$scopedSlots.default?i.$scopedSlots.default({option:this.option}):e("span",[this.option[t.labelProp]||this.option[t.keyProp]])}}},props:{data:{type:Array,default:function(){return[]}},renderContent:Function,placeholder:String,title:String,filterable:Boolean,format:Object,filterMethod:Function,defaultChecked:Array,props:Object},data:function(){return{checked:[],allChecked:!1,query:"",inputHover:!1,checkChangeByUser:!0}},watch:{checked:function(t,i){var e;this.updateAllChecked(),this.checkChangeByUser?(e=t.concat(i).filter(function(e){return-1===t.indexOf(e)||-1===i.indexOf(e)}),this.$emit("checked-change",t,e)):(this.$emit("checked-change",t),this.checkChangeByUser=!0)},data:function(){var t=this,i=[],n=this.filteredData.map(function(e){return e[t.keyProp]});this.checked.forEach(function(e){-1<n.indexOf(e)&&i.push(e)}),this.checkChangeByUser=!1,this.checked=i},checkableData:function(){this.updateAllChecked()},defaultChecked:{immediate:!0,handler:function(e,t){var i,n,r=this;t&&e.length===t.length&&e.every(function(e){return-1<t.indexOf(e)})||(i=[],n=this.checkableData.map(function(e){return e[r.keyProp]}),e.forEach(function(e){-1<n.indexOf(e)&&i.push(e)}),this.checkChangeByUser=!1,this.checked=i)}}},computed:{filteredData:function(){var t=this;return this.data.filter(function(e){return"function"==typeof t.filterMethod?t.filterMethod(t.query,e):-1<(e[t.labelProp]||e[t.keyProp].toString()).toLowerCase().indexOf(t.query.toLowerCase())})},checkableData:function(){var t=this;return this.filteredData.filter(function(e){return!e[t.disabledProp]})},checkedSummary:function(){var e=this.checked.length,t=this.data.length,i=this.format,n=i.noChecked,i=i.hasChecked;return n&&i?(0<e?i.replace(/\${checked}/g,e):n).replace(/\${total}/g,t):e+"/"+t},isIndeterminate:function(){var e=this.checked.length;return 0<e&&e<this.checkableData.length},hasNoMatch:function(){return 0<this.query.length&&0===this.filteredData.length},inputIcon:function(){return 0<this.query.length&&this.inputHover?"circle-close":"search"},labelProp:function(){return this.props.label||"label"},keyProp:function(){return this.props.key||"key"},disabledProp:function(){return this.props.disabled||"disabled"},hasFooter:function(){return!!this.$slots.default}},methods:{updateAllChecked:function(){var t=this,e=this.checkableData.map(function(e){return e[t.keyProp]});this.allChecked=0<e.length&&e.every(function(e){return-1<t.checked.indexOf(e)})},handleAllCheckedChange:function(e){var t=this;this.checked=e?this.checkableData.map(function(e){return e[t.keyProp]}):[]},clearQuery:function(){"circle-close"===this.inputIcon&&(this.query="")}}},se,[],!1,null,null,null);At.options.__file="packages/transfer/src/transfer-panel.vue";K=r({name:"ElTransfer",mixins:[l,H,V],components:{TransferPanel:At.exports,ElButton:xt},props:{data:{type:Array,default:function(){return[]}},titles:{type:Array,default:function(){return[]}},buttonTexts:{type:Array,default:function(){return[]}},filterPlaceholder:{type:String,default:""},filterMethod:Function,leftDefaultChecked:{type:Array,default:function(){return[]}},rightDefaultChecked:{type:Array,default:function(){return[]}},renderContent:Function,value:{type:Array,default:function(){return[]}},format:{type:Object,default:function(){return{}}},filterable:Boolean,props:{type:Object,default:function(){return{label:"label",key:"key",disabled:"disabled"}}},targetOrder:{type:String,default:"original"}},data:function(){return{leftChecked:[],rightChecked:[]}},computed:{dataObj:function(){var i=this.props.key;return this.data.reduce(function(e,t){return(e[t[i]]=t)&&e},{})},sourceData:function(){var t=this;return this.data.filter(function(e){return-1===t.value.indexOf(e[t.props.key])})},targetData:function(){var i=this;return"original"===this.targetOrder?this.data.filter(function(e){return-1<i.value.indexOf(e[i.props.key])}):this.value.reduce(function(e,t){t=i.dataObj[t];return t&&e.push(t),e},[])},hasButtonTexts:function(){return 2===this.buttonTexts.length}},watch:{value:function(e){this.dispatch("ElFormItem","el.form.change",e)}},methods:{getMigratingConfig:function(){return{props:{"footer-format":"footer-format is renamed to format."}}},onSourceCheckedChange:function(e,t){this.leftChecked=e,void 0!==t&&this.$emit("left-check-change",e,t)},onTargetCheckedChange:function(e,t){this.rightChecked=e,void 0!==t&&this.$emit("right-check-change",e,t)},addToLeft:function(){var t=this.value.slice();this.rightChecked.forEach(function(e){e=t.indexOf(e);-1<e&&t.splice(e,1)}),this.$emit("input",t),this.$emit("change",t,"left",this.rightChecked)},addToRight:function(){var t=this,e=this.value.slice(),i=[],n=this.props.key;this.data.forEach(function(e){e=e[n];-1<t.leftChecked.indexOf(e)&&-1===t.value.indexOf(e)&&i.push(e)}),e="unshift"===this.targetOrder?i.concat(e):e.concat(i),this.$emit("input",e),this.$emit("change",e,"right",this.leftChecked)},clearQuery:function(e){"left"===e?this.$refs.leftPanel.query="":"right"===e&&(this.$refs.rightPanel.query="")}}},dt,[],!1,null,null,null);K.options.__file="packages/transfer/src/main.vue";var qs=K.exports;qs.install=function(e){e.component(qs.name,qs)};fi=qs,c=function(){var e=this.$createElement;return(this._self._c||e)("section",{staticClass:"el-container",class:{"is-vertical":this.isVertical}},[this._t("default")],2)};c._withStripped=!0;i=r({name:"ElContainer",componentName:"ElContainer",props:{direction:String},computed:{isVertical:function(){return"vertical"===this.direction||"horizontal"!==this.direction&&!(!this.$slots||!this.$slots.default)&&this.$slots.default.some(function(e){e=e.componentOptions&&e.componentOptions.tag;return"el-header"===e||"el-footer"===e})}}},c,[],!1,null,null,null);i.options.__file="packages/container/src/main.vue";var Qs=i.exports;Qs.install=function(e){e.component(Qs.name,Qs)};yt=Qs,ti=function(){var e=this.$createElement;return(this._self._c||e)("header",{staticClass:"el-header",style:{height:this.height}},[this._t("default")],2)};ti._withStripped=!0;ai=r({name:"ElHeader",componentName:"ElHeader",props:{height:{type:String,default:"60px"}}},ti,[],!1,null,null,null);ai.options.__file="packages/header/src/main.vue";var Xs=ai.exports;Xs.install=function(e){e.component(Xs.name,Xs)};et=Xs,ui=function(){var e=this.$createElement;return(this._self._c||e)("aside",{staticClass:"el-aside",style:{width:this.width}},[this._t("default")],2)};ui._withStripped=!0;Sr=r({name:"ElAside",componentName:"ElAside",props:{width:{type:String,default:"300px"}}},ui,[],!1,null,null,null);Sr.options.__file="packages/aside/src/main.vue";var Zs=Sr.exports;Zs.install=function(e){e.component(Zs.name,Zs)};vi=Zs,se=function(){var e=this.$createElement;return(this._self._c||e)("main",{staticClass:"el-main"},[this._t("default")],2)};se._withStripped=!0;V=r({name:"ElMain",componentName:"ElMain"},se,[],!1,null,null,null);V.options.__file="packages/main/src/main.vue";var Js=V.exports;Js.install=function(e){e.component(Js.name,Js)};At=Js,dt=function(){var e=this.$createElement;return(this._self._c||e)("footer",{staticClass:"el-footer",style:{height:this.height}},[this._t("default")],2)};dt._withStripped=!0;K=r({name:"ElFooter",componentName:"ElFooter",props:{height:{type:String,default:"60px"}}},dt,[],!1,null,null,null);K.options.__file="packages/footer/src/main.vue";var ea=K.exports;ea.install=function(e){e.component(ea.name,ea)};c=ea,i=r({name:"ElTimeline",props:{reverse:{type:Boolean,default:!1}},provide:function(){return{timeline:this}},render:function(){var e=arguments[0],t=this.reverse,i={"el-timeline":!0,"is-reverse":t},n=this.$slots.default||[];return t&&(n=n.reverse()),e("ul",{class:i},[n])}},void 0,void 0,!1,null,null,null);i.options.__file="packages/timeline/src/main.vue";var ta=i.exports;ta.install=function(e){e.component(ta.name,ta)};ti=ta,ai=function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("li",{staticClass:"el-timeline-item"},[t("div",{staticClass:"el-timeline-item__tail"}),e.$slots.dot?e._e():t("div",{staticClass:"el-timeline-item__node",class:["el-timeline-item__node--"+(e.size||""),"el-timeline-item__node--"+(e.type||"")],style:{backgroundColor:e.color}},[e.icon?t("i",{staticClass:"el-timeline-item__icon",class:e.icon}):e._e()]),e.$slots.dot?t("div",{staticClass:"el-timeline-item__dot"},[e._t("dot")],2):e._e(),t("div",{staticClass:"el-timeline-item__wrapper"},[e.hideTimestamp||"top"!==e.placement?e._e():t("div",{staticClass:"el-timeline-item__timestamp is-top"},[e._v("\n      "+e._s(e.timestamp)+"\n    ")]),t("div",{staticClass:"el-timeline-item__content"},[e._t("default")],2),e.hideTimestamp||"bottom"!==e.placement?e._e():t("div",{staticClass:"el-timeline-item__timestamp is-bottom"},[e._v("\n      "+e._s(e.timestamp)+"\n    ")])])])};ai._withStripped=!0;ui=r({name:"ElTimelineItem",inject:["timeline"],props:{timestamp:String,hideTimestamp:{type:Boolean,default:!1},placement:{type:String,default:"bottom"},type:String,color:String,size:{type:String,default:"normal"},icon:String}},ai,[],!1,null,null,null);ui.options.__file="packages/timeline/src/item.vue";var ia=ui.exports;ia.install=function(e){e.component(ia.name,ia)};Sr=ia,se=function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("a",e._b({class:["el-link",e.type?"el-link--"+e.type:"",e.disabled&&"is-disabled",e.underline&&!e.disabled&&"is-underline"],attrs:{href:e.disabled?null:e.href},on:{click:e.handleClick}},"a",e.$attrs,!1),[e.icon?t("i",{class:e.icon}):e._e(),e.$slots.default?t("span",{staticClass:"el-link--inner"},[e._t("default")],2):e._e(),e.$slots.icon?[e.$slots.icon?e._t("icon"):e._e()]:e._e()],2)};se._withStripped=!0;V=r({name:"ElLink",props:{type:{type:String,default:"default"},underline:{type:Boolean,default:!0},disabled:Boolean,href:String,icon:String},methods:{handleClick:function(e){this.disabled||this.href||this.$emit("click",e)}}},se,[],!1,null,null,null);V.options.__file="packages/link/src/main.vue";var na=V.exports;na.install=function(e){e.component(na.name,na)};dt=na,K=function(e,t){var i=t._c;return i("div",t._g(t._b({class:[t.data.staticClass,"el-divider","el-divider--"+t.props.direction]},"div",t.data.attrs,!1),t.listeners),[t.slots().default&&"vertical"!==t.props.direction?i("div",{class:["el-divider__text","is-"+t.props.contentPosition]},[t._t("default")],2):t._e()])};K._withStripped=!0;i=r({name:"ElDivider",props:{direction:{type:String,default:"horizontal",validator:function(e){return-1!==["horizontal","vertical"].indexOf(e)}},contentPosition:{type:String,default:"center",validator:function(e){return-1!==["left","center","right"].indexOf(e)}}}},K,[],!0,null,null,null);i.options.__file="packages/divider/src/main.vue";var ra=i.exports;ra.install=function(e){e.component(ra.name,ra)};ai=ra,ui=function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{staticClass:"el-image"},[e.loading?e._t("placeholder",[t("div",{staticClass:"el-image__placeholder"})]):e.error?e._t("error",[t("div",{staticClass:"el-image__error"},[e._v(e._s(e.t("el.image.error")))])]):t("img",e._g(e._b({staticClass:"el-image__inner",class:{"el-image__inner--center":e.alignCenter,"el-image__preview":e.preview},style:e.imageStyle,attrs:{src:e.src},on:{click:e.clickHandler}},"img",e.$attrs,!1),e.$listeners)),e.preview?[e.showViewer?t("image-viewer",{attrs:{"z-index":e.zIndex,"initial-index":e.imageIndex,"on-close":e.closeViewer,"url-list":e.previewSrcList}}):e._e()]:e._e()],2)},se=function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("transition",{attrs:{name:"viewer-fade"}},[n("div",{ref:"el-image-viewer__wrapper",staticClass:"el-image-viewer__wrapper",style:{"z-index":i.zIndex},attrs:{tabindex:"-1"}},[n("div",{staticClass:"el-image-viewer__mask"}),n("span",{staticClass:"el-image-viewer__btn el-image-viewer__close",on:{click:i.hide}},[n("i",{staticClass:"el-icon-circle-close"})]),i.isSingle?i._e():[n("span",{staticClass:"el-image-viewer__btn el-image-viewer__prev",class:{"is-disabled":!i.infinite&&i.isFirst},on:{click:i.prev}},[n("i",{staticClass:"el-icon-arrow-left"})]),n("span",{staticClass:"el-image-viewer__btn el-image-viewer__next",class:{"is-disabled":!i.infinite&&i.isLast},on:{click:i.next}},[n("i",{staticClass:"el-icon-arrow-right"})])],n("div",{staticClass:"el-image-viewer__btn el-image-viewer__actions"},[n("div",{staticClass:"el-image-viewer__actions__inner"},[n("i",{staticClass:"el-icon-zoom-out",on:{click:function(e){i.handleActions("zoomOut")}}}),n("i",{staticClass:"el-icon-zoom-in",on:{click:function(e){i.handleActions("zoomIn")}}}),n("i",{staticClass:"el-image-viewer__actions__divider"}),n("i",{class:i.mode.icon,on:{click:i.toggleMode}}),n("i",{staticClass:"el-image-viewer__actions__divider"}),n("i",{staticClass:"el-icon-refresh-left",on:{click:function(e){i.handleActions("anticlocelise")}}}),n("i",{staticClass:"el-icon-refresh-right",on:{click:function(e){i.handleActions("clocelise")}}})])]),n("div",{staticClass:"el-image-viewer__canvas"},i._l(i.urlList,function(e,t){return t===i.index?n("img",{key:e,ref:"img",refInFor:!0,staticClass:"el-image-viewer__img",style:i.imgStyle,attrs:{src:i.currentImg},on:{load:i.handleImgLoad,error:i.handleImgError,mousedown:i.handleMouseDown}}):i._e()}),0)],2)])};se._withStripped=ui._withStripped=!0;var oa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},sa={CONTAIN:{name:"contain",icon:"el-icon-full-screen"},ORIGINAL:{name:"original",icon:"el-icon-c-scale-to-original"}},aa=!u.a.prototype.$isServer&&window.navigator.userAgent.match(/firefox/i)?"DOMMouseScroll":"mousewheel",V=r({name:"elImageViewer",props:{urlList:{type:Array,default:function(){return[]}},zIndex:{type:Number,default:2e3},onSwitch:{type:Function,default:function(){}},onClose:{type:Function,default:function(){}},initialIndex:{type:Number,default:0}},data:function(){return{index:this.initialIndex,isShow:!1,infinite:!0,loading:!1,mode:sa.CONTAIN,transform:{scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}},computed:{isSingle:function(){return this.urlList.length<=1},isFirst:function(){return 0===this.index},isLast:function(){return this.index===this.urlList.length-1},currentImg:function(){return this.urlList[this.index]},imgStyle:function(){var e=this.transform,t=e.scale,i=e.deg,n=e.offsetX,r=e.offsetY,r={transform:"scale("+t+") rotate("+i+"deg)",transition:e.enableTransition?"transform .3s":"","margin-left":n+"px","margin-top":r+"px"};return this.mode===sa.CONTAIN&&(r.maxWidth=r.maxHeight="100%"),r}},watch:{index:{handler:function(e){this.reset(),this.onSwitch(e)}},currentImg:function(e){var t=this;this.$nextTick(function(e){t.$refs.img[0].complete||(t.loading=!0)})}},methods:{hide:function(){this.deviceSupportUninstall(),this.onClose()},deviceSupportInstall:function(){var t=this;this._keyDownHandler=N(function(e){switch(e.keyCode){case 27:t.hide();break;case 32:t.toggleMode();break;case 37:t.prev();break;case 38:t.handleActions("zoomIn");break;case 39:t.next();break;case 40:t.handleActions("zoomOut")}}),this._mouseWheelHandler=N(function(e){0<(e.wheelDelta?e.wheelDelta:-e.detail)?t.handleActions("zoomIn",{zoomRate:.015,enableTransition:!1}):t.handleActions("zoomOut",{zoomRate:.015,enableTransition:!1})}),ae(document,"keydown",this._keyDownHandler),ae(document,aa,this._mouseWheelHandler)},deviceSupportUninstall:function(){le(document,"keydown",this._keyDownHandler),le(document,aa,this._mouseWheelHandler),this._keyDownHandler=null,this._mouseWheelHandler=null},handleImgLoad:function(e){this.loading=!1},handleImgError:function(e){this.loading=!1,e.target.alt="加载失败"},handleMouseDown:function(e){var t,i,n,r,o,s=this;this.loading||0!==e.button||(t=this.transform,i=t.offsetX,n=t.offsetY,r=e.pageX,o=e.pageY,this._dragHandler=N(function(e){s.transform.offsetX=i+e.pageX-r,s.transform.offsetY=n+e.pageY-o}),ae(document,"mousemove",this._dragHandler),ae(document,"mouseup",function(e){le(document,"mousemove",s._dragHandler)}),e.preventDefault())},reset:function(){this.transform={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}},toggleMode:function(){var e,t;this.loading||(e=Object.keys(sa),t=(Object.values(sa).indexOf(this.mode)+1)%e.length,this.mode=sa[e[t]],this.reset())},prev:function(){var e;this.isFirst&&!this.infinite||(e=this.urlList.length,this.index=(this.index-1+e)%e)},next:function(){var e;this.isLast&&!this.infinite||(e=this.urlList.length,this.index=(this.index+1)%e)},handleActions:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!this.loading){var i=oa({zoomRate:.2,rotateDeg:90,enableTransition:!0},t),n=i.zoomRate,r=i.rotateDeg,t=i.enableTransition,i=this.transform;switch(e){case"zoomOut":.2<i.scale&&(i.scale=parseFloat((i.scale-n).toFixed(3)));break;case"zoomIn":i.scale=parseFloat((i.scale+n).toFixed(3));break;case"clocelise":i.deg+=r;break;case"anticlocelise":i.deg-=r}i.enableTransition=t}}},mounted:function(){this.deviceSupportInstall(),this.$refs["el-image-viewer__wrapper"].focus()}},se,[],!1,null,null,null);V.options.__file="packages/image/src/image-viewer.vue";function la(){return void 0!==document.documentElement.style.objectFit}var K=V.exports,ca="",i=r({name:"ElImage",mixins:[H],inheritAttrs:!1,components:{ImageViewer:K},props:{src:String,fit:String,lazy:Boolean,scrollContainer:{},previewSrcList:{type:Array,default:function(){return[]}},zIndex:{type:Number,default:2e3}},data:function(){return{loading:!0,error:!1,show:!this.lazy,imageWidth:0,imageHeight:0,showViewer:!1}},computed:{imageStyle:function(){var e=this.fit;return!this.$isServer&&e?la()?{"object-fit":e}:this.getImageStyle(e):{}},alignCenter:function(){return!this.$isServer&&!la()&&"fill"!==this.fit},preview:function(){var e=this.previewSrcList;return Array.isArray(e)&&0<e.length},imageIndex:function(){var e=0,t=this.previewSrcList.indexOf(this.src);return 0<=t&&(e=t),e}},watch:{src:function(e){this.show&&this.loadImage()},show:function(e){e&&this.loadImage()}},mounted:function(){this.lazy?this.addLazyLoadListener():this.loadImage()},beforeDestroy:function(){this.lazy&&this.removeLazyLoadListener()},methods:{loadImage:function(){var i,n=this;this.$isServer||(this.loading=!0,this.error=!1,(i=new Image).onload=function(e){return n.handleLoad(e,i)},i.onerror=this.handleError.bind(this),Object.keys(this.$attrs).forEach(function(e){var t=n.$attrs[e];i.setAttribute(e,t)}),i.src=this.src)},handleLoad:function(e,t){this.imageWidth=t.width,this.imageHeight=t.height,this.loading=!1,this.error=!1},handleError:function(e){this.loading=!1,this.error=!0,this.$emit("error",e)},handleLazyLoad:function(){!function(e,t){if(!ne&&e&&t){var i=e.getBoundingClientRect(),e=void 0,e=[window,document,document.documentElement,null,void 0].includes(t)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:t.getBoundingClientRect();return i.top<e.bottom&&i.bottom>e.top&&i.right>e.left&&i.left<e.right}}(this.$el,this._scrollContainer)||(this.show=!0,this.removeLazyLoadListener())},addLazyLoadListener:function(){var e,t;this.$isServer||(t=null,(t=m(e=this.scrollContainer)?e:p(e)?document.querySelector(e):de(this.$el))&&(this._scrollContainer=t,this._lazyLoadHandler=ds()(200,this.handleLazyLoad),ae(t,"scroll",this._lazyLoadHandler),this.handleLazyLoad()))},removeLazyLoadListener:function(){var e=this._scrollContainer,t=this._lazyLoadHandler;!this.$isServer&&e&&t&&(le(e,"scroll",t),this._scrollContainer=null,this._lazyLoadHandler=null)},getImageStyle:function(e){var t=this.imageWidth,i=this.imageHeight,n=this.$el,r=n.clientWidth,o=n.clientHeight;if(!(t&&i&&r&&o))return{};n=t/i<1;switch("scale-down"===e&&(e=t<r&&i<o?"none":"contain"),e){case"none":return{width:"auto",height:"auto"};case"contain":return n?{width:"auto"}:{height:"auto"};case"cover":return n?{height:"auto"}:{width:"auto"};default:return{}}},clickHandler:function(){this.preview&&(ca=document.body.style.overflow,document.body.style.overflow="hidden",this.showViewer=!0)},closeViewer:function(){document.body.style.overflow=ca,this.showViewer=!1}}},ui,[],!1,null,null,null);i.options.__file="packages/image/src/main.vue";var ha=i.exports;ha.install=function(e){e.component(ha.name,ha)};se=ha,V=function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("div",{staticClass:"el-calendar"},[n("div",{staticClass:"el-calendar__header"},[n("div",{staticClass:"el-calendar__title"},[i._v("\n      "+i._s(i.i18nDate)+"\n    ")]),0===i.validatedRange.length?n("div",{staticClass:"el-calendar__button-group"},[n("el-button-group",[n("el-button",{attrs:{type:"plain",size:"mini"},on:{click:function(e){i.selectDate("prev-month")}}},[i._v("\n          "+i._s(i.t("el.datepicker.prevMonth"))+"\n        ")]),n("el-button",{attrs:{type:"plain",size:"mini"},on:{click:function(e){i.selectDate("today")}}},[i._v("\n          "+i._s(i.t("el.datepicker.today"))+"\n        ")]),n("el-button",{attrs:{type:"plain",size:"mini"},on:{click:function(e){i.selectDate("next-month")}}},[i._v("\n          "+i._s(i.t("el.datepicker.nextMonth"))+"\n        ")])],1)],1):i._e()]),0===i.validatedRange.length?n("div",{key:"no-range",staticClass:"el-calendar__body"},[n("date-table",{attrs:{date:i.date,"selected-day":i.realSelectedDay,"first-day-of-week":i.realFirstDayOfWeek},on:{pick:i.pickDay}})],1):n("div",{key:"has-range",staticClass:"el-calendar__body"},i._l(i.validatedRange,function(e,t){return n("date-table",{key:t,attrs:{date:e[0],"selected-day":i.realSelectedDay,range:e,"hide-header":0!==t,"first-day-of-week":i.realFirstDayOfWeek},on:{pick:i.pickDay}})}),1)])};V._withStripped=!0;K=r({props:{selectedDay:String,range:{type:Array,validator:function(e){if(!e||!e.length)return!0;var t=e[0],e=e[1];return zn(t,e)}},date:Date,hideHeader:Boolean,firstDayOfWeek:Number},inject:["elCalendar"],data:function(){return{WEEK_DAYS:hn().dayNames}},methods:{toNestedArr:function(i){return _n(i.length/7).map(function(e,t){t*=7;return i.slice(t,7+t)})},getFormateDate:function(e,t){if(!e||-1===["prev","current","next"].indexOf(t))throw new Error("invalid day or type");var i=this.curMonthDatePrefix;return"prev"===t?i=this.prevMonthDatePrefix:"next"===t&&(i=this.nextMonthDatePrefix),i+"-"+("00"+e).slice(-2)},getCellClass:function(e){var t=e.text,i=e.type,e=[i];return"current"===i&&((i=this.getFormateDate(t,i))===this.selectedDay&&e.push("is-selected"),i===this.formatedToday&&e.push("is-today")),e},pickDay:function(e){var t=e.text,e=e.type,e=this.getFormateDate(t,e);this.$emit("pick",e)},cellRenderProxy:function(e){var t=e.text,i=e.type,n=this.$createElement,e=this.elCalendar.$scopedSlots.dateCell;if(!e)return n("span",[t]);t=this.getFormateDate(t,i);return e({date:new Date(t),data:{isSelected:this.selectedDay===t,type:i+"-month",day:t}})}},computed:{prevMonthDatePrefix:function(){var e=new Date(this.date.getTime());return e.setDate(0),wn.a.format(e,"yyyy-MM")},curMonthDatePrefix:function(){return wn.a.format(this.date,"yyyy-MM")},nextMonthDatePrefix:function(){var e=new Date(this.date.getFullYear(),this.date.getMonth()+1,1);return wn.a.format(e,"yyyy-MM")},formatedToday:function(){return this.elCalendar.formatedToday},isInRange:function(){return this.range&&this.range.length},rows:function(){var i,t,e,n,r=[];return r=this.isInRange?(n=this.range,i=n[0],e=n[1],e=(n=_n(e.getDate()-i.getDate()+1).map(function(e,t){return{text:i.getDate()+t,type:"current"}})).length%7,e=_n(e=0===e?0:7-e).map(function(e,t){return{text:t+1,type:"next"}}),n.concat(e)):(t=this.date,e=function(i){if(i<=0)return[];var e=new Date(t.getTime());e.setDate(0);var n=e.getDate();return _n(i).map(function(e,t){return n-(i-t-1)})}((n=0===(n=mn(t))?7:n)-("number"==typeof this.firstDayOfWeek?this.firstDayOfWeek:1)).map(function(e){return{text:e,type:"prev"}}),n=function(e){e=new Date(e.getFullYear(),e.getMonth()+1,0).getDate();return _n(e).map(function(e,t){return t+1})}(t).map(function(e){return{text:e,type:"current"}}),r=[].concat(e,n),n=_n(42-r.length).map(function(e,t){return{text:t+1,type:"next"}}),r.concat(n)),this.toNestedArr(r)},weekDays:function(){var e=this.firstDayOfWeek,t=this.WEEK_DAYS;return"number"!=typeof e||0===e?t.slice():t.slice(e).concat(t.slice(0,e))}},render:function(){var i=this,n=arguments[0],e=this.hideHeader?null:n("thead",[this.weekDays.map(function(e){return n("th",{key:e},[e])})]);return n("table",{class:{"el-calendar-table":!0,"is-range":this.isInRange},attrs:{cellspacing:"0",cellpadding:"0"}},[e,n("tbody",[this.rows.map(function(e,t){return n("tr",{class:{"el-calendar-table__row":!0,"el-calendar-table__row--hide-border":0===t&&i.hideHeader},key:t},[e.map(function(e,t){return n("td",{key:t,class:i.getCellClass(e),on:{click:i.pickDay.bind(i,e)}},[n("div",{class:"el-calendar-day"},[i.cellRenderProxy(e)])])})])})])])}},void 0,void 0,!1,null,null,null);K.options.__file="packages/calendar/src/date-table.vue";var ui=K.exports,ua=["prev-month","today","next-month"],da=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=r({name:"ElCalendar",mixins:[H],components:{DateTable:ui,ElButton:xt,ElButtonGroup:kt},props:{value:[Date,String,Number],range:{type:Array,validator:function(e){return!Array.isArray(e)||2===e.length&&e.every(function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date})}},firstDayOfWeek:{type:Number,default:1}},provide:function(){return{elCalendar:this}},methods:{pickDay:function(e){this.realSelectedDay=e},selectDate:function(e){if(-1===ua.indexOf(e))throw new Error("invalid type "+e);var t;(t="prev-month"===e?this.prevMonthDatePrefix+"-01":"next-month"===e?this.nextMonthDatePrefix+"-01":this.formatedToday)!==this.formatedDate&&this.pickDay(t)},toDate:function(e){if(!e)throw new Error("invalid val");return e instanceof Date?e:new Date(e)},rangeValidator:function(e,t){var i=this.realFirstDayOfWeek,i=t?i:0===i?6:i-1,t=(t?"start":"end")+" of range should be "+da[i]+".";return e.getDay()===i||(console.warn("[ElementCalendar]",t,"Invalid range will be ignored."),!1)}},computed:{prevMonthDatePrefix:function(){var e=new Date(this.date.getTime());return e.setDate(0),wn.a.format(e,"yyyy-MM")},curMonthDatePrefix:function(){return wn.a.format(this.date,"yyyy-MM")},nextMonthDatePrefix:function(){var e=new Date(this.date.getFullYear(),this.date.getMonth()+1,1);return wn.a.format(e,"yyyy-MM")},formatedDate:function(){return wn.a.format(this.date,"yyyy-MM-dd")},i18nDate:function(){var e=this.date.getFullYear(),t=this.date.getMonth()+1;return e+" "+this.t("el.datepicker.year")+" "+this.t("el.datepicker.month"+t)},formatedToday:function(){return wn.a.format(this.now,"yyyy-MM-dd")},realSelectedDay:{get:function(){return this.value?this.formatedDate:this.selectedDay},set:function(e){this.selectedDay=e;e=new Date(e);this.$emit("input",e)}},date:function(){if(this.value)return this.toDate(this.value);if(this.realSelectedDay){var e=this.selectedDay.split("-");return new Date(e[0],e[1]-1,e[2])}return this.validatedRange.length?this.validatedRange[0][0]:this.now},validatedRange:function(){var n=this,e=this.range;if(!e)return[];if(2!==(e=e.reduce(function(e,t,i){t=n.toDate(t);return n.rangeValidator(t,0===i)&&(e=e.concat(t)),e},[])).length)return[];var t=e[0],i=e[1];if(i<t)return console.warn("[ElementCalendar]end time should be greater than start time"),[];if(zn(t,i))return[[t,i]];var r=[],o=new Date(t.getFullYear(),t.getMonth()+1,1),s=this.toDate(o.getTime()-864e5);if(!zn(o,i))return console.warn("[ElementCalendar]start time and end time interval must not exceed two months"),[];r.push([t,s]);e=this.realFirstDayOfWeek,t=o.getDay(),s=0;return t!==e&&(s=0===e?7-t:0<(s=e-t)?s:7+s),(o=this.toDate(o.getTime()+864e5*s)).getDate()<i.getDate()&&r.push([o,i]),r},realFirstDayOfWeek:function(){return this.firstDayOfWeek<1||6<this.firstDayOfWeek?0:Math.floor(this.firstDayOfWeek)}},data:function(){return{selectedDay:"",now:new Date}}},V,[],!1,null,null,null);i.options.__file="packages/calendar/src/main.vue";var fa=i.exports;fa.install=function(e){e.component(fa.name,fa)};K=fa,H=function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("transition",{attrs:{name:"el-fade-in"}},[t.visible?e("div",{staticClass:"el-backtop",style:{right:t.styleRight,bottom:t.styleBottom},on:{click:function(e){return e.stopPropagation(),t.handleClick(e)}}},[t._t("default",[e("el-icon",{attrs:{name:"caret-top"}})])],2):t._e()])};H._withStripped=!0;function pa(e){return Math.pow(e,3)}ui=r({name:"ElBacktop",props:{visibilityHeight:{type:Number,default:200},target:[String],right:{type:Number,default:40},bottom:{type:Number,default:40}},data:function(){return{el:null,container:null,visible:!1}},computed:{styleBottom:function(){return this.bottom+"px"},styleRight:function(){return this.right+"px"}},mounted:function(){this.init(),this.throttledScrollHandler=ds()(300,this.onScroll),this.container.addEventListener("scroll",this.throttledScrollHandler)},methods:{init:function(){if(this.container=document,this.el=document.documentElement,this.target){if(this.el=document.querySelector(this.target),!this.el)throw new Error("target is not existed: "+this.target);this.container=this.el}},onScroll:function(){var e=this.el.scrollTop;this.visible=e>=this.visibilityHeight},handleClick:function(e){this.scrollToTop(),this.$emit("click",e)},scrollToTop:function(){var i=this.el,n=Date.now(),r=i.scrollTop,o=window.requestAnimationFrame||function(e){return setTimeout(e,16)};o(function e(){var t=(Date.now()-n)/500;t<1?(i.scrollTop=r*(1-((t=t)<.5?pa(2*t)/2:1-pa(2*(1-t))/2)),o(e)):i.scrollTop=0})}},beforeDestroy:function(){this.container.removeEventListener("scroll",this.throttledScrollHandler)}},H,[],!1,null,null,null);ui.options.__file="packages/backtop/src/main.vue";var ga=ui.exports;ga.install=function(e){e.component(ga.name,ga)};function ma(e,t){return(e===window||e===document?document.documentElement:e)[t]}function va(e){return ma(e,"offsetHeight")}function ya(o,s){return m(o)?(t=xa,Object.keys(t).map(function(e){return[e,t[e]]}).reduce(function(e,t){var i=t[0],n=t[1],r=n.type,t=n.default,n=o.getAttribute("infinite-scroll-"+i),n=y(s[n])?n:s[n];switch(r){case Number:n=Number(n),n=Number.isNaN(n)?t:n;break;case Boolean:n=null!=n?"false"!==n&&Boolean(n):t;break;default:n=r(n)}return e[i]=n,e},{})):{};var t}function ba(e){return e.getBoundingClientRect().top}var V=ga,wa="ElInfiniteScroll",xa={delay:{type:Number,default:200},distance:{type:Number,default:0},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},Ca={name:"InfiniteScroll",inserted:function(e,t,i){var n=t.value,r=i.context,o=de(e,!0),t=ya(e,r),i=t.delay,t=t.immediate,n=Ye()(i,function(e){var t=this[wa],i=t.el,n=t.vm,r=t.container,o=t.observer,s=ya(i,n),t=s.distance;s.disabled||((s=r.getBoundingClientRect()).width||s.height)&&((r===i?(s=r.scrollTop+ma(r,"clientHeight"),r.scrollHeight-s<=t):va(i)+ba(i)-ba(r)-va(r)+Number.parseFloat(function(e,t){if(e===window&&(e=document.documentElement),1!==e.nodeType)return[];e=window.getComputedStyle(e,null);return e[t]}(r,"borderBottomWidth"))<=t)&&v(e)?e.call(n):o&&(o.disconnect(),this[wa].observer=null))}.bind(e,n));e[wa]={el:e,vm:r,container:o,onScroll:n},o&&(o.addEventListener("scroll",n),t&&((e[wa].observer=new MutationObserver(n)).observe(o,{childList:!0,subtree:!0}),n()))},unbind:function(e){var t=e[wa],e=t.container,t=t.onScroll;e&&e.removeEventListener("scroll",t)},install:function(e){e.directive(Ca.name,Ca)}},Sa=Ca,i=function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{staticClass:"el-page-header"},[e("div",{staticClass:"el-page-header__left",on:{click:function(e){t.$emit("back")}}},[e("i",{staticClass:"el-icon-back"}),e("div",{staticClass:"el-page-header__title"},[t._t("title",[t._v(t._s(t.title))])],2)]),e("div",{staticClass:"el-page-header__content"},[t._t("content",[t._v(t._s(t.content))])],2)])};i._withStripped=!0;H=r({name:"ElPageHeader",props:{title:{type:String,default:function(){return O("el.pageHeader.title")}},content:String}},i,[],!1,null,null,null);H.options.__file="packages/page-header/src/main.vue";var _a=H.exports;_a.install=function(e){e.component(_a.name,_a)};ui=_a,i=r({name:"ElAvatar",props:{size:{type:[Number,String],validator:function(e){return"string"==typeof e?["large","medium","small"].includes(e):"number"==typeof e}},shape:{type:String,default:"circle",validator:function(e){return["circle","square"].includes(e)}},icon:String,src:String,alt:String,srcSet:String,error:Function,fit:{type:String,default:"cover"}},data:function(){return{isImageExist:!0}},computed:{avatarClass:function(){var e=this.size,t=this.icon,i=this.shape,n=["el-avatar"];return e&&"string"==typeof e&&n.push("el-avatar--"+e),t&&n.push("el-avatar--icon"),i&&n.push("el-avatar--"+i),n.join(" ")}},methods:{handleError:function(){var e=this.error;!1!==(e?e():void 0)&&(this.isImageExist=!1)},renderAvatar:function(){var e=this.$createElement,t=this.icon,i=this.src,n=this.alt,r=this.isImageExist,o=this.srcSet,s=this.fit;return r&&i?e("img",{attrs:{src:i,alt:n,srcSet:o},on:{error:this.handleError},style:{"object-fit":s}}):t?e("i",{class:t}):this.$slots.default}},render:function(){var e=arguments[0],t=this.avatarClass,i=this.size;return e("span",{class:t,style:"number"==typeof i?{height:i+"px",width:i+"px",lineHeight:i+"px"}:{}},[this.renderAvatar()])}},void 0,void 0,!1,null,null,null);i.options.__file="packages/avatar/src/main.vue";var ka=i.exports;ka.install=function(e){e.component(ka.name,ka)};H=ka,i=function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("transition",{attrs:{name:"el-drawer-fade"},on:{"after-enter":t.afterEnter,"after-leave":t.afterLeave}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-drawer__wrapper",attrs:{tabindex:"-1"}},[e("div",{staticClass:"el-drawer__container",class:t.visible&&"el-drawer__open",attrs:{role:"document",tabindex:"-1"},on:{click:function(e){return e.target!==e.currentTarget?null:t.handleWrapperClick(e)}}},[e("div",{ref:"drawer",staticClass:"el-drawer",class:[t.direction,t.customClass],style:t.isHorizontal?"width: "+t.size:"height: "+t.size,attrs:{"aria-modal":"true","aria-labelledby":"el-drawer__title","aria-label":t.title,role:"dialog",tabindex:"-1"}},[t.withHeader?e("header",{staticClass:"el-drawer__header",attrs:{id:"el-drawer__title"}},[t._t("title",[e("span",{attrs:{role:"heading",tabindex:"0",title:t.title}},[t._v(t._s(t.title))])]),t.showClose?e("button",{staticClass:"el-drawer__close-btn",attrs:{"aria-label":"close "+(t.title||"drawer"),type:"button"},on:{click:t.closeDrawer}},[e("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]):t._e()],2):t._e(),t.rendered?e("section",{staticClass:"el-drawer__body"},[t._t("default")],2):t._e()])])])])};i._withStripped=!0;Me=r({name:"ElDrawer",mixins:[Me,l],props:{appendToBody:{type:Boolean,default:!1},beforeClose:{type:Function},customClass:{type:String,default:""},closeOnPressEscape:{type:Boolean,default:!0},destroyOnClose:{type:Boolean,default:!1},modal:{type:Boolean,default:!0},direction:{type:String,default:"rtl",validator:function(e){return-1!==["ltr","rtl","ttb","btt"].indexOf(e)}},modalAppendToBody:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},size:{type:String,default:"30%"},title:{type:String,default:""},visible:{type:Boolean},wrapperClosable:{type:Boolean,default:!0},withHeader:{type:Boolean,default:!0}},computed:{isHorizontal:function(){return"rtl"===this.direction||"ltr"===this.direction}},data:function(){return{closed:!1,prevActiveElement:null}},watch:{visible:function(e){var t=this;e?(this.closed=!1,this.$emit("open"),this.appendToBody&&document.body.appendChild(this.$el),this.prevActiveElement=document.activeElement,this.$nextTick(function(){Ft.focusFirstDescendant(t.$refs.drawer)})):(this.closed||this.$emit("close"),this.$nextTick(function(){t.prevActiveElement&&t.prevActiveElement.focus()}))}},methods:{afterEnter:function(){this.$emit("opened")},afterLeave:function(){this.$emit("closed")},hide:function(e){!1!==e&&(this.$emit("update:visible",!1),this.$emit("close"),!0===this.destroyOnClose&&(this.rendered=!1),this.closed=!0)},handleWrapperClick:function(){this.wrapperClosable&&this.closeDrawer()},closeDrawer:function(){"function"==typeof this.beforeClose?this.beforeClose(this.hide):this.hide()},handleClose:function(){this.closeDrawer()}},mounted:function(){this.visible&&(this.rendered=!0,this.open())},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},i,[],!1,null,null,null);Me.options.__file="packages/drawer/src/main.vue";var Ma=Me.exports;Ma.install=function(e){e.component(Ma.name,Ma)};l=Ma,i=function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("el-popover",t._b({attrs:{trigger:"click"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},"el-popover",t.$attrs,!1),[e("div",{staticClass:"el-popconfirm"},[e("p",{staticClass:"el-popconfirm__main"},[t.hideIcon?t._e():e("i",{staticClass:"el-popconfirm__icon",class:t.icon,style:{color:t.iconColor}}),t._v("\n      "+t._s(t.title)+"\n    ")]),e("div",{staticClass:"el-popconfirm__action"},[e("el-button",{attrs:{size:"mini",type:t.cancelButtonType},on:{click:t.cancel}},[t._v("\n        "+t._s(t.cancelButtonText)+"\n      ")]),e("el-button",{attrs:{size:"mini",type:t.confirmButtonType},on:{click:t.confirm}},[t._v("\n        "+t._s(t.confirmButtonText)+"\n      ")])],1)]),t._t("reference",null,{slot:"reference"})],2)};i._withStripped=!0;Me=r({name:"ElPopconfirm",props:{title:{type:String},confirmButtonText:{type:String,default:O("el.popconfirm.confirmButtonText")},cancelButtonText:{type:String,default:O("el.popconfirm.cancelButtonText")},confirmButtonType:{type:String,default:"primary"},cancelButtonType:{type:String,default:"text"},icon:{type:String,default:"el-icon-question"},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1}},components:{ElPopover:St,ElButton:xt},data:function(){return{visible:!1}},methods:{confirm:function(){this.visible=!1,this.$emit("onConfirm")},cancel:function(){this.visible=!1,this.$emit("onCancel")}}},i,[],!1,null,null,null);Me.options.__file="packages/popconfirm/src/main.vue";var Ta=Me.exports;Ta.install=function(e){e.component(Ta.name,Ta)};var i=Ta,Da=[at,ut,vt,Dt,Lt,Rt,Gt,ei,si,hi,ee,gi,bi,_i,h,Z,Ae,Oe,a,rt,ot,lt,xt,kt,Vt,Xt,bt,$t,pt,St,ni,li,Qt,Ci,Ge,ft,gt,We,Nt,zt,di,n,Ie,$e,mi,it,Bt,Ht,d,Ee,te,Mt,Ct,Ue,ct,ri,wi,It,s,fi,yt,et,vi,At,c,ti,Sr,dt,ai,se,K,V,ui,o,H,l,i,qt],Me=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};j.use(e.locale),j.i18n(e.i18n),Da.forEach(function(e){t.component(e.name,e)}),t.use(Sa),t.use(Ho.directive),t.prototype.$ELEMENT={size:e.size||"",zIndex:e.zIndex||2e3},t.prototype.$loading=Ho.service,t.prototype.$msgbox=Fr,t.prototype.$alert=Fr.alert,t.prototype.$confirm=Fr.confirm,t.prototype.$prompt=Fr.prompt,t.prototype.$notify=No,t.prototype.$message=ss};"undefined"!=typeof window&&window.Vue&&Me(window.Vue),t.default={version:"2.13.2",locale:j.use,i18n:j.i18n,install:Me,CollapseTransition:qt,Loading:Ho,Pagination:at,Dialog:ut,Autocomplete:vt,Dropdown:Dt,DropdownMenu:Lt,DropdownItem:Rt,Menu:Gt,Submenu:ei,MenuItem:si,MenuItemGroup:hi,Input:ee,InputNumber:gi,Radio:bi,RadioGroup:_i,RadioButton:h,Checkbox:Z,CheckboxButton:Ae,CheckboxGroup:Oe,Switch:a,Select:rt,Option:ot,OptionGroup:lt,Button:xt,ButtonGroup:kt,Table:Vt,TableColumn:Xt,DatePicker:bt,TimeSelect:$t,TimePicker:pt,Popover:St,Tooltip:ni,MessageBox:Fr,Breadcrumb:li,BreadcrumbItem:Qt,Form:Ci,FormItem:Ge,Tabs:ft,TabPane:gt,Tag:We,Tree:Nt,Alert:zt,Notification:No,Slider:di,Icon:n,Row:Ie,Col:$e,Upload:mi,Progress:it,Spinner:Bt,Message:ss,Badge:Ht,Card:d,Rate:Ee,Steps:te,Step:Mt,Carousel:Ct,Scrollbar:Ue,CarouselItem:ct,Collapse:ri,CollapseItem:wi,Cascader:It,ColorPicker:s,Transfer:fi,Container:yt,Header:et,Aside:vi,Main:At,Footer:c,Timeline:ti,TimelineItem:Sr,Link:dt,Divider:ai,Image:se,Calendar:K,Backtop:V,InfiniteScroll:Sa,PageHeader:ui,CascaderPanel:o,Avatar:H,Drawer:l,Popconfirm:i}}],r.c=o,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/",r(r.s=49).default;function r(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var n,o}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";var e,n;function p(){return e.apply(null,arguments)}function s(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e){return void 0===e}function l(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function c(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){for(var i=[],n=0;n<e.length;++n)i.push(t(e[n],n));return i}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){for(var i in t)f(t,i)&&(e[i]=t[i]);return f(t,"toString")&&(e.toString=t.toString),f(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,i,n){return kt(e,t,i,n,!0).utc()}function g(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function m(e){if(null==e._isValid){var t=g(e),i=n.call(t.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function v(e){var t=d(NaN);return null!=e?u(g(t),e):g(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),i=t.length>>>0,n=0;n<i;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};var y=p.momentProperties=[];function b(e,t){var i,n,r;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=g(t)),o(t._locale)||(e._locale=t._locale),0<y.length)for(i=0;i<y.length;i++)o(r=t[n=y[i]])||(e[n]=r);return e}var t=!1;function w(e){b(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===t&&(t=!0,p.updateOffset(this),t=!1)}function x(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function C(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function S(e){var t=+e,e=0;return 0!=t&&isFinite(t)&&(e=C(t)),e}function _(e,t,i){for(var n=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),o=0,s=0;s<n;s++)(i&&e[s]!==t[s]||!i&&S(e[s])!==S(t[s]))&&o++;return o+r}function k(e){!1===p.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function i(r,o){var s=!0;return u(function(){if(null!=p.deprecationHandler&&p.deprecationHandler(null,r),s){for(var e,t=[],i=0;i<arguments.length;i++){if(e="","object"==typeof arguments[i]){for(var n in e+="\n["+i+"] ",arguments[0])e+=n+": "+arguments[0][n]+", ";e=e.slice(0,-2)}else e=arguments[i];t.push(e)}k(r+"\nArguments: "+Array.prototype.slice.call(t).join("")+"\n"+(new Error).stack),s=!1}return o.apply(this,arguments)},o)}var r,M={};function T(e,t){null!=p.deprecationHandler&&p.deprecationHandler(e,t),M[e]||(k(t),M[e]=!0)}function D(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function A(e,t){var i,n=u({},e);for(i in t)f(t,i)&&(a(e[i])&&a(t[i])?(n[i]={},u(n[i],e[i]),u(n[i],t[i])):null!=t[i]?n[i]=t[i]:delete n[i]);for(i in e)f(e,i)&&!f(t,i)&&a(e[i])&&(n[i]=u({},n[i]));return n}function $(e){null!=e&&this.set(e)}p.suppressDeprecationWarnings=!1,p.deprecationHandler=null,r=Object.keys?Object.keys:function(e){var t,i=[];for(t in e)f(e,t)&&i.push(t);return i};var E={};function L(e,t){var i=e.toLowerCase();E[i]=E[i+"s"]=E[t]=e}function I(e){return"string"==typeof e?E[e]||E[e.toLowerCase()]:void 0}function N(e){var t,i,n={};for(i in e)f(e,i)&&(t=I(i))&&(n[t]=e[i]);return n}var O={};function R(e,t){O[e]=t}function P(e,t,i){var n=""+Math.abs(e),t=t-n.length;return(0<=e?i?"+":"":"-")+Math.pow(10,Math.max(0,t)).toString().substr(1)+n}var F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,z=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,W={},B={};function j(e,t,i,n){var r="string"==typeof n?function(){return this[n]()}:n;e&&(B[e]=r),t&&(B[t[0]]=function(){return P(r.apply(this,arguments),t[1],t[2])}),i&&(B[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function H(e,t){return e.isValid()?(t=K(t,e.localeData()),W[t]=W[t]||function(n){for(var e,r=n.match(F),t=0,o=r.length;t<o;t++)B[r[t]]?r[t]=B[r[t]]:r[t]=(e=r[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){for(var t="",i=0;i<o;i++)t+=D(r[i])?r[i].call(e,n):r[i];return t}}(t),W[t](e)):e.localeData().invalidDate()}function K(e,t){var i=5;function n(e){return t.longDateFormat(e)||e}for(z.lastIndex=0;0<=i&&z.test(e);)e=e.replace(z,n),z.lastIndex=0,--i;return e}var V=/\d/,U=/\d\d/,G=/\d{3}/,Y=/\d{4}/,q=/[+-]?\d{6}/,Q=/\d\d?/,X=/\d\d\d\d?/,Z=/\d\d\d\d\d\d?/,J=/\d{1,3}/,ee=/\d{1,4}/,te=/[+-]?\d{1,6}/,ie=/\d+/,ne=/[+-]?\d+/,re=/Z|[+-]\d\d:?\d\d/gi,oe=/Z|[+-]\d\d(?::?\d\d)?/gi,se=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ae={};function le(e,i,n){ae[e]=D(i)?i:function(e,t){return e&&n?n:i}}function ce(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var he={};function ue(e,i){var t,n=i;for("string"==typeof e&&(e=[e]),l(i)&&(n=function(e,t){t[i]=S(e)}),t=0;t<e.length;t++)he[e[t]]=n}function de(e,r){ue(e,function(e,t,i,n){i._w=i._w||{},r(e,i._w,i,n)})}var fe=0,pe=1,ge=2,me=3,ve=4,ye=5,be=6,we=7,xe=8;function Ce(e){return Se(e)?366:365}function Se(e){return e%4==0&&e%100!=0||e%400==0}j("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),j(0,["YY",2],0,function(){return this.year()%100}),j(0,["YYYY",4],0,"year"),j(0,["YYYYY",5],0,"year"),j(0,["YYYYYY",6,!0],0,"year"),L("year","y"),R("year",1),le("Y",ne),le("YY",Q,U),le("YYYY",ee,Y),le("YYYYY",te,q),le("YYYYYY",te,q),ue(["YYYYY","YYYYYY"],fe),ue("YYYY",function(e,t){t[fe]=2===e.length?p.parseTwoDigitYear(e):S(e)}),ue("YY",function(e,t){t[fe]=p.parseTwoDigitYear(e)}),ue("Y",function(e,t){t[fe]=parseInt(e,10)}),p.parseTwoDigitYear=function(e){return S(e)+(68<S(e)?1900:2e3)};var _e,ke=Me("FullYear",!0);function Me(t,i){return function(e){return null!=e?(De(this,t,e),p.updateOffset(this,i),this):Te(this,t)}}function Te(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function De(e,t,i){e.isValid()&&!isNaN(i)&&("FullYear"===t&&Se(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](i,e.month(),Ae(i,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](i))}function Ae(e,t){if(isNaN(e)||isNaN(t))return NaN;var i=(t%12+12)%12;return e+=(t-i)/12,1==i?Se(e)?29:28:31-i%7%2}_e=Array.prototype.indexOf?Array.prototype.indexOf:function(e){for(var t=0;t<this.length;++t)if(this[t]===e)return t;return-1},j("M",["MM",2],"Mo",function(){return this.month()+1}),j("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),j("MMMM",0,0,function(e){return this.localeData().months(this,e)}),L("month","M"),R("month",8),le("M",Q),le("MM",Q,U),le("MMM",function(e,t){return t.monthsShortRegex(e)}),le("MMMM",function(e,t){return t.monthsRegex(e)}),ue(["M","MM"],function(e,t){t[pe]=S(e)-1}),ue(["MMM","MMMM"],function(e,t,i,n){n=i._locale.monthsParse(e,n,i._strict);null!=n?t[pe]=n:g(i).invalidMonth=e});var $e=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ee="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Le="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ie(e,t){var i;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=S(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return i=Math.min(e.date(),Ae(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function Ne(e){return null!=e?(Ie(this,e),p.updateOffset(this,!0),this):Te(this,"Month")}var Oe=se,Re=se;function Pe(){function e(e,t){return t.length-e.length}for(var t,i=[],n=[],r=[],o=0;o<12;o++)t=d([2e3,o]),i.push(this.monthsShort(t,"")),n.push(this.months(t,"")),r.push(this.months(t,"")),r.push(this.monthsShort(t,""));for(i.sort(e),n.sort(e),r.sort(e),o=0;o<12;o++)i[o]=ce(i[o]),n[o]=ce(n[o]);for(o=0;o<24;o++)r[o]=ce(r[o]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Fe(e){var t;return e<100&&0<=e?((t=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,t)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function ze(e,t,i){i=7+t-i;return-(7+Fe(e,0,i).getUTCDay()-t)%7+i-1}function We(e,t,i,n,r){var o,r=1+7*(t-1)+(7+i-n)%7+ze(e,n,r),r=r<=0?Ce(o=e-1)+r:r>Ce(e)?(o=e+1,r-Ce(e)):(o=e,r);return{year:o,dayOfYear:r}}function Be(e,t,i){var n,r,o=ze(e.year(),t,i),o=Math.floor((e.dayOfYear()-o-1)/7)+1;return o<1?n=o+je(r=e.year()-1,t,i):o>je(e.year(),t,i)?(n=o-je(e.year(),t,i),r=e.year()+1):(r=e.year(),n=o),{week:n,year:r}}function je(e,t,i){var n=ze(e,t,i),i=ze(e+1,t,i);return(Ce(e)-n+i)/7}function He(e,t){return e.slice(t,7).concat(e.slice(0,t))}j("w",["ww",2],"wo","week"),j("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),R("week",5),R("isoWeek",5),le("w",Q),le("ww",Q,U),le("W",Q),le("WW",Q,U),de(["w","ww","W","WW"],function(e,t,i,n){t[n.substr(0,1)]=S(e)}),j("d",0,"do","day"),j("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),j("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),j("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),j("e",0,0,"weekday"),j("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),R("day",11),R("weekday",11),R("isoWeekday",11),le("d",Q),le("e",Q),le("E",Q),le("dd",function(e,t){return t.weekdaysMinRegex(e)}),le("ddd",function(e,t){return t.weekdaysShortRegex(e)}),le("dddd",function(e,t){return t.weekdaysRegex(e)}),de(["dd","ddd","dddd"],function(e,t,i,n){n=i._locale.weekdaysParse(e,n,i._strict);null!=n?t.d=n:g(i).invalidWeekday=e}),de(["d","e","E"],function(e,t,i,n){t[n]=S(e)});var Ke="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ve="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ue="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ge=se,Ye=se,qe=se;function Qe(){function e(e,t){return t.length-e.length}for(var t,i,n,r=[],o=[],s=[],a=[],l=0;l<7;l++)n=d([2e3,1]).day(l),t=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),n=this.weekdays(n,""),r.push(t),o.push(i),s.push(n),a.push(t),a.push(i),a.push(n);for(r.sort(e),o.sort(e),s.sort(e),a.sort(e),l=0;l<7;l++)o[l]=ce(o[l]),s[l]=ce(s[l]),a[l]=ce(a[l]);this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Xe(){return this.hours()%12||12}function Ze(e,t){j(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Je(e,t){return t._meridiemParse}j("H",["HH",2],0,"hour"),j("h",["hh",2],0,Xe),j("k",["kk",2],0,function(){return this.hours()||24}),j("hmm",0,0,function(){return""+Xe.apply(this)+P(this.minutes(),2)}),j("hmmss",0,0,function(){return""+Xe.apply(this)+P(this.minutes(),2)+P(this.seconds(),2)}),j("Hmm",0,0,function(){return""+this.hours()+P(this.minutes(),2)}),j("Hmmss",0,0,function(){return""+this.hours()+P(this.minutes(),2)+P(this.seconds(),2)}),Ze("a",!0),Ze("A",!1),L("hour","h"),R("hour",13),le("a",Je),le("A",Je),le("H",Q),le("h",Q),le("k",Q),le("HH",Q,U),le("hh",Q,U),le("kk",Q,U),le("hmm",X),le("hmmss",Z),le("Hmm",X),le("Hmmss",Z),ue(["H","HH"],me),ue(["k","kk"],function(e,t,i){e=S(e);t[me]=24===e?0:e}),ue(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e}),ue(["h","hh"],function(e,t,i){t[me]=S(e),g(i).bigHour=!0}),ue("hmm",function(e,t,i){var n=e.length-2;t[me]=S(e.substr(0,n)),t[ve]=S(e.substr(n)),g(i).bigHour=!0}),ue("hmmss",function(e,t,i){var n=e.length-4,r=e.length-2;t[me]=S(e.substr(0,n)),t[ve]=S(e.substr(n,2)),t[ye]=S(e.substr(r)),g(i).bigHour=!0}),ue("Hmm",function(e,t,i){var n=e.length-2;t[me]=S(e.substr(0,n)),t[ve]=S(e.substr(n))}),ue("Hmmss",function(e,t,i){var n=e.length-4,r=e.length-2;t[me]=S(e.substr(0,n)),t[ve]=S(e.substr(n,2)),t[ye]=S(e.substr(r))});var et,tt=Me("Hours",!0),it={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ee,monthsShort:Le,week:{dow:0,doy:6},weekdays:Ke,weekdaysMin:Ue,weekdaysShort:Ve,meridiemParse:/[ap]\.?m?\.?/i},nt={},rt={};function ot(e){return e?e.toLowerCase().replace("_","-"):e}function st(e){var t;if(!nt[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=et._abbr,require("./locale/"+e),at(t)}catch(e){}return nt[e]}function at(e,t){return e&&((t=o(t)?ct(e):lt(e,t))?et=t:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),et._abbr}function lt(e,t){if(null===t)return delete nt[e],null;var i,n=it;if(t.abbr=e,null!=nt[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=nt[e]._config;else if(null!=t.parentLocale)if(null!=nt[t.parentLocale])n=nt[t.parentLocale]._config;else{if(null==(i=st(t.parentLocale)))return rt[t.parentLocale]||(rt[t.parentLocale]=[]),rt[t.parentLocale].push({name:e,config:t}),null;n=i._config}return nt[e]=new $(A(n,t)),rt[e]&&rt[e].forEach(function(e){lt(e.name,e.config)}),at(e),nt[e]}function ct(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return et;if(!s(e)){if(t=st(e))return t;e=[e]}return function(e){for(var t,i,n,r,o=0;o<e.length;){for(t=(r=ot(e[o]).split("-")).length,i=(i=ot(e[o+1]))?i.split("-"):null;0<t;){if(n=st(r.slice(0,t).join("-")))return n;if(i&&i.length>=t&&_(r,i,!0)>=t-1)break;t--}o++}return et}(e)}function ht(e){var t=e._a;return t&&-2===g(e).overflow&&(t=t[pe]<0||11<t[pe]?pe:t[ge]<1||t[ge]>Ae(t[fe],t[pe])?ge:t[me]<0||24<t[me]||24===t[me]&&(0!==t[ve]||0!==t[ye]||0!==t[be])?me:t[ve]<0||59<t[ve]?ve:t[ye]<0||59<t[ye]?ye:t[be]<0||999<t[be]?be:-1,g(e)._overflowDayOfYear&&(t<fe||ge<t)&&(t=ge),g(e)._overflowWeeks&&-1===t&&(t=we),g(e)._overflowWeekday&&-1===t&&(t=xe),g(e).overflow=t),e}function ut(e,t,i){return null!=e?e:null!=t?t:i}function dt(e){var t,i,n,r,o,s,a,l,c,h=[];if(!e._d){var u=e,d=new Date(p.now()),f=u._useUTC?[d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()]:[d.getFullYear(),d.getMonth(),d.getDate()];for(e._w&&null==e._a[ge]&&null==e._a[pe]&&(null!=(u=(n=e)._w).GG||null!=u.W||null!=u.E?(o=1,s=4,l=ut(u.GG,n._a[fe],Be(Mt(),1,4).year),c=ut(u.W,1),((r=ut(u.E,1))<1||7<r)&&(a=!0)):(o=n._locale._week.dow,s=n._locale._week.doy,d=Be(Mt(),o,s),l=ut(u.gg,n._a[fe],d.year),c=ut(u.w,d.week),null!=u.d?((r=u.d)<0||6<r)&&(a=!0):null!=u.e?(r=u.e+o,(u.e<0||6<u.e)&&(a=!0)):r=o),c<1||c>je(l,o,s)?g(n)._overflowWeeks=!0:null!=a?g(n)._overflowWeekday=!0:(s=We(l,c,r,o,s),n._a[fe]=s.year,n._dayOfYear=s.dayOfYear)),null!=e._dayOfYear&&(i=ut(e._a[fe],f[fe]),(e._dayOfYear>Ce(i)||0===e._dayOfYear)&&(g(e)._overflowDayOfYear=!0),i=Fe(i,0,e._dayOfYear),e._a[pe]=i.getUTCMonth(),e._a[ge]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=h[t]=f[t];for(;t<7;t++)e._a[t]=h[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[me]&&0===e._a[ve]&&0===e._a[ye]&&0===e._a[be]&&(e._nextDay=!0,e._a[me]=0),e._d=(e._useUTC?Fe:function(e,t,i,n,r,o,s){var a;return e<100&&0<=e?(a=new Date(e+400,t,i,n,r,o,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,i,n,r,o,s),a}).apply(null,h),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[me]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(g(e).weekdayMismatch=!0)}}var ft=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gt=/Z|[+-]\d\d(?::?\d\d)?/,mt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],vt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],yt=/^\/?Date\((\-?\d+)/i;function bt(e){var t,i,n,r,o,s,a=e._i,l=ft.exec(a)||pt.exec(a);if(l){for(g(e).iso=!0,t=0,i=mt.length;t<i;t++)if(mt[t][1].exec(l[1])){r=mt[t][0],n=!1!==mt[t][2];break}if(null==r)return e._isValid=!1;if(l[3]){for(t=0,i=vt.length;t<i;t++)if(vt[t][1].exec(l[3])){o=(l[2]||" ")+vt[t][0];break}if(null==o)return e._isValid=!1}if(!n&&null!=o)return e._isValid=!1;if(l[4]){if(!gt.exec(l[4]))return e._isValid=!1;s="Z"}e._f=r+(o||"")+(s||""),St(e)}else e._isValid=!1}var wt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;var xt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ct(e){var t,i,n,r,o,s,a=wt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));a?(t=a[4],i=a[3],n=a[2],r=a[5],o=a[6],s=a[7],o=[(t=parseInt(t,10))<=49?2e3+t:t<=999?1900+t:t,Le.indexOf(i),parseInt(n,10),parseInt(r,10),parseInt(o,10)],s&&o.push(parseInt(s,10)),r=n=o,s=e,(o=a[1])&&Ve.indexOf(o)!==new Date(r[0],r[1],r[2]).getDay()?(g(s).weekdayMismatch=!0,s._isValid=!1):(e._a=n,e._tzm=function(e,t,i){if(e)return xt[e];if(t)return 0;t=parseInt(i,10),i=t%100;return(t-i)/100*60+i}(a[8],a[9],a[10]),e._d=Fe.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),g(e).rfc2822=!0)):e._isValid=!1}function St(e){if(e._f!==p.ISO_8601)if(e._f!==p.RFC_2822){e._a=[],g(e).empty=!0;for(var t,i,n,r=""+e._i,o=r.length,s=0,a=K(e._f,e._locale).match(F)||[],l=0;l<a.length;l++)i=a[l],(t=(r.match((d=e,f(ae,u=i)?ae[u](d._strict,d._locale):new RegExp(ce(u.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,r){return t||i||n||r})))))||[])[0])&&(0<(n=r.substr(0,r.indexOf(t))).length&&g(e).unusedInput.push(n),r=r.slice(r.indexOf(t)+t.length),s+=t.length),B[i]?(t?g(e).empty=!1:g(e).unusedTokens.push(i),d=i,u=e,null!=(n=t)&&f(he,d)&&he[d](n,u._a,u,d)):e._strict&&!t&&g(e).unusedTokens.push(i);g(e).charsLeftOver=o-s,0<r.length&&g(e).unusedInput.push(r),e._a[me]<=12&&!0===g(e).bigHour&&0<e._a[me]&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[me]=(c=e._locale,h=e._a[me],null==(o=e._meridiem)?h:null!=c.meridiemHour?c.meridiemHour(h,o):(null!=c.isPM&&((o=c.isPM(o))&&h<12&&(h+=12),o||12!==h||(h=0)),h)),dt(e),ht(e)}else Ct(e);else bt(e);var c,h,u,d}function _t(e){var t,i,n=e._i,r=e._f;return e._locale=e._locale||ct(e._l),null===n||void 0===r&&""===n?v({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),x(n)?new w(ht(n)):(c(n)?e._d=n:s(r)?function(e){var t,i,n,r,o;if(0===e._f.length)return g(e).invalidFormat=!0,e._d=new Date(NaN);for(r=0;r<e._f.length;r++)o=0,t=b({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],St(t),m(t)&&(o+=g(t).charsLeftOver,o+=10*g(t).unusedTokens.length,g(t).score=o,(null==n||o<n)&&(n=o,i=t));u(e,i||t)}(e):r?St(e):o(r=(n=e)._i)?n._d=new Date(p.now()):c(r)?n._d=new Date(r.valueOf()):"string"==typeof r?(t=n,null===(i=yt.exec(t._i))?(bt(t),!1===t._isValid&&(delete t._isValid,Ct(t),!1===t._isValid&&(delete t._isValid,p.createFromInputFallback(t)))):t._d=new Date(+i[1])):s(r)?(n._a=h(r.slice(0),function(e){return parseInt(e,10)}),dt(n)):a(r)?(t=n)._d||(i=N(t._i),t._a=h([i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond],function(e){return e&&parseInt(e,10)}),dt(t)):l(r)?n._d=new Date(r):p.createFromInputFallback(n),m(e)||(e._d=null),e))}function kt(e,t,i,n,r){var o={};return!0!==i&&!1!==i||(n=i,i=void 0),(a(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(var t in e)if(e.hasOwnProperty(t))return;return 1}(e)||s(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=i,o._i=e,o._f=t,o._strict=n,(o=new w(ht(_t(o))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function Mt(e,t,i,n){return kt(e,t,i,n,!1)}p.createFromInputFallback=i("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),p.ISO_8601=function(){},p.RFC_2822=function(){};var Tt=i("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Mt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:v()}),Dt=i("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Mt.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:v()});function At(e,t){var i,n;if(1===t.length&&s(t[0])&&(t=t[0]),!t.length)return Mt();for(i=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](i)||(i=t[n]);return i}var $t=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Et(e){var t=N(e),i=t.year||0,n=t.quarter||0,r=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,e=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===_e.call($t,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var i=!1,n=0;n<$t.length;++n)if(e[$t[n]]){if(i)return!1;parseFloat(e[$t[n]])!==S(e[$t[n]])&&(i=!0)}return!0}(t),this._milliseconds=+e+1e3*c+6e4*l+1e3*a*60*60,this._days=+s+7*o,this._months=+r+3*n+12*i,this._data={},this._locale=ct(),this._bubble()}function Lt(e){return e instanceof Et}function It(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Nt(e,i){j(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+P(~~(e/60),2)+i+P(~~e%60,2)})}Nt("Z",":"),Nt("ZZ",""),le("Z",oe),le("ZZ",oe),ue(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=Rt(oe,e)});var Ot=/([\+\-]|\d\d)/gi;function Rt(e,t){t=(t||"").match(e);if(null===t)return null;e=((t[t.length-1]||[])+"").match(Ot)||["-",0,0],t=60*e[1]+S(e[2]);return 0===t?0:"+"===e[0]?t:-t}function Pt(e,t){var i;return t._isUTC?(i=t.clone(),t=(x(e)||c(e)?e:Mt(e)).valueOf()-i.valueOf(),i._d.setTime(i._d.valueOf()+t),p.updateOffset(i,!1),i):Mt(e).local()}function Ft(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function zt(){return!!this.isValid()&&this._isUTC&&0===this._offset}p.updateOffset=function(){};var Wt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Bt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function jt(e,t){var i,n,r=e,o=null;return Lt(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:l(e)?(r={},t?r[t]=e:r.milliseconds=e):(o=Wt.exec(e))?(i="-"===o[1]?-1:1,r={y:0,d:S(o[ge])*i,h:S(o[me])*i,m:S(o[ve])*i,s:S(o[ye])*i,ms:S(It(1e3*o[be]))*i}):(o=Bt.exec(e))?(i="-"===o[1]?-1:1,r={y:Ht(o[2],i),M:Ht(o[3],i),w:Ht(o[4],i),d:Ht(o[5],i),h:Ht(o[6],i),m:Ht(o[7],i),s:Ht(o[8],i)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(o=Mt(r.from),i=Mt(r.to),n=o.isValid()&&i.isValid()?(i=Pt(i,o),o.isBefore(i)?n=Kt(o,i):((n=Kt(i,o)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0},(r={}).ms=n.milliseconds,r.M=n.months),r=new Et(r),Lt(e)&&f(e,"_locale")&&(r._locale=e._locale),r}function Ht(e,t){e=e&&parseFloat(e.replace(",","."));return(isNaN(e)?0:e)*t}function Kt(e,t){var i={};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function Vt(n,r){return function(e,t){var i;return null===t||isNaN(+t)||(T(r,"moment()."+r+"(period, number) is deprecated. Please use moment()."+r+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=e,e=t,t=i),Ut(this,jt(e="string"==typeof e?+e:e,t),n),this}}function Ut(e,t,i,n){var r=t._milliseconds,o=It(t._days),t=It(t._months);e.isValid()&&(n=null==n||n,t&&Ie(e,Te(e,"Month")+t*i),o&&De(e,"Date",Te(e,"Date")+o*i),r&&e._d.setTime(e._d.valueOf()+r*i),n&&p.updateOffset(e,o||t))}jt.fn=Et.prototype,jt.invalid=function(){return jt(NaN)};var Gt=Vt(1,"add"),se=Vt(-1,"subtract");function Yt(e,t){var i=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(i,"months");return-(i+(t-n<0?(t-n)/(n-e.clone().add(i-1,"months")):(t-n)/(e.clone().add(1+i,"months")-n)))||0}function qt(e){return void 0===e?this._locale._abbr:(null!=(e=ct(e))&&(this._locale=e),this)}p.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",p.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";X=i("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function Qt(){return this._locale}function Xt(e,t){return(e%t+t)%t}function Zt(e,t,i){return e<100&&0<=e?new Date(e+400,t,i)-126227808e5:new Date(e,t,i).valueOf()}function Jt(e,t,i){return e<100&&0<=e?Date.UTC(e+400,t,i)-126227808e5:Date.UTC(e,t,i)}function ei(e,t){j(0,[e,e.length],0,t)}function ti(e,t,i,n,r){var o;return null==e?Be(this,n,r).year:((o=je(e,n,r))<t&&(t=o),function(e,t,i,n,r){r=We(e,t,i,n,r),r=Fe(r.year,0,r.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}.call(this,e,t,i,n,r))}j(0,["gg",2],0,function(){return this.weekYear()%100}),j(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ei("gggg","weekYear"),ei("ggggg","weekYear"),ei("GGGG","isoWeekYear"),ei("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),R("weekYear",1),R("isoWeekYear",1),le("G",ne),le("g",ne),le("GG",Q,U),le("gg",Q,U),le("GGGG",ee,Y),le("gggg",ee,Y),le("GGGGG",te,q),le("ggggg",te,q),de(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,n){t[n.substr(0,2)]=S(e)}),de(["gg","GG"],function(e,t,i,n){t[n]=p.parseTwoDigitYear(e)}),j("Q",0,"Qo","quarter"),L("quarter","Q"),R("quarter",7),le("Q",V),ue("Q",function(e,t){t[pe]=3*(S(e)-1)}),j("D",["DD",2],"Do","date"),L("date","D"),R("date",9),le("D",Q),le("DD",Q,U),le("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),ue(["D","DD"],ge),ue("Do",function(e,t){t[ge]=S(e.match(Q)[0])});Z=Me("Date",!0);j("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),R("dayOfYear",4),le("DDD",J),le("DDDD",G),ue(["DDD","DDDD"],function(e,t,i){i._dayOfYear=S(e)}),j("m",["mm",2],0,"minute"),L("minute","m"),R("minute",14),le("m",Q),le("mm",Q,U),ue(["m","mm"],ve);Ee=Me("Minutes",!1);j("s",["ss",2],0,"second"),L("second","s"),R("second",15),le("s",Q),le("ss",Q,U),ue(["s","ss"],ye);var ii,Ke=Me("Seconds",!1);for(j("S",0,0,function(){return~~(this.millisecond()/100)}),j(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),j(0,["SSS",3],0,"millisecond"),j(0,["SSSS",4],0,function(){return 10*this.millisecond()}),j(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),j(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),j(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),j(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),j(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),L("millisecond","ms"),R("millisecond",16),le("S",J,V),le("SS",J,U),le("SSS",J,G),ii="SSSS";ii.length<=9;ii+="S")le(ii,ie);function ni(e,t){t[be]=S(1e3*("0."+e))}for(ii="S";ii.length<=9;ii+="S")ue(ii,ni);Ue=Me("Milliseconds",!1);j("z",0,0,"zoneAbbr"),j("zz",0,0,"zoneName");ee=w.prototype;function ri(e){return e}ee.add=Gt,ee.calendar=function(e,t){var i=e||Mt(),e=Pt(i,this).startOf("day"),e=p.calendarFormat(this,e)||"sameElse",t=t&&(D(t[e])?t[e].call(this,i):t[e]);return this.format(t||this.localeData().calendar(e,this,Mt(i)))},ee.clone=function(){return new w(this)},ee.diff=function(e,t,i){var n,r;if(!this.isValid())return NaN;if(!(n=Pt(e,this)).isValid())return NaN;switch(e=6e4*(n.utcOffset()-this.utcOffset()),t=I(t)){case"year":r=Yt(this,n)/12;break;case"month":r=Yt(this,n);break;case"quarter":r=Yt(this,n)/3;break;case"second":r=(this-n)/1e3;break;case"minute":r=(this-n)/6e4;break;case"hour":r=(this-n)/36e5;break;case"day":r=(this-n-e)/864e5;break;case"week":r=(this-n-e)/6048e5;break;default:r=this-n}return i?r:C(r)},ee.endOf=function(e){var t;if(void 0===(e=I(e))||"millisecond"===e||!this.isValid())return this;var i=this._isUTC?Jt:Zt;switch(e){case"year":t=i(this.year()+1,0,1)-1;break;case"quarter":t=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=i(this.year(),this.month()+1,1)-1;break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-Xt(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-Xt(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-Xt(t,1e3)-1}return this._d.setTime(t),p.updateOffset(this,!0),this},ee.format=function(e){e=e||(this.isUtc()?p.defaultFormatUtc:p.defaultFormat);e=H(this,e);return this.localeData().postformat(e)},ee.from=function(e,t){return this.isValid()&&(x(e)&&e.isValid()||Mt(e).isValid())?jt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},ee.fromNow=function(e){return this.from(Mt(),e)},ee.to=function(e,t){return this.isValid()&&(x(e)&&e.isValid()||Mt(e).isValid())?jt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},ee.toNow=function(e){return this.to(Mt(),e)},ee.get=function(e){return D(this[e=I(e)])?this[e]():this},ee.invalidAt=function(){return g(this).overflow},ee.isAfter=function(e,t){e=x(e)?e:Mt(e);return!(!this.isValid()||!e.isValid())&&("millisecond"===(t=I(t)||"millisecond")?this.valueOf()>e.valueOf():e.valueOf()<this.clone().startOf(t).valueOf())},ee.isBefore=function(e,t){e=x(e)?e:Mt(e);return!(!this.isValid()||!e.isValid())&&("millisecond"===(t=I(t)||"millisecond")?this.valueOf()<e.valueOf():this.clone().endOf(t).valueOf()<e.valueOf())},ee.isBetween=function(e,t,i,n){e=x(e)?e:Mt(e),t=x(t)?t:Mt(t);return!!(this.isValid()&&e.isValid()&&t.isValid())&&("("===(n=n||"()")[0]?this.isAfter(e,i):!this.isBefore(e,i))&&(")"===n[1]?this.isBefore(t,i):!this.isAfter(t,i))},ee.isSame=function(e,t){var e=x(e)?e:Mt(e);return!(!this.isValid()||!e.isValid())&&("millisecond"===(t=I(t)||"millisecond")?this.valueOf()===e.valueOf():(e=e.valueOf(),this.clone().startOf(t).valueOf()<=e&&e<=this.clone().endOf(t).valueOf()))},ee.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},ee.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},ee.isValid=function(){return m(this)},ee.lang=X,ee.locale=qt,ee.localeData=Qt,ee.max=Dt,ee.min=Tt,ee.parsingFlags=function(){return u({},g(this))},ee.set=function(i,e){if("object"==typeof i)for(var t=function(){var e,t=[];for(e in i=N(i))t.push({unit:e,priority:O[e]});return t.sort(function(e,t){return e.priority-t.priority}),t}(),n=0;n<t.length;n++)this[t[n].unit](i[t[n].unit]);else if(D(this[i=I(i)]))return this[i](e);return this},ee.startOf=function(e){var t;if(void 0===(e=I(e))||"millisecond"===e||!this.isValid())return this;var i=this._isUTC?Jt:Zt;switch(e){case"year":t=i(this.year(),0,1);break;case"quarter":t=i(this.year(),this.month()-this.month()%3,1);break;case"month":t=i(this.year(),this.month(),1);break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=i(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Xt(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=Xt(t,6e4);break;case"second":t=this._d.valueOf(),t-=Xt(t,1e3)}return this._d.setTime(t),p.updateOffset(this,!0),this},ee.subtract=se,ee.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},ee.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},ee.toDate=function(){return new Date(this.valueOf())},ee.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,e=t?this.clone().utc():this;return e.year()<0||9999<e.year()?H(e,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):D(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",H(e,"Z")):H(e,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},ee.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var i="["+e+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",t=t+'[")]';return this.format(i+e+"-MM-DD[T]HH:mm:ss.SSS"+t)},ee.toJSON=function(){return this.isValid()?this.toISOString():null},ee.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},ee.unix=function(){return Math.floor(this.valueOf()/1e3)},ee.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},ee.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},ee.year=ke,ee.isLeapYear=function(){return Se(this.year())},ee.weekYear=function(e){return ti.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},ee.isoWeekYear=function(e){return ti.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},ee.quarter=ee.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},ee.month=Ne,ee.daysInMonth=function(){return Ae(this.year(),this.month())},ee.week=ee.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},ee.isoWeek=ee.isoWeeks=function(e){var t=Be(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},ee.weeksInYear=function(){var e=this.localeData()._week;return je(this.year(),e.dow,e.doy)},ee.isoWeeksInYear=function(){return je(this.year(),1,4)},ee.date=Z,ee.day=ee.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,i,n=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,i=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=i.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-n,"d")):n},ee.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},ee.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null==e)return this.day()||7;var t=(t=e,e=this.localeData(),"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t);return this.day(this.day()%7?t:t-7)},ee.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},ee.hour=ee.hours=tt,ee.minute=ee.minutes=Ee,ee.second=ee.seconds=Ke,ee.millisecond=ee.milliseconds=Ue,ee.utcOffset=function(e,t,i){var n,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?r:Ft(this);if("string"==typeof e){if(null===(e=Rt(oe,e)))return this}else Math.abs(e)<16&&!i&&(e*=60);return!this._isUTC&&t&&(n=Ft(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),r!==e&&(!t||this._changeInProgress?Ut(this,jt(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,p.updateOffset(this,!0),this._changeInProgress=null)),this},ee.utc=function(e){return this.utcOffset(0,e)},ee.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ft(this),"m")),this},ee.parseZone=function(){var e;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(e=Rt(re,this._i))?this.utcOffset(e):this.utcOffset(0,!0)),this},ee.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Mt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},ee.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},ee.isLocal=function(){return!!this.isValid()&&!this._isUTC},ee.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},ee.isUtc=zt,ee.isUTC=zt,ee.zoneAbbr=function(){return this._isUTC?"UTC":""},ee.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},ee.dates=i("dates accessor is deprecated. Use date instead.",Z),ee.months=i("months accessor is deprecated. Use month instead",Ne),ee.years=i("years accessor is deprecated. Use year instead",ke),ee.zone=i("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),ee.isDSTShifted=i("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e,t={};return b(t,this),(t=_t(t))._a?(e=(t._isUTC?d:Mt)(t._a),this._isDSTShifted=this.isValid()&&0<_(t._a,e.toArray())):this._isDSTShifted=!1,this._isDSTShifted});Y=$.prototype;function oi(e,t,i,n){var r=ct(),t=d().set(n,t);return r[i](t,e)}function si(e,t,i){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return oi(e,t,i,"month");for(var n=[],r=0;r<12;r++)n[r]=oi(e,r,i,"month");return n}function ai(e,t,i,n){"boolean"==typeof e?l(t)&&(i=t,t=void 0):(t=e,e=!1,l(i=t)&&(i=t,t=void 0)),t=t||"";var r=ct(),o=e?r._week.dow:0;if(null!=i)return oi(t,(i+o)%7,n,"day");for(var s=[],a=0;a<7;a++)s[a]=oi(t,(a+o)%7,n,"day");return s}Y.calendar=function(e,t,i){e=this._calendar[e]||this._calendar.sameElse;return D(e)?e.call(t,i):e},Y.longDateFormat=function(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},Y.invalidDate=function(){return this._invalidDate},Y.ordinal=function(e){return this._ordinal.replace("%d",e)},Y.preparse=ri,Y.postformat=ri,Y.relativeTime=function(e,t,i,n){var r=this._relativeTime[i];return D(r)?r(e,t,i,n):r.replace(/%d/i,e)},Y.pastFuture=function(e,t){e=this._relativeTime[0<e?"future":"past"];return D(e)?e(t):e.replace(/%s/i,t)},Y.set=function(e){var t,i;for(i in e)D(t=e[i])?this[i]=t:this["_"+i]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Y.months=function(e,t){return e?(s(this._months)?this._months:this._months[(this._months.isFormat||$e).test(t)?"format":"standalone"])[e.month()]:s(this._months)?this._months:this._months.standalone},Y.monthsShort=function(e,t){return e?(s(this._monthsShort)?this._monthsShort:this._monthsShort[$e.test(t)?"format":"standalone"])[e.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Y.monthsParse=function(e,t,i){var n,r;if(this._monthsParseExact)return function(e,t,i){var n,r,o,e=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)o=d([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(o,"").toLocaleLowerCase();return i?"MMM"===t?-1!==(r=_e.call(this._shortMonthsParse,e))?r:null:-1!==(r=_e.call(this._longMonthsParse,e))?r:null:"MMM"===t?-1!==(r=_e.call(this._shortMonthsParse,e))||-1!==(r=_e.call(this._longMonthsParse,e))?r:null:-1!==(r=_e.call(this._longMonthsParse,e))||-1!==(r=_e.call(this._shortMonthsParse,e))?r:null}.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=d([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(r="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(r.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}},Y.monthsRegex=function(e){return this._monthsParseExact?(f(this,"_monthsRegex")||Pe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(f(this,"_monthsRegex")||(this._monthsRegex=Re),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Y.monthsShortRegex=function(e){return this._monthsParseExact?(f(this,"_monthsRegex")||Pe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(f(this,"_monthsShortRegex")||(this._monthsShortRegex=Oe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Y.week=function(e){return Be(e,this._week.dow,this._week.doy).week},Y.firstDayOfYear=function(){return this._week.doy},Y.firstDayOfWeek=function(){return this._week.dow},Y.weekdays=function(e,t){t=s(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?He(t,this._week.dow):e?t[e.day()]:t},Y.weekdaysMin=function(e){return!0===e?He(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Y.weekdaysShort=function(e){return!0===e?He(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Y.weekdaysParse=function(e,t,i){var n,r;if(this._weekdaysParseExact)return function(e,t,i){var n,r,o,e=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)o=d([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(o,"").toLocaleLowerCase();return i?"dddd"===t?-1!==(r=_e.call(this._weekdaysParse,e))?r:null:"ddd"===t?-1!==(r=_e.call(this._shortWeekdaysParse,e))?r:null:-1!==(r=_e.call(this._minWeekdaysParse,e))?r:null:"dddd"===t?-1!==(r=_e.call(this._weekdaysParse,e))||-1!==(r=_e.call(this._shortWeekdaysParse,e))||-1!==(r=_e.call(this._minWeekdaysParse,e))?r:null:"ddd"===t?-1!==(r=_e.call(this._shortWeekdaysParse,e))||-1!==(r=_e.call(this._weekdaysParse,e))||-1!==(r=_e.call(this._minWeekdaysParse,e))?r:null:-1!==(r=_e.call(this._minWeekdaysParse,e))||-1!==(r=_e.call(this._weekdaysParse,e))||-1!==(r=_e.call(this._shortWeekdaysParse,e))?r:null}.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(r=d([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(r="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(r.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(i&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(i&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!i&&this._weekdaysParse[n].test(e))return n}},Y.weekdaysRegex=function(e){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(f(this,"_weekdaysRegex")||(this._weekdaysRegex=Ge),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Y.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(f(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ye),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Y.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(f(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=qe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Y.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Y.meridiem=function(e,t,i){return 11<e?i?"pm":"PM":i?"am":"AM"},at("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===S(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),p.lang=i("moment.lang is deprecated. Use moment.locale instead.",at),p.langData=i("moment.langData is deprecated. Use moment.localeData instead.",ct);var li=Math.abs;function ci(e,t,i,n){i=jt(t,i);return e._milliseconds+=n*i._milliseconds,e._days+=n*i._days,e._months+=n*i._months,e._bubble()}function hi(e){return e<0?Math.floor(e):Math.ceil(e)}function ui(e){return 4800*e/146097}function di(e){return 146097*e/4800}function fi(e){return function(){return this.as(e)}}te=fi("ms"),q=fi("s"),V=fi("m"),U=fi("h"),J=fi("d"),G=fi("w"),Gt=fi("M"),Dt=fi("Q"),Tt=fi("y");function pi(e){return function(){return this.isValid()?this._data[e]:NaN}}var se=pi("milliseconds"),tt=pi("seconds"),Ee=pi("minutes"),Ke=pi("hours"),Ue=pi("days"),Z=pi("months"),ke=pi("years"),gi=Math.round,mi={ss:44,s:45,m:45,h:22,d:26,M:11},vi=Math.abs;function yi(e){return(0<e)-(e<0)||+e}function bi(){if(!this.isValid())return this.localeData().invalidDate();var e=vi(this._milliseconds)/1e3,t=vi(this._days),i=vi(this._months),n=C((c=C(e/60))/60);e%=60,c%=60;var r=C(i/12),o=i%=12,s=t,a=n,l=c,i=e?e.toFixed(3).replace(/\.?0+$/,""):"",t=this.asSeconds();if(!t)return"P0D";var n=t<0?"-":"",c=yi(this._months)!==yi(t)?"-":"",e=yi(this._days)!==yi(t)?"-":"",t=yi(this._milliseconds)!==yi(t)?"-":"";return n+"P"+(r?c+r+"Y":"")+(o?c+o+"M":"")+(s?e+s+"D":"")+(a||l||i?"T":"")+(a?t+a+"H":"")+(l?t+l+"M":"")+(i?t+i+"S":"")}Y=Et.prototype;return Y.isValid=function(){return this._isValid},Y.abs=function(){var e=this._data;return this._milliseconds=li(this._milliseconds),this._days=li(this._days),this._months=li(this._months),e.milliseconds=li(e.milliseconds),e.seconds=li(e.seconds),e.minutes=li(e.minutes),e.hours=li(e.hours),e.months=li(e.months),e.years=li(e.years),this},Y.add=function(e,t){return ci(this,e,t,1)},Y.subtract=function(e,t){return ci(this,e,t,-1)},Y.as=function(e){if(!this.isValid())return NaN;var t,i,n=this._milliseconds;if("month"===(e=I(e))||"quarter"===e||"year"===e)switch(t=this._days+n/864e5,i=this._months+ui(t),e){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(t=this._days+Math.round(di(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},Y.asMilliseconds=te,Y.asSeconds=q,Y.asMinutes=V,Y.asHours=U,Y.asDays=J,Y.asWeeks=G,Y.asMonths=Gt,Y.asQuarters=Dt,Y.asYears=Tt,Y.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12):NaN},Y._bubble=function(){var e=this._milliseconds,t=this._days,i=this._months,n=this._data;return 0<=e&&0<=t&&0<=i||e<=0&&t<=0&&i<=0||(e+=864e5*hi(di(i)+t),i=t=0),n.milliseconds=e%1e3,e=C(e/1e3),n.seconds=e%60,e=C(e/60),n.minutes=e%60,e=C(e/60),n.hours=e%24,i+=e=C(ui(t+=C(e/24))),t-=hi(di(e)),e=C(i/12),i%=12,n.days=t,n.months=i,n.years=e,this},Y.clone=function(){return jt(this)},Y.get=function(e){return e=I(e),this.isValid()?this[e+"s"]():NaN},Y.milliseconds=se,Y.seconds=tt,Y.minutes=Ee,Y.hours=Ke,Y.days=Ue,Y.weeks=function(){return C(this.days()/7)},Y.months=Z,Y.years=ke,Y.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t,i,n,r,o,s,a,l=this.localeData(),c=(t=!e,i=l,c=jt(this).abs(),n=gi(c.as("s")),r=gi(c.as("m")),o=gi(c.as("h")),s=gi(c.as("d")),a=gi(c.as("M")),c=gi(c.as("y")),(c=(n<=mi.ss?["s",n]:n<mi.s&&["ss",n])||r<=1&&["m"]||r<mi.m&&["mm",r]||o<=1&&["h"]||o<mi.h&&["hh",o]||s<=1&&["d"]||s<mi.d&&["dd",s]||a<=1&&["M"]||a<mi.M&&["MM",a]||c<=1&&["y"]||["yy",c])[2]=t,c[3]=0<+this,c[4]=i,function(e,t,i,n,r){return r.relativeTime(t||1,!!i,e,n)}.apply(null,c));return e&&(c=l.pastFuture(+this,c)),l.postformat(c)},Y.toISOString=bi,Y.toString=bi,Y.toJSON=bi,Y.locale=qt,Y.localeData=Qt,Y.toIsoString=i("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",bi),Y.lang=X,j("X",0,0,"unix"),j("x",0,0,"valueOf"),le("x",ne),le("X",/[+-]?\d+(\.\d{1,3})?/),ue("X",function(e,t,i){i._d=new Date(1e3*parseFloat(e,10))}),ue("x",function(e,t,i){i._d=new Date(S(e))}),p.version="2.24.0",e=Mt,p.fn=ee,p.min=function(){return At("isBefore",[].slice.call(arguments,0))},p.max=function(){return At("isAfter",[].slice.call(arguments,0))},p.now=function(){return Date.now?Date.now():+new Date},p.utc=d,p.unix=function(e){return Mt(1e3*e)},p.months=function(e,t){return si(e,t,"months")},p.isDate=c,p.locale=at,p.invalid=v,p.duration=jt,p.isMoment=x,p.weekdays=function(e,t,i){return ai(e,t,i,"weekdays")},p.parseZone=function(){return Mt.apply(null,arguments).parseZone()},p.localeData=ct,p.isDuration=Lt,p.monthsShort=function(e,t){return si(e,t,"monthsShort")},p.weekdaysMin=function(e,t,i){return ai(e,t,i,"weekdaysMin")},p.defineLocale=lt,p.updateLocale=function(e,t){var i,n;return null!=t?(n=it,null!=(i=st(e))&&(n=i._config),(t=new $(t=A(n,t))).parentLocale=nt[e],nt[e]=t,at(e)):null!=nt[e]&&(null!=nt[e].parentLocale?nt[e]=nt[e].parentLocale:null!=nt[e]&&delete nt[e]),nt[e]},p.locales=function(){return r(nt)},p.weekdaysShort=function(e,t,i){return ai(e,t,i,"weekdaysShort")},p.normalizeUnits=I,p.relativeTimeRounding=function(e){return void 0===e?gi:"function"==typeof e&&(gi=e,!0)},p.relativeTimeThreshold=function(e,t){return void 0!==mi[e]&&(void 0===t?mi[e]:(mi[e]=t,"s"===e&&(mi.ss=t-1),!0))},p.calendarFormat=function(e,t){t=e.diff(t,"days",!0);return t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"},p.prototype=ee,p.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},p}),function(e,t){"function"==typeof define&&define.amd?define("element/locale/en",["module","exports"],t):"undefined"!=typeof exports?t(module,exports):(t(t={exports:{}},t.exports),e.ELEMENT.lang=e.ELEMENT.lang||{},e.ELEMENT.lang.en=t.exports)}(this,function(e,t){"use strict";t.__esModule=!0,t.default={el:{colorpicker:{confirm:"OK",clear:"Clear"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:""},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}},e.exports=t.default}),ace.define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/lib/dom","ace/editor"],function(e,s,t){"use strict";var i=e("./lib/oop"),n=e("./lib/event_emitter").EventEmitter,c=e("./lib/lang"),h=e("./range").Range,u=e("./range_list").RangeList,r=e("./keyboard/hash_handler").HashHandler,o=e("./tokenizer").Tokenizer,a=e("./clipboard"),l={CURRENT_WORD:function(e){return e.session.getTextRange(e.session.getWordRange())},SELECTION:function(e,t,i){e=e.session.getTextRange();return i?e.replace(/\n\r?([ \t]*\S)/g,"\n"+i+"$1"):e},CURRENT_LINE:function(e){return e.session.getLine(e.getCursorPosition().row)},PREV_LINE:function(e){return e.session.getLine(e.getCursorPosition().row-1)},LINE_INDEX:function(e){return e.getCursorPosition().row},LINE_NUMBER:function(e){return e.getCursorPosition().row+1},SOFT_TABS:function(e){return e.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(e){return e.session.getTabSize()},CLIPBOARD:function(e){return a.getText&&a.getText()},FILENAME:function(e){return/[^/\\]*$/.exec(this.FILEPATH(e))[0]},FILENAME_BASE:function(e){return/[^/\\]*$/.exec(this.FILEPATH(e))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(e){return this.FILEPATH(e).replace(/[^/\\]*$/,"")},FILEPATH:function(e){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(e){e=e.session.$mode||{};return e.blockComment&&e.blockComment.start||""},BLOCK_COMMENT_END:function(e){e=e.session.$mode||{};return e.blockComment&&e.blockComment.end||""},LINE_COMMENT:function(e){return(e.session.$mode||{}).lineCommentStart||""},CURRENT_YEAR:d.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:d.bind(null,{year:"2-digit"}),CURRENT_MONTH:d.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:d.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:d.bind(null,{month:"short"}),CURRENT_DATE:d.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:d.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:d.bind(null,{weekday:"short"}),CURRENT_HOUR:d.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:d.bind(null,{minute:"2-digit"}),CURRENT_SECOND:d.bind(null,{second:"2-digit"})};function d(e){e=(new Date).toLocaleString("en-us",e);return 1==e.length?"0"+e:e}l.SELECTED_TEXT=l.SELECTION;function f(){this.snippetMap={},this.snippetNameMap={}}(function(){i.implement(this,n),this.getTokenizer=function(){return f.$tokenizer||this.createTokenizer()},this.createTokenizer=function(){function n(e){return e=e.substr(1),/^\d+$/.test(e)?[{tabstopId:parseInt(e,10)}]:[{text:e}]}function e(e){return"(?:[^\\\\"+e+"]|\\\\.)"}var t={regex:"/("+e("/")+"+)/",onMatch:function(e,t,i){i=i[0];return i.fmtString=!0,i.guard=e.slice(1,-1),i.flag=""},next:"formatString"};return f.$tokenizer=new o({start:[{regex:/\\./,onMatch:function(e,t,i){var n=e[1];return("}"==n&&i.length||-1!="`$\\".indexOf(n))&&(e=n),[e]}},{regex:/}/,onMatch:function(e,t,i){return[i.length?i.shift():e]}},{regex:/\$(?:\d+|\w+)/,onMatch:n},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(e,t,i){e=n(e.substr(1));return i.unshift(e[0]),e},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+e("\\|")+"*\\|",onMatch:function(e,t,i){e=e.slice(1,-1).replace(/\\[,|\\]|,/g,function(e){return 2==e.length?e[1]:"\0"}).split("\0");return[(i[0].choices=e)[0]]},next:"start"},t,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(e,t,i){return i.length&&i[0].expectElse?(i[0].expectElse=!1,i[0].ifEnd={elseEnd:i[0]},[i[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(e,t,i){var n=e[1];return"}"==n&&i.length||-1!="`$\\".indexOf(n)?e=n:"n"==n?e="\n":"t"==n?e="\t":-1!="ulULE".indexOf(n)&&(e={changeCase:n,local:"a"<n}),[e]}},{regex:"/\\w*}",onMatch:function(e,t,i){i=i.shift();return i&&(i.flag=e.slice(1,-1)),this.next=i&&i.tabstopId?"start":"",[i||e]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(e,t,i){return[{text:e.slice(1)}]}},{regex:/\${\w+/,onMatch:function(e,t,i){e={text:e.slice(2)};return i.unshift(e),[e]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(e,t,i){i=i.shift();return this.next=i&&i.tabstopId?"start":"",[i||e]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(e,t,i){return i[0].formatFunction=e.slice(2,-1),[i.shift()]},next:"formatString"},t,{regex:/:[\?\-+]?/,onMatch:function(e,t,i){"+"==e[1]&&(i[0].ifEnd=i[0]),"?"==e[1]&&(i[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]})},this.tokenizeTmSnippet=function(e,t){return this.getTokenizer().getLineTokens(e,t).tokens.map(function(e){return e.value||e})},this.getVariableValue=function(e,t,i){if(/^\d+$/.test(t))return(this.variables.__||{})[t]||"";if(/^[A-Z]\d+$/.test(t))return(this.variables[t[0]+"__"]||{})[t.substr(1)]||"";if(t=t.replace(/^TM_/,""),!this.variables.hasOwnProperty(t))return"";var n=this.variables[t];return"function"==typeof n&&(n=this.variables[t](e,t,i)),null==n?"":n},this.variables=l,this.tmStrFormat=function(e,t,s){if(!t.fmt)return e;var i=t.flag||"",n=t.guard,n=new RegExp(n,i.replace(/[^gim]/g,"")),a="string"==typeof t.fmt?this.tokenizeTmSnippet(t.fmt,"formatString"):t.fmt,l=this;return e.replace(n,function(){var e=l.variables.__;l.variables.__=[].slice.call(arguments);for(var t=l.resolveVariables(a,s),i="E",n=0;n<t.length;n++){var r,o=t[n];"object"==typeof o?(t[n]="",o.changeCase&&o.local?(r=t[n+1])&&"string"==typeof r&&("u"==o.changeCase?t[n]=r[0].toUpperCase():t[n]=r[0].toLowerCase(),t[n+1]=r.substr(1)):o.changeCase&&(i=o.changeCase)):"U"==i?t[n]=o.toUpperCase():"L"==i&&(t[n]=o.toLowerCase())}return l.variables.__=e,t.join("")})},this.tmFormatFunction=function(e,t,i){return"upcase"==t.formatFunction?e.toUpperCase():"downcase"==t.formatFunction?e.toLowerCase():e},this.resolveVariables=function(t,e){for(var i=[],n="",r=!0,o=0;o<t.length;o++){var s,a=t[o];"string"!=typeof a?a&&(r=!1,a.fmtString&&(-1==(s=t.indexOf(a,o+1))&&(s=t.length),a.fmt=t.slice(o+1,s),o=s),a.text?(s=this.getVariableValue(e,a.text,n)+"",a.fmtString&&(s=this.tmStrFormat(s,a,e)),a.formatFunction&&(s=this.tmFormatFunction(s,a,e)),s&&!a.ifEnd?(i.push(s),l(a)):!s&&a.ifEnd&&l(a.ifEnd)):a.elseEnd?l(a.elseEnd):null==a.tabstopId&&null==a.changeCase||i.push(a)):(i.push(a),"\n"==a?(r=!0,n=""):r&&(n=/^\t*/.exec(a)[0],r=/\S/.test(a)))}function l(e){e=t.indexOf(e,o+1);-1!=e&&(o=e)}return i},this.insertSnippetForSelection=function(e,t){var i=e.getCursorPosition(),n=e.session.getLine(i.row),r=e.session.getTabString(),o=n.match(/^\s*/)[0];i.column<o.length&&(o=o.slice(0,i.column)),t=t.replace(/\r/g,"");var s=this.tokenizeTmSnippet(t);s=(s=this.resolveVariables(s,e)).map(function(e){return"\n"==e?e+o:"string"==typeof e?e.replace(/\t/g,r):e});var a=[];s.forEach(function(e,t){var i,n;"object"==typeof e&&(i=e.tabstopId,(n=a[i])||((n=a[i]=[]).index=i,n.value="",n.parents={}),-1===n.indexOf(e)&&(e.choices&&!n.choices&&(n.choices=e.choices),n.push(e),-1!==(e=s.indexOf(e,t+1))&&((e=s.slice(t+1,e)).some(function(e){return"object"==typeof e})&&!n.value?n.value=e:!e.length||n.value&&"string"==typeof n.value||(n.value=e.join("")))))}),a.forEach(function(e){e.length=0});var l={};for(var c=0;c<s.length;c++){var h,u,d,f=s[c];"object"==typeof f&&(d=f.tabstopId,h=a[d],u=s.indexOf(f,c+1),l[d]?l[d]===f&&(delete l[d],Object.keys(l).forEach(function(e){h.parents[e]=!0})):(l[d]=f,"string"!=typeof(d=h.value)?d=function(e){for(var t=[],i=0;i<e.length;i++){if("object"==typeof(n=e[i])){if(l[n.tabstopId])continue;var n=t[e.lastIndexOf(n,i-1)]||{tabstopId:n.tabstopId}}t[i]=n}return t}(d):f.fmt&&(d=this.tmStrFormat(d,f,e)),s.splice.apply(s,[c+1,Math.max(0,u-c)].concat(d,f)),-1===h.indexOf(f)&&h.push(f)))}var p=0,g=0,m="";s.forEach(function(e){var t;"string"==typeof e?(1<(t=e.split("\n")).length?(g=t[t.length-1].length,p+=t.length-1):g+=e.length,m+=e):e&&(e.start?e.end={row:p,column:g}:e.start={row:p,column:g})});var v=e.getSelectionRange(),n=e.session.replace(v,m),i=new y(e),t=e.inVirtualSelectionMode&&e.selection.index;i.addTabstops(a,v.start,n,t)},this.insertSnippet=function(e,t){var i=this;if(e.inVirtualSelectionMode)return i.insertSnippetForSelection(e,t);e.forEachSelection(function(){i.insertSnippetForSelection(e,t)},null,{keepOrder:!0}),e.tabstopManager&&e.tabstopManager.tabNext()},this.$getScope=function(e){var t,i=e.session.$mode.$id||"";return"html"!==(i=i.split("/").pop())&&"php"!==i||("php"!==i||e.session.$mode.inlinePhp||(i="html"),t=e.getCursorPosition(),"object"==typeof(t=e.session.getState(t.row))&&(t=t[0]),t.substring&&("js-"==t.substring(0,3)?i="javascript":"css-"==t.substring(0,4)?i="css":"php-"==t.substring(0,4)&&(i="php"))),i},this.getActiveScopes=function(e){var t=this.$getScope(e),i=[t],e=this.snippetMap;return e[t]&&e[t].includeScopes&&i.push.apply(i,e[t].includeScopes),i.push("_"),i},this.expandWithTab=function(e,t){var i=this,n=e.forEachSelection(function(){return i.expandSnippetForSelection(e,t)},null,{keepOrder:!0});return n&&e.tabstopManager&&e.tabstopManager.tabNext(),n},this.expandSnippetForSelection=function(e,t){var i,n=e.getCursorPosition(),r=e.session.getLine(n.row),o=r.substring(0,n.column),s=r.substr(n.column),a=this.snippetMap;return this.getActiveScopes(e).some(function(e){e=a[e];return e&&(i=this.findMatchingSnippet(e,o,s)),!!i},this),!!i&&(!(!t||!t.dryRun)||(e.session.doc.removeInLine(n.row,n.column-i.replaceBefore.length,n.column+i.replaceAfter.length),this.variables.M__=i.matchBefore,this.variables.T__=i.matchAfter,this.insertSnippetForSelection(e,i.content),!(this.variables.M__=this.variables.T__=null)))},this.findMatchingSnippet=function(e,t,i){for(var n=e.length;n--;){var r=e[n];if((!r.startRe||r.startRe.test(t))&&((!r.endRe||r.endRe.test(i))&&(r.startRe||r.endRe)))return r.matchBefore=r.startRe?r.startRe.exec(t):[""],r.matchAfter=r.endRe?r.endRe.exec(i):[""],r.replaceBefore=r.triggerRe?r.triggerRe.exec(t)[0]:"",r.replaceAfter=r.endTriggerRe?r.endTriggerRe.exec(i)[0]:"",r}},this.snippetMap={},this.snippetNameMap={},this.register=function(e,n){var r=this.snippetMap,o=this.snippetNameMap,s=this;function a(e){return e&&!/^\^?\(.*\)\$?$|^\\b$/.test(e)&&(e="(?:"+e+")"),e||""}function l(e,t,i){return e=a(e),t=a(t),i?(e=t+e)&&"$"!=e[e.length-1]&&(e+="$"):(e+=t)&&"^"!=e[0]&&(e="^"+e),new RegExp(e)}function t(e){e.scope||(e.scope=n||"_"),n=e.scope,r[n]||(r[n]=[],o[n]={});var t,i=o[n];e.name&&((t=i[e.name])&&s.unregister(t),i[e.name]=e),r[n].push(e),e.tabTrigger&&!e.trigger&&(!e.guard&&/^\w/.test(e.tabTrigger)&&(e.guard="\\b"),e.trigger=c.escapeRegExp(e.tabTrigger)),(e.trigger||e.guard||e.endTrigger||e.endGuard)&&(e.startRe=l(e.trigger,e.guard,!0),e.triggerRe=new RegExp(e.trigger),e.endRe=l(e.endTrigger,e.endGuard,!0),e.endTriggerRe=new RegExp(e.endTrigger))}(e=e||[])&&e.content?t(e):Array.isArray(e)&&e.forEach(t),this._signal("registerSnippets",{scope:n})},this.unregister=function(e,i){var n=this.snippetMap,r=this.snippetNameMap;function t(e){var t=r[e.scope||i];t&&t[e.name]&&(delete t[e.name],0<=(e=(t=n[e.scope||i])&&t.indexOf(e))&&t.splice(e,1))}e.content?t(e):Array.isArray(e)&&e.forEach(t)},this.parseSnippetFile=function(e){e=e.replace(/\r/g,"");for(var t,i,n,r,o=[],s={},a=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;t=a.exec(e);){if(t[1])try{s=JSON.parse(t[1]),o.push(s)}catch(e){}t[4]?(s.content=t[4].replace(/^\t/gm,""),o.push(s),s={}):(i=t[2],n=t[3],"regex"==i?(r=/\/((?:[^\/\\]|\\.)*)|$/g,s.guard=r.exec(n)[1],s.trigger=r.exec(n)[1],s.endTrigger=r.exec(n)[1],s.endGuard=r.exec(n)[1]):"snippet"==i?(s.tabTrigger=n.match(/^\S*/)[0],s.name||(s.name=n)):s[i]=n)}return o},this.getSnippetByName=function(t,e){var i,n=this.snippetNameMap;return this.getActiveScopes(e).some(function(e){e=n[e];return e&&(i=e[t]),!!i},this),i}}).call(f.prototype);var y=function(e){if(e.tabstopManager)return e.tabstopManager;(e.tabstopManager=this).$onChange=this.onChange.bind(this),this.$onChangeSelection=c.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(e)};(function(){this.attach=function(e){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=e,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(e){for(var t="r"==e.action[0],i=this.selectedTabstop&&this.selectedTabstop.parents||{},n=(this.tabstops||[]).slice(),r=0;r<n.length;r++){var o=n[r],s=o==this.selectedTabstop||i[o.index];if(o.rangeList.$bias=s?0:1,"remove"==e.action&&o!==this.selectedTabstop)for(var a=o.parents&&o.parents[this.selectedTabstop.index],s=(s=o.rangeList.pointIndex(e.start,a))<0?-s-1:s+1,a=(a=o.rangeList.pointIndex(e.end,a))<0?-a-1:a-1,l=o.rangeList.ranges.slice(s,a),c=0;c<l.length;c++)this.removeRange(l[c]);o.rangeList.$onChange(e)}var h=this.editor.session;this.$inChange||!t||1!=h.getLength()||h.getValue()||this.detach()},this.updateLinkedFields=function(){var e=this.selectedTabstop;if(e&&e.hasLinkedRanges&&e.firstNonLinked){this.$inChange=!0;for(var t=this.editor.session,i=t.getTextRange(e.firstNonLinked),n=0;n<e.length;n++){var r,o=e[n];o.linked&&(r=o.original,r=s.snippetManager.tmStrFormat(i,r,this.editor),t.replace(o,r))}this.$inChange=!1}},this.onAfterExec=function(e){e.command&&!e.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(this.editor){for(var e=this.editor.selection.lead,t=this.editor.selection.anchor,i=this.editor.selection.isEmpty(),n=0;n<this.ranges.length;n++)if(!this.ranges[n].linked){var r=this.ranges[n].contains(e.row,e.column),o=i||this.ranges[n].contains(t.row,t.column);if(r&&o)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(e){var t=this.tabstops.length,e=this.index+(e||1);(e=Math.min(Math.max(e,1),t))==t&&(e=0),this.selectTabstop(e),0===e&&this.detach()},this.selectTabstop=function(e){this.$openTabstops=null;var t=this.tabstops[this.index];if(t&&this.addTabstopMarkers(t),this.index=e,(t=this.tabstops[this.index])&&t.length){e=(this.selectedTabstop=t).firstNonLinked||t;if(this.editor.inVirtualSelectionMode)this.editor.selection.setRange(e);else{var i=this.editor.multiSelect;i.toSingleRange(e.clone());for(var n=0;n<t.length;n++)t.hasLinkedRanges&&t[n].linked||i.addRange(t[n].clone(),!0);i.ranges[0]&&i.addRange(i.ranges[0].clone())}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},this.addTabstops=function(e,s,t){var a=this.useLink||!this.editor.getOption("enableMultiselect");this.$openTabstops||(this.$openTabstops=[]),e[0]||(t=h.fromPoints(t,t),g(t.start,s),g(t.end,s),e[0]=[t],e[0].index=0);var l=[this.index+1,0],c=this.ranges;e.forEach(function(e,t){var i=this.$openTabstops[t]||e;e.rangeList=new u;for(var n=e.rangeList.$bias=0;n<e.length;n++){var r=e[n],o=h.fromPoints(r.start,r.end||r.start);p(o.start,s),p(o.end,s),o.original=r,o.tabstop=i,c.push(o),e.rangeList.ranges.push(o),i!=e?i.unshift(o):i[n]=o,r.fmtString||i.firstNonLinked&&a?(o.linked=!0,i.hasLinkedRanges=!0):i.firstNonLinked||(i.firstNonLinked=o)}i.firstNonLinked||(i.hasLinkedRanges=!1),i===e&&(l.push(i),this.$openTabstops[t]=i),this.addTabstopMarkers(i)},this),2<l.length&&(this.tabstops.length&&l.push(l.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,l))},this.addTabstopMarkers=function(e){var t=this.editor.session;e.forEach(function(e){e.markerId||(e.markerId=t.addMarker(e,"ace_snippet-marker","text"))})},this.removeTabstopMarkers=function(e){var t=this.editor.session;e.forEach(function(e){t.removeMarker(e.markerId),e.markerId=null})},this.removeRange=function(e){var t=e.tabstop.indexOf(e);-1!=t&&e.tabstop.splice(t,1),-1!=(t=this.ranges.indexOf(e))&&this.ranges.splice(t,1),-1!=(t=e.tabstop.rangeList.ranges.indexOf(e))&&e.tabstop.splice(t,1),this.editor.session.removeMarker(e.markerId),e.tabstop.length||(-1!=(t=this.tabstops.indexOf(e.tabstop))&&this.tabstops.splice(t,1),this.tabstops.length||this.detach())},this.keyboardHandler=new r,this.keyboardHandler.bindKeys({Tab:function(e){s.snippetManager&&s.snippetManager.expandWithTab(e)||e.tabstopManager.tabNext(1)},"Shift-Tab":function(e){e.tabstopManager.tabNext(-1)},Esc:function(e){e.tabstopManager.detach()},Return:function(e){return!1}})}).call(y.prototype);var p=function(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row},g=function(e,t){e.row==t.row&&(e.column-=t.column),e.row-=t.row};e("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}"),s.snippetManager=new f;e=e("./editor").Editor;(function(){this.insertSnippet=function(e,t){return s.snippetManager.insertSnippet(this,e,t)},this.expandSnippet=function(e){return s.snippetManager.expandWithTab(this,e)}}).call(e.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],function(e,t,i){"use strict";function o(e){return(e=new n(e)).$maxLines=4,(e=new r(e)).setHighlightActiveLine(!1),e.setShowPrintMargin(!1),e.renderer.setShowGutter(!1),e.renderer.setHighlightGutterLine(!1),e.$mouseHandler.$focusTimeout=0,e.$highlightTagPending=!0,e}var n=e("../virtual_renderer").VirtualRenderer,r=e("../editor").Editor,s=e("../range").Range,a=e("../lib/event"),l=e("../lib/lang"),h=e("../lib/dom");h.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #3a674e;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);    position: absolute;    z-index: 2;}.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid rgba(109, 150, 13, 0.8);    background: rgba(58, 103, 78, 0.62);}.ace_completion-meta {    opacity: 0.5;    margin: 0.9em;}.ace_completion-message {    color: blue;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #2d69c7;}.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #93ca12;}.ace_editor.ace_autocomplete {    width: 300px;    z-index: 200000;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;    background: #fefefe;    color: #111;}.ace_dark.ace_editor.ace_autocomplete {    border: 1px #484747 solid;    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);    line-height: 1.4;    background: #25282c;    color: #c1c1c1;}","autocompletion.css"),t.AcePopup=function(e){var t=h.createElement("div"),d=new o(t);e&&e.appendChild(t),t.style.display="none",d.renderer.content.style.cursor="default",d.renderer.setStyle("ace_autocomplete"),d.setOption("displayIndentGuides",!1),d.setOption("dragDelay",150);var c,e=function(){};d.focus=e,d.$isFocused=!0,d.renderer.$cursorLayer.restartTimer=e,d.renderer.$cursorLayer.element.style.opacity=0,d.renderer.$maxLines=8,d.renderer.$keepTextAreaAtCursor=!1,d.setHighlightActiveLine(!1),d.session.highlight(""),d.session.$searchHighlight.clazz="ace_highlight-marker",d.on("mousedown",function(e){var t=e.getDocumentPosition();d.selection.moveToPosition(t),n.start.row=n.end.row=t.row,e.stop()});var i=new s(-1,0,-1,1/0),n=new s(-1,0,-1,1/0);n.id=d.session.addMarker(n,"ace_active-line","fullLine"),d.setSelectOnHover=function(e){e?i.id&&(d.session.removeMarker(i.id),i.id=null):i.id=d.session.addMarker(i,"ace_line-hover","fullLine")},d.setSelectOnHover(!1),d.on("mousemove",function(e){var t;c?c.x==e.x&&c.y==e.y||((c=e).scrollTop=d.renderer.scrollTop,t=c.getDocumentPosition().row,i.start.row!=t&&(i.id||d.setRow(t),r(t))):c=e}),d.renderer.on("beforeRender",function(){var e;c&&-1!=i.start.row&&(c.$pos=null,e=c.getDocumentPosition().row,i.id||d.setRow(e),r(e,!0))}),d.renderer.on("afterRender",function(){var e=d.getRow(),t=d.renderer.$textLayer,e=t.element.childNodes[e-t.config.firstRow];e!==t.selectedNode&&t.selectedNode&&h.removeCssClass(t.selectedNode,"ace_selected"),(t.selectedNode=e)&&h.addCssClass(e,"ace_selected")});var t=function(){r(-1)},r=function(e,t){e!==i.start.row&&(i.start.row=i.end.row=e,t||d.session._emit("changeBackMarker"),d._emit("changeHoverMarker"))};d.getHoveredRow=function(){return i.start.row},a.addListener(d.container,"mouseout",t),d.on("hide",t),d.on("changeSelection",t),d.session.doc.getLength=function(){return d.data.length},d.session.doc.getLine=function(e){e=d.data[e];return"string"==typeof e?e:e&&e.value||""};t=d.session.bgTokenizer;return t.$tokenizeRow=function(e){var i=d.data[e],n=[];if(!i)return n;"string"==typeof i&&(i={value:i});var t=i.caption||i.value||i.name;function r(e,t){e&&n.push({type:(i.className||"")+(t||""),value:e})}for(var o,s,a=t.toLowerCase(),l=(d.filterText||"").toLowerCase(),c=0,h=0,u=0;u<=l.length;u++){u!=h&&(i.matchMask&1<<u||u==l.length)&&(o=l.slice(h,u),h=u,-1!=(s=a.indexOf(o,c))&&(r(t.slice(c,s),""),c=s+o.length,r(t.slice(s,c),"completion-highlight")))}return r(t.slice(c,t.length),""),i.meta&&n.push({type:"completion-meta",value:i.meta}),i.message&&n.push({type:"completion-message",value:i.message}),n},t.$updateOnChange=e,t.start=e,d.session.$computeWidth=function(){return this.screenWidth=0},d.isOpen=!1,d.isTopdown=!1,d.autoSelect=!0,d.filterText="",d.data=[],d.setData=function(e,t){d.filterText=t||"",d.setValue(l.stringRepeat("\n",e.length),-1),d.data=e||[],d.setRow(0)},d.getData=function(e){return d.data[e]},d.getRow=function(){return n.start.row},d.setRow=function(e){e=Math.max(this.autoSelect?0:-1,Math.min(this.data.length,e)),n.start.row!=e&&(d.selection.clearSelection(),n.start.row=n.end.row=e||0,d.session._emit("changeBackMarker"),d.moveCursorTo(e||0,0),d.isOpen&&d._signal("select"))},d.on("changeSelection",function(){d.isOpen&&d.setRow(d.selection.lead.row),d.renderer.scrollCursorIntoView()}),d.hide=function(){this.container.style.display="none",this._signal("hide"),d.isOpen=!1},d.show=function(e,t,i){var n=this.container,r=window.innerHeight,o=window.innerWidth,s=this.renderer,a=s.$maxLines*t*1.4,l=e.top+this.$borderSize;r/2<l&&!i&&r<l+t+a?(s.$maxPixelHeight=l-2*this.$borderSize,n.style.top="",n.style.bottom=r-l+"px",d.isTopdown=!1):(l+=t,s.$maxPixelHeight=r-l-.2*t,n.style.top=l+"px",n.style.bottom="",d.isTopdown=!0),n.style.display="";e=e.left;e+n.offsetWidth>o&&(e=o-n.offsetWidth),n.style.left=e+"px",this._signal("show"),c=null,d.isOpen=!0},d.goTo=function(e){var t=this.getRow(),i=this.session.getLength()-1;switch(e){case"up":t=t<=0?i:t-1;break;case"down":t=i<=t?-1:t+1;break;case"start":t=0;break;case"end":t=i}this.setRow(t)},d.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},d.$imageSize=0,d.$borderSize=1,d},t.$singleLineEditor=o}),ace.define("ace/autocomplete/util",["require","exports","module"],function(e,t,i){"use strict";t.parForEach=function(e,t,i){var n=0,r=e.length;0===r&&i();for(var o=0;o<r;o++)t(e[o],function(e,t){++n===r&&i(e,t)})};var o=/[a-zA-Z_0-9\$\-\u00A2-\uFFFF]/;t.retrievePrecedingIdentifier=function(e,t,i){i=i||o;for(var n=[],r=t-1;0<=r&&i.test(e[r]);r--)n.push(e[r]);return n.reverse().join("")},t.retrieveFollowingIdentifier=function(e,t,i){i=i||o;for(var n=[],r=t;r<e.length&&i.test(e[r]);r++)n.push(e[r]);return n},t.getCompletionPrefix=function(e){var t,i=e.getCursorPosition(),n=e.session.getLine(i.row);return e.completers.forEach(function(e){e.identifierRegexps&&e.identifierRegexps.forEach(function(e){!t&&e&&(t=this.retrievePrecedingIdentifier(n,i.column,e))}.bind(this))}.bind(this)),t||this.retrievePrecedingIdentifier(n,i.column)}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config"],function(e,t,i){"use strict";function n(){this.autoInsert=!1,this.autoSelect=!0,this.exactMatch=!1,this.gatherCompletionsId=0,this.keyboardHandler=new r,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=s.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=s.delayedCall(this.updateDocTooltip.bind(this),50)}var r=e("./keyboard/hash_handler").HashHandler,o=e("./autocomplete/popup").AcePopup,c=e("./autocomplete/util"),s=e("./lib/lang"),a=e("./lib/dom"),l=e("./snippets").snippetManager,h=e("./config");(function(){this.$init=function(){return this.popup=new o(document.body||document.documentElement),this.popup.on("click",function(e){this.insertMatch(),e.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.tooltipTimer.bind(null,null)),this.popup.on("select",this.tooltipTimer.bind(null,null)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},this.getPopup=function(){return this.popup||this.$init()},this.openPopup=function(e,t,i){this.popup||this.$init(),this.popup.autoSelect=this.autoSelect,this.popup.setData(this.completions.filtered,this.completions.filterText),e.keyBinding.addKeyboardHandler(this.keyboardHandler);var n,r=e.renderer;this.popup.setRow(this.autoSelect?0:-1),i?i&&!t&&this.detach():(this.popup.setTheme(e.getTheme()),this.popup.setFontSize(e.getFontSize()),n=r.layerConfig.lineHeight,(i=r.$cursorLayer.getPixelPosition(this.base,!0)).left-=this.popup.getTextLeftOffset(),t=e.container.getBoundingClientRect(),i.top+=t.top-r.layerConfig.offset,i.left+=t.left-e.renderer.scrollLeft,i.left+=r.gutterWidth,this.popup.show(i,n))},this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener),this.changeTimer.cancel(),this.hideDocTooltip(),this.gatherCompletionsId+=1,this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completions=this.base=null},this.changeListener=function(e){var t=this.editor.selection.lead;(t.row!=this.base.row||t.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},this.blurListener=function(e){var t=document.activeElement,i=this.editor.textInput.getElement(),n=e.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(e.relatedTarget),r=this.popup&&this.popup.container;t==i||t.parentNode==r||n||t==this.tooltipNode||e.relatedTarget==i||this.detach()},this.mousedownListener=function(e){this.detach()},this.mousewheelListener=function(e){this.detach()},this.goTo=function(e){this.popup.goTo(e)},this.insertMatch=function(e,t){if(!(e=e||this.popup.getData(this.popup.getRow())))return!1;if(e.completer&&e.completer.insertMatch)e.completer.insertMatch(this.editor,e);else{if(this.completions.filterText)for(var i,n=this.editor.selection.getAllRanges(),r=0;i=n[r];r++)i.start.column-=this.completions.filterText.length,this.editor.session.remove(i);e.snippet?l.insertSnippet(this.editor,e.snippet):this.editor.execCommand("insertstring",e.value||e)}this.detach()},this.commands={Up:function(e){e.completer.goTo("up")},Down:function(e){e.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(e){e.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(e){e.completer.goTo("end")},Esc:function(e){e.completer.detach()},Return:function(e){return e.completer.insertMatch()},"Shift-Return":function(e){e.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(e){var t=e.completer.insertMatch();if(t||e.tabstopManager)return t;e.completer.goTo("down")},PageUp:function(e){e.completer.popup.gotoPageUp()},PageDown:function(e){e.completer.popup.gotoPageDown()}},this.gatherCompletions=function(i,n){var r=i.getSession(),o=i.getCursorPosition(),s=c.getCompletionPrefix(i);this.base=r.doc.createAnchor(o.row,o.column-s.length),this.base.$insertRight=!0;var a=[],l=i.completers.length;return i.completers.forEach(function(e,t){e.getCompletions(i,r,o,s,function(e,t){!e&&t&&(a=a.concat(t)),n(null,{prefix:c.getCompletionPrefix(i),matches:a,finished:0==--l})})}),!0},this.showPopup=function(e,t){this.editor&&this.detach(),this.activated=!0,(this.editor=e).completer!=this&&(e.completer&&e.completer.detach(),e.completer=this),e.on("changeSelection",this.changeListener),e.on("blur",this.blurListener),e.on("mousedown",this.mousedownListener),e.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,t)},this.updateCompletions=function(o,e){if(o&&this.base&&this.completions){var t=this.editor.getCursorPosition(),i=this.editor.session.getTextRange({start:this.base,end:t});return i==this.completions.filterText?void 0:(this.completions.setFilter(i),this.completions.filtered.length&&(1!=this.completions.filtered.length||this.completions.filtered[0].value!=i||this.completions.filtered[0].snippet)?void this.openPopup(this.editor,i,o):this.detach())}if(e&&e.matches){t=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(t.row,t.column),this.base.$insertRight=!0,this.completions=new u(e.matches),this.openPopup(this.editor,"",o)}var s=this.gatherCompletionsId;this.gatherCompletions(this.editor,function(e,t){var i=function(){if(t.finished)return this.detach()}.bind(this),n=t.prefix,r=t&&t.matches;if(!r||!r.length)return i();if(0===n.indexOf(t.prefix)&&s==this.gatherCompletionsId){this.completions=new u(r),this.exactMatch&&(this.completions.exactMatch=!0),this.completions.setFilter(n);r=this.completions.filtered;return r.length&&(1!=r.length||r[0].value!=n||r[0].snippet)?this.autoInsert&&1==r.length&&t.finished?this.insertMatch(r[0]):void this.openPopup(this.editor,n,o):i()}}.bind(this))},this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},this.updateDocTooltip=function(){var e=this.popup,t=e.data,i=t&&(t[e.getHoveredRow()]||t[e.getRow()]),n=null;return i&&this.editor&&this.popup.isOpen?(this.editor.completers.some(function(e){return e.getDocTooltip&&(n=e.getDocTooltip(i)),n}),n||"string"==typeof i||(n=i),"string"==typeof n&&(n={docText:n}),n&&(n.docHTML||n.docText)?void this.showDocTooltip(n):this.hideDocTooltip()):this.hideDocTooltip()},this.showDocTooltip=function(e){this.tooltipNode||(this.tooltipNode=a.createElement("div"),this.tooltipNode.className="ace_tooltip ace_doc-tooltip",this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this));var t=this.tooltipNode;e.docHTML?t.innerHTML=e.docHTML:e.docText&&(t.textContent=e.docText),t.parentNode||document.body.appendChild(t);var i=this.popup,e=i.container.getBoundingClientRect();t.style.top=i.container.style.top,t.style.bottom=i.container.style.bottom,t.style.display="block",window.innerWidth-e.right<320?e.left<320?(i.isTopdown?t.style.top=e.bottom+"px":t.style.top=i.container.offsetTop-t.offsetHeight+"px",t.style.left=e.left+"px",t.style.right="",t.style.bottom=""):(t.style.right=window.innerWidth-e.left+"px",t.style.left=""):(t.style.left=e.right+1+"px",t.style.right="")},this.hideDocTooltip=function(){var e;this.tooltipTimer.cancel(),this.tooltipNode&&(e=this.tooltipNode,this.editor.isFocused()||document.activeElement!=e||this.editor.focus(),this.tooltipNode=null,e.parentNode&&e.parentNode.removeChild(e))},this.onTooltipClick=function(e){for(var t=e.target;t&&t!=this.tooltipNode;){if("A"==t.nodeName&&t.href){t.rel="noreferrer",t.target="_blank";break}t=t.parentNode}},this.destroy=function(){var e;this.detach(),this.popup&&(this.popup.destroy(),(e=this.popup.container)&&e.parentNode&&e.parentNode.removeChild(e)),this.editor&&this.editor.completer==this&&this.editor.completer,this.popup=null}}).call(n.prototype),n.for=function(e){return e.completer||(h.get("sharedPopups")?(n.$shared||(n.$sharedInstance=new n),e.completer=n.$sharedInstance):(e.completer=new n,e.once("destroy",function(e,t){t.completer.destroy()}))),e.completer},n.startCommand={name:"startAutocomplete",exec:function(e,t){var i=n.for(e);i.autoInsert=!1,i.autoSelect=!0,i.showPopup(e,t),i.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var u=function(e,t){this.all=e,this.filtered=e,this.filterText=t||"",this.exactMatch=!1};(function(){this.setFilter=function(e){var t;t=e.length>this.filterText&&0===e.lastIndexOf(this.filterText,0)?this.filtered:this.all,this.filterText=e,t=(t=this.filterCompletions(t,this.filterText)).sort(function(e,t){return t.exactMatch-e.exactMatch||t.$score-e.$score||(e.caption||e.value).localeCompare(t.caption||t.value)});var i=null;t=t.filter(function(e){e=e.snippet||e.caption||e.value;return e!==i&&(i=e,!0)}),this.filtered=t},this.filterCompletions=function(e,t){var i=[],n=t.toUpperCase(),r=t.toLowerCase();e:for(var o,s=0;o=e[s];s++){var a=o.caption||o.value||o.snippet;if(a){var l=-1,c=0,h=0;if(this.exactMatch){if(t!==a.substr(0,t.length))continue e}else{var u=a.toLowerCase().indexOf(r);if(-1<u)h=u;else for(var d=0;d<t.length;d++){var f=a.indexOf(r[d],l+1),p=a.indexOf(n[d],l+1);if((f=0<=f&&(p<0||f<p)?f:p)<0)continue e;0<(p=f-l-1)&&(-1===l&&(h+=10),h+=p,c|=1<<d),l=f}}o.matchMask=c,o.exactMatch=h?0:1,o.$score=(o.score||0)-h,i.push(o)}}return i}}).call(u.prototype),t.Autocomplete=n,t.FilteredList=u}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(e,t,i){var s=e("../range").Range,a=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function l(e,t){var i=(t=t,e.getTextRange(s.fromPoints({row:0,column:0},t)).split(a).length-1),n=e.getValue().split(a),r=Object.create(null),o=n[i];return n.forEach(function(e,t){e&&e!==o&&(t=Math.abs(i-t),t=n.length-t,r[e]?r[e]=Math.max(t,r[e]):r[e]=t)}),r}t.getCompletions=function(e,t,i,n,r){var o=l(t,i);r(null,Object.keys(o).map(function(e){return{caption:e,value:e,score:o[e],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(e,t,i){"use strict";var l=e("../snippets").snippetManager,r=e("../autocomplete").Autocomplete,n=e("../config"),o=e("../lib/lang"),s=e("../autocomplete/util"),a=e("../autocomplete/text_completer"),c={getCompletions:function(e,t,i,n,r){if(t.$mode.completer)return t.$mode.completer.getCompletions(e,t,i,n,r);e=e.session.getState(i.row);r(null,t.$mode.getCompletions(e,t,i,n))}},h={getCompletions:function(e,t,i,n,r){var o=[],i=t.getTokenAt(i.row,i.column);i&&i.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?o.push("html-tag"):o=l.getActiveScopes(e);var s=l.snippetMap,a=[];o.forEach(function(e){for(var t=s[e]||[],i=t.length;i--;){var n=t[i],r=n.name||n.tabTrigger;r&&a.push({caption:r,snippet:n.content,meta:n.tabTrigger&&!n.name?n.tabTrigger+"⇥ ":"snippet",type:"snippet"})}},this),r(null,a)},getDocTooltip:function(e){"snippet"!=e.type||e.docHTML||(e.docHTML=["<b>",o.escapeHTML(e.caption),"</b>","<hr></hr>",o.escapeHTML(e.snippet)].join(""))}},u=[h,a,c];t.setCompleters=function(e){u.length=0,e&&u.push.apply(u,e)},t.addCompleter=function(e){u.push(e)},t.textCompleter=a,t.keyWordCompleter=c,t.snippetCompleter=h;function d(e,t){g(t.session.$mode)}function f(e){var t,i=e.editor,n=i.completer&&i.completer.activated;"backspace"===e.command.name?n&&!s.getCompletionPrefix(i)&&i.completer.detach():"insertstring"===e.command.name&&(t=e.args)&&t.match(/^[0-9a-zA-Z(\.]+$/)&&((t=r.for(i)).autoInsert=!1,t.showPopup(i))}var p={name:"expandSnippet",exec:function(e){return l.expandWithTab(e)},bindKey:"Tab"},g=function(e){var t=e.$id;l.files||(l.files={}),m(t),e.modes&&e.modes.forEach(g)},m=function(t){var e;t&&!l.files[t]&&(e=t.replace("mode","snippets"),l.files[t]={},n.loadModule(e,function(e){e&&(!(l.files[t]=e).snippets&&e.snippetText&&(e.snippets=l.parseSnippetFile(e.snippetText)),l.register(e.snippets||[],e.scope),e.includeScopes&&(l.snippetMap[e.scope].includeScopes=e.includeScopes,e.includeScopes.forEach(function(e){m("ace/mode/"+e)})))}))},h=e("../editor").Editor;e("../config").defineOptions(h.prototype,"editor",{enableBasicAutocompletion:{set:function(e){e?(this.completers||(this.completers=Array.isArray(e)?e:u),this.commands.addCommand(r.startCommand)):this.commands.removeCommand(r.startCommand)},value:!1},enableLiveAutocompletion:{set:function(e){e?(this.completers||(this.completers=Array.isArray(e)?e:u),this.commands.on("afterExec",f)):this.commands.removeListener("afterExec",f)},value:!1},enableSnippets:{set:function(e){e?(this.commands.addCommand(p),this.on("changeMode",d),d(0,this)):(this.commands.removeCommand(p),this.off("changeMode",d))},value:!1}})}),ace.require(["ace/ext/language_tools"],function(e){"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=e)});var WorkflowDesignerWindows=WorkflowDesignerWindows||{};WorkflowDesignerWindows.getVariablesList=function(e,t){var i=[{name:"processInstance",shortType:"ProcessInstance",type:"OptimaJet.Workflow.Core.Model.ProcessInstance"},{name:"runtime",shortType:"WorkflowRuntime",type:"OptimaJet.Workflow.Core.Runtime.WorkflowRuntime"},{name:"parameter",shortType:"string",type:"System.String"}],n=[];switch(e=(e=e||"").toLowerCase()){case"action":case"condition":case"ruleget":n=i;break;case"rulecheck":n=i.concat({name:"identityId",shortType:"string",type:"System.String"})}return t?n.concat({name:"token",shortType:"CancellationToken",type:"System.Threading.CancellationToken"}):n},WorkflowDesignerWindows.getVariablesDefinitionStr=function(e,t){t=WorkflowDesignerWindows.getVariablesList(e,t);return t&&0!==t.length?"("+t.map(function(e){return e.shortType+" "+e.name}).reduce(function(e,t){return e+", "+t})+")":"()"},WorkflowDesignerWindows.Autocompleter={apiurl:null,cacheTimeout:3e5,callbackRequestServer:null,autocompleteId:0,lastCallback:null,lastPatternHash:null,serverInited:!1,initByCallback:function(r){var o=WorkflowDesignerWindows.Autocompleter;o.callbackRequestServer=function(e,t,i,n){try{r({request:{pattern:e,usings:t,variables:i,id:n},onSuccess:function(e){o.serverAnsweredCallback(e)}})}catch(e){console.log("autocomplete error",e)}},o.serverInited=!0},initSignalRCore:function(i){var t=WorkflowDesignerWindows.Autocompleter;function e(e,t){return i[e]?i[e]:t}try{var n=i.connectionBuilder,r=i.url,o=e("serverResponseMethodName","LoadData"),s=e("serverRequestMethodName","Get"),a=n.withUrl(r).build();a.on(o,function(e){t.serverAnsweredCallback(e)}),a.start().then(function(){t.callbackRequestServer=function(e,t,i,n){a.invoke(s,e,t,i,n).catch(function(e){console.error(e.toString())})}}),t.serverInited=!0}catch(e){console.log("autocomplete error",e)}},enableAceEditor:function(e){var t=WorkflowDesignerWindows.Autocompleter;try{t.serverInited||this.initAjax(t.apiurl);var i=e.editor,n=e.getUsingsCallback,r=e.getVariablesCallback;i.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0}),i.completers=[t.makeReflectionCompleter(n,r),t.keywordsCompleter],i.getSession().setMode("ace/mode/csharp")}catch(e){console.log("autocomplete error",e)}},makeReflectionCompleter:function(s,a){return{getCompletions:function(e,t,i,n,r){try{var o=t.getLine(i.row);WorkflowDesignerWindows.Autocompleter.subscribe(o,i.column,r,s,a)}catch(e){console.log(e)}},getDocTooltip:function(e){e.docHTML||(e.docHTML=WorkflowDesignerWindows.Autocompleter.getTooltip(e.reflection))}}},getTooltip:function(e){if(e&&e.kind){var t=e.fullName;Array.isArray(e.typeParameters)&&0<e.typeParameters.length&&(t=t+"&lt;"+e.typeParameters.join(",")+"&gt;");var i="<strong>"+WorkflowDesignerWindows.Autocompleter.getKind(e.kind).name+"</strong> "+t;return e.type&&(t=e.type,Array.isArray(e.typeArguments)&&0<e.typeArguments.length&&(t=t+"&lt;"+e.typeArguments.join(",")+"&gt;"),i+=": <i> "+t+"</i>"),Array.isArray(e.parameters)&&0<e.parameters.length&&(i+="<br /><br /><u>overrides:</u><ul>",i+=e.parameters.map(function(e){return e&&0!==e.length?"<li>("+e.map(function(e){return e.name+": <i>"+e.type+"</i>"}).reduce(function(e,t){return e+", "+t})+")</li>":"<li>(no parameters)</li>"}).reduce(function(e,t){return e+t})),i}},kinds:[{name:"Namespace",value:10},{name:"Class",value:20},{name:"Struct",value:30},{name:"Method",value:40},{name:"Parameter",value:50},{name:"Variable",value:60},{name:"Property",value:70},{name:"Field",value:80},{name:"Const",value:90},{name:"Event",value:100}],getKind:function(t){return WorkflowDesignerWindows.Autocompleter.kinds.filter(function(e){return e.value===t})[0]},keywordsCompleter:{getCompletions:function(e,t,i,n,r){var o=WorkflowDesignerWindows.Autocompleter,t=t.getLine(i.row),i=o.getSearchPatterns(t,i.column);!i||1<i.length||r(null,o.CSharp.ace_suggestions())}},initAjax:function(o){var s=WorkflowDesignerWindows.Autocompleter;s.callbackRequestServer=function(e,t,i,n){var r=new Array,n={pattern:e,usings:t,variables:i,id:n},n=JSON.stringify(n);r.push({name:"data",value:n}),r.push({name:"operation",value:"getcodeautocomplete"}),$.ajax({url:o,data:r,type:"post",async:!0,success:function(t){var e;try{e=JSON.parse(t),s.serverAnsweredCallback(e)}catch(e){return void console.log("autocomplete error",e,t)}},error:function(e,t,i){console.log("autocomplete error",t,i)}})},s.serverInited=!0},serverAnsweredCallback:function(e){var t=WorkflowDesignerWindows.Autocompleter;e.id===t.autocompleteId&&(e=t.processResponse(e.data),t.lastCallback(null,e),t.callbackRequestAddCache(t.lastPatternHash,e))},getMeta:function(t){return WorkflowDesignerWindows.Autocompleter.kinds.filter(function(e){return e.value==t.kind})[0].name.toLowerCase()},processResponse:function(e){return e.map(function(e){var t=e.name;return Array.isArray(e.typeParameters)&&0<e.typeParameters.length&&(t=t+"<"+e.typeParameters.join(",")+">"),{caption:t,value:t,meta:WorkflowDesignerWindows.Autocompleter.getMeta(e),reflection:e}})},patternToServerRequest:function(e){return e.filter(function(e){return"."!=e}).reverse().map(function(e){return e.toString()}).join(".")},subscribe:function(e,t,i,n,r){var o=WorkflowDesignerWindows.Autocompleter,e=o.getSearchPatterns(e,t);e&&(t=o.patternToServerRequest(e),e=o.prepareUsings(n),n=o.prepareVariables(r),r=WorkflowDesignerCommon.getHash([t,e,n]),o.callbackRequestCheckCache(r)?o.callbackRequestCache(r,i):(o.autocompleteId+=1,o.lastCallback=i,o.lastPatternHash=r,o.callbackRequestServer&&o.callbackRequestServer(t,e,n,o.autocompleteId)))},internalCache:{},callbackRequestCheckCache:function(e){return!!WorkflowDesignerWindows.Autocompleter.internalCache[e]},callbackRequestCache:function(e,t){t(null,WorkflowDesignerWindows.Autocompleter.internalCache[e])},callbackRequestAddCache:function(e,t){var i;Array.isArray(t)&&0<t.length&&((i=WorkflowDesignerWindows.Autocompleter).internalCache[e]=t,i.cacheTimeout&&setTimeout(function(){delete i.internalCache[e]},i.cacheTimeout))},getSearchPatterns:function(e,t){for(var i=WorkflowDesignerWindows.Autocompleter,n=[],r="",o=!1,s=t-1;0<=s;s--){var a=e.charAt(s);if(!i.alphaNumberDot(a))break;if("."===a){if(0<s){var l=e.charAt(s-1);if(!i.alphaNumber(l)){o=!0;break}}n.push(r),r=""}else r=a+r}return o&&0===n.length?null:(r&&(0<n.length||r.trim()!=r)&&n.push(r),n)},alphaNumberDot:function(e){return"."===e||WorkflowDesignerWindows.Autocompleter.alphaNumber(e)},alphaNumber:function(e){return e&&e.match(/^[0-9a-zA-Z]+$/)},prepareUsings:function(e){if(!e)return[];e=e();return e?e.split(";").filter(function(e){return e&&e.trim()}).map(function(e){return e.trim()}).filter(function(e,t,i){return i.indexOf(e)==t}):[]},prepareVariables:function(e){if(!e)return[];e=e();return e||[]},CSharp:{cycles:["for","do","foreach","while","continue","break"],flow:["case","switch","if","else","else if","return"],try:["try","catch","finally","throw"],declare:["new","var","const"],types:["int","short","long","byte","string","bool","object","decimal","float","double","dynamic"],values:["true","false","null","default"],oop:["this","typeof"],macro:["nameof"],thread:["lock"],suggestions:function(){var e=WorkflowDesignerWindows.Autocompleter.CSharp;return[].concat(e.cycles,e.flow,e.try,e.declare,e.types,e.values,e.oop,e.macro,e.threadhread)},ace_suggestions:function(){return WorkflowDesignerWindows.Autocompleter.CSharp.suggestions().map(function(e){return{caption:e,value:e,meta:"keyword"}})}}};var WorkflowDesignerConstants={ActivityColor:"#ECF0F1",ActivityTextColor:"#2D3436",ActivityInitialColor:"#27AE60",ActivityInitialTextColor:"#FFFFFF",ActivityFinalColor:"#2980B9",ActivityFinalTextColor:"#FFFFFF",ActivityShape:"#CECECE",SelectColor:"#F39C12",SelectTextColor:"#FFFFFF",SelectSubProcessColor:"#e3b015",SelectSubProcessTextColor:"#FFFFFF",ButtonActive:"#D4D8D9",BarColor:"white",BarSeparatorColor:"#D9DEE0",DeleteConfirm:"Are you sure you want to delete selected item(s)?",DeleteConfirmCurrent:"Are you sure you want to delete this item?",FieldIsRequired:"Field is required!",FieldMustBeUnique:"Field must be unique!",ButtonTextDelete:"Delete",ButtonTextCreate:"Create",ButtonTextSave:"Save",ButtonTextYes:"Yes",ButtonTextNo:"No",ButtonTextOk:"Ok",ButtonTextCancel:"Cancel",ButtonTextClose:"Close",ButtonTextUndo:"Undo",ButtonTextRedo:"Redo",SaveConfirm:"Save changes?",CloseWithoutSaving:"Close without saving?",TransitionAuto:"Auto",DialogConfirmText:"Question",AlertTitle:"Warning",None:"None",Warning:"Warning",SwitchToExpertMode:"Switch To Expert Mode",SwitchToDefaultMode:"Switch To Default Mode",InfoBlockLabel:{Activity:"Activities: ",Transition:"Transitions: ",Command:"Commands: "},ActivityNamePrefix:"Activity",ActivityFormLabel:{Title:"Activity",TitleForInline:"Activity Inline",Name:"Name",State:"State",IsInitial:"Initial",IsFinal:"Final",IsForSetState:"For set state",IsAutoSchemeUpdate:"Auto scheme update",Implementation:"Implementation",PreExecutionImplementation:"PreExecution Implementation",ImpOrder:"Order",ImpAction:"Action",ImpActionParameter:"Action parameter",Annotations:"Annotations",AnnotationName:"Name",AnnotationValue:"Value",Scheme:"Inline scheme"},TransitionFormLabel:{Title:"Transition",Name:"Name",From:"From activity",To:"To activity",Classifier:"Classifier",Restrictions:"Restrictions",RestrictionsType:"Type",RestrictionsActor:"Actor",Condition:"Condition",ConditionType:"Type",ConditionAction:"Action",ResultOnPreExecution:"PreExec. Result",Trigger:"Trigger",TriggerType:"Type",TriggerAuto:"Auto",TriggerCommand:"Command",TriggerTimer:"Timer",ConditionActionParameter:"Action parameter",ConditionExpression:"Expression",ConditionInversion:"Invert result",ConditionsConcatenationType:"Conditions concatenation type",AllowConcatenationType:"Concat allow as",RestrictConcatenationType:"Concat restrict as",IsFork:"Is fork (Parallel process)",MergeViaSetState:"Merge subprocess via set state",DisableParentStateControl:"Disable parent process control",ShowConcatParameters:"Show concatenation",HideConcatParameters:"Hide concatenation",Annotations:"Annotations",AnnotationName:"Name",AnnotationValue:"Value",InlinedFinalActivityName:"Inlined Final Activity Name",Allow:"Allow",Restrict:"Restrict",ConditionsListShouldNotBeEmpty:"Conditions list should not be empty",AlwaysConditionShouldBeSingle:"Always condition should be single",OtherwiseConditionShouldBeSingle:"Otherwise condition should be single",ConditionalLabel:"Conditional",AlwaysLabel:"Always",ActionLabel:"Action",ExpressionLabel:"Expression",OtherwiseLabel:"Otherwise",Subprocess:"Subprocess",SubprocessNone:"None",SubprocessStart:"Start",SubprocessFinalize:"Finalize",SubprocessAuto:"Auto",SubprocessStartSettings:"Subprocess start settings",SubprocessFinalizeSettings:"Subprocess finalize settings",SubprocessName:"Subprocess name",SubprocessId:"Subprocess id",SubprocessIdPlaceholder:"Autogenerated GUID",SubprocessNamePlaceholder:"Same as transition name",SubprocessStartupType:"Subprocess startup type",SubprocessStartupTypeSameThread:"Same thread",SubprocessStartupTypeAnotherThread:"Another thread",SubprocessStartupTypeTimerQueue:"Timer queue",SubprocessStartupParameterCopyStrategy:"Parameters copy strategy",SubprocessStartupParameterCopyStrategyCopyAll:"Copy all",SubprocessStartupParameterCopyStrategyIgnoreAll:"Ignore all",SubprocessStartupParameterCopyStrategyCopySpecified:"Copy specified",SubprocessStartupParameterCopyStrategyIgnoreSpecified:"Ignore specified",SubprocessSpecifiedParameters:"Specified parameters",SubprocessFinalizeParameterMergeStrategy:"Parameters merge strategy",SubprocessFinalizeParameterMergeStrategyOverwriteAllNulls:"Overwrite all nulls",SubprocessFinalizeParameterMergeStrategyOverwriteAll:"Overwrite all",SubprocessFinalizeParameterMergeStrategyOverwriteSpecified:"Overwrite specified",SubprocessFinalizeParameterMergeStrategyDontOverwriteSpecified:"Don't overwrite specified"},LocalizationFormLabel:{Title:"Localization",ObjectName:"ObjectName",Type:"Type",IsDefault:"IsDefault",Culture:"Culture",Value:"Value",Types:["Command","State","Parameter"]},TimerFormLabel:{Title:"Timers",Name:"Name",Type:"Type",Value:"Value",Types:["Command","State","Parameter"],OverrideHint:"Override timer if exists",Override:"Override"},ParameterFormLabel:{Title:"Parameters",Name:"Name",Type:"Type",Purpose:"Purpose",Value:"Value",InitialValue:"InitialValue",ShowSystemParameters:"Show system parameters"},ActorFormLabel:{Title:"Actors",Name:"Name",Rule:"Rule",Value:"Value"},CommandFormLabel:{Title:"Command",Name:"Name"},CommandParametersFormLabel:{Title:"command parameters",InputParametersName:"Name",InputParametersIsRequired:"Required",InputParametersParameter:"Parameter",InputParametersDefaultValue:"Default"},ProcessInfoFormLabel:{Title:"Process Info",IsObsolete:"IsObsolete",DefiningParameters:"Defining parameters",ProcessParameters:"Process parameters",SystemParametersTabName:"System Parameters",ProcessParametersTabName:"Process Parameters",HistoryTabName:"History",TimersTabName:"Timers",TagsTabName:"Tags",TagsInputPlaceholder:"Start entering a name to add a tag",HistoryTabFromLabel:"From",HistoryTabFromStateLabel:"From State",HistoryTabToLabel:"To",HistoryTabToStateLabel:"To State",HistoryTabExecutorIdLabel:"Executor Id",HistoryTabActorIdLabel:"Actor Id",HistoryTabTimeLabel:"Time",HistoryTabTriggerNameLabel:"Trigger Name",HistoryTabTransitionClassifierNameLabel:"Classifier",ParametersNameLabel:"Name",ParametersValueLabel:"Value",TimersTabNameLabel:"Name",TimersTabValueLabel:"Value",RootProcess:"Root Process",TagsLabel:"Tags",GeneralTabLabel:"General",ProcessIdLabel:"Process Id"},DropdownValues:{Name:"Name",Value:"Value",Dropdown:"Dropdown",Values:"values"},CodeActionsFormLabel:{Title:"Code actions",Name:"Name",ActionCode:"Action code",IsGlobal:"Is global",IsAsync:"Async",Type:"Type",GlobalDeleteMessage:"If you've delete the Global CodeAction - <br/><b>other schemes won't be able to call it!</b>",UnGlobalMessage:"You've changed the state of the global flag.<br/>There will be created a Local CodeAction based on this Global CodeAction after saving this scheme.",EditParameters:"parameters",Parameters:"Parameters",Text:"Text",TextArea:"TextArea",Number:"Number",Checkbox:"Checkbox",Dropdown:"Dropdown",MultiSelect:"MultiSelect",DateTime:"Date/Time",Values:"Values",DropdownName:"Name",DropdownValue:"Value",DropdownShouldContainValues:"Dropdown should contain values",IsRequired:"Required",DefaultValue:"Default value",Json:"Json",TitleField:"Title"},EditParametersFormlabel:{Title:"Edit parameter values",NumberRequired:"Should be a numeric value",DateShouldBeInISOFormat:"Date/Time parameter should be in ISO8601 format",SwitchToJson:"Switch to JSON editor",SwitchToConstructor:"Switch to parameter values editor",InvalidJson:"JSON object is invalid or does not match the model"},ToolbarLabel:{CreateActivity:"Create activity",CreateInline:"Create inline (template)",CopySelected:"Copy selected",Undo:"Undo",Redo:"Redo",Move:"Move",ZoomIn:"Zoom In",ZoomOut:"Zoom Out",ZoomPositionDefault:"Zoom default",FullScreen:"Full Screen",Refresh:"Refresh",AutoArrangement:"Auto arrangement",Actors:"Actors",Commands:"Commands",Parameters:"Parameters",Localization:"Localization",Timers:"Timers",AdditionalParameters:"Additional Parameters",CodeActions:"Code actions",Info:"Extended info",Delete:"Delete",Clone:"Clone",Settings:"Settings",CreateTransition:"Create a transition",CreateActivityTransition:"Create an activity and a transition",Legend:"Legend",ProcessInfo:"Process Info",Inline:"The scheme can be inlined",Elements:"Elements",Library:"Library",ResetSettings:"Reset settings"},LibraryLabel:{PluginRequired:"Plugin required:"},ErrorActivityIsInitialCountText:"One element must be marked flag Initial",ErrorActivityIsFinalCountText:"This scheme is Inlined. One or more elements must be marked flag Final",ErrorReadOnlySaveText:"The Designer in ReadOnly mode, you can't save it.",ErrorInvalidObjectsSaveText:"Can't save the schema. Those objects are in invalid state",BrokenReferencesDialogText:"This schema contains references to Actions, Conditions or Rules that aren't defined by this schema or current action providers. Do you want to keep them?",EditCodeSettings:{Height:600,Width:1e3,CodeHeight:390,MessageBoxHeight:400,MessageBoxWidth:600,SuccessBoxHeight:150,SuccessBoxWidth:300},EditCodeLabel:{Title:"code",EditCodeButton:"Edit code",Usings:"Usings",Compile:"Compile",CompileSucceeded:"Compilation succeeded.",Success:"Success",Error:"Error",OK:"OK",ShowUsings:"Show usings",HideUsings:"Hide usings"},EditJSONLabel:{Title:"Edit value in JSON",CreateEmptyType:"Create",Format:"Format"},EditExpressionSettings:{Height:600,Width:1e3,CodeHeight:390,MessageBoxHeight:400,MessageBoxWidth:600,SuccessBoxHeight:150,SuccessBoxWidth:300},EditExpressionLabel:{Title:"Edit expression",Validate:"Validate",Succeeded:"Expression is valid.",Success:"Success",Error:"Error",OK:"OK"},Elements:{Header:"Elements",BasicActivity:"Basic Activity",BasicActivityDesc:"It determines a state and the order, in which Actions are executed in your process.",InlineHeader:"Inline",InitialActivity:"Initial Activity",InitialActivityDesc:"It a initial state.",FinalActivity:"Final Activity",FinalActivityDesc:"It a final state."},OverviewMap:{show:!0,width:300,height:150},UndoDepth:200,DefaultCulture:"en-US",ErrorInBrowserConsole:"See more info in the browser console."},WorkflowDesignerErrors=WorkflowDesignerErrors||{};WorkflowDesignerErrors.ErrorWithAlert=function(t,i,n,e,r){function o(e){a.errorMessage=e,a.success=!1,r&&r(a)}var s,a=new Object;a.response=i;try{s=JSON.parse(i)}catch(e){return o(e),WorkflowDesignerErrors.OutErrorMessage(t,e,null,n),WorkflowDesignerErrors.OutErrorMessage(null,i,null,!1),a}return s.isError?(o(s.errorMessage),WorkflowDesignerErrors.OutErrorMessage(t,s.errorMessage,null,n),void 0!==s.stackTrace&&null!==s.stackTrace&&console.error("Error stacktrace:\n",s.stackTrace),void 0!==s.details&&null!==s.details&&console.error("Error details:\n",s.details)):(a.data=s,a.success=!0,e&&e(a)),a},WorkflowDesignerErrors.OutErrorMessage=function(e,t,i,n){null==n&&(n=!0),n&&alert(t+" "+WorkflowDesignerConstants.ErrorInBrowserConsole),console.error("Error message:",t),e&&console.error("Request Parameters:",e),i&&console.error("Response text:\n",i)},WorkflowDesignerErrors.GetErrorText=function(e,t,i){i=e?t+" "+e.status+": "+i:t+": "+i;return i},window.ELEMENT&&ELEMENT.locale&&window.ELEMENT.lang&&window.ELEMENT.lang.en&&ELEMENT.locale(ELEMENT.lang.en);var WorkflowDesignerCommon={createArrowByAngle:function(e,t,i,n,r){return null==r&&(r="red"),new Konva.Wedge({x:e,y:t,radius:n,angle:40,fill:r,rotation:180*i/Math.PI-200})},updateArrowByAngle:function(e,t,i,n,r,o){null==o&&(o="red"),e.setPosition({x:t,y:i}),e.setRadius(r),e.setFill(o),e.setRotation(180*n/Math.PI-200)},createUUID:function(){for(var e=[],t="0123456789abcdef",i=0;i<36;i++)e[i]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")},DataCorrection:function(t){null==t.AdditionalParams&&(t.AdditionalParams={}),null==t.AdditionalParams.Actions&&(t.AdditionalParams.Actions=[]),null==t.AdditionalParams.Conditions&&(t.AdditionalParams.Conditions=[]),null==t.AdditionalParams.Rules&&(t.AdditionalParams.Rules=[]);function i(t,e,i){if(null!=t&&null!=e){e=$.grep(e,function(e){return t==e[i]});return 0<e.length?e[0]:void 0}}t.Transitions.forEach(function(e){null!=e.From&&(e.From=i(e.From.Name,t.Activities,"Name")),null!=e.To&&(e.To=i(e.To.Name,t.Activities,"Name")),null!=e.Restrictions&&e.Restrictions.forEach(function(e){e.Actor&&(e.Actor=i(e.Actor.Name,t.Actors,"Name"))}),null!=e.Trigger&&null!=e.Trigger.Command&&(e.Trigger.Command=i(e.Trigger.Command.Name,t.Commands,"Name"),e.Trigger.Command||(e.Trigger.NameRef=null)),null!=e.Trigger&&null!=e.Trigger.Timer&&(e.Trigger.Timer=i(e.Trigger.Timer.Name,t.Timers,"Name"),e.Trigger.Timer||(e.Trigger.NameRef=null))}),t.Commands.forEach(function(e){null!=e.InputParameters&&e.InputParameters.forEach(function(e){e.Parameter&&(e.Parameter=i(e.Parameter.Name,t.Parameters,"Name"))})})},download:function(o,e,t,i,s,a){var n;e&&t&&(n=new Array,t.forEach(function(e){var t=$('<input type="hidden"/>');t.attr("name",e.name),t.attr("value",e.value),n.push(t)}),(i=$('<form action="'+e+'" method="'+(i||"post")+'"></form>')).append(n),$.ajax({type:"POST",url:e,data:new FormData(i[0]),processData:!1,contentType:!1,success:function(e,t,i){var n,r=!1;try{JSON.parse(i.responseText),r=!0}catch(e){}r?WorkflowDesignerErrors.ErrorWithAlert("Download",i.responseText,!0,s,a):((n=document.createElement("a")).setAttribute("href",window.URL.createObjectURL(new Blob([i.responseText],{type:"text/xml"}))),n.setAttribute("download",o),document.body.appendChild(n),n.onclick=function(e){document.body.removeChild(n)},n.click(),s&&s(i.responseText))},error:function(e,t,i){i=WorkflowDesignerErrors.GetErrorText(e,t,i);return WorkflowDesignerErrors.OutErrorMessage("Download",i,e.responseText),a&&a(i),!1}}))},defineLocalStorage:function(){Object.defineProperty(window,"localStorage",new function(){var s=[],a={};Object.defineProperty(a,"getItem",{value:function(e){return e?this[e]:null},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(a,"key",{value:function(e){return s[e]},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(a,"setItem",{value:function(e,t){e&&(document.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(a,"length",{get:function(){return s.length},configurable:!1,enumerable:!1}),Object.defineProperty(a,"removeItem",{value:function(e){e&&(document.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(a,"clear",{value:function(){if(s.length)for(var e in s)document.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/"},writable:!1,configurable:!1,enumerable:!1}),this.get=function(){var e,t;for(t in a)-1===(e=s.indexOf(t))?a.setItem(t,a[t]):s.splice(e,1),delete a[t];for(;0<s.length;s.splice(0,1))a.removeItem(s[0]);for(var i,n,r=0,o=document.cookie.split(/\s*;\s*/);r<o.length;r++)1<(i=o[r].split(/\s*=\s*/)).length&&(a[n=unescape(i[0])]=unescape(i[1]),s.push(n));return a},this.configurable=!1,this.enumerable=!0})},imageCache:[],loadImage:function(e,t,i){for(var n,r=0;r<WorkflowDesignerCommon.imageCache.length;r++){var o=WorkflowDesignerCommon.imageCache[r];if(o.src==e){n=o;break}}return null!=n?null!=t&&t(n,i):(n=new Image,null!=t&&(n.onload=function(){t(n,i)}),n.src=e),n},getTextWidth:function(e,t){var i=(WorkflowDesignerCommon.TmpCanvas||(WorkflowDesignerCommon.TmpCanvas=document.createElement("canvas"))).getContext("2d");return i.font=t,i.measureText(e).width},defineArrayIncludes:function(){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),n=i.length>>>0;if(0==n)return!1;var r,o,t=0|t,s=Math.max(0<=t?t:n-Math.abs(t),0);for(;s<n;){if((r=i[s])===(o=e)||"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))return!0;s++}return!1}})},getHash:function(e,t,i){Array.isArray(e)&&(e=e.join(""));for(var n=void 0===i?2166136261:i,r=0,o=e.length;r<o;r++)n^=e.charCodeAt(r),n+=(n<<1)+(n<<4)+(n<<7)+(n<<8)+(n<<24);return t?("0000000"+(n>>>0).toString(16)).substr(-8):n>>>0},clone:function(e){if(null==e||null==e)return e;if("[object Array]"===Object.prototype.toString.call(e)){for(var t=[],i=0;i<e.length;i++)t[i]=WorkflowDesignerCommon.clone(e[i]);return t}if("object"!=typeof e)return e;var n,t={};for(n in e)e.hasOwnProperty(n)&&(t[n]=WorkflowDesignerCommon.clone(e[n]));return t},filter:function(e,t){var i=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var n,r=[],o=t,s=0;s<i;s++){s in e&&(n=e[s],t.call(o,n,s,e)&&r.push(n))}return r},compareArray:function(e,t,i){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(null==i){if(e[n]!=t[n])return!1}else if(Array.isArray(i)&&0<i.length)for(var r=0;r<i.length;r++){var o=e[n][i[r]],s=t[n][i[r]];if("object"==typeof o&&"object"==typeof s){if(JSON.stringify(o)!=JSON.stringify(s))return!1}else if(o!=s)return!1}else for(var r in i)if("object"==typeof o&&"object"==typeof s){if(JSON.stringify(o)!=JSON.stringify(s))return!1}else if(o!=s)return!1;return!0},deepCompare:function(){var e,t,r,o;if(arguments.length<1)return!0;for(e=1,t=arguments.length;e<t;e++)if(r=[],o=[],!function e(t,i){if(isNaN(t)&&isNaN(i)&&"number"==typeof t&&"number"==typeof i)return 1;if(t===i)return 1;if("function"==typeof t&&"function"==typeof i||t instanceof Date&&i instanceof Date||t instanceof RegExp&&i instanceof RegExp||t instanceof String&&i instanceof String||t instanceof Number&&i instanceof Number)return t.toString()===i.toString();if(t instanceof Object&&i instanceof Object&&!t.isPrototypeOf(i)&&!i.isPrototypeOf(t)&&t.constructor===i.constructor&&t.prototype===i.prototype&&!(-1<r.indexOf(t)||-1<o.indexOf(i))){for(var n in i){if(i.hasOwnProperty(n)!==t.hasOwnProperty(n))return;if(typeof i[n]!=typeof t[n])return}for(n in t){if(i.hasOwnProperty(n)!==t.hasOwnProperty(n))return;if(typeof i[n]!=typeof t[n])return;switch(typeof t[n]){case"object":case"function":if(r.push(t),o.push(i),!e(t[n],i[n]))return;r.pop(),o.pop();break;default:if(t[n]!==i[n])return}}return 1}}(arguments[0],arguments[e]))return!1;return!0},toPrettyJSON:function(t){try{return JSON.stringify(JSON.parse(t),null,"\t")}catch(e){try{return JSON5.stringify(JSON5.parse(t),null,"\t")}catch(e){return t}}},toCompactJSON:function(t){try{return JSON.stringify(JSON.parse(t))}catch(e){try{return JSON5.stringify(JSON5.parse(t))}catch(e){return t}}},toJSON:function(t){try{return JSON.parse(t)}catch(e){try{return JSON5.parse(t)}catch(e){return{}}}},toString:function(t){try{return JSON.stringify(t,null,"\t")}catch(e){try{return JSON5.stringify(t,null,"\t")}catch(e){return""}}},getValueByPropertyName:function(e,t){if(null!=e){if(t.indexOf(".")<0)return e[t];var i=e;return t.split(".").forEach(function(e){null!=i&&(i=i[e])}),i}},setValueByPropertyName:function(e,t,i){if(t.indexOf(".")<0)return e[t]=i;for(var n=e,r=t.split("."),o=0;o<r.length;o++){var s=r[o];o==r.length-1?n[s]=i:(null==n[s]&&(n[s]={}),n=n[s])}}};function WorkflowDesigner(e){var s=this;function i(){var n={actions:new Array,conditions:new Array,rules:new Array,referenceContainers:new Array},r=s.data;return r.Activities.forEach(function(i){null!=i.Implementation&&$.each(i.Implementation,function(e,t){if(r.AdditionalParams.Actions.includes(t.ActionName))return!0;$.grep(r.CodeActions,function(e){return"Action"===e.Type&&e.Name===t.ActionName}).length||(n.actions.includes(t.ActionName)||n.actions.push(t.ActionName),n.referenceContainers.includes(i.Name)||n.referenceContainers.push(i.Name))}),null!=i.PreExecutionImplementation&&$.each(i.PreExecutionImplementation,function(e,t){if(r.AdditionalParams.Actions.includes(t.ActionName))return!0;$.grep(r.CodeActions,function(e){return"Action"===e.Type&&e.Name===t.ActionName}).length||(n.actions.includes(t.ActionName)||n.actions.push(t.ActionName),n.referenceContainers.includes(i.Name)||n.referenceContainers.push(i.Name))})}),r.Transitions.forEach(function(i){$.each(i.Conditions,function(e,t){if(t.Action&&"Action"===t.Type){if(r.AdditionalParams.Conditions.includes(t.Action.ActionName))return!0;$.grep(r.CodeActions,function(e){return"Condition"===e.Type&&e.Name===t.Action.ActionName}).length||(n.conditions.includes(t.Action.ActionName)||n.conditions.push(t.Action.ActionName),n.referenceContainers.includes(i.Name)||n.referenceContainers.push(i.Name))}})}),r.Actors.forEach(function(t){null!=t.Rule&&(r.AdditionalParams.Rules.includes(t.Rule)||($.grep(r.CodeActions,function(e){return("RuleCheck"===e.Type||"RuleGet"===e.Type)&&e.Name===t.Rule}).length||(n.rules.includes(t.Rule)||n.rules.push(t.Rule),n.referenceContainers.includes(t.Name)||n.referenceContainers.push(t.Name))))}),n}function a(){var t=i();0<t.referenceContainers.length&&s.Graph.showConfirm({message:WorkflowDesignerConstants.BrokenReferencesDialogText,onSuccess:function(){var e=s.data;return e.AdditionalParams.Actions=e.AdditionalParams.Actions.concat(t.actions),e.AdditionalParams.Conditions=e.AdditionalParams.Conditions.concat(t.conditions),e.AdditionalParams.Rules=e.AdditionalParams.Rules.concat(t.rules),!0}})}this.Settings=e,WorkflowDesignerWindows.Autocompleter.apiurl=e.apiurl,window.localStorage||WorkflowDesignerCommon.defineLocalStorage(),Array.prototype.includes||WorkflowDesignerCommon.defineArrayIncludes(),this.GetName=function(){return s.Settings.name},this.error=function(e,t){alert(e),null!=t&&console.log(e,t)},this.refresh=function(){var e=void 0!==this.data&&void 0!==this.data.__loadParams?this.data.__loadParams:this.loadParams;void 0===e?alert("You might use refresh method after called load method only."):this.load(e)},this.getParam=function(e){return localStorage["WorkflowDesigner_"+e]},this.setParam=function(e,t){localStorage["WorkflowDesigner_"+e]=t},this.resetLocalStorage=function(){for(var e in localStorage)localStorage[e]=""},this.load=function(i,n,r){var o=new Array;this.loadParams=i,this.schemecode=i.schemecode,this.processid=i.processid,this.schemeid=i.schemeid,i.readonly&&(this.Settings.readonly=i.readonly),o.push({name:"schemecode",value:this.schemecode}),o.push({name:"processid",value:this.processid}),o.push({name:"schemeid",value:this.schemeid}),o.push({name:"operation",value:"load"});$.ajax({url:this.Settings.apiurl,data:o,async:!0,success:function(e){s.Graph&&s.Graph.ClearGraphData();e=WorkflowDesignerErrors.ErrorWithAlert(t,e,!0,n,r);if(!e.success)return!1;var t=e.data;t.__loadParams=i,s.data=t,s.render(),i.processid&&s.data.IsSubprocessScheme||a()},error:function(e,t,i){i=WorkflowDesignerErrors.GetErrorText(e,t,i);return WorkflowDesignerErrors.OutErrorMessage(o,i,e.responseText),r&&r(i),!1}})},this.exists=function(e,t,n){var r,o=new Array;return this.schemecode=e.schemecode,this.processid=e.processid,this.schemeid=e.schemeid,e.readonly&&(this.Settings.readonly=e.readonly),o.push({name:"schemecode",value:this.schemecode}),o.push({name:"processid",value:this.processid}),o.push({name:"schemeid",value:this.schemeid}),o.push({name:"operation",value:"exists"}),$.ajax({url:this.Settings.apiurl,data:o,async:!1,success:function(e){e=WorkflowDesignerErrors.ErrorWithAlert(o,e,!0,t,n);return r=!!e.success&&e.data},error:function(e,t,i){i=WorkflowDesignerErrors.GetErrorText(e,t,i);return WorkflowDesignerErrors.OutErrorMessage(o,i,e.responseText),n&&n(i),r=!1}}),r},this.insertScheme=function(e,t){var i,n;s.Settings.readonly?alert(WorkflowDesignerConstants.ErrorReadOnlySaveText):(i=s.Graph.GetComponentByType("WorkflowDesignerActivityManager"),layer=i.Layer,t=s.Graph.CorrectPosition(t,layer),(n=new Array).push({name:"schemecode",value:this.schemecode}),n.push({name:"processid",value:this.processid}),n.push({name:"schemeid",value:this.schemeid}),n.push({name:"operation",value:"insertscheme"}),n.push({name:"data",value:JSON.stringify(this.data)}),n.push({name:"insertedscheme",value:e}),n.push({name:"posx",value:t.x}),n.push({name:"posy",value:t.y}),$.ajax({url:this.Settings.apiurl,data:n,async:!0,type:"post",success:function(e){e=WorkflowDesignerErrors.ErrorWithAlert(n,e,!0,null);e.success&&(s.data=e.data,WorkflowDesignerCommon.DataCorrection(s.data),s.Graph.Draw(s.data),s.Graph.StoreGraphData())},error:function(e,t,i){i=WorkflowDesignerErrors.GetErrorText(e,t,i);WorkflowDesignerErrors.OutErrorMessage(n,i,e.responseText)}}))},this.create=function(e,t,n){var r=new Array;r.push({name:"operation",value:"load"}),r.push({name:"newschemecode",value:e}),$.ajax({url:this.Settings.apiurl,data:r,async:!0,success:function(e){e=WorkflowDesignerErrors.ErrorWithAlert(r,e,!0,t,n);if(!e.success)return!1;s.data=e.data,s.render()},error:function(e,t,i){i=WorkflowDesignerErrors.GetErrorText(e,t,i);return WorkflowDesignerErrors.WorkflowDesignerErrors.OutErrorMessage(r,i),n&&n(i),!1}})},this.resize=function(e,t){this.Settings.graphwidth=e,this.Settings.graphheight=t,null!=this.Graph&&this.Graph.resize(e,t)},this.render=function(){var e=!1;s.Graph&&(s.Graph.destroy(),null!=s.data&&null!=s.data.__loadParams&&(null!=s.data.__loadParams.isFullScreen&&(e=s.data.__loadParams.isFullScreen),null!=s.data.__loadParams.readonly&&(this.Settings.readonly=s.data.__loadParams.readonly)));var n,r,t=[WorkflowDesignerActivityManager,WorkflowDesignerTransitionManager,WorkflowDesignerKeyboard];Array.isArray(s.Settings.externalComponents)&&s.Settings.externalComponents.forEach(function(e){t.push(e)}),this.Settings.printable||t.push(WorkflowDesignerBackground),this.Settings.notrendertoolbar||t.push(WorkflowDesignerToolbar),s.Settings.printable&&null!=s.data&&(r=n=0,$(s.data.Activities).each(function(e){var t=parseInt(this.DesignerSettings.X),i=parseInt(this.DesignerSettings.Y);n<t&&(n=t),r<i&&(r=i)}),s.Settings.graphwidth=n+s.Settings.DefaultActivityWidth,s.Settings.graphheight=r+s.Settings.DefaultActivityHeight),s.Graph=new WorkflowGraph(this.Settings.renderTo,s,s.Settings,t),s.Graph.setFullScreen(e),null!=s.data&&(WorkflowDesignerCommon.DataCorrection(s.data),null!=s.data.__loadParams&&null!=s.data.__loadParams.graphData&&(s.Graph.graphData=s.data.__loadParams.graphData,s.Graph.graphDataIndex=s.data.__loadParams.graphDataIndex),s.Graph.Draw(s.data))},this.save=function(t,n){var r;s.Settings.readonly?alert(WorkflowDesignerConstants.ErrorReadOnlySaveText):((r=new Array).push({name:"schemecode",value:this.schemecode}),r.push({name:"processid",value:this.processid}),r.push({name:"schemeid",value:this.schemeid}),r.push({name:"operation",value:"save"}),r.push({name:"data",value:JSON.stringify(this.data)}),$.ajax({url:this.Settings.apiurl,data:r,async:!0,type:"post",success:function(e){e=WorkflowDesignerErrors.ErrorWithAlert(r,e,!0,null,n);e.success&&(s.data=e.data,s.render(),t&&setTimeout(function(){t(s)},100))},error:function(e,t,i){i=WorkflowDesignerErrors.GetErrorText(e,t,i);WorkflowDesignerErrors.OutErrorMessage(r,i,e.responseText),n&&n(i)}}))},this.downloadscheme=function(e,t,i){var n=new Array;n.push({name:"operation",value:"downloadscheme"}),n.push({name:"data",value:JSON.stringify(this.data)}),e&&e.name&&n.push({name:"scheme",value:e.name});e=(this.schemecode?this.schemecode:"scheme")+".xml";WorkflowDesignerCommon.download(e,this.Settings.apiurl,n,"post",t,i)},this.uploadscheme=function(e,t,n){$.ajax({type:"POST",url:this.createurl("uploadscheme"),data:new FormData(e),processData:!1,contentType:!1,success:function(e){e=WorkflowDesignerErrors.ErrorWithAlert("XML upload",e,!0,null,n);e.success&&(s.data=e.data,s.render(),a(),t&&t(s))},error:function(e,t,i){i=WorkflowDesignerErrors.GetErrorText(e,t,i);WorkflowDesignerErrors.OutErrorMessage("XML upload",i,e.responseText),n&&n(i)}})},this.createurl=function(e){var t=this.Settings.apiurl,i="?";return 0<=t.indexOf("?")&&(i="&"),t+=i+"operation="+e,i="&",null!=this.schemeid&&(t+=i+"schemeid="+this.schemeid),null!=this.processid&&(t+=i+"processid="+this.processid),null!=this.schemecode&&(t+=i+"schemecode="+this.schemecode),t},this.validate=function(){if(1!=$.grep(s.data.Activities,function(e){return e.IsInitial}).length)return WorkflowDesignerConstants.ErrorActivityIsInitialCountText;if(s.data.CanBeInlined&&0==$.grep(s.data.Activities,function(e){return e.IsFinal}).length)return WorkflowDesignerConstants.ErrorActivityIsFinalCountText;var r=i().referenceContainers;return $.each(s.data.Transitions,function(e,i){var n=!1;"Auto"!==i.Trigger.Type&&("Timer"===i.Trigger.Type&&!i.Trigger.Timer||"Command"===i.Trigger.Type&&!i.Trigger.Command)&&(r.push(i.Name),n=!0),null!==i.Restrictions&&void 0!==i.Restrictions&&$.each(i.Restrictions,function(e,t){t.Actor||n||(r.push(i.Name),n=!0)})}),$.each(s.data.Activities,function(e,t){"Inline"!==t.ActivityType||null!=t.SchemeCode&&""!==t.SchemeCode||r.push(t.Name)}),$.each(s.data.Commands,function(e,i){var n;i.InputParameters&&(n=!1,$.each(i.InputParameters,function(e,t){t.Parameter||n||(r.push(i.Name),n=!0)}))}),0<r.length?WorkflowDesignerConstants.ErrorInvalidObjectsSaveText+": "+r.join(", "):void 0},this.destroy=function(){this.schemecode=void 0,this.processid=void 0,this.schemeid=void 0,(this.data=void 0)!==this.Graph&&this.Graph.destroy()},this.compile=function(e,i,n){e={Name:e.Name,Type:e.Type,IsGlobal:e.IsGlobal,IsAsync:e.IsAsync,ActionCode:e.ActionCode,Usings:e.Usings};var r=new Array;r.push({name:"schemecode",value:this.schemecode}),r.push({name:"processid",value:this.processid}),r.push({name:"schemeid",value:this.schemeid}),r.push({name:"operation",value:"compile"}),r.push({name:"data",value:JSON.stringify(e)});$.ajax({url:this.Settings.apiurl,data:r,async:!0,type:"post",success:function(e){var t=WorkflowDesignerErrors.ErrorWithAlert(r,e,!0,null,n);t.success&&i&&setTimeout(function(){i(t.data)},100)},error:function(e,t,i){i=WorkflowDesignerErrors.GetErrorText(e,t,i);WorkflowDesignerErrors.OutErrorMessage(r,i,e.responseText),n&&n(i)}})},this.perform=function(e,i,n){var r=new Array;r.push({name:"schemecode",value:this.schemecode}),r.push({name:"processid",value:this.processid}),r.push({name:"schemeid",value:this.schemeid}),r.push({name:"expression",value:e.expression}),r.push({name:"operation",value:"perform"});$.ajax({url:this.createurl("perform"),data:r,async:!0,type:"post",success:function(e){var t=WorkflowDesignerErrors.ErrorWithAlert(r,e,!0,null,n);t.success&&i&&setTimeout(function(){i(t.data)},100)},error:function(e,t,i){i=WorkflowDesignerErrors.GetErrorText(e,t,i);WorkflowDesignerErrors.OutErrorMessage(r,i,e.responsetext),n&&n(i)}})},this.getpluginsnames=function(t,n){var r=new Array;r.push({name:"schemecode",value:this.schemecode}),r.push({name:"processid",value:this.processid}),r.push({name:"schemeid",value:this.schemeid}),r.push({name:"operation",value:"getpluginsnames"});var i=null;$.ajax({url:this.Settings.apiurl,data:r,async:!1,type:"post",success:function(e){e=WorkflowDesignerErrors.ErrorWithAlert(r,e,!0,t,n);if(!e.success)return null;i=e.data},error:function(e,t,i){i=WorkflowDesignerErrors.GetErrorText(e,t,i);WorkflowDesignerErrors.OutErrorMessage(r,i,e.responsetext),n&&n(i)}});return i},this.deleteGlobalCodeAction=function(e,i,n){var r=new Array;r.push({name:"operation",value:"deleteglobalcodeaction"}),r.push({name:"names",value:JSON.stringify(e)});$.ajax({url:this.Settings.apiurl,data:r,async:!0,type:"post",success:function(e){var t=WorkflowDesignerErrors.ErrorWithAlert(r,e,!0,null,n);t.success&&i&&setTimeout(function(){i(t.data)},100)},error:function(e,t,i){i=WorkflowDesignerErrors.GetErrorText(e,t,i);WorkflowDesignerErrors.OutErrorMessage(r,i,e.responseText),n&&n(i)}})},this.getemptytype=function(e,i,n){var r=new Array;r.push({name:"operation",value:"getemptytype"}),r.push({name:"data",value:JSON.stringify(e)});$.ajax({url:this.Settings.apiurl,data:r,async:!0,type:"post",success:function(e){var t=WorkflowDesignerErrors.ErrorWithAlert(r,e,!0,null,n);t.success&&i&&setTimeout(function(){i(JSON.stringify(t.data))},100)},error:function(e,t,i){i=WorkflowDesignerErrors.GetErrorText(e,t,i);WorkflowDesignerErrors.OutErrorMessage(r,i,e.responseText),n&&n(i)}})},this.requestcodeactionparameter=function(e,t,i,n,r){var o=new Array;o.push({name:"operation",value:"getcodeactionparameter"}),o.push({name:"type",value:t}),o.push({name:"name",value:i}),o.push({name:"schemecode",value:e});var s=null;if($.ajax({url:this.Settings.apiurl,data:o,async:!1,type:"post",success:function(e){e=WorkflowDesignerErrors.ErrorWithAlert(o,e,!0,n,r);if(!e.success)return!1;s=e.data},error:function(e,t,i){i=WorkflowDesignerErrors.GetErrorText(e,t,i);WorkflowDesignerErrors.OutErrorMessage(o,i,e.responseText),r&&r(i)}}),null==s)return!1;for(var a=0;a<s.length;a+=1)null===s[a].Name&&(s[a].Name="");return s},this.requestautocompletesuggestions=function(e,t,i,n,r){var o,s=new Array;return s.push({name:"operation",value:"getautocompletesuggestions"}),s.push({name:"category",value:t}),s.push({name:"value",value:i}),s.push({name:"schemecode",value:e}),$.ajax({url:this.Settings.apiurl,data:s,async:!1,type:"post",success:function(e){e=WorkflowDesignerErrors.ErrorWithAlert(s,e,!0,n,r);return o=!!e.success&&e.data},error:function(e,t,i){i=WorkflowDesignerErrors.GetErrorText(e,t,i);return WorkflowDesignerErrors.OutErrorMessage(s,i,e.responseText),r&&r(i),o=!1}}),o},this.readonlymode=function(e){var t=this;void 0===e||null==e?(t.Settings.notrendertoolbar=!1,t.Settings.notshowwindows=!1,t.Settings.disableobjectmovements=!1):(null!=e.notrendertoolbar?t.Settings.notrendertoolbar=e.notrendertoolbar:t.Settings.notrendertoolbar=!1,null!=e.notshowwindows?t.Settings.notshowwindows=e.notshowwindows:t.Settings.notshowwindows=!1,null!=e.disableobjectmovements?t.Settings.disableobjectmovements=e.disableobjectmovements:t.Settings.disableobjectmovements=!1),t.Settings.readonly=!0,t.Settings.printable&&(t.Settings.graphheight=t.Settings.originalgraphheighth,t.Settings.graphwidth=t.Settings.originalgraphwidth,t.Settings.printable=!1),t.render()},this.printablemode=function(){var e=this;e.Settings.printable||(e.Settings.originalgraphheighth=e.Settings.graphheight,e.Settings.originalgraphwidth=e.Settings.graphwidth),e.Settings.notrendertoolbar=!0,e.Settings.notshowwindows=!0,e.Settings.disableobjectmovements=!1,e.Settings.readonly=!0,e.Settings.printable=!0,e.render()},this.editablemode=function(){var e=this;e.Settings.notrendertoolbar=!1,e.Settings.notshowwindows=!1,e.Settings.disableobjectmovements=!1,e.Settings.readonly=!1,e.Settings.printable&&(e.Settings.graphheight=e.Settings.originalgraphheighth,e.Settings.graphwidth=e.Settings.originalgraphwidth,e.Settings.printable=!1),e.render()},void 0===this.Settings.mode||("readonly"===this.Settings.mode.toLowerCase()?this.readonlymode(e):"printable"===this.Settings.mode.toLowerCase()?this.printablemode():this.editablemode()),this.autoarrangement=function(){var e=this.Graph.GetComponentByType("WorkflowDesignerToolbar");null!=e&&e.AutoArrangement()},this.downloadschemeBPMN=function(e,t,i){var n=new Array;n.push({name:"operation",value:"downloadschemebpmn"}),n.push({name:"data",value:JSON.stringify(this.data)}),e&&e.name&&n.push({name:"scheme",value:e.name});e=(this.schemecode?this.schemecode:"scheme")+".bpmn";WorkflowDesignerCommon.download(e,this.Settings.apiurl,n,"post",t,i)},this.uploadschemeBPMN=function(e,t,n){$.ajax({type:"POST",url:this.createurl("uploadschemebpmn"),data:new FormData(e),processData:!1,contentType:!1,success:function(e){e=WorkflowDesignerErrors.ErrorWithAlert("BPMN upload",e,!0,null,n);e.success&&(s.data=e.data,s.render(),a(),t&&t(s))},error:function(e,t,i){i=WorkflowDesignerErrors.GetErrorText(e,t,i);WorkflowDesignerErrors.OutErrorMessage("BPMN upload",i,e.responseText),n&&n(i)}})}}function WorkflowDesignerWindow(e,t,n){var s=this;this.graph=e,this.id=t,this.idcontainer=this.id+"_container",this.templatefolder=this.graph.Settings.templatefolder,this.options=n,this.parentContainerId=this.graph.Settings.renderTo,this.parentContainer=$("#"+this.parentContainerId),0<this.parentContainer.length&&"relative"!=this.parentContainer[0].style.position&&"absolute"!=this.parentContainer[0].style.position&&(this.parentContainer[0].style.position="relative"),this.setParam=function(e,t){this.graph.setParam("WorkflowDesignerWindow_"+this.id+"_"+e,t)},this.getParam=function(e){return this.graph.getParam("WorkflowDesignerWindow_"+this.id+"_"+e)};t=$("<div id='"+this.id+"' style='display:none'></div>");t.addClass("WorkflowDesignerWindow"),n.class&&t.addClass(n.class),this.element=t[0],n.savePosition&&((i=s.getParam("left"))&&(s.element.style.left=i),(r=s.getParam("top"))&&(s.element.style.top=r),(i=s.getParam("width"))&&(s.element.style.width=i),(r=s.getParam("height"))&&(s.element.style.height=r));var i,r,o,a,l,c=$("<div id='"+this.idcontainer+"' class='WorkflowDesignerWindowContainer'></div>");function h(e){e.preventDefault(),o=!1}function u(e){var t,i;e.preventDefault(),o&&(mousePosition={x:e.clientX,y:e.clientY},t={x:mousePosition.x+a[0],y:mousePosition.y+a[1]},i=s.parentContainer.width()-150,e=s.parentContainer.height()-150,t.x>i&&(t.x=i),t.y>e&&(t.y=e),s.element.style.left=t.x+"px",s.element.style.top=t.y+"px",n.savePosition&&(s.setParam("left",s.element.style.left),s.setParam("top",s.element.style.top)))}function d(){window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",d),document.removeEventListener("mouseup",h,!0)}function f(e){e.preventDefault(),o=!0,a=[s.element.offsetLeft-e.clientX,s.element.offsetTop-e.clientY],document.addEventListener("mouseup",h,!0),window.addEventListener("mousemove",u),window.addEventListener("mouseup",d)}function p(e){var t=e.clientX-s.element.getBoundingClientRect().left+10,e=e.clientY-s.element.getBoundingClientRect().top+10;s.element.style.width=(200<t?t:200)+"px",s.element.style.height=(200<e?e:200)+"px",n.savePosition&&(s.setParam("width",s.element.style.width),s.setParam("height",s.element.style.height)),s.resize()}function g(){window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",g)}t.append(c),this.parentContainer.append(t),n.move&&(i=$('<div class="WorkflowDesignerWindowMove"></div>'),t.append(i),r=$('<div class="WorkflowDesignerWindowMoveBottom"></div>'),t.append(r),o=!1,a=[],i[0].addEventListener("mousedown",f,!0),r[0].addEventListener("mousedown",f,!0)),n.resize&&(l=$('<div class="WorkflowDesignerWindowResize"></div>'),t.append(l),l[0].addEventListener("mousedown",function(e){e.preventDefault(),window.addEventListener("mousemove",p),window.addEventListener("mouseup",g)})),n.notclose||((l=$('<div class="WorkflowDesignerWindowClose"></div>'))[0].addEventListener("click",function(e){s.onClose()}),t.append(l)),this.resize=function(){this.VueConfig&&this.VueConfig.methods&&this.VueConfig.methods.resize&&this.VueConfig.methods.resize()},this.show=function(e,t){s.value=t,this.template!=e&&(c.load(this.templatefolder+e+".html",function(){s.VueApp&&s.VueApp.$destroy(),s.VueConfig={el:"#"+s.idcontainer,data:{dragOverIndex:null,dragOverBlock:null,isIE:/MSIE|Trident/.test(window.navigator.userAgent)},methods:{dragstart:s.dragstart,dragend:s.dragend,dragover:s.dragover,showConfirm:s.showConfirm}},window[e+"_Init"]&&(window[e+"_Init"](s),delete window[e+"_Init"]),s.onUpdate(t),s.VueApp=new Vue(s.VueConfig)}),this.template=e),this.element&&(this.onUpdate(t),$(this.element).show(),this.isOpen=!0,this.graph.BringWindowToFront(this.id),this.bringOnDown||(this.bringOnDown=function(e){this.graph.BringWindowToFront(this.id)},this.element.addEventListener("mousedown",this.bringOnDown.bind(this))))},this.bringToFront=function(){this.element&&this.element.style&&(this.element.style.zIndex="101")},this.bringToBack=function(){this.element&&this.element.style&&(this.element.style.zIndex="100")},this.onClose=function(e){if(e)n.onClose&&n.onClose();else{if(s.VueConfig&&s.VueConfig.methods.onClose&&!1===s.VueConfig.methods.onClose(!0))return;if(n.onClose&&!1===n.onClose())return}this.hide()},this.hide=function(){this.element&&$(this.element).hide(),this.jsonform&&this.jsonform.hide(),this.VueConfig&&this.VueConfig.methods.onHideEvent&&this.VueConfig.methods.onHideEvent(),this.isOpen=!1},this.showConfirm=function(e){s.graph.showConfirm(e)},this.onSuccess=function(e){n.onSuccess&&n.onSuccess(e)},this.onUpdate=function(){this.VueConfig&&this.VueConfig.methods&&this.VueConfig.methods.onUpdate&&this.VueConfig.methods.onUpdate(s.value)},this.destroy=function(){this.element&&($(this.element).remove(),this.element=void 0),this.jsonform&&this.jsonform.destroy(),this.VueApp&&this.VueApp.$destroy(),s=void 0},this.dragstart=function(e,t,i){this.draggingIndex=e,this.draggingArray=i,t.target.style.opacity=.8;try{t.originalEvent.dataTransfer.setData("text/plain","anything")}catch(t){}s.parentContainer.on("dragover.elementsbar",function(e){e.preventDefault()}),window.addEventListener("dragend",function e(t){s.VueConfig.data.draggingToIndex=null,s.VueConfig.data.dragOverBlock=null,window.removeEventListener("dragend",e)})},this.dragend=function(e){e.target.style.opacity=1;!function(e,t,i){for(;e<0;)e+=i.length;for(;t<0;)t+=i.length;if(t>=i.length)for(var n=t-i.length;1+n--;)i.push(void 0);i.splice(t,0,i.splice(e,1)[0])}(this.draggingIndex,this.draggingToIndex,this.draggingArray?this.draggingArray:s.VueConfig.data.items),this.draggingIndex=void 0,this.draggingToIndex=void 0,this.draggingArray=void 0},this.dragover=function(e,t,i){this.draggingToIndex=t,s.VueConfig.data.dragOverIndex=t,s.VueConfig.data.dragOverBlock=e},this.showjson=function(e,t,i,n){var r,o=this.id+"_jsonform";this.jsonform&&this.jsonform.destroy(),t&&t.expression?(r={move:!0,resize:!0,savePosition:!0,class:"WorkflowDesignerExpressionForm",onSuccess:i,onClose:n},this.jsonform=s.graph.CreateWindow(o,r),this.jsonform.show("expressionform",e)):(r={move:!0,resize:!0,savePosition:!0,class:"WorkflowDesignerJsonForm",onSuccess:i,onClose:n,parameterDefinition:t},this.jsonform=s.graph.CreateWindow(o,r),this.jsonform.show("jsonform",e))}}function WorkflowDesignerOverviewMap(){this.type="WorkflowDesignerOverviewMap";var r=this;this.init=function(e){this.graph=e,this.Layer=new Konva.Layer,this.Layer.scale(.5),this.graph.Stage.add(this.Layer),this.Layer.setZIndex(1e3);var t=this.graph.Stage.width(),i=this.graph.Stage.height(),n=null!=this.graph.Settings.overviewMapWidth?this.graph.Settings.overviewMapWidth:WorkflowDesignerConstants.OverviewMap.width,e=null!=this.graph.Settings.overviewMapHeight?this.graph.Settings.overviewMapHeight:WorkflowDesignerConstants.OverviewMap.height;r.background=new Konva.Image({x:t-n-5,y:i-e-5,width:n,height:e,fill:"white",shadowEnabled:!0,shadowBlur:5,shadowOpacity:.3}),r.Layer.add(r.background)},this.draw=function(){this.GraphRedrawAll()},this.GraphRedrawAll=function(){console.log("GraphRedrawAll")}}function WorkflowDesignerTransitionManager(){this.type="WorkflowDesignerTransitionManager",this.init=function(e){var t=this;this.graph=e,this.Layer=new Konva.Layer,this.graph.Stage.add(this.Layer),this.Layer.setZIndex(2),this.graph=e,this.APLayer=new Konva.Layer,this.graph.Stage.add(this.APLayer),this.APLayer.setZIndex(3);e=function(){t.APLayer.batchDraw(),t.Layer.batchDraw()};this.ImageTimer=WorkflowDesignerCommon.loadImage("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEwIDYuMjVWMTBMMTIuMjE1NyAxMi41NzA0IiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8Y2lyY2xlIGN4PSIxMCIgY3k9IjEwIiByPSI4LjUiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMyIvPgo8L3N2Zz4K",e),this.ImageCondition=WorkflowDesignerCommon.loadImage("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTcuNTg1NjMgMTQuNDAzOEw3LjU5MzA4IDEzLjg5NjVDNy42MDE3MyAxMy4zMDcxIDcuNjI3NzQgMTIuODEzIDcuNjcyOTcgMTIuNDE5QzcuNjcyOTkgMTIuNDE4OCA3LjY3MzAxIDEyLjQxODYgNy42NzMwMyAxMi40MTg0TDguMTY5NzcgMTIuNDc1NUM4LjIxMjQgMTIuMDk2MiA4LjMwMTk0IDExLjc1NzIgOC40MzgzNyAxMS40NTg2TDcuNTg1NjMgMTQuNDAzOFpNNy41ODU2MyAxNC40MDM4SDguMDkzMDJIMTAuNDU5M0gxMC45NTkzVjEzLjkwMzhDMTAuOTU5MyAxMy41OTc2IDEwLjk2NzYgMTMuMzMxMyAxMC45ODM2IDEzLjEwMzdMMTAuOTgzNyAxMy4xMDI2QzEwLjk5ODQgMTIuODg3OCAxMS4wMzQ2IDEyLjY5MjggMTEuMDkgMTIuNTE1OUMxMS4xNDI3IDEyLjM0NzQgMTEuMjIzMiAxMi4xNzY3IDExLjMzNTEgMTIuMDAzNE03LjU4NTYzIDE0LjQwMzhMMTEuMzM1MSAxMi4wMDM0TTExLjMzNTEgMTIuMDAzNEMxMS40NTE0IDExLjgzNjQgMTEuNjIwNCAxMS42NDY2IDExLjg1MTQgMTEuNDM0NUMxMi4yNTgyIDExLjA5MDIgMTIuNjY4MiAxMC43MTgzIDEzLjA4MTYgMTAuMzE5QzEzLjUyMDUgOS45MDM0MiAxMy45MTUzIDkuNDUzNDMgMTQuMjY1NiA4Ljk2OTE4QzE0LjYyMDYgOC40ODY0MiAxNC45MTI4IDcuOTcyMzIgMTUuMTQxMyA3LjQyNzM4TDE1LjE0MjQgNy40MjQ3OUMxNS4zODE2IDYuODQ1NDEgMTUuNSA2LjIzMTU5IDE1LjUgNS41ODc3NkMxNS41IDQuODA0NTYgMTUuMzY2NSA0LjA4ODgxIDE1LjA4NzEgMy40NTA0N0MxNC44MDkzIDIuODE1NzcgMTQuNDA0OCAyLjI3MzMxIDEzLjg3NyAxLjgyODIzQzEzLjM0ODIgMS4zODI0MyAxMi43MDk2IDEuMDU0NTEgMTEuOTczMiAwLjgzNjI3N0MxMS4yNDMgMC42MDkzMTEgMTAuNDI1MSAwLjUgOS41MjU1OCAwLjVDOC43MDY2OSAwLjUgNy45MzM3NCAwLjYwNjQxNyA3LjIwOTU0IDAuODIzMDk1QzYuNDkzNzcgMS4wMzE3MyA1Ljg2MTU4IDEuMzM5NjkgNS4zMjA5MyAxLjc1MjZMNS4zMjA5MyAxLjc1MjZMNS4zMjAxNSAxLjc1MzIxQzQuNzcwMTYgMi4xNzQ5OSA0LjMzMTA0IDIuNjg5MzcgNC4wMDcwMyAzLjI5MzY0QzMuNjc1MjkgMy45MTIzMSAzLjUwOTQ3IDQuNjAxODcgMy41MDAwNCA1LjM1MTQ4TDMuNDkzNjcgNS44NTc3N0g0SDYuMzY2MjhINi44NjYyOFY1LjM1Nzc3QzYuODY2MjggNS4wMTAwNyA2LjkzOTk0IDQuNzQzOTIgNy4wNjM2OCA0LjUzNzU5TDcuMDYzNzEgNC41Mzc2MUw3LjA2NjY2IDQuNTMyNTZDNy4yMDcxNSA0LjI5MTk3IDcuMzkzMzEgNC4wOTMwOSA3LjYzMDA1IDMuOTMyODJDNy44NjUyIDMuNzc1OTUgOC4xNDExNiAzLjY1NzA5IDguNDYzOTYgMy41ODA3Mkw4LjQ2Mzk3IDMuNTgwNzdMOC40NzExOSAzLjU3ODk1QzguODE0NCAzLjQ5MjMzIDkuMTY1NTMgMy40NDg4OSA5LjUyNTU4IDMuNDQ4ODlDMTAuMDA1NCAzLjQ0ODg5IDEwLjQxMjUgMy41MDg1NiAxMC43NTM3IDMuNjE4NDhDMTEuMDk0NSAzLjcyODI5IDExLjM1ODggMy44ODMyOSAxMS41NjEgNC4wNzQ2NUMxMS43MzkgNC4yNDMxOSAxMS44NzY4IDQuNDUzNzkgMTEuOTcxNSA0LjcxNjQzTDExLjk3NDIgNC43MjM3MkwxMS45NzcgNC43MzA5M0MxMi4wNzc0IDQuOTg0MjYgMTIuMTMzNyA1LjI5MTAxIDEyLjEzMzcgNS42NjAzOUMxMi4xMzM3IDUuOTk0NzUgMTIuMDY3MSA2LjMwODU2IDExLjkzNDEgNi42MDY2NEMxMS43ODg1IDYuOTMyOTggMTEuNjA0MyA3LjI0MjA2IDExLjM4MDUgNy41MzQyOEMxMS4xMzk2IDcuODQ1NzkgMTAuODc0MiA4LjE0MjcyIDEwLjU4MzkgOC40MjUwNEwxMC41ODM5IDguNDI1TDEwLjU3ODkgOC40Mjk5OUMxMC4yODU0IDguNzIzNjYgOS45OTYxIDkuMDA5MzggOS43MTEwNCA5LjI4NzE3QzkuMjgzNTkgOS42NTk3NyA4LjkzMjkyIDkuOTkxMDkgOC42NjM1MyAxMC4yNzk4TDExLjMzNTEgMTIuMDAzNFpNNy44MjA4NSAxOC45N0w3LjgyMDggMTguOTdMNy44MjY5NiAxOC45NzYyQzguMTk5MzggMTkuMzUzIDguNzE1MDEgMTkuNSA5LjI4MjU2IDE5LjVDOS44NDg1NCAxOS41IDEwLjM2MjkgMTkuMzUzOCAxMC43MzUxIDE4Ljk3OTRDMTEuMDg5MSAxOC42MzE3IDExLjI2NjMgMTguMTkxNCAxMS4yNjYzIDE3LjY5MjdDMTEuMjY2MyAxNy4xODQ1IDExLjA5MzggMTYuNzMzMyAxMC43NDA3IDE2LjM3NTNDMTAuMzY5MiAxNS45ODk1IDkuODUyODEgMTUuODM2OSA5LjI4MjU2IDE1LjgzNjlDOC43MTA3NyAxNS44MzY5IDguMTkzMDkgMTUuOTkwMyA3LjgyMTQzIDE2LjM3ODVMNy44MjEzNyAxNi4zNzg0TDcuODE1NDMgMTYuMzg0OEM3LjQ4MjI5IDE2Ljc0NTIgNy4zMjQ0MiAxNy4xOTMzIDcuMzI0NDIgMTcuNjkyN0M3LjMyNDQyIDE4LjE4MjEgNy40ODY0MiAxOC42MTk1IDcuODIwODUgMTguOTdaIiBmaWxsPSJ3aGl0ZSIgc3Ryb2tlPSJ3aGl0ZSIvPgo8L3N2Zz4K",e),this.ImageActor=WorkflowDesignerCommon.loadImage("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxtYXNrIGlkPSJwYXRoLTEtaW5zaWRlLTEiIGZpbGw9IndoaXRlIj4KPHBhdGggZD0iTTEuNSAxNS41ODA4QzEuNSAxMy4zNzE3IDMuMjkwODYgMTEuNTgwOCA1LjUgMTEuNTgwOEgxNC41NDc2QzE2Ljc1NjggMTEuNTgwOCAxOC41NDc2IDEzLjM3MTcgMTguNTQ3NiAxNS41ODA4VjE4LjAwMzNDMTguNTQ3NiAxOS4xMDc5IDE3LjY1MjIgMjAuMDAzMyAxNi41NDc2IDIwLjAwMzNIMy41QzIuMzk1NDMgMjAuMDAzMyAxLjUgMTkuMTA3OSAxLjUgMTguMDAzM1YxNS41ODA4WiIvPgo8L21hc2s+CjxwYXRoIGQ9Ik0xLjUgMTUuNTgwOEMxLjUgMTMuMzcxNyAzLjI5MDg2IDExLjU4MDggNS41IDExLjU4MDhIMTQuNTQ3NkMxNi43NTY4IDExLjU4MDggMTguNTQ3NiAxMy4zNzE3IDE4LjU0NzYgMTUuNTgwOFYxOC4wMDMzQzE4LjU0NzYgMTkuMTA3OSAxNy42NTIyIDIwLjAwMzMgMTYuNTQ3NiAyMC4wMDMzSDMuNUMyLjM5NTQzIDIwLjAwMzMgMS41IDE5LjEwNzkgMS41IDE4LjAwMzNWMTUuNTgwOFoiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iNiIgbWFzaz0idXJsKCNwYXRoLTEtaW5zaWRlLTEpIi8+CjxwYXRoIGQ9Ik0xMy44NTExIDUuMjY0MDZDMTMuODUxMSA3LjMyNjAzIDEyLjE1NDUgOS4wMjgxMiAxMC4wMjM3IDkuMDI4MTJDNy44OTI5NyA5LjAyODEyIDYuMTk2MzUgNy4zMjYwMyA2LjE5NjM1IDUuMjY0MDZDNi4xOTYzNSAzLjIwMjA5IDcuODkyOTcgMS41IDEwLjAyMzcgMS41QzEyLjE1NDUgMS41IDEzLjg1MTEgMy4yMDIwOSAxMy44NTExIDUuMjY0MDZaIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjMiLz4KPC9nPgo8L3N2Zz4K",e),this.ImageOtherwise=WorkflowDesignerCommon.loadImage("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE0LjI2OTEgMTEuNzI1NUw1LjM3MDQ5IDEuMjA5MTgiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMyIvPgo8bGluZSB5MT0iLTEuNSIgeDI9IjIwIiB5Mj0iLTEuNSIgdHJhbnNmb3JtPSJtYXRyaXgoLTEuMTUwNDdlLTA2IDEgLTEgLTMuMDY3MTFlLTA2IDEyLjE4OTQgMCkiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMyIvPgo8L3N2Zz4K",e)},this.ItemControls=new Array,this.draw=function(){null!=this.ItemControls&&this.ItemControls.forEach(function(e){e.destroy()}),this.ItemControls=new Array;var o=this;null!=this.graph.data.Transitions&&this.graph.data.Transitions.forEach(function(e){var t,i,n,r;e.DesignerSettings.Hidden||(i=(t=o.graph.GetComponentByType("WorkflowDesignerActivityManager")).find(e.From),r=e.DesignerSettings.OverwriteActivityTo?e.DesignerSettings.OverwriteActivityTo:e.To,n=t.find(r),r=!1,null==i&&null!=e.From&&e.From.DesignerSettings.Group!=o.graph.Settings.group&&(i=t.findGroup(e.From.DesignerSettings.Group,o.graph.Settings.group),r=!0),null==n&&null!=e.To&&e.To.DesignerSettings.Group!=o.graph.Settings.group&&(n=t.findGroup(e.To.DesignerSettings.Group,o.graph.Settings.group),r=!0),null!=i&&null!=n&&(r&&i==n||(r=new WorkflowDesignerTransitionControl({from:i,to:n,item:e,graph:o.graph,manager:o,group:r}),o.ItemControls.push(r),r.Draw())))}),this.batchDraw()},this.batchDraw=function(){this.CorrectItems(),this.Layer.batchDraw(),this.APLayer.batchDraw()},this.CorrectItems=function(){for(var e=0;e<this.ItemControls.length;e++)for(var t,i=this.ItemControls[e],n=0;n<this.ItemControls.length;n++){e!=n&&(t=this.ItemControls[n],i.start.x==t.start.x&&i.start.y==t.start.y&&(t.start.x+=5),i.end.x==t.end.x&&i.end.y==t.end.y&&(t.end.x+=5),i.middle.x==t.middle.x&&i.middle.y==t.middle.y&&(t.middle.x+=15))}},this.getIntersectingActivity=function(e){return this.graph.GetComponentByType("WorkflowDesignerActivityManager").getIntersectingActivity(e)},this.LayerSetOffset=function(e){this.Layer.setOffset(e),this.APLayer.setOffset(e)},this.LayerScale=function(e){e.scale;e=e.delta;this.Layer.setScale({x:this.Layer.getScale().x+e,y:this.Layer.getScale().y+e}),this.APLayer.setScale({x:this.APLayer.getScale().x+e,y:this.APLayer.getScale().y+e})},this.LayerScaleNorm=function(){this.Layer.setScale({x:1,y:1}),this.Layer.setOffset({x:0,y:0}),this.APLayer.setScale({x:1,y:1}),this.APLayer.setOffset({x:0,y:0})},this.DeselectAll=function(){this.ItemControls.forEach(function(e){e.Deselect()})},this.SelectAll=function(){this.ItemControls.forEach(function(e){e.Select()})},this.GetSelected=function(){var t=new Array;return this.ItemControls.forEach(function(e){e.selected&&t.push(e)}),t},this.SelectByPosition=function(t){this.ItemControls.forEach(function(e){e.getIntersectingRect(t)&&e.Select()})},this.SelectByItem=function(t){this.ItemControls.forEach(function(e){e.item==t&&e.Select()})},this.CreateNewTransition=function(t,e){var i=this;if(null==e){var n={x:t.control.getX()+t.rectangle.attrs.width,y:t.control.getY()+t.rectangle.attrs.height/2},r=new WorkflowDesignerTransitionManagerTempControl({x:n.x,y:n.y,manager:this});r.Draw(n.x+10,n.y),this.batchDraw();function o(e){e=i.graph.CorrectPosition({x:e.evt.offsetX,y:e.evt.offsetY},i.Layer);r.Redraw(e),i.Layer.batchDraw()}var s=function(e){e={x:e.evt.offsetX,y:e.evt.offsetY},e=i.getIntersectingActivity(e);null!=e&&i.CreateNewTransition(t,e),r.Delete(),i.graph.Stage.off("mousemove.WorkflowDesignerTransitionManagerTempControl",o),i.graph.Stage.off("mouseup.WorkflowDesignerTransitionManagerTempControl",s),i.batchDraw(),i.graph.StoreGraphData()};return this.graph.Stage.on("mousemove.WorkflowDesignerTransitionManagerTempControl",o),this.graph.Stage.on("mouseup.WorkflowDesignerTransitionManagerTempControl",s),r}n={Name:this.GetDefaultName(t.GetName(),e.GetName()),From:t.item,To:e.item,Trigger:{Type:"Auto"},Conditions:[{Type:"Always"}],AllowConcatenationType:"And",RestrictConcatenationType:"And",ConditionsConcatenationType:"And",Classifier:"NotSpecified",DesignerSettings:{}},e=new WorkflowDesignerTransitionControl({from:t,to:e,item:n,graph:i.graph,manager:i});return i.ItemControls.push(e),i.graph.data.Transitions.push(n),e.Draw(),e},this.GetDefaultName=function(e,t){for(var i=e+"_"+t+"_",n=1,r=0;r<this.graph.data.Transitions.length;r++){this.graph.data.Transitions[r].Name==i+n&&(n++,r=-1)}return i+n},this.ShowProperties=function(t,e){this.propertyWindow&&(this.propertyWindow.hide(),this.propertyWindow.destroy());var i=this,n={move:!0,resize:!0,savePosition:!0,class:"WorkflowDesignerTransition",onSuccess:function(e){t.Name=e.Name,t.From={Name:e.From},t.InlinedFinalActivityName=e.InlinedFinalActivityName,t.To={Name:e.To},t.Classifier=e.Classifier,t.Trigger=WorkflowDesignerCommon.clone(e.Trigger),t.ConditionsConcatenationType=e.ConditionsConcatenationType,t.AllowConcatenationType=e.AllowConcatenationType,t.RestrictConcatenationType=e.RestrictConcatenationType,t.Conditions=WorkflowDesignerCommon.clone(e.Conditions),t.Restrictions=WorkflowDesignerCommon.clone(e.Restrictions),t.Annotations=WorkflowDesignerCommon.clone(e.Annotations),t.IsFork=e.IsFork,t.MergeViaSetState=e.MergeViaSetState,t.DisableParentStateControl=e.DisableParentStateControl,t.SubprocessInOutDefinition=e.SubprocessInOutDefinition,t.SubprocessName=e.SubprocessName,t.SubprocessId=e.SubprocessId,t.SubprocessStartupType=e.SubprocessStartupType,t.SubprocessStartupParameterCopyStrategy=e.SubprocessStartupParameterCopyStrategy,t.SubprocessFinalizeParameterMergeStrategy=e.SubprocessFinalizeParameterMergeStrategy,t.SubprocessSpecifiedParameters=e.SubprocessSpecifiedParameters,WorkflowDesignerCommon.DataCorrection(i.graph.data),i.graph.Draw(i.graph.data),i.graph.StoreGraphData()}};this.propertyWindow=this.graph.CreateWindow("transition",n),this.propertyWindow.show("transition",t)}}function WorkflowDesignerActivityControl(r){var o=this;this.manager=r.manager,this.graph=r.graph,this.x=r.x,this.y=r.y,this.group=r.group,this.item=r.item,this.control=void 0,this.rectangle=void 0,this.text=void 0,this.createTransitionAndActivityButton=void 0,this.createTransitionButton=void 0,this.selected=!1,this.dependentTransitions=new Array,this.getX=function(){return this.rectangle.attrs.x+this.control.attrs.x},this.getY=function(){return this.rectangle.attrs.y+this.control.attrs.y},this.GetName=function(){return this.group&&null!==this.item.FirstTimeInlineName&&void 0!==this.item.FirstTimeInlineName?this.item.FirstTimeInlineName:this.item.Name},this.SetName=function(e){this.item.Name=e},this.Draw=function(){var e,t,i=o.graph.Settings,n=!o.graph.Settings.disableobjectmovements;null!=this.graph.Settings.drawElements&&null!=this.graph.Settings.drawElements.activity&&!1!==this.graph.Settings.drawElements.activity(this)||(o.control=new Konva.Group({x:r.x,y:r.y,rotation:0,draggable:n,dragBoundFunc:function(e){i.DefaultMoveStep,o.manager.Layer.getScaleX();var t=i.DefaultMoveStep*o.manager.Layer.getScaleY(),e={x:Math.round(e.x/t)*t,y:Math.round(e.y/t)*t};return o.selected&&(t=this.getAbsolutePosition(),o.manager.ObjectMove({sender:o,changepos:{x:e.x-t.x,y:e.y-t.y}})),e}}),e=WorkflowDesignerConstants.ActivityColor,t=WorkflowDesignerConstants.ActivityTextColor,o.item.IsFinal&&(e=WorkflowDesignerConstants.ActivityFinalColor,t=WorkflowDesignerConstants.ActivityFinalTextColor),o.item.IsInitial&&(e=WorkflowDesignerConstants.ActivityInitialColor,t=WorkflowDesignerConstants.ActivityInitialTextColor),(this.group?o.graph.IsGroupActive(o.item.DesignerSettings.Group):o.graph.GetCurrentActivity()==o.item.Name)&&(e=WorkflowDesignerConstants.SelectColor,t=WorkflowDesignerConstants.SelectTextColor),o.graph.isCurrentActivityForSubprocess(o.item.Name)&&(e=WorkflowDesignerConstants.SelectSubProcessColor,t=WorkflowDesignerConstants.SelectSubProcessTextColor),n="Inline"===this.item.ActivityType||this.group,o.rectangle=new Konva.Rect({x:0,y:0,width:this.graph.Settings.DefaultActivityWidth,height:this.graph.Settings.DefaultActivityHeight,fill:e,cornerRadius:5,dash:n?[8,4]:void 0,stroke:n?WorkflowDesignerConstants.ActivityShape:void 0,strokeWidth:n?4:0}),o.control.add(o.rectangle),this.group||(Array.isArray(o.item.Implementation)&&0<o.item.Implementation.length&&o.control.add(new Konva.Text({x:o.rectangle.attrs.width-20,y:38,text:"E",fontSize:12,fontFamily:"Arial",fill:t,fontStyle:"bold"})),Array.isArray(o.item.PreExecutionImplementation)&&0<o.item.PreExecutionImplementation.length&&o.control.add(new Konva.Text({x:o.rectangle.attrs.width-30,y:38,text:"P",fontSize:12,fontFamily:"Arial",fill:t,fontStyle:"bold"}))),o.text=new Konva.Text({x:10,y:10,text:this.GetName(),fontSize:12,fontFamily:"Arial",fontStyle:"bold",fill:t}),null==o.item.State&&(o.item.State=""),e=this.group?o.item.OriginalSchemeCode:o.item.State,n&&(o.control.add(new Konva.Text({x:o.rectangle.attrs.width-20,y:10,text:"I",fontSize:12,fontFamily:"Arial",fill:t,fontStyle:"bold"})),null!=o.item.SchemeCode&&(e=o.item.SchemeCode)),o.stateText=new Konva.Text({x:10,y:25,text:e,fontSize:12,fontFamily:"Arial",fill:t}),o.control.add(o.text),o.control.add(o.stateText),e="",1==o.item.IsInitial&&(0<e.length&&(e+=" "),e+=WorkflowDesignerConstants.ActivityFormLabel.IsInitial),1==o.item.IsFinal&&(0<e.length&&(e+=" "),e+=WorkflowDesignerConstants.ActivityFormLabel.IsFinal),1==o.graph.getParam("exinfo")&&(o.createExInfo(o.control),1==o.item.IsForSetState&&(0<e.length&&(e+=" - "),e+=WorkflowDesignerConstants.ActivityFormLabel.IsForSetState)),""!=e&&(o.typeText=new Konva.Text({x:10,y:40,text:e,fontSize:12,fontFamily:"Arial",fill:t}),o.control.add(o.typeText)),o.graph.Settings.disableobjectmovements||(this.control.on("dragend",this.Sync),this.control.on("dragmove",this._onMove),this.control.on("click",this._onClick),this.control.on("touchend",this._onClick)),this.control.on("dblclick",this._onDblClick),e=[],o.graph.Settings.notshowwindows||e.push({img:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC44MjkzIDVDMTAuNDE3NSA2LjE2NTE5IDkuMzA2MjIgNyA4IDdDNi42OTM3OCA3IDUuNTgyNTQgNi4xNjUxOSA1LjE3MDcxIDVIMkMxLjQ0NzcyIDUgMSA0LjU1MjI4IDEgNEMxIDMuNDQ3NzIgMS40NDc3MiAzIDIgM0g1LjE3MDcxQzUuNTgyNTQgMS44MzQ4MSA2LjY5Mzc4IDEgOCAxQzkuMzA2MjIgMSAxMC40MTc1IDEuODM0ODEgMTAuODI5MyAzSDE4QzE4LjU1MjMgMyAxOSAzLjQ0NzcyIDE5IDRDMTkgNC41NTIyOCAxOC41NTIzIDUgMTggNUgxMC44MjkzWk05IDRDOSA0LjU1MjI4IDguNTUyMjggNSA4IDVDNy40NDc3MiA1IDcgNC41NTIyOCA3IDRDNyAzLjQ0NzcyIDcuNDQ3NzIgMyA4IDNDOC41NTIyOCAzIDkgMy40NDc3MiA5IDRaTTE2LjgyOTMgMTFDMTYuNDE3NSAxMi4xNjUyIDE1LjMwNjIgMTMgMTQgMTNDMTIuNjkzOCAxMyAxMS41ODI1IDEyLjE2NTIgMTEuMTcwNyAxMUgyQzEuNDQ3NzIgMTEgMSAxMC41NTIzIDEgMTBDMSA5LjQ0NzcyIDEuNDQ3NzIgOSAyIDlIMTEuMTcwN0MxMS41ODI1IDcuODM0ODEgMTIuNjkzOCA3IDE0IDdDMTUuMzA2MiA3IDE2LjQxNzUgNy44MzQ4MSAxNi44MjkzIDlIMThDMTguNTUyMyA5IDE5IDkuNDQ3NzIgMTkgMTBDMTkgMTAuNTUyMyAxOC41NTIzIDExIDE4IDExSDE2LjgyOTNaTTE1IDEwQzE1IDEwLjU1MjMgMTQuNTUyMyAxMSAxNCAxMUMxMy40NDc3IDExIDEzIDEwLjU1MjMgMTMgMTBDMTMgOS40NDc3MiAxMy40NDc3IDkgMTQgOUMxNC41NTIzIDkgMTUgOS40NDc3MiAxNSAxMFpNNiAxOUM3LjMwNjIyIDE5IDguNDE3NDYgMTguMTY1MiA4LjgyOTI5IDE3SDE4QzE4LjU1MjMgMTcgMTkgMTYuNTUyMyAxOSAxNkMxOSAxNS40NDc3IDE4LjU1MjMgMTUgMTggMTVIOC44MjkyOUM4LjQxNzQ2IDEzLjgzNDggNy4zMDYyMiAxMyA2IDEzQzQuNjkzNzggMTMgMy41ODI1NCAxMy44MzQ4IDMuMTcwNzEgMTVIMkMxLjQ0NzcyIDE1IDEgMTUuNDQ3NyAxIDE2QzEgMTYuNTUyMyAxLjQ0NzcyIDE3IDIgMTdIMy4xNzA3MUMzLjU4MjU0IDE4LjE2NTIgNC42OTM3OCAxOSA2IDE5Wk02IDE3QzYuNTUyMjggMTcgNyAxNi41NTIzIDcgMTZDNyAxNS40NDc3IDYuNTUyMjggMTUgNiAxNUM1LjQ0NzcyIDE1IDUgMTUuNDQ3NyA1IDE2QzUgMTYuNTUyMyA1LjQ0NzcyIDE3IDYgMTdaIiBmaWxsPSIjMzMzMzMzIi8+Cjwvc3ZnPgo=",click:function(){o.ShowProperties()}}),o.graph.Settings.readonly||o.group||(e.push({img:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIgOUMxLjQ0NzcyIDkgMSA5LjQ0NzcyIDEgMTBDMSAxMC41NTIzIDEuNDQ3NzIgMTEgMiAxMVY5Wk0xNyAxMEwxNy43MDcxIDEwLjcwNzFMMTguNDE0MiAxMEwxNy43MDcxIDkuMjkyODlMMTcgMTBaTTEzLjcwNzEgNS4yOTI4OUMxMy4zMTY2IDQuOTAyMzcgMTIuNjgzNCA0LjkwMjM3IDEyLjI5MjkgNS4yOTI4OUMxMS45MDI0IDUuNjgzNDIgMTEuOTAyNCA2LjMxNjU4IDEyLjI5MjkgNi43MDcxMUwxMy43MDcxIDUuMjkyODlaTTEyLjI5MjkgMTMuMjkyOUMxMS45MDI0IDEzLjY4MzQgMTEuOTAyNCAxNC4zMTY2IDEyLjI5MjkgMTQuNzA3MUMxMi42ODM0IDE1LjA5NzYgMTMuMzE2NiAxNS4wOTc2IDEzLjcwNzEgMTQuNzA3MUwxMi4yOTI5IDEzLjI5MjlaTTIgMTFIMTdWOUgyVjExWk0xMi4yOTI5IDYuNzA3MTFMMTYuMjkyOSAxMC43MDcxTDE3LjcwNzEgOS4yOTI4OUwxMy43MDcxIDUuMjkyODlMMTIuMjkyOSA2LjcwNzExWk0xMy43MDcxIDE0LjcwNzFMMTcuNzA3MSAxMC43MDcxTDE2LjI5MjkgOS4yOTI4OUwxMi4yOTI5IDEzLjI5MjlMMTMuNzA3MSAxNC43MDcxWiIgZmlsbD0iIzMzMzMzMyIvPgo8L3N2Zz4K",click:function(){o._onCreateTransition()}}),e.push({img:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEgOC45OTk5NkMwLjQ0NzcxNSA4Ljk5OTk2IDAgOS40NDc2NyAwIDkuOTk5OTZDMCAxMC41NTIyIDAuNDQ3NzE1IDExIDEgMTFWOC45OTk5NlpNMTMgOS45OTk5NkwxMy43MDcxIDEwLjcwNzFDMTMuODk0NiAxMC41MTk1IDE0IDEwLjI2NTIgMTQgOS45OTk5NkMxNCA5LjczNDc0IDEzLjg5NDYgOS40ODAzOSAxMy43MDcxIDkuMjkyODVMMTMgOS45OTk5NlpNMTAuNzA3MSA2LjI5Mjg1QzEwLjMxNjYgNS45MDIzMyA5LjY4MzQyIDUuOTAyMzMgOS4yOTI4OSA2LjI5Mjg1QzguOTAyMzcgNi42ODMzOCA4LjkwMjM3IDcuMzE2NTQgOS4yOTI4OSA3LjcwNzA3TDEwLjcwNzEgNi4yOTI4NVpNOS4yOTI4OSAxMi4yOTI5QzguOTAyMzcgMTIuNjgzNCA4LjkwMjM3IDEzLjMxNjUgOS4yOTI4OSAxMy43MDcxQzkuNjgzNDIgMTQuMDk3NiAxMC4zMTY2IDE0LjA5NzYgMTAuNzA3MSAxMy43MDcxTDkuMjkyODkgMTIuMjkyOVpNMiA1Ljk5OTk2QzIgNi41NTIyNCAyLjQ0NzcyIDYuOTk5OTYgMyA2Ljk5OTk2QzMuNTUyMjkgNi45OTk5NiA0IDYuNTUyMjQgNCA1Ljk5OTk2TDIgNS45OTk5NlpNMyA0TDMgM0MyLjQ0NzcyIDMgMiAzLjQ0NzcyIDIgNEwzIDRaTTE5IDRIMjBDMjAgMy43MzQ3OCAxOS44OTQ2IDMuNDgwNDMgMTkuNzA3MSAzLjI5Mjg5QzE5LjUxOTYgMy4xMDUzNiAxOS4yNjUyIDMgMTkgM0wxOSA0Wk0zIDE2TDIgMTZDMiAxNi4yNjUyIDIuMTA1MzYgMTYuNTE5NSAyLjI5Mjg5IDE2LjcwNzFDMi40ODA0MyAxNi44OTQ2IDIuNzM0NzggMTcgMyAxN0wzIDE2Wk00IDE0QzQgMTMuNDQ3NyAzLjU1MjI5IDEzIDMgMTNDMi40NDc3MiAxMyAyIDEzLjQ0NzcgMiAxNEw0IDE0Wk0xOSAxNkwxOSAxN0MxOS41NTIzIDE3IDIwIDE2LjU1MjIgMjAgMTZIMTlaTTEgMTFIMTNWOC45OTk5NkgxVjExWk05LjI5Mjg5IDcuNzA3MDdMMTIuMjkyOSAxMC43MDcxTDEzLjcwNzEgOS4yOTI4NUwxMC43MDcxIDYuMjkyODVMOS4yOTI4OSA3LjcwNzA3Wk0xMC43MDcxIDEzLjcwNzFMMTMuNzA3MSAxMC43MDcxTDEyLjI5MjkgOS4yOTI4NUw5LjI5Mjg5IDEyLjI5MjlMMTAuNzA3MSAxMy43MDcxWk00IDUuOTk5OTZMNCA0TDIgNEwyIDUuOTk5OTZMNCA1Ljk5OTk2Wk0zIDVMMTkgNUwxOSAzTDMgM0wzIDVaTTQgMTZMNCAxNEwyIDE0TDIgMTZMNCAxNlpNMTggNFYxNkgyMFY0SDE4Wk0xOSAxNUwzIDE1TDMgMTdMMTkgMTdMMTkgMTVaIiBmaWxsPSIjMzMzMzMzIi8+Cjwvc3ZnPgo=",click:function(){o._onCreateTransitionAndActivity()}}),e.push({img:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDE0Ljk1NzFDOS43NjE0MiAxNC45NTcxIDEyIDEyLjcxODUgMTIgOS45NTcwOUMxMiA3LjE5NTY3IDkuNzYxNDIgNC45NTcwOSA3IDQuOTU3MDlDNC4yMzg1OCA0Ljk1NzA5IDIgNy4xOTU2NyAyIDkuOTU3MDlDMiAxMi43MTg1IDQuMjM4NTggMTQuOTU3MSA3IDE0Ljk1NzFaTTcgMTYuOTU3MUMxMC44NjYgMTYuOTU3MSAxNCAxMy44MjMxIDE0IDkuOTU3MDlDMTQgNi4wOTExIDEwLjg2NiAyLjk1NzA5IDcgMi45NTcwOUMzLjEzNDAxIDIuOTU3MDkgMCA2LjA5MTEgMCA5Ljk1NzA5QzAgMTMuODIzMSAzLjEzNDAxIDE2Ljk1NzEgNyAxNi45NTcxWiIgZmlsbD0iIzMzMzMzMyIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTExLjk5OTIgMTQuODU2OUMxMS40MjUyIDE1LjQ0MjQgMTAuNzQ5MyAxNS45Mjc1IDEwIDE2LjI4MzVDMTAuOTA5MyAxNi43MTU0IDExLjkyNjQgMTYuOTU3MSAxMyAxNi45NTcxQzE2Ljg2NiAxNi45NTcxIDIwIDEzLjgyMzEgMjAgOS45NTcwOUMyMCA2LjA5MTEgMTYuODY2IDIuOTU3MDkgMTMgMi45NTcwOUMxMS45MjY0IDIuOTU3MDkgMTAuOTA5MyAzLjE5ODc4IDEwIDMuNjMwNzJDMTAuNzQ5MiAzLjk4NjY1IDExLjQyNTIgNC40NzE3NyAxMS45OTkyIDUuMDU3MjhDMTIuMzIyNSA0Ljk5MTU4IDEyLjY1NzIgNC45NTcwOSAxMyA0Ljk1NzA5QzE1Ljc2MTQgNC45NTcwOSAxOCA3LjE5NTY3IDE4IDkuOTU3MDlDMTggMTIuNzE4NSAxNS43NjE0IDE0Ljk1NzEgMTMgMTQuOTU3MUMxMi42NTcyIDE0Ljk1NzEgMTIuMzIyNSAxNC45MjI2IDExLjk5OTIgMTQuODU2OVoiIGZpbGw9IiMzMzMzMzMiIGZpbGwtb3BhY2l0eT0iMC42Ii8+Cjwvc3ZnPgo=",click:function(){o.manager.Clone(o)}}),e.push({img:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTUuNzkyODYgMy45NTcwOEM1LjQwMjM0IDMuNTY2NTUgNC43NjkxNyAzLjU2NjU1IDQuMzc4NjUgMy45NTcwOEMzLjk4ODEzIDQuMzQ3NiAzLjk4ODEzIDQuOTgwNzcgNC4zNzg2NSA1LjM3MTI5TDguODc4NjggOS45NTcxTDQuMjkyODkgMTQuNTQyOUMzLjkwMjM3IDE0LjkzMzQgMy45MDIzNyAxNS41NjY2IDQuMjkyODkgMTUuOTU3MUM0LjY4MzQyIDE2LjM0NzYgNS4zMTY1OCAxNi4zNDc2IDUuNzA3MTEgMTUuOTU3MUwxMC4yOTI5IDExLjM3MTNMMTQuODc4NyAxNS45NTcxQzE1LjI2OTIgMTYuMzQ3NiAxNS45MDI0IDE2LjM0NzYgMTYuMjkyOSAxNS45NTcxQzE2LjY4MzQgMTUuNTY2NiAxNi42ODM0IDE0LjkzMzQgMTYuMjkyOSAxNC41NDI5TDExLjcwNzEgOS45NTcxTDE2LjI5MjkgNS4zNzEzQzE2LjY4MzQgNC45ODA3OCAxNi42ODM0IDQuMzQ3NjEgMTYuMjkyOSAzLjk1NzA5QzE1LjkwMjQgMy41NjY1NiAxNS4yNjkyIDMuNTY2NTYgMTQuODc4NyAzLjk1NzA5TDEwLjI5MjkgOC41NDI4OEw1Ljc5Mjg2IDMuOTU3MDhaIiBmaWxsPSIjMzMzMzMzIi8+Cjwvc3ZnPgo=",click:function(){o._onDelete()}})),0<e.length&&(t={x:o.rectangle.getWidth()-30*e.length-14,y:-40},o.bar=WorkflowDesignerBar(o.manager.Layer,e,t),o.control.add(o.bar),o.bar.hide()),o.manager.Layer.add(o.control))},this.Delete=function(){this.control.destroy(),this.graph.data.Activities.splice(this.graph.data.Activities.indexOf(this.item),1),this.manager.ItemControls.splice(this.manager.ItemControls.indexOf(this),1);for(var e=new Array,t=0;t<this.dependentTransitions.length;t++)e.push(this.dependentTransitions[t]);for(t=0;t<e.length;t++)e[t].Delete()},this.Select=function(){this.selected||(this.rectangle.setStrokeWidth(4),this.rectangle.setStroke(WorkflowDesignerConstants.SelectColor),null!=this.bar&&this.bar.show(),this.selected=!0)},this.Deselect=function(){var e;this.selected&&(e="Inline"===this.item.ActivityType||this.group,this.rectangle.setStrokeWidth(e?4:0),this.rectangle.setStroke(e?WorkflowDesignerConstants.ActivityShape:this.rectangle.fill()),null!=o.bar&&o.bar.hide(),this.selected=!1)},this.ObjectMove=function(e){var t=this.control.getAbsolutePosition();if(t.x+=e.x,t.y+=e.y,this.control.setAbsolutePosition(t),this.Sync(),!(o.dependentTransitions.length<1))for(var i=0;i<o.dependentTransitions.length;i++){var n=o.dependentTransitions[i];n.middle=void 0,n.item.DesignerSettings={},n.Draw()}};function s(){o.control&&o.control.moveToTop(),o.bar&&o.bar.moveToTop(),o.manager.Layer.moveToTop()}this._onMove=function(){if(!(o.dependentTransitions.length<1)){s();var e,t=!1;null==o.oldpos?o.oldpos=o.control.getPosition():(e=o.control.getPosition(),(20<Math.abs(e.x-o.oldpos.x)||20<Math.abs(e.y-o.oldpos.y))&&(t=!0));for(var i=0;i<o.dependentTransitions.length;i++){var n=o.dependentTransitions[i];t&&(n.middle=void 0,n.item.DesignerSettings={}),n.Draw()}o.manager.redrawTransitions()}},this._onClick=function(e){var t=o.selected;e.evt.ctrlKey||o.graph.DeselectAll(),t?o.Deselect():o.Select(),o.graph.onSelectionChanged(!t),s(),o.manager.batchDraw()},this._onDblClick=function(){o.graph.DeselectAll(),o.Select(),o.manager.batchDraw(),o.graph.Settings.notshowwindows||o.ShowProperties()},this._onDelete=function(){var e=this;e.graph.confirm(WorkflowDesignerConstants.DeleteConfirmCurrent,function(){e.Delete(),e.graph.onSelectionChanged(),e.graph.redrawAll(),e.graph.StoreGraphData()})},this._onCreateTransitionAndActivity=function(){o.manager.createTransitionAndActivity(o),o.graph.StoreGraphData()},this._onCreateTransition=function(){o.manager.createTransition(o)},this.RegisterTransition=function(e){for(var t=!1,i=0;i<this.dependentTransitions.length;i++)if(this.dependentTransitions[i].GetName()==e.GetName()){t=!0;break}t||this.dependentTransitions.push(e)},this.UnregisterTransition=function(e){for(var t=new Array,i=0;i<this.dependentTransitions.length;i++)this.dependentTransitions[i].GetName()!=e.GetName()&&t.push(this.dependentTransitions[i]);this.dependentTransitions=t},this.RegisterTransition=function(e){for(var t=!1,i=0;i<this.dependentTransitions.length;i++)if(this.dependentTransitions[i].GetName()==e.GetName()){t=!0;break}t||this.dependentTransitions.push(e)},this.UnregisterTransition=function(e){for(var t=new Array,i=0;i<this.dependentTransitions.length;i++)this.dependentTransitions[i].GetName()!=e.GetName()&&t.push(this.dependentTransitions[i]);this.dependentTransitions=t},this.getRectPos=function(){var e=this.rectangle.getAbsolutePosition(),t=e.x,e=e.y;return{xl:t,yl:e,xr:t+this.rectangle.getWidth()*this.manager.Layer.getScaleX(),yr:e+this.rectangle.getHeight()*this.manager.Layer.getScaleY()}},this.getIntersectingActivity=function(e){var t=this.getRectPos();return e.x>=t.xl&&e.x<t.xr&&e.y>=t.yl&&e.y<t.yr},this.getIntersectingActivityRect=function(e){var t=this.getRectPos();return!(e.xl>t.xr||e.xr<t.xl||e.yl>t.yr||e.yr<t.yl)},this.ShowProperties=function(){this.manager.ShowProperties(this.item,this)},this.Sync=function(){var e;o.group?(null==o.item.DesignerSettings.InlineElementSettings&&(o.item.DesignerSettings.InlineElementSettings={}),e=o.control.getPosition(),o.item.DesignerSettings.InlineElementSettings.X=e.x,o.item.DesignerSettings.InlineElementSettings.Y=e.y):(null==o.item.DesignerSettings&&(o.item.DesignerSettings={}),e=o.control.getPosition(),o.item.DesignerSettings.X=e.x,o.item.DesignerSettings.Y=e.y),o.oldpos=void 0},this.createExInfo=function(e){var t="";Array.isArray(o.item.Implementation)&&0<o.item.Implementation.length&&o.item.Implementation.forEach(function(e){0<t.length&&(t+=", "),t+=e.ActionName});var i,n="";Array.isArray(o.item.PreExecutionImplementation)&&0<o.item.PreExecutionImplementation.length&&(o.item.PreExecutionImplementation.forEach(function(e){0<n.length&&(n+=", "),n+=e.ActionName}),""==t&&(t=WorkflowDesignerConstants.None)),0<t.length&&(i=new Konva.Text({x:10,y:this.graph.Settings.DefaultActivityHeight+5,text:t,fontFamily:"Arial",fontSize:12,fill:"#4A4A4A",fontStyle:"bold"}),e.add(i),0<n.length&&(i=new Konva.Text({x:10,y:this.graph.Settings.DefaultActivityHeight+i.getHeight()+5,text:n,fontFamily:"Arial",fontSize:12,fill:"#4A4A4A",fontStyle:"italic"}),e.add(i)))},this.destroy=function(){this.control.destroy(),this.bar&&this.bar.destroy()}}function WorkflowGraph(e,t,i,n){var f=this;f.container=e,f.designer=t,f.suggestionsCache=new Object,f.parametersCache=new Object,null==i&&(i=new Object),null==i.Container&&(i.Container="container"),null==i.graphwidth&&(i.graphwidth=1024),null==i.graphheight&&(i.graphheight=768),null==i.DefaultActivityWidth&&(i.DefaultActivityWidth=200),null==i.DefaultActivityHeight&&(i.DefaultActivityHeight=60),null==i.DefaultMoveStep&&(i.DefaultMoveStep=10),this.Settings=i,this.Settings.ContainerStage=this.container+"_stage",$("#"+this.container).append("<div id='"+this.Settings.ContainerStage+"' class='workflowenginecontainerstage'></div>"),this.Stage=new Konva.Stage({container:this.Settings.ContainerStage,width:parseInt(this.Settings.graphwidth),height:parseInt(this.Settings.graphheight)}),this.getParam=function(e){e=this.designer.getParam(e);return"true"===e||"false"!==e&&e},this.setParam=function(e,t){this.designer.setParam(e,t)},this.Windows={},this.CurrentFrontWindow="",this.BringWindowToFront=function(e){this.Windows[e]&&(this.Windows[this.CurrentFrontWindow]&&this.Windows[this.CurrentFrontWindow].bringToBack(),this.Windows[e].bringToFront(),this.CurrentFrontWindow=e)},this.CreateWindow=function(e,t){e=this.designer.GetName()+"_"+e;return this.Windows[e]&&this.Windows[e].destroy(),this.Windows[e]=new WorkflowDesignerWindow(this,e,t),this.BringWindowToFront(e),this.Windows[e]},this.CreateAndShow=function(e,t,i,n){var r=this.Windows[e]||this.Windows[this.designer.GetName()+"_"+e];return(r=r||this.CreateWindow(e,t)).show(i,n),r},this.showConfirm=function(e){e=Object.assign(e,{visible:!0});this.CreateAndShow("confirmDialog",{move:!1,resize:!1,savePosition:!1,class:"WorkflowDesignerConfirmContainer",notclose:!0},"confirmDialog",e)},this.Components=new Array,this.AddComponent=function(e){e=new e;return e.init(this),f.Components.push(e),e},this.GetComponentByType=function(e){for(var t=0;t<this.Components.length;t++)if(this.Components[t].type==e)return this.Components[t]},this.ComponentsExecute=function(t,i){f.Components.forEach(function(e){e[t]&&e[t](i)})},n&&n.forEach(function(e){f.AddComponent(e)}),this.Draw=function(e){null!=e&&(f.data=e,0==f.graphData.length&&f.StoreGraphData(),f.onSelectionChanged()),f.ComponentsExecute("draw")},this.GraphLayerSetOffset=function(e,t){f.ComponentsExecute("LayerSetOffset",{x:e,y:t}),f.redrawAll()},this.GraphLayerScale=function(e,t){null==f._bg&&(f._bg=f.GetComponentByType("WorkflowDesignerBackground"));var i=f._bg.BackgroundLayer.getScale(),n=i.x+e;.3<n&&n<2&&(f.ComponentsExecute("LayerScale",{scale:i.x,delta:e}),null!=t&&f.ComponentsExecute("setPosition",t),f.redrawAll())},this.GraphLayerScaleNorm=function(){f.ComponentsExecute("LayerScaleNorm",1),f.redrawAll()},this.GraphUpdatePosition=function(e){null==f._bg&&(f._bg=f.GetComponentByType("WorkflowDesignerBackground")),f._bg.updatePosition(e),f.redrawAll()},this.Refresh=function(){f.designer.refresh()},this.onFullScreenClick=function(){void 0!==this.data.__loadParams&&this.data.__loadParams.isFullScreen?(this.setFullScreen(!1),this.data.__loadParams.isFullScreen=!1):(this.setFullScreen(!0),void 0===this.data.__loadParams&&(this.data.__loadParams={}),this.data.__loadParams.isFullScreen=!0),this.redrawAll()},this.resize=function(e,t){var i,n,r;this.isFullScreen?(this.originalWidth=e,this.originalHeight=t,i=$("#"+this.container),n=$(window).width()-2,r=$(window).height()-2,this.Stage.width(n),this.Stage.height(r),i.css({position:"absolute",top:0,left:0,width:n,height:r,"z-index":1e3,background:"white"})):(this.Stage.width(e),this.Stage.height(t))},this.setFullScreen=function(e){this.isFullScreen=e;var t,i=$("#"+this.container);e?(this.originalContainerStyle=i.attr("style"),null==this.originalContainerStyle&&(this.originalContainerStyle=""),this.originalWidth=this.Stage.width(),this.originalHeight=this.Stage.height(),t=$(window).width()-2,e=$(window).height()-2,this.Stage.hide(),this.Stage.width(t),this.Stage.height(e),i.css({position:"absolute",top:0,left:0,width:t,height:e,"z-index":1e3,background:"white"}),this.Stage.show()):null!=this.originalContainerStyle&&null!=this.originalWidth&&null!=this.originalHeight&&(this.Stage.hide(),i.attr("style",this.originalContainerStyle),i.css({position:"relative"}),this.Stage.width(this.originalWidth),this.Stage.height(this.originalHeight),this.Stage.show())},this.DeselectAll=function(){f.ComponentsExecute("DeselectAll"),f.onSelectionChanged(!1),f.redrawAll()},this.SelectAll=function(){f.ComponentsExecute("SelectAll"),f.onSelectionChanged(),f.redrawAll()},this.redrawAll=function(){null==this._toolbal&&(this._toolbal=f.GetComponentByType("WorkflowDesignerToolbar")),null!=this._toolbal&&this._toolbal.draw(),f.Stage.batchDraw()},this.CorrectPosition=function(e,t){return 0==t.getScaleX()||0==t.getScaleY()?{x:t.getOffsetX(),y:0}:{x:e.x/t.getScaleX()+t.getOffsetX(),y:e.y/t.getScaleY()+t.getOffsetY()}},this.DeleteSelected=function(){var e=this,t=new Array;this.Components.forEach(function(e){e.GetSelected&&(t=t.concat(e.GetSelected()))}),0<t.length&&e.confirm(WorkflowDesignerConstants.DeleteConfirm,function(){t.forEach(function(e){e.Delete()}),e.onSelectionChanged(!1),e.StoreGraphData(),e.redrawAll()})},this.confirm=function(e,t){confirm(e)&&t()},this.destroy=function(){for(var e in null!=this.originalContainerStyle&&$("#"+this.container).attr("style",this.originalContainerStyle),null!=this.data&&(null==this.data.__loadParams&&(this.data.__loadParams={}),this.data.__loadParams.graphData=this.graphData,this.data.__loadParams.graphDataIndex=this.graphDataIndex),this.Stage.destroy(),this.ComponentsExecute("destroy"),this.Windows)this.Windows[e].destroy&&this.Windows[e].destroy(),delete this.Windows[e]},this.GetCurrentActivity=function(){if(null!=f.data&&null!=f.data.AdditionalParams&&null!=f.data.AdditionalParams.ProcessParameters)for(var e=0;e<f.data.AdditionalParams.ProcessParameters.length;e++){var t=f.data.AdditionalParams.ProcessParameters[e];if("CurrentActivity"===t.Name)return t.Value}},this.isCurrentActivityForSubprocess=function(e){if(null==f.data||null==f.data.AdditionalParams||!Array.isArray(f.data.AdditionalParams.SubprocessCurrentActivities))return!1;for(var t=0;t<f.data.AdditionalParams.SubprocessCurrentActivities.length;t++)if(e===f.data.AdditionalParams.SubprocessCurrentActivities[t])return!0;return!1},this.IsGroupActive=function(e){var t=this.GetCurrentActivity();if(null==t)return!1;for(var i=0;i<f.data.Activities.length;i++){var n=f.data.Activities[i];if(t===n.Name)return f.CheckActive(n,e)}return!1},this.CheckActive=function(e,t){var i=e.DesignerSettings.Group;if(i===t)return!0;var n=null;if(void 0!==e.DesignerSettings.InlineElementSettings&&null!==e.DesignerSettings.InlineElementSettings&&void 0!==e.DesignerSettings.InlineElementSettings.Group&&null!==e.DesignerSettings.InlineElementSettings.Group)n=e;else for(var r=0;r<this.data.Activities.length;r++){var o=this.data.Activities[r];if(o.DesignerSettings.Group===i&&void 0!==o.DesignerSettings.InlineElementSettings&&null!==o.DesignerSettings.InlineElementSettings&&void 0!==o.DesignerSettings.InlineElementSettings.Group&&null!==o.DesignerSettings.InlineElementSettings.Group){n=o;break}}if(null===n)return!1;var s=n.DesignerSettings.InlineElementSettings.Group;if(s===t)return!0;for(var a=null,r=0;r<this.data.Activities.length;r++){var l=this.data.Activities[r];if(void 0!==l.DesignerSettings.InlineElementSettings&&null!==l.DesignerSettings.InlineElementSettings&&l.DesignerSettings.Group===s){a=l;break}}return null!==a&&this.CheckActive(a,t)},this.getActionParameterDefinition=function(e,t){for(var i=0;i<f.data.CodeActions.length;i++){var n=f.data.CodeActions[i];if(n.Type===t&&n.Name===e){if(n.ParameterDefinitions&&0<n.ParameterDefinitions.length)return n.ParameterDefinitions;break}}return f.getCodeactionParameter(t,e)},this.getActionNames=function(){for(var e=new Array,t=0;t<this.data.CodeActions.length;t++){var i=this.data.CodeActions[t];"action"===i.Type.toLowerCase()&&e.push(i.Name)}return this.data.AdditionalParams.Actions.concat(e)},this.getTimerNames=function(){for(var e=new Array,t=0;t<this.data.Timers.length;t++){var i=this.data.Timers[t];e.push(i.Name)}return e},this.getCommandNames=function(){for(var e=new Array,t=0;t<this.data.Commands.length;t++){var i=this.data.Commands[t];e.push(i.Name)}return e},this.getActorNames=function(){for(var e=new Array,t=0;t<this.data.Actors.length;t++){var i=this.data.Actors[t];e.push(i.Name)}return e},this.getConditionNames=function(){for(var e=new Array,t=0;t<this.data.CodeActions.length;t++){var i=this.data.CodeActions[t];"condition"===i.Type.toLowerCase()&&e.push(i.Name)}return this.data.AdditionalParams.Conditions.concat(e)},this.getActorRules=function(){for(var e=new Array,t=0;t<this.data.CodeActions.length;t++){var i=this.data.CodeActions[t];"ruleget"!==i.Type.toLowerCase()&&"rulecheck"!==i.Type.toLowerCase()||e.push(i.Name)}return this.unique(this.data.AdditionalParams.Rules.concat(e))},this.getTypeNames=function(){for(var e=new Array,t=0;t<this.data.Parameters.length;t++){var i=this.data.Parameters[t];e.push(decodeURIComponent(i.Type))}return this.unique(this.data.AdditionalParams.Types.concat(e))},this.getCodeactionParameter=function(e,t){var i=null;return void 0!==this.parametersCache[e]&&void 0!==this.parametersCache[e][t]?i=this.parametersCache[e][t]:(void 0===this.parametersCache[e]&&(this.parametersCache[e]=new Object),i=this.designer.requestcodeactionparameter(this.data.Name,e,t),this.parametersCache[e][t]=i),i},this.getAutoCompleteSuggestions2=function(e,t,i){var i=this.getAutoCompleteSuggestions(e,t,i),n=[];return i.forEach(function(e){n.push({value:e})}),n},this.getAutoCompleteSuggestions=function(e,t,i){var n;return void 0===t||""===t?new Array:(null!=this.suggestionsCache[e]&&null!=this.suggestionsCache[e][t]?n=this.suggestionsCache[e][t]:(null==this.suggestionsCache[e]&&(this.suggestionsCache[e]=new Object),n=this.designer.requestautocompletesuggestions(this.data.Name,e,t),this.suggestionsCache[e][t]=n),i?$.grep(n,function(e){return 0<=e.toLowerCase().indexOf(i.toLowerCase())}):n)},this.getNonSystemParameters=function(){for(var e=new Array,t=0;t<this.data.Parameters.length;t++){var i=this.data.Parameters[t];"system"!=i.Purpose.toLowerCase()&&e.push(i)}return e},this.unique=function(i){return $.grep(i,function(e,t){return t===$.inArray(e,i)})},this.setInlinedFlag=function(e){this.data.CanBeInlined=e,f.StoreGraphData()},this.graphData=[],this.graphDataIndex=-1,this.StoreGraphData=function(){var e=void 0;null!=this.data.__loadParams&&(e=this.data.__loadParams.graphData,this.data.__loadParams.graphData=void 0);var t=JSON.stringify(this.data);null!=e&&(this.data.__loadParams.graphData=e),(this.graphDataIndex<0||this.graphData[this.graphDataIndex]!=t)&&(this.graphDataIndex++,this.graphData.length>this.graphDataIndex&&this.graphData.splice(this.graphDataIndex,this.graphData.length-this.graphDataIndex),this.graphData.push(t),t=200,null!=WorkflowDesignerConstants.UndoDepth&&(t=WorkflowDesignerConstants.UndoDepth),this.graphData.length>t&&(this.graphData.splice(0,1),this.graphDataIndex--)),this.сheckToolbarButtonState()},this.ClearGraphData=function(){this.graphData=[],this.graphDataIndex=-1},this.Undo=function(){0<this.graphDataIndex&&this.changeGraphDataIndex(this.graphDataIndex-1)},this.Redo=function(){this.graphData.length>this.graphDataIndex&&this.changeGraphDataIndex(this.graphDataIndex+1)},this.changeGraphDataIndex=function(e){var t;this.graphData.length>e&&(t=JSON.parse(this.graphData[e]),WorkflowDesignerCommon.DataCorrection(t),this.designer.data=t,this.graphDataIndex=e,this.Draw(t)),this.сheckToolbarButtonState()},this.сheckToolbarButtonState=function(){null==this._toolbal&&(this._toolbal=f.GetComponentByType("WorkflowDesignerToolbar"));var e=this._toolbal;null!=e&&e.draw()},this.onSelectionChanged=function(e){null==this._toolbal&&(this._toolbal=f.GetComponentByType("WorkflowDesignerToolbar"));var t,i,n=this._toolbal;null!=n&&(e=null==e?(t=f.GetComponentByType("WorkflowDesignerActivityManager"),i=f.GetComponentByType("WorkflowDesignerTransitionManager"),t=t.GetSelected(),i=i.GetSelected(),0<t.length||0<i.length):e,this.selected=e,n.draw())},this.CreateActivity=function(e,t){var i=this.GetComponentByType("WorkflowDesignerActivityManager"),n=void 0;e&&(n=this.CorrectPosition(e,i.Layer)),i.CreateNewActivity(n,t),this.redrawAll(),this.StoreGraphData()},this.CreateInline=function(){this.GetComponentByType("WorkflowDesignerActivityManager").CreateNewInline(),this.redrawAll(),this.StoreGraphData()},this.CopySelectedGenUniqueValue=function(e,t,i){for(var n=e,r=1;;r++){for(var o=!1,s=0;s<t.length;s++)if(t[s][i]==n){o=!0;break}if(!o)break;n=e+"_"+r}return n},this.CopySelected=function(){var o,s,t=this.GetComponentByType("WorkflowDesignerActivityManager"),i=this.GetComponentByType("WorkflowDesignerTransitionManager"),e=t.GetSelected(),n=i.GetSelected();0==e.length&&0==n.length||(o=[],e.forEach(function(e){var t;e.group||((t=JSON.parse(JSON.stringify(e.item))).DesignerSettings.Y+=160,t.Name=f.CopySelectedGenUniqueValue(t.Name,f.data.Activities,"Name"),o.push({oldItem:e.item,newItem:t}),f.data.Activities.push(t))}),s=[],n.forEach(function(e){for(var t=e.item.From,i=e.item.To,n=0;n<o.length;n++)t==o[n].oldItem&&(t=o[n].newItem),i==o[n].oldItem&&(i=o[n].newItem);var r=JSON.parse(JSON.stringify(e.item));r.Name=f.CopySelectedGenUniqueValue(r.Name,f.data.Transitions,"Name"),r.From=t,r.To=i,r.DesignerSettings&&r.DesignerSettings.Y&&(r.DesignerSettings.Y+=160),s.push({oldItem:e.item,newItem:r}),f.data.Transitions.push(r)}),WorkflowDesignerCommon.DataCorrection(this.data),this.Draw(this.data),o.forEach(function(e){t.SelectByItem(e.newItem)}),s.forEach(function(e){i.SelectByItem(e.newItem)}),this.StoreGraphData(),this.onSelectionChanged(!0))},this.insertScheme=function(e,t){this.designer.insertScheme(e,t)},this.AutoArrangement=function(){var t,r,c,h,u,d;0!=this.data.Activities.length&&(t=new Array,r=new Array,this.data.Activities.forEach(function(e){(null==e.DesignerSettings||e.DesignerSettings.Group==f.Settings.group||null!=e.DesignerSettings.InlineElementSettings&&e.DesignerSettings.InlineElementSettings.Group==f.Settings.group)&&(t.push(e),e.IsInitial&&r.push(e))}),0!=t.length&&(t.forEach(function(e){if(!e.IsInitial){for(var t=!0,i=0;i<f.data.Transitions.length;i++){var n=f.data.Transitions[i];if("Direct"==n.Classifier&&n.To==e){t=!1;break}}t&&r.push(e)}}),0==r.length&&r.push(t[0]),c=300,h=140,u=Array(),(d=function(e,t,i){var n={x:t.x,y:t.y};i||(n.x+=c);for(var r=new Array,o=0;o<e.length;o++){null==(s=e[o]).DesignerSettings&&(s.DesignerSettings={}),!i&&0<=$.inArray(s,u)||(s.DesignerSettings.Group==f.Settings.group?s.DesignerSettings.X=n.x:null!=s.DesignerSettings.InlineElementSettings&&s.DesignerSettings.InlineElementSettings.Group==f.Settings.group&&(s.DesignerSettings.InlineElementSettings.X=n.x),u.push(s),r.push(s))}for(o=0;o<r.length;o++){var s=r[o];0<o&&(n.y+=h);var a=new Array;f.data.Transitions.forEach(function(e){"Direct"==e.Classifier&&e.From==s&&a.push(e.To)}),s.DesignerSettings.Group==f.Settings.group?s.DesignerSettings.Y=n.y:null!=s.DesignerSettings.InlineElementSettings&&s.DesignerSettings.InlineElementSettings.Group==f.Settings.group&&(s.DesignerSettings.InlineElementSettings.Y=n.y);var l=d(a,{x:n.x,y:n.y});n.y=l.y}return{x:n.x,y:n.y}})(r,{x:360,y:120},!0),f.data.Transitions.forEach(function(e){null==e.DesignerSettings&&(e.DesignerSettings={}),null!=e.From.DesignerSettings&&null!=e.To.DesignerSettings&&e.From.DesignerSettings.Group!=f.Settings.group&&e.To.DesignerSettings.Group!=f.Settings.group||(e.DesignerSettings.X=void 0,e.DesignerSettings.Y=void 0)}),this.Draw(),this.StoreGraphData()))},this.backgroundSetMoveModeEnabled=function(e){this.GetComponentByType("WorkflowDesignerBackground").setMoveModeEnabled(e),this.setParam("movemodeenabled",e)},this.UpdateData=function(t,e){t.splice(0,t.length),e.forEach(function(e){t.push(e)}),WorkflowDesignerCommon.DataCorrection(f.data),f.Draw(f.data),f.StoreGraphData()}}function WorkflowDesignerTransitionControl(e){var o=this;this.manager=e.manager,this.graph=e.graph,this.from=e.from,this.to=e.to,this.item=e.item,this.group=e.group,this.setFrom=function(e){this.from=e,this.item.From=e.item},this.setTo=function(e){this.to=e,this.item.To=e.item},this.GetName=function(){return this.item.Name},this.SetName=function(e){this.item.Name=e},this.control=void 0,this.arrow=void 0,this.line=void 0,null!=this.item.DesignerSettings&&null!=this.item.DesignerSettings.X&&null!=this.item.DesignerSettings.Y&&(this.middle={x:Number(this.item.DesignerSettings.X),y:Number(this.item.DesignerSettings.Y)}),this.from.RegisterTransition(this),this.to.RegisterTransition(this),this.start=void 0,this.end=void 0,this.angle=void 0,this.activePoint=void 0,this.touchpoints=[],this.DrawTransition=function(e,t){var i=this.from.rectangle,n=this.to.rectangle,r=Number(this.from.getX()),o=Number(this.from.getY()),s=Number(this.to.getX()),a=Number(this.to.getY()),l=Number(i.attrs.width/2),c=Number(i.attrs.height/2),h=Number(n.attrs.width/2),u=Number(n.attrs.height/2),d=r+l,i=o+c,n=s+h,r=a+u;if(this.direction={start:0,end:0},this.from==this.to)this.start={x:d+l,y:i-c+14},this.end={x:n+h-25,y:r-u},this.direction.end=1,null==this.middle&&(this.middle={x:d+l+c,y:i-2*c});else{o=!1;null==this.middle&&(o=!0,this.middle={x:(d+n)/2,y:(i+r)/2});var s=d,a=i,f=n,p=r;if(i-c-25>this.middle.y&&r-u-25>this.middle.y?(a=i-c,p=r-u,this.direction.start=1,this.direction.end=1):i+c+25<this.middle.y&&r+u+25<this.middle.y?(a=i+c,p=r+u,this.direction.start=1,this.direction.end=1):d-l-25>this.middle.x&&n-h-25>this.middle.x?(s=d-l,f=n-h):d+l+25<this.middle.x&&n+h+25<this.middle.x?(s=d+l,f=n+h):(d+l+25<this.middle.x?s+=l:d-l-25>this.middle.x?s-=l:i+c+25<this.middle.y?(a+=c,this.direction.start=1):i-c-25>this.middle.y?(a-=c,this.direction.start=1):s<=this.middle.x?s+=l:s-=l,n+h+25<this.middle.x?f+=h:n-h-25>this.middle.x?f-=h:(r+u+25<this.middle.y||!(r-u-25>this.middle.y)&&a>=this.middle.y?p+=u:p-=u,this.direction.end=1)),null!=e&&(s=e.x,a=e.y,o=!0),null!=t&&(f=t.x,p=t.y,o=!0),this.start={x:s,y:a},this.end={x:f,y:p},o){this.middle={x:(s+f)/2,y:(a+p)/2};for(var g=0;g<this.manager.ItemControls.length;g++){var m=this.manager.ItemControls[g];m!=this&&m.middle.x==this.middle.x&&m.middle.y==this.middle.y&&(0==this.direction.start?this.middle.y+=40:this.middle.x+=40)}}null==e&&(0==this.direction.start?this.middle.y>a+c-7?a+=c-7:this.middle.y<a-c+7?a-=c-7:a=this.middle.y:this.middle.x>s+l-10?s+=l-10:this.middle.x<s-l+10?s-=l-10:s=this.middle.x),null==t&&(0==this.direction.end?this.middle.y>p+u-7?p+=u-7:this.middle.y<p-u+7?p-=u-7:p=this.middle.y:this.middle.x>f+h-10?f+=h-10:this.middle.x<f-h+10?f-=h-10:f=this.middle.x),this.start={x:s,y:a},this.end={x:f,y:p}}this.points=this.GetPoints([this.start.x,this.start.y,this.middle.x,this.middle.y,this.end.x,this.end.y],this.direction);f=this.GetColor();this.angle=Math.atan2(this.points[this.points.length-1]-this.points[this.points.length-3],this.points[this.points.length-2]-this.points[this.points.length-4]),null==this.control?(this.control=new Konva.Group({x:0,y:0,rotation:0}),this.arrow=WorkflowDesignerCommon.createArrowByAngle(this.end.x,this.end.y,this.angle,15,f),p={points:this.points,stroke:f,strokeWidth:2,lineCap:"round",lineJoin:"round"},this.item.IsFork&&("Finalize"===this.item.SubprocessInOutDefinition?p.dash=[10,2,10]:p.dash=[10,10]),this.line=new Konva.Line(p),this.control.add(this.line),this.control.add(this.arrow),this.manager.Layer.add(this.control)):(WorkflowDesignerCommon.updateArrowByAngle(this.arrow,this.end.x,this.end.y,this.angle,15,f),this.line.setPoints(this.points))},this.GetPoints=function(e,t){if(e[0]==e[2]==e[4]||e[1]==e[3]==e[5])return e;var i=new Array;return e[0]==e[2]||e[1]==e[3]?i.push(e[0],e[1],e[2],e[3]):(i.push(e[0],e[1]),0==t.start?i.push(e[2],e[1]):i.push(e[0],e[3]),i.push(e[2],e[3])),0==t.end&&i[i.length-2]!=e[4]?i.push(i[i.length-2],e[5]):1==t.end&&i[i.length-1]!=e[5]&&i.push(e[4],i[i.length-1]),i.push(e[4],e[5]),i},this.GetColor=function(){var e=null==this.item.Classifier?"notspecified":this.item.Classifier.toLowerCase();return"notspecified"==e?"#7F8C8D":"direct"==e?"#27AE60":"#2980B9"},this.DrawActivePoint=function(){var e;this.activePoint?this._moveActivePoint(this.middle.x,this.middle.y):(e=void 0,null!=this.graph.Settings.drawElements&&null!=this.graph.Settings.drawElements.transitionActivePoint&&(e=this.graph.Settings.drawElements.transitionActivePoint(this,this.middle.x,this.middle.y)),e=e||(this.graph.Settings.transitionActivePointOldStyle?this._createActivePointOld(this.middle.x,this.middle.y,this.control):this._createActivePoint(this.middle.x,this.middle.y,this.control)),o.manager.APLayer.add(e),this.activePoint=e)},this.DrawTouchPoints=function(){var e;this._getLineLength(this.start.x,this.start.y,this.end.x,this.end.y);null==this.touchpoints[0]||this.touchpoints[0].isdestroyed?(e=this._createTouchPoint(this.points,this.control,!1),o.manager.APLayer.add(e),this.touchpoints[0]=e):this._moveTouchPoints(this.touchpoints[0],this.points,!1),null==this.touchpoints[1]||this.touchpoints[1].isdestroyed?(e=this._createTouchPoint(this.points,this.control,!0),o.manager.APLayer.add(e),this.touchpoints[1]=e):this._moveTouchPoints(this.touchpoints[1],this.points,!0)},this.Draw=function(e,t){this.DrawTransition(e,t),this.DrawActivePoint(),this.graph.Settings.readonly||this.DrawTouchPoints()},this.DeleteTouchPoint=function(e){for(var t=0;t<this.touchpoints.length;t++)this.touchpoints[t].isend===e&&(this.touchpoints[t].destroy(),this.touchpoints[t].isdestroyed=!0)},this.Delete=function(){this.from.UnregisterTransition(this),this.to.UnregisterTransition(this),this.control.destroy(),null!=this.activePoint.ToolTip&&this.activePoint.ToolTip.destroy(),this.activePoint.destroy();for(var e=0;e<this.touchpoints.length;e++)this.touchpoints[e].destroy();var t=this.graph.data.Transitions.indexOf(this.item);0<=t&&this.graph.data.Transitions.splice(t,1),0<=(t=this.manager.ItemControls.indexOf(this))&&this.manager.ItemControls.splice(t,1)},this._onDelete=function(){o.graph.confirm(WorkflowDesignerConstants.DeleteConfirmCurrent,function(){o.Delete(),o.graph.onSelectionChanged(),o.graph.redrawAll(),o.graph.StoreGraphData()})},this.Select=function(){var e,t,i;1!=this.selected&&((e=this).oldstroke=this.line.getStroke(),e.line.setStroke(WorkflowDesignerConstants.SelectColor),e.line.setStrokeWidth(3),null==e.bar?(t=-15,i=[],e.graph.Settings.notshowwindows||i.push({img:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC44MjkzIDVDMTAuNDE3NSA2LjE2NTE5IDkuMzA2MjIgNyA4IDdDNi42OTM3OCA3IDUuNTgyNTQgNi4xNjUxOSA1LjE3MDcxIDVIMkMxLjQ0NzcyIDUgMSA0LjU1MjI4IDEgNEMxIDMuNDQ3NzIgMS40NDc3MiAzIDIgM0g1LjE3MDcxQzUuNTgyNTQgMS44MzQ4MSA2LjY5Mzc4IDEgOCAxQzkuMzA2MjIgMSAxMC40MTc1IDEuODM0ODEgMTAuODI5MyAzSDE4QzE4LjU1MjMgMyAxOSAzLjQ0NzcyIDE5IDRDMTkgNC41NTIyOCAxOC41NTIzIDUgMTggNUgxMC44MjkzWk05IDRDOSA0LjU1MjI4IDguNTUyMjggNSA4IDVDNy40NDc3MiA1IDcgNC41NTIyOCA3IDRDNyAzLjQ0NzcyIDcuNDQ3NzIgMyA4IDNDOC41NTIyOCAzIDkgMy40NDc3MiA5IDRaTTE2LjgyOTMgMTFDMTYuNDE3NSAxMi4xNjUyIDE1LjMwNjIgMTMgMTQgMTNDMTIuNjkzOCAxMyAxMS41ODI1IDEyLjE2NTIgMTEuMTcwNyAxMUgyQzEuNDQ3NzIgMTEgMSAxMC41NTIzIDEgMTBDMSA5LjQ0NzcyIDEuNDQ3NzIgOSAyIDlIMTEuMTcwN0MxMS41ODI1IDcuODM0ODEgMTIuNjkzOCA3IDE0IDdDMTUuMzA2MiA3IDE2LjQxNzUgNy44MzQ4MSAxNi44MjkzIDlIMThDMTguNTUyMyA5IDE5IDkuNDQ3NzIgMTkgMTBDMTkgMTAuNTUyMyAxOC41NTIzIDExIDE4IDExSDE2LjgyOTNaTTE1IDEwQzE1IDEwLjU1MjMgMTQuNTUyMyAxMSAxNCAxMUMxMy40NDc3IDExIDEzIDEwLjU1MjMgMTMgMTBDMTMgOS40NDc3MiAxMy40NDc3IDkgMTQgOUMxNC41NTIzIDkgMTUgOS40NDc3MiAxNSAxMFpNNiAxOUM3LjMwNjIyIDE5IDguNDE3NDYgMTguMTY1MiA4LjgyOTI5IDE3SDE4QzE4LjU1MjMgMTcgMTkgMTYuNTUyMyAxOSAxNkMxOSAxNS40NDc3IDE4LjU1MjMgMTUgMTggMTVIOC44MjkyOUM4LjQxNzQ2IDEzLjgzNDggNy4zMDYyMiAxMyA2IDEzQzQuNjkzNzggMTMgMy41ODI1NCAxMy44MzQ4IDMuMTcwNzEgMTVIMkMxLjQ0NzcyIDE1IDEgMTUuNDQ3NyAxIDE2QzEgMTYuNTUyMyAxLjQ0NzcyIDE3IDIgMTdIMy4xNzA3MUMzLjU4MjU0IDE4LjE2NTIgNC42OTM3OCAxOSA2IDE5Wk02IDE3QzYuNTUyMjggMTcgNyAxNi41NTIzIDcgMTZDNyAxNS40NDc3IDYuNTUyMjggMTUgNiAxNUM1LjQ0NzcyIDE1IDUgMTUuNDQ3NyA1IDE2QzUgMTYuNTUyMyA1LjQ0NzcyIDE3IDYgMTdaIiBmaWxsPSIjMzMzMzMzIi8+Cjwvc3ZnPgo=",click:function(){e.ShowProperties()}}),e.graph.Settings.readonly||(i.push({img:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTUuNzkyODYgMy45NTcwOEM1LjQwMjM0IDMuNTY2NTUgNC43NjkxNyAzLjU2NjU1IDQuMzc4NjUgMy45NTcwOEMzLjk4ODEzIDQuMzQ3NiAzLjk4ODEzIDQuOTgwNzcgNC4zNzg2NSA1LjM3MTI5TDguODc4NjggOS45NTcxTDQuMjkyODkgMTQuNTQyOUMzLjkwMjM3IDE0LjkzMzQgMy45MDIzNyAxNS41NjY2IDQuMjkyODkgMTUuOTU3MUM0LjY4MzQyIDE2LjM0NzYgNS4zMTY1OCAxNi4zNDc2IDUuNzA3MTEgMTUuOTU3MUwxMC4yOTI5IDExLjM3MTNMMTQuODc4NyAxNS45NTcxQzE1LjI2OTIgMTYuMzQ3NiAxNS45MDI0IDE2LjM0NzYgMTYuMjkyOSAxNS45NTcxQzE2LjY4MzQgMTUuNTY2NiAxNi42ODM0IDE0LjkzMzQgMTYuMjkyOSAxNC41NDI5TDExLjcwNzEgOS45NTcxTDE2LjI5MjkgNS4zNzEzQzE2LjY4MzQgNC45ODA3OCAxNi42ODM0IDQuMzQ3NjEgMTYuMjkyOSAzLjk1NzA5QzE1LjkwMjQgMy41NjY1NiAxNS4yNjkyIDMuNTY2NTYgMTQuODc4NyAzLjk1NzA5TDEwLjI5MjkgOC41NDI4OEw1Ljc5Mjg2IDMuOTU3MDhaIiBmaWxsPSIjMzMzMzMzIi8+Cjwvc3ZnPgo=",click:function(){e._onDelete()}}),t=-30),0<i.length&&(e.bar=WorkflowDesignerBar(e.manager.APLayer,i,{x:t,y:-50}),e.activePoint.add(e.bar))):this.bar.show(),e.selected=!0)},this.Deselect=function(){0!=this.selected&&(this.line.setStrokeWidth(2),null!=this.oldstroke&&this.line.setStroke(this.oldstroke),null!=this.bar&&this.bar.hide(),this.selected=!1)},this._moveTouchPoints=function(e,t,i){var n=i?{x:t[t.length-2],y:t[t.length-1]}:{x:t[0],y:t[1]},r=i?{x:t[t.length-4],y:t[t.length-3]}:{x:t[2],y:t[3]},t={x:0,y:0},i=i?24:10;n.x==r.x?t.y=n.y<r.y?i:-i:n.y==r.y&&(t.x=n.x<r.x?i:-i),e.setPosition(n),e.circle.setPosition(t)},this._createTouchPoint=function(e,t,i){var n=this,r=i?{x:e[e.length-2],y:e[e.length-1]}:{x:e[0],y:e[1]},o=i?{x:e[e.length-4],y:e[e.length-3]}:{x:e[2],y:e[3]},s={x:0,y:0},e=i?24:10;r.x==o.x?s.y=r.y<o.y?e:-e:r.y==o.y&&(s.x=r.x<o.x?e:-e);e=new Konva.Group({x:r.x,y:r.y,draggable:!0});e.isend=i;var r=this.GetColor(),a=new Konva.Circle({x:s.x,y:s.y,radius:5,fill:r});e.add(a),e.circle=a,e.transition=t;return e.on("dragmove",function(){var e;e=n.graph.CorrectPosition(a.getAbsolutePosition(),n.manager.Layer),i?n.DrawTransition(void 0,e):n.DrawTransition(e,void 0),n.DrawActivePoint(),n.DeleteTouchPoint(!i),n.manager.batchDraw()}),e.on("dragend",function(){var e=a.getAbsolutePosition(),e=n.manager.getIntersectingActivity(e);null==e||e.group||(n.middle=void 0,n.Sync(),i?(n.to.UnregisterTransition(n),n.setTo(e),n.to.RegisterTransition(n)):(n.from.UnregisterTransition(n),n.setFrom(e),n.from.RegisterTransition(n)),n.graph.StoreGraphData()),n.Draw(),n.manager.batchDraw()}),e},this._moveActivePoint=function(e,t){this.activePoint.setPosition({x:e,y:t})},this._createActivePoint=function(e,t,i){var n=this,r=!n.graph.Settings.disableobjectmovements,o=new Konva.Group({x:e,y:t,draggable:r}),t="";isTimer=!1;r=this.item.Trigger.Type.toLowerCase();"auto"===r?null==(t=1==this.item.Conditions.length&&"expression"==this.item.Conditions[0].Type.toLowerCase()?(Expression=this.item.Conditions[0].Expression,Expression.length<30?Expression:"Expression"):WorkflowDesignerConstants.TransitionAuto)&&(t="Auto"):"command"===r?this.item.Trigger&&this.item.Trigger.Command&&this.item.Trigger.Command.Name&&15<(t=this.item.Trigger.Command.Name).length&&(t=t.substr(0,15)+"..."):"timer"===r&&(isTimer=!0,this.item.Trigger&&this.item.Trigger.Timer&&this.item.Trigger.Timer.Name&&15<(t=this.item.Trigger.Timer.Name).length&&(t=t.substr(0,15)+"..."));var s=[],a=[];isTimer&&s.push(this.manager.ImageTimer),Array.isArray(this.item.Restrictions)&&0<this.item.Restrictions.length&&a.push(this.manager.ImageActor);r=this.item.Conditions[0].Type.toLowerCase();"action"===r||"expression"===r?a.push(this.manager.ImageCondition):"otherwise"===r&&a.push(this.manager.ImageOtherwise);var l=WorkflowDesignerCommon.getTextWidth(t,"bold 12px arial")+2,c=15*s.length,r=15*a.length,h=(l+c+r)/2,r=l+c+r+10,t=new Konva.Text({x:c-h+1,y:-5,text:t,fontSize:12,fontFamily:"Arial",fill:"#FFFFFF",fontStyle:"bold"}),r=new Konva.Rect({x:-h-5,y:-12,width:r,height:25,fill:n.GetColor(),cornerRadius:15});o.add(r);for(var u=0;u<s.length;u++)o.add(new Konva.Image({x:12*u-h+2,y:-5,image:s[u],width:10,height:10,strokeWidth:0}));for(u=0;u<a.length;u++)o.add(new Konva.Image({x:2-h+c+l+12*u,y:-5,image:a[u],width:10,height:10,strokeWidth:0}));o.add(t),o.transition=i;function d(e,t){var i=n.graph.CorrectPosition(o.getAbsolutePosition(),n.manager.Layer);n.middle=i,n.DrawTransition(),n.graph.Settings.readonly||n.DrawTouchPoints(),e&&(n.DrawActivePoint(),n.Sync()),n.manager.batchDraw()}function f(){this.control&&this.control.moveToTop(),this.bar&&this.bar.moveToTop(),n.manager.APLayer.moveToTop()}var p,i=function(e){var t;n.graph.Settings.disableobjectmovements||(f(),t=n.selected,e.evt.ctrlKey||n.graph.DeselectAll(),t?n.Deselect():n.Select(),null!=n.activePoint.ToolTip&&n.activePoint.ToolTip.hide(),n.graph.onSelectionChanged(),n.manager.batchDraw())};return o.on("click",i),o.on("touchend",i),o.on("dblclick",function(){n.graph.DeselectAll(),n.Select(),n.manager.batchDraw(),n.graph.Settings.notshowwindows||n.ShowProperties()}),o.on("dragstart",function(){n.graph.Settings.disableobjectmovements||(f(),null!=n.activePoint.ToolTip&&n.activePoint.ToolTip.hide())}),o.on("dragmove",function(){n.graph.Settings.disableobjectmovements||d(!1)}),o.on("dragend",function(){n.graph.Settings.disableobjectmovements||d(!0)}),1==n.graph.getParam("exinfo")?n.createExInfo(o):(p="Type: "+this.item.Trigger.Type,null!=n.item.Trigger&&null!=n.item.Trigger.Command&&"Command"===n.item.Trigger.Type&&(p+="\r\nCommand: "+n.item.Trigger.Command.Name),null!=n.item.Trigger&&null!=n.item.Trigger.Timer&&"Timer"===n.item.Trigger.Type&&(p+="\r\nTimer: "+n.item.Trigger.Timer.Name),n.item.Conditions.forEach(function(e){p+="\r\n"+e.Type+": ","Action"===e.Type&&e.Action&&(p+=" "+e.Action.ActionName),"expression"==e.Type.toLowerCase()&&(p+=" "+e.Expression)}),WorkflowDesignerTooltip(n.manager.APLayer,o,p,17)),o},this._createActivePointOld=function(e,t,i){var n=this,r=!n.graph.Settings.disableobjectmovements,o=new Konva.Group({x:e,y:t,draggable:r}),t="",r=this.item.Trigger.Type.toLowerCase();"auto"===r?t+="A":"command"===r?t+="C":"timer"===r&&(t+="T");r=this.item.Conditions[0].Type.toLowerCase();"always"===r?t+="A":"action"===r?t+="C":"otherwise"===r&&(t+="O"),Array.isArray(this.item.Restrictions)&&0<this.item.Restrictions.length&&(t+="R");r=new Konva.Rect({x:3==t.length?-22:-16,y:-15,width:3==t.length?47:34,height:30,fill:n.GetColor(),cornerRadius:15});o.add(r);t=new Konva.Text({x:3==t.length?-16:-10,y:-7,text:t,fontSize:16,fontFamily:"Arial",fill:"#FFFFFF",fontStyle:"bold"});o.add(t),o.transition=i;function s(e,t){var i=n.graph.CorrectPosition(o.getAbsolutePosition(),n.manager.Layer);n.middle=i,n.DrawTransition(),n.graph.Settings.readonly||n.DrawTouchPoints(),e&&(n.DrawActivePoint(),n.Sync()),n.manager.batchDraw()}i=function(e){var t;n.graph.Settings.disableobjectmovements||(t=n.selected,e.evt.ctrlKey||n.graph.DeselectAll(),t?n.Deselect():n.Select(),null!=n.activePoint.ToolTip&&n.activePoint.ToolTip.hide(),n.graph.onSelectionChanged(),n.manager.batchDraw())};return o.on("click",i),o.on("touchend",i),o.on("dblclick",function(){n.graph.DeselectAll(),n.Select(),n.manager.batchDraw(),n.graph.Settings.notshowwindows||n.ShowProperties()}),o.on("dragstart",function(){n.graph.Settings.disableobjectmovements||null!=n.activePoint.ToolTip&&n.activePoint.ToolTip.hide()}),o.on("dragmove",function(){n.graph.Settings.disableobjectmovements||s(!1)}),o.on("dragend",function(){n.graph.Settings.disableobjectmovements||s(!0)}),1==n.graph.getParam("exinfo")?n.createExInfo(o):(i=this.item.Trigger.Type,null!=n.item.Trigger&&null!=n.item.Trigger.Command&&"Command"===n.item.Trigger.Type&&(i+=" "+n.item.Trigger.Command.Name),null!=n.item.Trigger&&null!=n.item.Trigger.Timer&&"Timer"===n.item.Trigger.Type&&(i+=" "+n.item.Trigger.Timer.Name),i+="\r\n"+this.item.Conditions[0].Type,null!=n.item.Conditions[0]&&"Action"===n.item.Conditions[0].Type&&(i+=" "+n.item.Conditions[0].Action.ActionName),WorkflowDesignerTooltip(n.manager.APLayer,o,i,17)),o},this.createExInfo=function(e){var t,i="";null!=o.item.Trigger&&null!=o.item.Trigger.Command&&"Command"===o.item.Trigger.Type&&(Array.isArray(o.item.Restrictions)&&0<o.item.Restrictions.length&&o.item.Restrictions.forEach(function(e){var t;null!=e.Actor&&(t=e.Actor.Name,"Restrict"==e.Type&&(t="("+t+")"),0<i.length&&(i+=", "),i+=t)}),0<i.length&&(i+=" -> "),i+=o.item.Trigger.Command.Name),null==o.item.Trigger||null==o.item.Trigger.Timer||"Timer"!==o.item.Trigger.Type||null!=(t=o.item.Trigger.Timer.Value)&&""!=t&&(i+=" "+t),0<i.length&&((n=new Konva.Text({x:0,y:-30,text:i,fontFamily:"Arial",fontSize:12,fill:"#4A4A4A",fontStyle:"bold"})).setX(-Number(n.getWidth()/2)),e.add(n));var n,r="";Array.isArray(o.item.Conditions)&&0<o.item.Conditions.length&&o.item.Conditions.forEach(function(e){var t;"Action"==e.Type?(t=e.Action.ActionName,1==e.ConditionInversion&&(t="("+t+")"),0<r.length&&(r+=", "),r+=t):"Expression"==e.Type&&(t=e.Expression.substr(0,100),1==e.ConditionInversion&&(t="("+t+")"),0<r.length&&(r+=", "),r+=t)}),0<r.length&&((n=new Konva.Text({x:0,y:20,text:r,fontFamily:"Arial",fontSize:12,fill:"#4A4A4A",fontStyle:"bold"})).setX(-Number(n.getWidth()/2)),e.add(n))},this._getLineLength=function(e,t,i,n){return Math.sqrt(Math.pow(i-e,2)+Math.pow(n-t,2))},this._getBendingKoeff=function(e,t,i,n,r,o){var s=t-n,a=i-e,l=e*n-i*t;a<=0&&(s=-s,a=-a,l=-l);l=-(l+s*r)/a<o?-1:1,s=this._getLineLength(e,t,i,n),i=(e+i)/2,n=(t+n)/2,l=this._getLineLength(i,n,r,o)/s*l;return 0==a&&(l=-l),l},this.getIntersectingRect=function(e){var t=this.activePoint.getAbsolutePosition();return t.x>=e.xl&&t.x<e.xr&&t.y>=e.yl&&t.y<e.yr},this.ShowProperties=function(){this.manager.ShowProperties(this.item,this)},this.Sync=function(){this.group||(o.item.DesignerSettings.Bending=o.bending,null!=o.middle&&(o.item.DesignerSettings.X=o.middle.x,o.item.DesignerSettings.Y=o.middle.y))},this.destroy=function(){this.control.destroy(),this.activePoint.destroy(),this.touchpoints.forEach(function(e){e.destroy()}),this.bar&&this.bar.destroy()}}function WorkflowDesignerTransitionManagerTempControl(e){this.x=e.x,this.y=e.y,this.manager=e.manager,this.control=void 0,this.Draw=function(e,t){this.control=new Konva.Group({x:0,y:0,rotation:0}),this.line=new Konva.Line({points:[this.x,this.y,e,t],stroke:"#FFCC99",strrokeWidth:1});var i=Math.atan2(t-this.y,e-this.x);this.arrow=WorkflowDesignerCommon.createArrowByAngle(e,t,i,20,"#FFCC99"),this.control.add(this.line),this.control.add(this.arrow),this.manager.Layer.add(this.control)},this.Redraw=function(e){this.line.setPoints([this.x,this.y,e.x,e.y]);var t=Math.atan2(e.y-this.y,e.x-this.x);WorkflowDesignerCommon.updateArrowByAngle(this.arrow,e.x,e.y,t,20,"#FFCC99")},this.Delete=function(){this.control.destroy()}}function WorkflowDesignerActivityManager(){this.type="WorkflowDesignerActivityManager",this.init=function(e){this.graph=e,this.Layer=new Konva.Layer,this.graph.Stage.add(this.Layer),this.Layer.setZIndex(1)},this.ItemControls=new Array,this.draw=function(){null!=this.ItemControls&&this.ItemControls.forEach(function(e){e.destroy()}),this.ItemControls=new Array;var o=this;null!=this.graph.data.Activities&&this.graph.data.Activities.forEach(function(e){var t,i,n,r;e.DesignerSettings.Hidden||(r=void 0,o.graph.Settings.group!=e.DesignerSettings.Group?null!=e.DesignerSettings.InlineElementSettings&&e.DesignerSettings.InlineElementSettings.Group==o.graph.Settings.group&&(i=""!=e.DesignerSettings.InlineElementSettings.X&&""!=e.DesignerSettings.InlineElementSettings.Y?(t=Number(e.DesignerSettings.InlineElementSettings.X),Number(e.DesignerSettings.InlineElementSettings.Y)):(t=(n=o.GetDefaultPosition()).x,n.y),r=new WorkflowDesignerActivityControl({x:t,y:i,item:e,graph:o.graph,manager:o,group:!0})):(i=""!=e.DesignerSettings.X&&""!=e.DesignerSettings.Y?(t=Number(e.DesignerSettings.X),Number(e.DesignerSettings.Y)):(t=(n=o.GetDefaultPosition()).x,n.y),r=new WorkflowDesignerActivityControl({x:t,y:i,item:e,graph:o.graph,manager:o})),null!=r&&(o.ItemControls.push(r),r.Draw(),r.Sync()))}),this.Layer.batchDraw()},this.CreateNewActivity=function(e,t){null==e&&(e=this.GetDefaultPosition()),null==t&&(t={}),void 0===t.IsAutoSchemeUpdate&&(t.IsAutoSchemeUpdate=!0),void 0===t.IsForSetState&&(t.IsForSetState=!0);var i=this.GetDefaultName(t.Name);t.Name==t.State&&(t.State=i),t.Name=i,0!=t.IsInitial&&0==this.graph.data.Activities.length&&(t.IsInitial=!0),t.DesignerSettings&&(t.DesignerSettings=new{X:e.x,Y:e.y});e=new WorkflowDesignerActivityControl({x:e.x,y:e.y,item:t,graph:this.graph,manager:this});return this.graph.data.Activities.push(t),this.ItemControls.push(e),e.Draw(),e.Sync(),e},this.CreateNewInline=function(e,t){null==e&&(e=this.GetDefaultPosition()),null==t&&(t={IsAutoSchemeUpdate:!1,IsForSetState:!1,ActivityType:"Inline"}),t.Name=this.GetDefaultName(t.Name),0==this.graph.data.Activities.length&&(t.IsInitial=!0),t.DesignerSettings&&(t.DesignerSettings=new{X:e.x,Y:e.y});e=new WorkflowDesignerActivityControl({x:e.x,y:e.y,item:t,graph:this.graph,manager:this});return this.graph.data.Activities.push(t),this.ItemControls.push(e),e.Draw(),e.Sync(),e},this.GetDefaultName=function(e){for(var t=e||WorkflowDesignerConstants.ActivityNamePrefix,i=0,n="",r=0;r<this.graph.data.Activities.length;r++){this.graph.data.Activities[r].Name==t+(n?"_"+n:"")&&(n=++i,r=-1)}return t+(n?"_"+n:"")},this.GetDefaultPosition=function(){for(var e=this.graph.CorrectPosition({x:400,y:200},this.Layer),t=2*this.graph.Settings.DefaultMoveStep/this.Layer.getScaleX(),i=0;i<this.ItemControls.length;i++){var n=this.ItemControls[i].control.getPosition();n.x==e.x&&n.y==e.y&&(e.x+=t,e.y+=t,i=-1)}return e},this.find=function(e){if("object"==typeof e&&null!=e.Name)return this.find(e.Name);for(var t=0;t<this.ItemControls.length;t++)if(this.ItemControls[t].item.Name===e)return this.ItemControls[t]},this.findGroup=function(e,t){for(var i=0;i<this.graph.data.Activities.length;i++){var n=this.graph.data.Activities[i];if(n.DesignerSettings.Group==e&&null!=n.DesignerSettings.InlineElementSettings&&n.DesignerSettings.InlineElementSettings.Group==t)return this.find(n.Name)}},this.getIntersectingActivity=function(e){for(var t=0;t<this.ItemControls.length;t++){var i=this.ItemControls[t];if(i.getIntersectingActivity(e))return i}},this.LayerSetOffset=function(e){this.Layer.setOffset(e)},this.LayerScale=function(e){e.scale;e=e.delta;this.Layer.setScale({x:this.Layer.getScale().x+e,y:this.Layer.getScale().y+e})},this.LayerScaleNorm=function(e){this.Layer.setScale({x:1,y:1}),this.Layer.setOffset({x:0,y:0})},this.redrawTransitions=function(){return null==this.cTransition&&(this.cTransition=this.graph.GetComponentByType("WorkflowDesignerTransitionManager")),this.cTransition.batchDraw()},this.batchDraw=function(){this.Layer.batchDraw()},this.SelectAll=function(){this.ItemControls.forEach(function(e){e.Select()})},this.DeselectAll=function(){this.ItemControls.forEach(function(e){e.Deselect()})},this.GetSizeForSaveAsImage=function(e){for(var t=0;t<this.ItemControls.length;t++){var i=this.ItemControls[t],n=i.rectangle.getAbsolutePosition(),r=n.x,o=n.y,n=r+i.rectangle.getWidth()*this.Layer.getScaleX(),i=o+i.rectangle.getHeight()*this.Layer.getScaleX();r<e.x1&&(e.x1=r),o<e.y1&&(e.y1=o),n>e.x2&&(e.x2=n),i>e.y2&&(e.y2=i)}return e},this.GetSelected=function(){var t=new Array;return this.ItemControls.forEach(function(e){e.selected&&t.push(e)}),t},this.SelectByPosition=function(t){this.ItemControls.forEach(function(e){e.getIntersectingActivityRect(t)&&e.Select()})},this.SelectByItem=function(t){this.ItemControls.forEach(function(e){e.item==t&&e.Select()})},this.ObjectMove=function(t){this.ItemControls.forEach(function(e){e.selected&&t.sender!=e&&e.ObjectMove(t.changepos)}),this.redrawTransitions()},this.createTransitionAndActivity=function(e){var t={x:e.control.getX()+e.rectangle.attrs.width+100,y:e.control.getY()},t=this.CreateNewActivity(t);this.graph.GetComponentByType("WorkflowDesignerTransitionManager").CreateNewTransition(e,t),this.graph.redrawAll()},this.createTransition=function(e){return this.graph.GetComponentByType("WorkflowDesignerTransitionManager").CreateNewTransition(e)},this.Clone=function(e){e=JSON.parse(JSON.stringify(e.item));e.DesignerSettings.Y+=160,e.Name=this.CopySelectedGenUniqueValue(e.Name,this.graph.data.Activities,"Name"),this.graph.data.Activities.push(e),this.graph.Draw(this.graph.data),this.SelectByItem(e)},this.CopySelectedGenUniqueValue=function(e,t,i){for(var n=e,r=1;;r++){for(var o=!1,s=0;s<t.length;s++)if(t[s][i]==n){o=!0;break}if(!o)break;n=e+"_"+r}return n},this.ShowProperties=function(n,e){var r=this;this.propertyWindow&&(this.propertyWindow.hide(),this.propertyWindow.destroy());var t="activity";if(e.group){t="activitygroup";var i=n.DesignerSettings.Group,o=e.GetName(),s=this.graph.data,i={move:!0,resize:!0,savePosition:!0,class:"WorkflowDesignerActivityGroup",group:i,title:o};return this.propertyWindow=this.graph.CreateWindow(t,i),void this.propertyWindow.show(t,s)}i={move:!0,resize:!0,savePosition:!0,class:"WorkflowDesignerActivity",onSuccess:function(e){var t;Array.isArray(e.Implementation)&&(t=1,e.Implementation.forEach(function(e){e.Order=t,t++})),Array.isArray(e.PreExecutionImplementation)&&(t=1,e.PreExecutionImplementation.forEach(function(e){e.Order=t,t++})),n.Name=e.Name,n.State=e.State,n.IsInitial=e.IsInitial,n.IsFinal=e.IsFinal,n.IsForSetState=e.IsForSetState,n.IsAutoSchemeUpdate=e.IsAutoSchemeUpdate,n.Implementation=WorkflowDesignerCommon.clone(e.Implementation),n.PreExecutionImplementation=WorkflowDesignerCommon.clone(e.PreExecutionImplementation),n.Annotations=WorkflowDesignerCommon.clone(e.Annotations),WorkflowDesignerCommon.DataCorrection(r.graph.data),r.graph.Draw(r.graph.data),r.graph.StoreGraphData()}};if("Inline"===n.ActivityType)i.class="WorkflowDesignerActivityInline",t="activityinline",i.onSuccess=function(e){n.Name=e.Name,n.SchemeCode=e.SchemeCode,WorkflowDesignerCommon.DataCorrection(r.graph.data),r.graph.Draw(r.graph.data),r.graph.StoreGraphData()};else{o=Array.isArray(n.Annotations)?n.Annotations.filter(function(e){return"__customtype"==e.Name}):void 0;if(o&&0<o.length){var a=o[0].JsonValue,o=this.graph.data.AdditionalParams.CustomActivities.filter(function(e){return e.Type==a});if(o&&0<o.length){o=o[0];return i.parameterDefinition=o.Parameters,i.customTitle=o.Title,i.onSuccess=function(e){for(var t in(e=WorkflowDesignerCommon.toJSON(e)).Name&&(n.Name=e.Name),null!=e.State&&(n.State=e.State),Array.isArray(n.Annotations)||(n.Annotations=[]),e){var i;"Name"!=t&&"State"!=t&&(0<(i=n.Annotations.filter(function(e){return e.Name==t})).length?i[0].JsonValue=e[t]:n.Annotations.push({Name:t,JsonValue:e[t]}))}r.graph.Draw(r.graph.data),r.graph.StoreGraphData()},t="jsonform",this.propertyWindow=this.graph.CreateWindow(t,i),(s={}).Name=n.Name,s.State=n.State,Array.isArray(n.Annotations)&&0<n.Annotations.length&&n.Annotations.forEach(function(e){s[e.Name]=e.JsonValue}),void this.propertyWindow.show(t,WorkflowDesignerCommon.toString(s))}}}this.propertyWindow=this.graph.CreateWindow(t,i),this.propertyWindow.show(t,n)}}function WorkflowDesignerBackground(){this.type="WorkflowDesignerBackground",this.init=function(e){var s=this;this.graph=e,this.BackgroundLayer=new Konva.Layer,this.graph.Stage.add(this.BackgroundLayer),this.BackgroundLayer.setZIndex(0),this.SelectionLayer=new Konva.Layer,this.graph.Stage.add(this.SelectionLayer),this.SelectionLayer.setZIndex(1),WorkflowDesignerCommon.loadImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAA/SURBVDiNY3zz4cOB//8ZDzBQATAy/ndgeP3+YwM1DGNgYGB4/f5jAxO1DIOBUQNHDRw1cNTAUQMhgJHaVQAAN28V0+UBguIAAAAASUVORK5CYII=",function(e){s.RectBG.setFillPatternImage(e),s.BackgroundLayer.batchDraw()}),this.RectBG=new Konva.Rect({x:0,y:0,width:5e3,height:5e3,draggable:!1,dragBoundFunc:function(e){var t=s.graph.Settings.DefaultMoveStep*s.BackgroundLayer.getScaleX(),i=s.graph.Settings.DefaultMoveStep*s.BackgroundLayer.getScaleY(),n={x:Math.round(e.x/t)*t,y:Math.round(e.y/i)*i},r=s.BackgroundLayer.getScaleX(),o=s.BackgroundLayer.getScaleY(),t=s.graph.Stage.width()/r,i=s.graph.Stage.height()/o;return s.RectBG.width()+e.x/r-t<0&&s.RectBG.width(s.RectBG.width()+t),s.RectBG.height()+e.y/o-i<0&&s.RectBG.height(s.RectBG.height()+i),s.graph.GraphLayerSetOffset(-n.x/r,-n.y/o),n},designerparam:"background"}),this.BackgroundLayer.add(this.RectBG),this.BackgroundLayer.batchDraw(),this.graph.Stage.on("mousedown.background",function(e){"background"===e.target.attrs.designerparam&&(1!=s._movemodeenabled?s._mousedownpos=s.graph.CorrectPosition({x:e.evt.offsetX,y:e.evt.offsetY},s.SelectionLayer):s.graph.DeselectAll())}),this.graph.Stage.on("mousemove.background",function(e){var t;1!=s._movemodeenabled&&null!=s._mousedownpos&&(t=s.graph.CorrectPosition({x:e.evt.offsetX,y:e.evt.offsetY},s.SelectionLayer),s.DrawSelectionRect(t)),e.evt.preventDefault()}),this.graph.Stage.on("mouseup.background",function(e){var t;s._movemodeenabled||null==s._mousedownpos||(null==(t=s.getSelectionRectPos())?e.evt.ctrlKey||s.graph.DeselectAll():(10<Math.abs(t.xl-t.xr)||10<Math.abs(t.yl-t.yr))&&(s.graph.DeselectAll(),s.graph.ComponentsExecute("SelectByPosition",t),s.graph.onSelectionChanged())),s._mousedownpos=void 0,s.DeleteSelectionRect()})},this.setMoveModeEnabled=function(e){this._movemodeenabled=Boolean(e),this.RectBG.setDraggable(this._movemodeenabled)},this.updatePosition=function(e){var t=this.RectBG.getPosition(),e={x:-t.x-e.x,y:-t.y-e.y};this.RectBG.setPosition({x:-e.x,y:-e.y}),this.graph.ComponentsExecute("LayerSetOffset",{x:e.x,y:e.y})},this.setPosition=function(e){this.RectBG.setPosition({x:-e.x,y:-e.y}),this.graph.ComponentsExecute("LayerSetOffset",{x:e.x,y:e.y})},this.LayerScale=function(e){e.scale;e=e.delta;this.BackgroundLayer.setScale({x:this.BackgroundLayer.getScale().x+e,y:this.BackgroundLayer.getScale().y+e})},this.LayerScaleNorm=function(){this.BackgroundLayer.setScale({x:1,y:1}),this.SelectionLayer.setScale({x:1,y:1}),this.RectBG.setPosition({x:0,y:0})},this.DrawSelectionRect=function(e){null==this.RectSelection?(this.RectSelection=new Konva.Rect({x:this._mousedownpos.x,y:this._mousedownpos.y,width:e.x-this._mousedownpos.x,height:e.y-this._mousedownpos.y,draggable:!1,fill:"#66CCFF",opacity:.2}),this.SelectionLayer.add(this.RectSelection)):(this.RectSelection.setWidth(e.x-this._mousedownpos.x),this.RectSelection.setHeight(e.y-this._mousedownpos.y)),this.SelectionLayer.batchDraw()},this.DeleteSelectionRect=function(e){this.RectSelection&&(this.RectSelection.destroy(),this.RectSelection=void 0,this.SelectionLayer.batchDraw())},this.getSelectionRectPos=function(){if(null!=this.RectSelection){var e=this.RectSelection.getAbsolutePosition(),t=e.x,i=e.y,n=t+this.RectSelection.getWidth()*this.SelectionLayer.getScaleX(),e=i+this.RectSelection.getHeight()*this.SelectionLayer.getScaleX();return{xl:Math.min(t,n),yl:Math.min(i,e),xr:Math.max(t,n),yr:Math.max(i,e)}}}}function WorkflowDesignerTooltip(t,i,n,r,o,s){function a(e,t){if(0==t.getScaleX()||0==t.getScaleY())return{x:t.getOffsetX(),y:0};var i=null==o?0:o;return{x:e.x/t.getScaleX()+t.getOffsetX()+i,y:e.y/t.getScaleY()+t.getOffsetY()}}i.on("mouseover",function(){var e;null!=i.ToolTip?(e=a(i.getAbsolutePosition(),t),i.ToolTip.position({x:e.x+i.getWidth()/2,y:e.y+r,opacity:1}),i.ToolTip.show()):(e=a(i.getAbsolutePosition(),t),(e=new Konva.Label({x:e.x+i.getWidth()/2,y:e.y+r,opacity:1})).add(new Konva.Tag({fill:"#3D4D59",pointerDirection:null==s?"up":s,pointerWidth:13,pointerHeight:7,lineJoin:"round",shadowColor:"#3D4D59",shadowBlur:10,shadowOffset:10,shadowOpacity:0,cornerRadius:5})),e.add(new Konva.Text({text:n,fontFamily:"Arial",fontSize:12,padding:5,fill:"white"})),t.add(e),i.ToolTip=e),t.batchDraw()}),i.on("mouseleave",function(){null!=i.ToolTip&&(i.ToolTip.hide(),t.batchDraw())})}function WorkflowDesignerBar(n,e,t,i){var r="v"===i,o=new Konva.Group({x:t.x,y:t.y}),t=new Konva.Rect({x:0,y:0,width:r?30:30*e.length+30,height:r?30*e.length+30:30,fill:WorkflowDesignerConstants.BarColor,cornerRadius:30,shadowEnabled:!0,shadowColor:"rgba(18, 83, 204, 0.25)",shadowOffsetY:6,shadowBlur:10}),s=Konva.stages[0];o.add(t);var a=7;return e.forEach(function(i){var e;i.offset=a,i.separator?(a+=10,e=r?[7,i.offset+7,27,i.offset+7]:[i.offset+7,7,i.offset+7,27],i.cObject=new Konva.Line({points:e,stroke:WorkflowDesignerConstants.BarSeparatorColor,strokeWidth:2}),o.add(i.cObject)):(a+=30,WorkflowDesignerCommon.loadImage(i.img,function(e){var t;n.destroyed||(t=r?{x:7,y:i.offset+7}:{x:7+i.offset,y:7},i.offset,i.offset,i.group=new Konva.Group({x:t.x-7,y:t.y-7,width:15,height:15}),i.bg=new Konva.Rect({x:0,y:0,width:15,height:15,cornerRadius:5}),1==i.active&&i.bg.setFill(WorkflowDesignerConstants.ButtonActive),i.group.add(i.bg),i.cImageToolbar=new Konva.Image({x:7,y:7,image:e,width:15,height:15,strokeWidth:0}),i.group.add(i.cImageToolbar),e=function(){null!=i.cImageToolbar.ToolTip&&i.cImageToolbar.ToolTip.hide(),null!=i.click&&i.click()},i.group.on("click",e),i.group.on("touchend",e),i.group.on("mouseover",function(){s&&(s.container().style.cursor="pointer"),n.batchDraw()}),i.group.on("mouseleave",function(){null!=i.active&&0!=i.active||(s&&(s.container().style.cursor="default"),n.batchDraw())}),i.group.add(i.cImageToolbar),o.add(i.group),null!=i.title&&""!=i.title&&WorkflowDesignerTooltip(n,i.cImageToolbar,i.title,30),n.batchDraw())}))}),1==r?t.setHeight(a+7):t.setWidth(a+7),o}function WorkflowDesignerToolbar(){this.type="WorkflowDesignerToolbar",this.graph=void 0;var e=this;this.init=function(e){this.graph=e,this.toolbar=this.graph.CreateWindow("toolbar",{class:"WorkflowDesignerToolbar",notclose:!0}),this.toolbar.show("toolbar"),this.toolbarinfo=this.graph.CreateWindow("toolbarinfo",{class:"WorkflowDesignerToolbarInfo",notclose:!0}),this.toolbarinfo.show("toolbarinfo"),this.toolbarside=this.graph.CreateWindow("toolbarside",{class:"WorkflowDesignerToolbarSide",notclose:!0}),this.toolbarside.show("toolbarside")},this.draw=function(){this.toolbar&&this.toolbar.onUpdate(),this.toolbarinfo&&this.toolbarinfo.onUpdate(),this.toolbarside&&this.toolbarside.onUpdate()},this.LayerScaleNorm=function(e){this.updateScaleText(e)},this.LayerScale=function(e){var t=e.scale,e=e.delta;this.updateScaleText(t+e)},this.updateScaleText=function(e){this.toolbarside&&this.toolbarside.VueConfig&&this.toolbarside.VueConfig.methods.setScale&&this.toolbarside.VueConfig.methods.setScale(e)},this.destroy=function(){void 0!==e&&(this.toolbar&&(this.toolbar.destroy(),this.toolbar=void 0),this.toolbarinfo&&(this.toolbarinfo.destroy(),this.toolbarinfo=void 0),this.toolbarside&&(this.toolbarside.destroy(),this.toolbarside=void 0),e=void 0)}}function WorkflowDesignerKeyboard(){this.type="WorkflowDesignerKeyboard",this.init=function(e){this.graph=e,this.subscribe()},this.destroy=function(){this.unsubscribe()},this.subscribe=function(){var e=this.graph.container,e=$("#"+e);this.ev=!1;var t=this;e.on("mouseover",function(){t.ev=!0}),e.on("mouseout",function(){t.ev=!1}),this._keyProcessing=function(e){t.keyProcessing(e)},document.addEventListener("keydown",this._keyProcessing,!1)},this.unsubscribe=function(){var e=this.graph.container,e=document.getElementById(e);null!=e&&(e.onmouseover=void 0,e.onmouseout=void 0),document.removeEventListener("keydown",this._keyProcessing)},this.keyProcessing=function(e){if(!1!==this.ev){var t=e.key;if("Control"!==t){if(Array.isArray(e.path))for(var i=e.path.length-1;0<i;i--)if(e.path[i].classList)for(var n=0;n<e.path.length;n++)if("WorkflowDesignerWindow"==e.path[i].classList[n])return;var r,o=!1;e.ctrlKey?"a"==t?this.graph.SelectAll():"c"==t?this.graph.CopySelected():"e"!=t||this.graph.Settings.readonly?"i"==t?(r=this.graph.getParam("exinfo"),this.graph.setParam("exinfo",!r),this.graph.Draw()):"m"==t?(r=this.graph.getParam("movemodeenabled"),this.graph.setParam("movemodeenabled",!r),this.graph.Draw()):"y"!=t||this.graph.Settings.readonly?"z"!=t||this.graph.Settings.readonly?o=!0:this.graph.Undo():this.graph.Redo():this.graph.CreateActivity():e.altKey&&"Enter"==t?this.graph.onFullScreenClick():"Delete"!=t||this.graph.Settings.readonly?"ArrowUp"==t?this.objectsMove(0,-1):"ArrowDown"==t?this.objectsMove(0,1):"ArrowLeft"==t?this.objectsMove(-1,0):"ArrowRight"==t?this.objectsMove(1,0):o=!0:this.graph.DeleteSelected(),0==o&&e.preventDefault()}}},this.objectsMove=function(e,t){var i,n=this.graph.GetComponentByType("WorkflowDesignerActivityManager");null!=n&&(i=this.graph.Settings.DefaultMoveStep,0==n.GetSelected().length?this.graph.GraphUpdatePosition({x:e*i,y:t*i}):(n.ObjectMove({changepos:{x:e*i,y:t*i}}),n.batchDraw()))},this.toolbarExec=function(e){var t=this.graph.GetComponentByType("WorkflowDesignerToolbar");null!=t&&null!=t[e]&&t[e]()}}var JSON5="object"==typeof exports?exports:{};JSON5.parse=function(){"use strict";function t(e){return""===e?"EOF":"'"+e+"'"}function o(e){var t=new SyntaxError;throw t.message=e+" at line "+c+" column "+h+" of the JSON5 data. Still to read: "+JSON.stringify(d.substring(l-1,l+19)),t.at=l,t.lineNumber=c,t.columnNumber=h,t}function s(e){return e&&e!==u&&o("Expected "+t(e)+" instead of "+t(u)),u=d.charAt(l),l++,h++,("\n"===u||"\r"===u&&"\n"!==g())&&(c++,h=0),u}function e(){var e,t="",i="",n=10;if("-"!==u&&"+"!==u||s(t=u),"I"===u)return"number"==typeof(e=m())&&!isNaN(e)||o("Unexpected word for number"),"-"===t?-e:e;if("N"===u)return e=m(),isNaN(e)||o("expected word to be NaN"),e;switch("0"===u&&(i+=u,s(),"x"===u||"X"===u?(i+=u,s(),n=16):"0"<=u&&u<="9"&&o("Octal literal")),n){case 10:for(;"0"<=u&&u<="9";)i+=u,s();if("."===u)for(i+=".";s()&&"0"<=u&&u<="9";)i+=u;if("e"===u||"E"===u)for(i+=u,s(),"-"!==u&&"+"!==u||(i+=u,s());"0"<=u&&u<="9";)i+=u,s();break;case 16:for(;"0"<=u&&u<="9"||"A"<=u&&u<="F"||"a"<=u&&u<="f";)i+=u,s()}if(e="-"===t?-i:+i,isFinite(e))return e;o("Bad number")}function i(){var e,t,i,n,r="";if('"'===u||"'"===u)for(i=u;s();){if(u===i)return s(),r;if("\\"===u)if(s(),"u"===u){for(t=n=0;t<4&&(e=parseInt(s(),16),isFinite(e));t+=1)n=16*n+e;r+=String.fromCharCode(n)}else if("\r"===u)"\n"===g()&&s();else{if("string"!=typeof f[u])break;r+=f[u]}else{if("\n"===u)break;r+=u}}o("Bad string")}function n(){"/"!==u&&o("Not a comment"),s("/"),"/"===u?function(){"/"!==u&&o("Not an inline comment");do{if(s(),"\n"===u||"\r"===u)return s()}while(u)}():"*"===u?function(){"*"!==u&&o("Not a block comment");do{for(s();"*"===u;)if(s("*"),"/"===u)return s("/")}while(u);o("Unterminated block comment")}():o("Unrecognized comment")}function r(){for(;u;)if("/"===u)n();else{if(!(0<=p.indexOf(u)))return;s()}}function a(){var e,t={};if("{"===u)for(s("{"),r();u;){if("}"===u)return s("}"),t;if(e=('"'===u||"'"===u?i:function(){var e=u;for("_"!==u&&"$"!==u&&(u<"a"||"z"<u)&&(u<"A"||"Z"<u)&&o("Bad identifier as unquoted key");s()&&("_"===u||"$"===u||"a"<=u&&u<="z"||"A"<=u&&u<="Z"||"0"<=u&&u<="9");)e+=u;return e})(),r(),s(":"),t[e]=v(),r(),","!==u)return s("}"),t;s(","),r()}o("Bad object")}var l,c,h,u,d,f={"'":"'",'"':'"',"\\":"\\","/":"/","\n":"",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},p=[" ","\t","\r","\n","\v","\f"," ","\ufeff"],g=function(){return d.charAt(l)},m=function(){switch(u){case"t":return s("t"),s("r"),s("u"),s("e"),!0;case"f":return s("f"),s("a"),s("l"),s("s"),s("e"),!1;case"n":return s("n"),s("u"),s("l"),s("l"),null;case"I":return s("I"),s("n"),s("f"),s("i"),s("n"),s("i"),s("t"),s("y"),1/0;case"N":return s("N"),s("a"),s("N"),NaN}o("Unexpected "+t(u))},v=function(){switch(r(),u){case"{":return a();case"[":return function(){var e=[];if("["===u)for(s("["),r();u;){if("]"===u)return s("]"),e;if(","===u?o("Missing array element"):e.push(v()),r(),","!==u)return s("]"),e;s(","),r()}o("Bad array")}();case'"':case"'":return i();case"-":case"+":case".":return e();default:return("0"<=u&&u<="9"?e:m)()}};return function(e,s){return d=String(e),l=0,h=c=1,u=" ",e=v(),r(),u&&o("Syntax error"),"function"==typeof s?function e(t,i){var n,r,o=t[i];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(void 0!==(r=e(o,n))?o[n]=r:delete o[n]);return s.call(t,i,o)}({"":e},""):e}}(),JSON5.stringify=function(e,r,t){if(r&&"function"!=typeof r&&!f(r))throw new Error("Replacer must be a function or an array");var u=function(e,t,i){var n=e[t];return n&&n.toJSON&&"function"==typeof n.toJSON&&(n=n.toJSON()),"function"==typeof r?r.call(e,t,n):!r||i||f(e)||0<=r.indexOf(t)?n:void 0};function d(e){if("string"!=typeof e)return!1;if(!("a"<=(t=e[0])&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t))return!1;for(var t,i,n=1,r=e.length;n<r;){if(!("a"<=(i=e[n])&&i<="z"||"A"<=i&&i<="Z"||"0"<=i&&i<="9"||"_"===i||"$"===i))return!1;n++}return!0}function f(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}JSON5.isWord=d;var p,g=[];function m(e){for(var t=0;t<g.length;t++)if(g[t]===e)throw new TypeError("Converting circular structure to JSON")}function v(e,t,i){if(!e)return"";10<e.length&&(e=e.substring(0,10));for(var n=i?"":"\n",r=0;r<t;r++)n+=e;return n}t&&("string"==typeof t?p=t:"number"==typeof t&&0<=t&&(p=v(" ",t,!0)));var i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function y(e){return i.lastIndex=0,i.test(e)?'"'+e.replace(i,function(e){var t=n[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}t={"":e};return(void 0===e?u:function e(t,i,n){var r,o,s=u(t,i,n);switch(s&&(t=s,"[object Date]"!==Object.prototype.toString.call(t))&&(s=s.valueOf()),typeof s){case"boolean":return s.toString();case"number":return isNaN(s)||!isFinite(s)?"null":s.toString();case"string":return y(s.toString());case"object":if(null===s)return"null";if(f(s)){m(s),r="[",g.push(s);for(var a=0;a<s.length;a++)o=e(s,a,!1),r+=v(p,g.length),r+=null==o?"null":o,a<s.length-1?r+=",":p&&(r+="\n");g.pop(),r+=v(p,g.length,!0)+"]"}else{m(s);var l,c,h=!(r="{");for(l in g.push(s),s)!s.hasOwnProperty(l)||null!=(c=e(s,l,n=!1))&&(r+=v(p,g.length),h=!0,r+=(i=d(l)?l:y(l))+":"+(p?" ":"")+c+",");g.pop(),r=h?r.substring(0,r.length-1)+v(p,g.length)+"}":"{}"}return r;default:return}})(t,"",!0)},function(){"use strict";var t=Math.PI/180,r={version:"2.0.2",stages:[],idCounter:0,ids:{},names:{},shapes:{},listenClickTap:!1,inDblClickWindow:!1,isBrowser:"undefined"!=typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),enableTrace:!1,traceArrMax:100,dblClickWindow:400,pixelRatio:void 0,dragDistance:3,angleDeg:!0,showWarnings:!0,Filters:{},isDragging:function(){var e=r.DD;return!!e&&e.isDragging},isDragReady:function(){var e=r.DD;return!!e&&!!e.node},_addId:function(e,t){void 0!==t&&(this.ids[t]=e)},_removeId:function(e){void 0!==e&&delete this.ids[e]},_addName:function(e,t){t&&(this.names[t]||(this.names[t]=[]),this.names[t].push(e))},_removeName:function(e,t){if(e){var i=this.names[e];if(i){for(var n=0;n<i.length;n++)i[n]._id===t&&i.splice(n,1);0===i.length&&delete this.names[e]}}},getAngle:function(e){return this.angleDeg?e*t:e},_detectIE:function(e){var t=e.indexOf("msie ");if(0<t)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(0<e.indexOf("trident/")){var i=e.indexOf("rv:");return parseInt(e.substring(i+3,e.indexOf(".",i)),10)}i=e.indexOf("edge/");return 0<i&&parseInt(e.substring(i+5,e.indexOf(".",i)),10)},_parseUA:function(e){var t=e.toLowerCase(),i=/(chrome)[ /]([\w.]+)/.exec(t)||/(webkit)[ /]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ /]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],n=!!e.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),e=!!e.match(/IEMobile/i);return{browser:i[1]||"",version:i[2]||"0",isIE:r._detectIE(t),mobile:n,ieMobile:e}},UA:void 0},e="undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{};r.UA=r._parseUA(e.navigator&&e.navigator.userAgent||""),e.Konva&&console.error("Konva instance is already exist in current eviroment. Please use only one instance."),(e.Konva=r).global=e,r.window=e,r.document=e.document,"object"==typeof exports?module.exports=r:"function"==typeof define&&define.amd&&define(function(){return r})}(),function(){"use strict";Konva.Collection=function(){var e=[].slice.call(arguments),t=e.length,i=0;for(this.length=t;i<t;i++)this[i]=e[i];return this},Konva.Collection.prototype=[],Konva.Collection.prototype.each=function(e){for(var t=0;t<this.length;t++)e(this[t],t)},Konva.Collection.prototype.toArray=function(){for(var e=[],t=this.length,i=0;i<t;i++)e.push(this[i]);return e},Konva.Collection.toCollection=function(e){for(var t=new Konva.Collection,i=e.length,n=0;n<i;n++)t.push(e[n]);return t},Konva.Collection._mapMethod=function(n){Konva.Collection.prototype[n]=function(){for(var e=this.length,t=[].slice.call(arguments),i=0;i<e;i++)this[i][n].apply(this[i],t);return this}},Konva.Collection.mapMethods=function(e){for(var t in e.prototype)Konva.Collection._mapMethod(t)},Konva.Transform=function(e){this.m=e&&e.slice()||[1,0,0,1,0,0]},Konva.Transform.prototype={copy:function(){return new Konva.Transform(this.m)},point:function(e){var t=this.m;return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[1]*e.x+t[3]*e.y+t[5]}},translate:function(e,t){return this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t,this},scale:function(e,t){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t,this},rotate:function(e){var t=Math.cos(e),i=Math.sin(e),n=this.m[0]*t+this.m[2]*i,r=this.m[1]*t+this.m[3]*i,e=this.m[0]*-i+this.m[2]*t,t=this.m[1]*-i+this.m[3]*t;return this.m[0]=n,this.m[1]=r,this.m[2]=e,this.m[3]=t,this},getTranslation:function(){return{x:this.m[4],y:this.m[5]}},skew:function(e,t){var i=this.m[0]+this.m[2]*t,n=this.m[1]+this.m[3]*t,t=this.m[2]+this.m[0]*e,e=this.m[3]+this.m[1]*e;return this.m[0]=i,this.m[1]=n,this.m[2]=t,this.m[3]=e,this},multiply:function(e){var t=this.m[0]*e.m[0]+this.m[2]*e.m[1],i=this.m[1]*e.m[0]+this.m[3]*e.m[1],n=this.m[0]*e.m[2]+this.m[2]*e.m[3],r=this.m[1]*e.m[2]+this.m[3]*e.m[3],o=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],e=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=t,this.m[1]=i,this.m[2]=n,this.m[3]=r,this.m[4]=o,this.m[5]=e,this},invert:function(){var e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=this.m[3]*e,i=-this.m[1]*e,n=-this.m[2]*e,r=this.m[0]*e,o=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),e=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=t,this.m[1]=i,this.m[2]=n,this.m[3]=r,this.m[4]=o,this.m[5]=e,this},getMatrix:function(){return this.m},setAbsolutePosition:function(e,t){var i=this.m[0],n=this.m[1],r=this.m[2],o=this.m[3],s=this.m[4],n=(i*(t-this.m[5])-n*(e-s))/(i*o-n*r),i=(e-s-r*n)/i;return this.translate(i,n)}};var t=Math.PI/180,i=180/Math.PI,n="Konva error: ",r={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},o=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;Konva.Util={_isElement:function(e){return!(!e||1!=e.nodeType)},_isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},_isObject:function(e){return!!e&&e.constructor===Object},_isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},_isNumber:function(e){return"[object Number]"===Object.prototype.toString.call(e)},_isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},isValidSelector:function(e){if("string"!=typeof e)return!1;e=e[0];return"#"===e||"."===e||e===e.toUpperCase()},createCanvasElement:function(){var e=Konva.isBrowser?Konva.document.createElement("canvas"):new Konva._nodeCanvas;try{e.style=e.style||{}}catch(e){}return e},_isInDocument:function(e){for(;e=e.parentNode;)if(e==Konva.document)return!0;return!1},_simplifyArray:function(e){for(var t,i=[],n=e.length,r=Konva.Util,o=0;o<n;o++)t=e[o],r._isNumber(t)?t=Math.round(1e3*t)/1e3:r._isString(t)||(t=t.toString()),i.push(t);return i},_getImage:function(e,t){var i,n;e?this._isElement(e)?t(e):this._isString(e)?((i=new Konva.window.Image).onload=function(){t(i)},i.src=e):e.data?((n=Konva.Util.createCanvasElement()).width=e.width,n.height=e.height,n.getContext("2d").putImageData(e,0,0),this._getImage(n.toDataURL(),t)):t(null):t(null)},_getRGBAString:function(e){return["rgba(",e.red||0,",",e.green||0,",",e.blue||0,",",e.alpha||1,")"].join("")},_rgbToHex:function(e,t,i){return((1<<24)+(e<<16)+(t<<8)+i).toString(16).slice(1)},_hexToRgb:function(e){e=e.replace("#","");e=parseInt(e,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor:function(){for(var e=(16777215*Math.random()<<0).toString(16);e.length<6;)e="0"+e;return"#"+e},get:function(e,t){return void 0===e?t:e},getRGB:function(e){var t;return e in r?{r:(t=r[e])[0],g:t[1],b:t[2]}:"#"===e[0]?this._hexToRgb(e.substring(1)):"rgb("===e.substr(0,4)?(t=o.exec(e.replace(/ /g,"")),{r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}):{r:0,g:0,b:0}},colorToRGBA:function(e){return e=e||"black",Konva.Util._namedColorToRBA(e)||Konva.Util._hex3ColorToRGBA(e)||Konva.Util._hex6ColorToRGBA(e)||Konva.Util._rgbColorToRGBA(e)||Konva.Util._rgbaColorToRGBA(e)},_namedColorToRBA:function(e){e=r[e.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA:function(e){if(0===e.indexOf("rgb(")){e=(e=e.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA:function(e){if(0===e.indexOf("rgba(")){e=(e=e.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex6ColorToRGBA:function(e){if("#"===e[0]&&7===e.length)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:1}},_hex3ColorToRGBA:function(e){if("#"===e[0]&&4===e.length)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:1}},_merge:function(e,t){var i,n=this._clone(t);for(i in e)this._isObject(e[i])?n[i]=this._merge(e[i],n[i]):n[i]=e[i];return n},haveIntersection:function(e,t){return!(t.x>e.x+e.width||t.x+t.width<e.x||t.y>e.y+e.height||t.y+t.height<e.y)},cloneObject:function(e){var t,i={};for(t in e)this._isObject(e[t])?i[t]=this.cloneObject(e[t]):this._isArray(e[t])?i[t]=this.cloneArray(e[t]):i[t]=e[t];return i},cloneArray:function(e){return e.slice(0)},_degToRad:function(e){return e*t},_radToDeg:function(e){return e*i},_capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},throw:function(e){throw new Error(n+e)},error:function(e){console.error(n+e)},warn:function(e){Konva.global.console&&console.warn&&Konva.showWarnings&&console.warn("Konva warning: "+e)},extend:function(e,t){function i(){this.constructor=e}i.prototype=t.prototype;var n,r=e.prototype;for(n in e.prototype=new i,r)r.hasOwnProperty(n)&&(e.prototype[n]=r[n]);e.__super__=t.prototype,e.super=t},addMethods:function(e,t){for(var i in t)e.prototype[i]=t[i]},_getControlPoints:function(e,t,i,n,r,o,s){var a=Math.sqrt(Math.pow(i-e,2)+Math.pow(n-t,2)),l=Math.sqrt(Math.pow(r-i,2)+Math.pow(o-n,2)),c=s*a/(a+l),l=s*l/(a+l);return[i-c*(r-e),n-c*(o-t),i+l*(r-e),n+l*(o-t)]},_expandPoints:function(e,t){for(var i,n=e.length,r=[],o=2;o<n-2;o+=2)i=Konva.Util._getControlPoints(e[o-2],e[o-1],e[o],e[o+1],e[o+2],e[o+3],t),r.push(i[0]),r.push(i[1]),r.push(e[o]),r.push(e[o+1]),r.push(i[2]),r.push(i[3]);return r},_removeLastLetter:function(e){return e.substring(0,e.length-1)},each:function(e,t){for(var i in e)t(i,e[i])},_inRange:function(e,t,i){return t<=e&&e<i},_getProjectionToSegment:function(e,t,i,n,r,o){var s,a,l=(e-i)*(e-i)+(t-n)*(t-n);return o=0==l?(s=e,a=t,(r-i)*(r-i)+(o-n)*(o-n)):(l=((r-e)*(i-e)+(o-t)*(n-t))/l)<0?((s=e)-r)*(e-r)+((a=t)-o)*(t-o):1<l?((s=i)-r)*(i-r)+((a=n)-o)*(n-o):((s=e+l*(i-e))-r)*(s-r)+((a=t+l*(n-t))-o)*(a-o),[s,a,o]},_getProjectionToLine:function(n,r,o){var s=Konva.Util.cloneObject(n),a=Number.MAX_VALUE;return r.forEach(function(e,t){var i;!o&&t===r.length-1||(i=r[(t+1)%r.length],e=(t=Konva.Util._getProjectionToSegment(e.x,e.y,i.x,i.y,n.x,n.y))[0],i=t[1],(t=t[2])<a&&(s.x=e,s.y=i,a=t))}),s},_prepareArrayForTween:function(e,t,i){var n,r,o=[],s=[];for(e.length>t.length&&(r=t,t=e,e=r),n=0;n<e.length;n+=2)o.push({x:e[n],y:e[n+1]});for(n=0;n<t.length;n+=2)s.push({x:t[n],y:t[n+1]});var a=[];return s.forEach(function(e){e=Konva.Util._getProjectionToLine(e,o,i);a.push(e.x),a.push(e.y)}),a},_prepareToStringify:function(e){var t,i;for(i in e.visitedByCircularReferenceRemoval=!0,e)if(e.hasOwnProperty(i)&&e[i]&&"object"==typeof e[i])if(t=Object.getOwnPropertyDescriptor(e,i),e[i].visitedByCircularReferenceRemoval||Konva.Util._isElement(e[i])){if(!t.configurable)return null;delete e[i]}else if(null===Konva.Util._prepareToStringify(e[i])){if(!t.configurable)return null;delete e[i]}return delete e.visitedByCircularReferenceRemoval,e}}}(),function(){"use strict";var t;Konva.Canvas=function(e){this.init(e)},Konva.Canvas.prototype={init:function(e){e=(e||{}).pixelRatio||Konva.pixelRatio||function(){if(t)return t;var e=Konva.Util.createCanvasElement().getContext("2d");return t=(Konva.window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}();this.pixelRatio=e,this._canvas=Konva.Util.createCanvasElement(),this._canvas.style.padding=0,this._canvas.style.margin=0,this._canvas.style.border=0,this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top=0,this._canvas.style.left=0},getContext:function(){return this.context},getPixelRatio:function(){return this.pixelRatio},setPixelRatio:function(e){var t=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/t,this.getHeight()/t)},setWidth:function(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";e=this.pixelRatio;this.getContext()._context.scale(e,e)},setHeight:function(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";e=this.pixelRatio;this.getContext()._context.scale(e,e)},getWidth:function(){return this.width},getHeight:function(){return this.height},setSize:function(e,t){this.setWidth(e),this.setHeight(t)},toDataURL:function(e,t){try{return this._canvas.toDataURL(e,t)}catch(e){try{return this._canvas.toDataURL()}catch(e){return Konva.Util.warn("Unable to get data URL. "+e.message),""}}}},Konva.SceneCanvas=function(e){var t=e||{},i=t.width||0,e=t.height||0;Konva.Canvas.call(this,t),this.context=new Konva.SceneContext(this),this.setSize(i,e)},Konva.Util.extend(Konva.SceneCanvas,Konva.Canvas),Konva.HitCanvas=function(e){var t=e||{},i=t.width||0,e=t.height||0;Konva.Canvas.call(this,t),this.context=new Konva.HitContext(this),this.setSize(i,e),this.hitCanvas=!0},Konva.Util.extend(Konva.HitCanvas,Konva.Canvas)}(),function(){"use strict";var s=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];Konva.Context=function(e){this.init(e)},Konva.Context.prototype={init:function(e){this.canvas=e,this._context=e._canvas.getContext("2d"),Konva.enableTrace&&(this.traceArr=[],this._enableTrace())},fillShape:function(e){e.getFillEnabled()&&this._fill(e)},strokeShape:function(e){e.getStrokeEnabled()&&this._stroke(e)},fillStrokeShape:function(e){e.getFillEnabled()&&this._fill(e),e.getStrokeEnabled()&&this._stroke(e)},getTrace:function(e){for(var t,i,n,r=this.traceArr,o=r.length,s="",a=0;a<o;a++)(i=(t=r[a]).method)?(n=t.args,s+=i,e?s+="()":Konva.Util._isArray(n[0])?s+="(["+n.join(",")+"])":s+="("+n.join(",")+")"):(s+=t.property,e||(s+="="+t.val)),s+=";";return s},clearTrace:function(){this.traceArr=[]},_trace:function(e){var t=this.traceArr;t.push(e),t.length>=Konva.traceArrMax&&t.shift()},reset:function(){var e=this.getCanvas().getPixelRatio();this.setTransform(+e,0,0,+e,0,0)},getCanvas:function(){return this.canvas},clear:function(e){var t=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,t.getWidth()/t.pixelRatio,t.getHeight()/t.pixelRatio)},_applyLineCap:function(e){e=e.getLineCap();e&&this.setAttr("lineCap",e)},_applyOpacity:function(e){e=e.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)},_applyLineJoin:function(e){e=e.getLineJoin();e&&this.setAttr("lineJoin",e)},setAttr:function(e,t){this._context[e]=t},arc:function(){var e=arguments;this._context.arc(e[0],e[1],e[2],e[3],e[4],e[5])},beginPath:function(){this._context.beginPath()},bezierCurveTo:function(){var e=arguments;this._context.bezierCurveTo(e[0],e[1],e[2],e[3],e[4],e[5])},clearRect:function(){var e=arguments;this._context.clearRect(e[0],e[1],e[2],e[3])},clip:function(){this._context.clip()},closePath:function(){this._context.closePath()},createImageData:function(){var e=arguments;return 2===e.length?this._context.createImageData(e[0],e[1]):1===e.length?this._context.createImageData(e[0]):void 0},createLinearGradient:function(){var e=arguments;return this._context.createLinearGradient(e[0],e[1],e[2],e[3])},createPattern:function(){var e=arguments;return this._context.createPattern(e[0],e[1])},createRadialGradient:function(){var e=arguments;return this._context.createRadialGradient(e[0],e[1],e[2],e[3],e[4],e[5])},drawImage:function(){var e=arguments,t=this._context;3===e.length?t.drawImage(e[0],e[1],e[2]):5===e.length?t.drawImage(e[0],e[1],e[2],e[3],e[4]):9===e.length&&t.drawImage(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},isPointInPath:function(e,t){return this._context.isPointInPath(e,t)},fill:function(){this._context.fill()},fillRect:function(e,t,i,n){this._context.fillRect(e,t,i,n)},strokeRect:function(e,t,i,n){this._context.strokeRect(e,t,i,n)},fillText:function(){var e=arguments;this._context.fillText(e[0],e[1],e[2])},measureText:function(e){return this._context.measureText(e)},getImageData:function(){var e=arguments;return this._context.getImageData(e[0],e[1],e[2],e[3])},lineTo:function(){var e=arguments;this._context.lineTo(e[0],e[1])},moveTo:function(){var e=arguments;this._context.moveTo(e[0],e[1])},rect:function(){var e=arguments;this._context.rect(e[0],e[1],e[2],e[3])},putImageData:function(){var e=arguments;this._context.putImageData(e[0],e[1],e[2])},quadraticCurveTo:function(){var e=arguments;this._context.quadraticCurveTo(e[0],e[1],e[2],e[3])},restore:function(){this._context.restore()},rotate:function(){var e=arguments;this._context.rotate(e[0])},save:function(){this._context.save()},scale:function(){var e=arguments;this._context.scale(e[0],e[1])},setLineDash:function(){var e=arguments,t=this._context;this._context.setLineDash?t.setLineDash(e[0]):"mozDash"in t?t.mozDash=e[0]:"webkitLineDash"in t&&(t.webkitLineDash=e[0])},getLineDash:function(){return this._context.getLineDash()},setTransform:function(){var e=arguments;this._context.setTransform(e[0],e[1],e[2],e[3],e[4],e[5])},stroke:function(){this._context.stroke()},strokeText:function(){var e=arguments;this._context.strokeText(e[0],e[1],e[2])},transform:function(){var e=arguments;this._context.transform(e[0],e[1],e[2],e[3],e[4],e[5])},translate:function(){var e=arguments;this._context.translate(e[0],e[1])},_enableTrace:function(){for(var n,r=this,e=s.length,o=Konva.Util._simplifyArray,i=this.setAttr,t=0;t<e;t++)!function(e){var t,i=r[e];r[e]=function(){return n=o(Array.prototype.slice.call(arguments,0)),t=i.apply(r,arguments),r._trace({method:e,args:n}),t}}(s[t]);r.setAttr=function(){i.apply(r,arguments);var e=arguments[0],t=arguments[1];"shadowOffsetX"!==e&&"shadowOffsetY"!==e&&"shadowBlur"!==e||(t/=this.canvas.getPixelRatio()),r._trace({property:e,val:t})}}},["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation"].forEach(function(t){Object.defineProperty(Konva.Context.prototype,t,{get:function(){return this._context[t]},set:function(e){this._context[t]=e}})}),Konva.SceneContext=function(e){Konva.Context.call(this,e)},Konva.SceneContext.prototype={_fillColor:function(e){var t=e.fill();this.setAttr("fillStyle",t),e._fillFunc(this)},_fillPattern:function(e){var t=e.getFillPatternX(),i=e.getFillPatternY(),n=e.getFillPatternScale(),r=Konva.getAngle(e.getFillPatternRotation()),o=e.getFillPatternOffset();(t||i)&&this.translate(t||0,i||0),r&&this.rotate(r),n&&this.scale(n.x,n.y),o&&this.translate(-1*o.x,-1*o.y),this.setAttr("fillStyle",this.createPattern(e.getFillPatternImage(),e.getFillPatternRepeat()||"repeat")),this.fill()},_fillLinearGradient:function(e){var t=e.getFillLinearGradientStartPoint(),i=e.getFillLinearGradientEndPoint(),n=e.getFillLinearGradientColorStops(),r=this.createLinearGradient(t.x,t.y,i.x,i.y);if(n){for(var o=0;o<n.length;o+=2)r.addColorStop(n[o],n[o+1]);this.setAttr("fillStyle",r),e._fillFunc(this)}},_fillRadialGradient:function(e){for(var t=e.getFillRadialGradientStartPoint(),i=e.getFillRadialGradientEndPoint(),n=e.getFillRadialGradientStartRadius(),r=e.getFillRadialGradientEndRadius(),o=e.getFillRadialGradientColorStops(),s=this.createRadialGradient(t.x,t.y,n,i.x,i.y,r),a=0;a<o.length;a+=2)s.addColorStop(o[a],o[a+1]);this.setAttr("fillStyle",s),this.fill()},_fill:function(e){var t,i,n,r=e.fill(),o=e.getFillPriority();r&&"color"===o?this._fillColor(e):(t=e.getFillPatternImage())&&"pattern"===o?this._fillPattern(e):(i=e.getFillLinearGradientColorStops())&&"linear-gradient"===o?this._fillLinearGradient(e):(n=e.getFillRadialGradientColorStops())&&"radial-gradient"===o?this._fillRadialGradient(e):r?this._fillColor(e):t?this._fillPattern(e):i?this._fillLinearGradient(e):n&&this._fillRadialGradient(e)},_strokeLinearGradient:function(e){var t=e.getStrokeLinearGradientStartPoint(),i=e.getStrokeLinearGradientEndPoint(),n=e.getStrokeLinearGradientColorStops(),r=this.createLinearGradient(t.x,t.y,i.x,i.y);if(n){for(var o=0;o<n.length;o+=2)r.addColorStop(n[o],n[o+1]);this.setAttr("strokeStyle",r)}},_stroke:function(e){var t=e.dash(),i=e.getStrokeScaleEnabled()||e instanceof Konva.Text;e.hasStroke()&&(i||(this.save(),this.setTransform(1,0,0,1,0,0)),this._applyLineCap(e),t&&e.dashEnabled()&&(this.setLineDash(t),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),i||this.restore())},_applyShadow:function(e){var t=Konva.Util,i=t.get(e.getShadowRGBA(),"black"),n=t.get(e.getShadowBlur(),5),r=t.get(e.getShadowOffset(),{x:0,y:0}),o=e.getAbsoluteScale(),t=this.canvas.getPixelRatio(),e=o.x*t,t=o.y*t;this.setAttr("shadowColor",i),this.setAttr("shadowBlur",n*Math.min(Math.abs(e),Math.abs(t))),this.setAttr("shadowOffsetX",r.x*e),this.setAttr("shadowOffsetY",r.y*t)},_applyGlobalCompositeOperation:function(e){e=e.getGlobalCompositeOperation();"source-over"!==e&&this.setAttr("globalCompositeOperation",e)}},Konva.Util.extend(Konva.SceneContext,Konva.Context),Konva.HitContext=function(e){Konva.Context.call(this,e)},Konva.HitContext.prototype={_fill:function(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()},_stroke:function(e){var t;e.hasStroke()&&e.strokeHitEnabled()&&((t=e.getStrokeScaleEnabled()||e instanceof Konva.Text)||(this.save(),this.setTransform(1,0,0,1,0,0)),this._applyLineCap(e),this.setAttr("lineWidth",e.strokeWidth()),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),t||this.restore())}},Konva.Util.extend(Konva.HitContext,Konva.Context)}(),function(){"use strict";Konva.Factory={addGetterSetter:function(e,t,i,n,r){this.addGetter(e,t,i),this.addSetter(e,t,n,r),this.addOverloadedGetterSetter(e,t)},addGetter:function(e,t,i){var n="get"+Konva.Util._capitalize(t);e.prototype[n]=function(){var e=this.attrs[t];return void 0===e?i:e}},addSetter:function(e,t,i,n){var r="set"+Konva.Util._capitalize(t);e.prototype[r]=function(e){return i&&(e=i.call(this,e)),this._setAttr(t,e),n&&n.call(this),this}},addComponentsGetterSetter:function(e,n,t,r,o){var i,s,a=t.length,l=Konva.Util._capitalize,c="get"+l(n),h="set"+l(n);e.prototype[c]=function(){var e={};for(i=0;i<a;i++)e[s=t[i]]=this.getAttr(n+l(s));return e},e.prototype[h]=function(e){var t,i=this.attrs[n];for(t in r&&(e=r.call(this,e)),e)e.hasOwnProperty(t)&&this._setAttr(n+l(t),e[t]);return this._fireChangeEvent(n,i,e),o&&o.call(this),this},this.addOverloadedGetterSetter(e,n)},addOverloadedGetterSetter:function(e,t){var i=Konva.Util._capitalize(t),n="set"+i,r="get"+i;e.prototype[t]=function(){return arguments.length?(this[n](arguments[0]),this):this[r]()}},addDeprecatedGetterSetter:function(e,t,i,n){Konva.Util.error("Adding deprecated "+t);var r="get"+Konva.Util._capitalize(t),o=t+" property is deprecated and will be removed soon. Look at Konva change log for more information.";e.prototype[r]=function(){Konva.Util.error(o);var e=this.attrs[t];return void 0===e?i:e},this.addSetter(e,t,n,function(){Konva.Util.error(o)}),this.addOverloadedGetterSetter(e,t)},backCompat:function(n,e){Konva.Util.each(e,function(e,t){var i=n.prototype[t];n.prototype[e]=function(){i.apply(this,arguments),Konva.Util.error(e+" method is deprecated and will be removed soon. Use "+t+" instead")}})},afterSetFilter:function(){this._filterUpToDate=!1}},Konva.Validators={RGBComponent:function(e){return 255<e?255:e<0?0:Math.round(e)},alphaComponent:function(e){return 1<e?1:e<1e-4?1e-4:e}}}(),function(h){"use strict";var u="absoluteOpacity",i="absoluteTransform",d="absoluteScale",n="listening",r="transform",c=["id"],o=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(" "),s=["scaleXChange.konva","scaleYChange.konva"].join(" ");h.Node=function(e){this._init(e)},h.Util.addMethods(h.Node,{_init:function(e){var t=this;this._id=h.idCounter++,this.eventListeners={},this.attrs={},this._cache={},this._filterUpToDate=!1,this._isUnderCache=!1,this.setAttrs(e),this.on(o,function(){this._clearCache(r),t._clearSelfAndDescendantCache(i)}),this.on(s,function(){t._clearSelfAndDescendantCache(d)}),this.on("visibleChange.konva",function(){t._clearSelfAndDescendantCache("visible")}),this.on("listeningChange.konva",function(){t._clearSelfAndDescendantCache(n)}),this.on("opacityChange.konva",function(){t._clearSelfAndDescendantCache(u)})},_clearCache:function(e){e?delete this._cache[e]:this._cache={}},_getCache:function(e,t){return void 0===this._cache[e]&&(this._cache[e]=t.call(this)),this._cache[e]},_clearSelfAndDescendantCache:function(t){this._clearCache(t),this.children&&this.getChildren().each(function(e){e._clearSelfAndDescendantCache(t)})},clearCache:function(){return delete this._cache.canvas,this._filterUpToDate=!1,this},cache:function(e){var t=e||{},i=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}),n=t.width||i.width,r=t.height||i.height,o=t.pixelRatio,s=t.x||i.x,a=t.y||i.y,l=t.offset||0,c=t.drawBorder||!1;if(n&&r){n+=2*l,r+=2*l,s-=l,a-=l;e=new h.SceneCanvas({pixelRatio:o,width:n,height:r}),i=new h.SceneCanvas({pixelRatio:o,width:n,height:r}),t=new h.HitCanvas({pixelRatio:1,width:n,height:r}),l=e.getContext(),o=t.getContext();return t.isCache=!0,this.clearCache(),l.save(),o.save(),l.translate(-s,-a),o.translate(-s,-a),this._isUnderCache=!0,this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(d),this.drawScene(e,this,!0),this.drawHit(t,this,!0),this._isUnderCache=!1,l.restore(),o.restore(),c&&(l.save(),l.beginPath(),l.rect(0,0,n,r),l.closePath(),l.setAttr("strokeStyle","red"),l.setAttr("lineWidth",5),l.stroke(),l.restore()),this._cache.canvas={scene:e,filter:i,hit:t,x:s,y:a},this}setTimeout(function(){h.Util.throw("Width or height of caching configuration equals 0. Caching is ignored.")})},getClientRect:function(){throw new Error('abstract "getClientRect" method call')},_transformedRect:function(e,t){var i,n,r,o,e=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],s=this.getAbsoluteTransform(t);return e.forEach(function(e){e=s.point(e);void 0===i&&(i=r=e.x,n=o=e.y),i=Math.min(i,e.x),n=Math.min(n,e.y),r=Math.max(r,e.x),o=Math.max(o,e.y)}),{x:i,y:n,width:r-i,height:o-n}},_drawCachedSceneCanvas:function(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this),e.translate(this._cache.canvas.x,this._cache.canvas.y);var t=this._getCachedSceneCanvas(),i=t.pixelRatio;e.drawImage(t._canvas,0,0,t.width/i,t.height/i),e.restore()},_drawCachedHitCanvas:function(e){var t=this._cache.canvas.hit;e.save(),e.translate(this._cache.canvas.x,this._cache.canvas.y),e.drawImage(t._canvas,0,0),e.restore()},_getCachedSceneCanvas:function(){var e,t,i,n,r=this.filters(),o=this._cache.canvas,s=o.scene,a=o.filter,l=a.getContext();if(r){if(!this._filterUpToDate){var c=s.pixelRatio;try{for(e=r.length,l.clear(),l.drawImage(s._canvas,0,0,s.getWidth()/c,s.getHeight()/c),t=l.getImageData(0,0,a.getWidth(),a.getHeight()),i=0;i<e;i++)"function"==typeof(n=r[i])?(n.call(this,t),l.putImageData(t,0,0)):h.Util.error("Filter should be type of function, but got "+typeof n+" insted. Please check correct filters")}catch(e){h.Util.error("Unable to apply filter. "+e.message)}this._filterUpToDate=!0}return a}return s},on:function(e,t){if(3===arguments.length)return this._delegate.apply(this,arguments);for(var i,n,r=e.split(" "),o=r.length,s=0;s<o;s++)i=(n=r[s].split("."))[0],n=n[1]||"",this.eventListeners[i]||(this.eventListeners[i]=[]),this.eventListeners[i].push({name:n,handler:t});return this},off:function(e,t){var i,n,r,o,s,a=(e||"").split(" "),l=a.length;if(!e)for(n in this.eventListeners)this._off(n);for(i=0;i<l;i++)if(o=(r=a[i].split("."))[0],s=r[1],o)this.eventListeners[o]&&this._off(o,s,t);else for(n in this.eventListeners)this._off(n,s,t);return this},dispatchEvent:function(e){var t={target:this,type:e.type,evt:e};return this.fire(e.type,t),this},addEventListener:function(e,t){return this.on(e,function(e){t.call(this,e.evt)}),this},removeEventListener:function(e){return this.off(e),this},_delegate:function(e,n,r){var o=this;this.on(e,function(e){for(var t=e.target.findAncestors(n,!0,o),i=0;i<t.length;i++)(e=h.Util.cloneObject(e)).currentTarget=t[i],r.call(t[i],e)})},remove:function(){var e=this.getParent();return e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),delete this.parent),this._clearSelfAndDescendantCache("stage"),this._clearSelfAndDescendantCache(i),this._clearSelfAndDescendantCache("visible"),this._clearSelfAndDescendantCache(n),this._clearSelfAndDescendantCache(u),this},destroy:function(){h._removeId(this.getId());for(var e=(this.getName()||"").split(/\s/g),t=0;t<e.length;t++){var i=e[t];h._removeName(i,this._id)}return this.remove(),this},getAttr:function(e){var t="get"+h.Util._capitalize(e);return h.Util._isFunction(this[t])?this[t]():this.attrs[e]},getAncestors:function(){for(var e=this.getParent(),t=new h.Collection;e;)t.push(e),e=e.getParent();return t},getAttrs:function(){return this.attrs||{}},setAttrs:function(e){var t,i;if(!e)return this;for(t in e)"children"!==t&&(i="set"+h.Util._capitalize(t),h.Util._isFunction(this[i])?this[i](e[t]):this._setAttr(t,e[t]));return this},isListening:function(){return this._getCache(n,this._isListening)},_isListening:function(){var e=this.getListening(),t=this.getParent();return"inherit"===e?!t||t.isListening():e},isVisible:function(){return this._getCache("visible",this._isVisible)},_isVisible:function(){var e=this.getVisible(),t=this.getParent();return"inherit"===e?!t||t.isVisible():e},shouldDrawHit:function(e){var t=this.getLayer();return e&&e.isCache||t&&t.hitGraphEnabled()&&this.isListening()&&this.isVisible()},show:function(){return this.setVisible(!0),this},hide:function(){return this.setVisible(!1),this},getZIndex:function(){return this.index||0},getAbsoluteZIndex:function(){var i,n,r,o,s=this.getDepth(),a=this,l=0;return"Stage"!==a.nodeType&&function e(t){for(i=[],n=t.length,r=0;r<n;r++)o=t[r],l++,"Shape"!==o.nodeType&&(i=i.concat(o.getChildren().toArray())),o._id===a._id&&(r=n);0<i.length&&i[0].getDepth()<=s&&e(i)}(a.getStage().getChildren()),l},getDepth:function(){for(var e=0,t=this.parent;t;)e++,t=t.parent;return e},setPosition:function(e){return this.setX(e.x),this.setY(e.y),this},getPosition:function(){return{x:this.getX(),y:this.getY()}},getAbsolutePosition:function(e){var t=this.getAbsoluteTransform(e).getMatrix(),i=new h.Transform,e=this.offset();return i.m=t.slice(),i.translate(e.x,e.y),i.getTranslation()},setAbsolutePosition:function(e){var t,i=this._clearTransform();return this.attrs.x=i.x,this.attrs.y=i.y,delete i.x,delete i.y,(t=this.getAbsoluteTransform()).invert(),t.translate(e.x,e.y),e={x:this.attrs.x+t.getTranslation().x,y:this.attrs.y+t.getTranslation().y},this.setPosition({x:e.x,y:e.y}),this._setTransform(i),this},_setTransform:function(e){for(var t in e)this.attrs[t]=e[t];this._clearCache(r),this._clearSelfAndDescendantCache(i)},_clearTransform:function(){var e={x:this.getX(),y:this.getY(),rotation:this.getRotation(),scaleX:this.getScaleX(),scaleY:this.getScaleY(),offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),skewX:this.getSkewX(),skewY:this.getSkewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,this._clearCache(r),this._clearSelfAndDescendantCache(i),e},move:function(e){var t=e.x,i=e.y,n=this.getX(),e=this.getY();return void 0!==t&&(n+=t),void 0!==i&&(e+=i),this.setPosition({x:n,y:e}),this},_eachAncestorReverse:function(e,t){var i,n,r=[],o=this.getParent();if(t&&t._id===this._id)return e(this),!0;for(r.unshift(this);o&&(!t||o._id!==t._id);)r.unshift(o),o=o.parent;for(i=r.length,n=0;n<i;n++)e(r[n])},rotate:function(e){return this.setRotation(this.getRotation()+e),this},moveToTop:function(){if(!this.parent)return h.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index;return this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0},moveUp:function(){if(!this.parent)return h.Util.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0)},moveDown:function(){if(!this.parent)return h.Util.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return 0<e&&(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0)},moveToBottom:function(){if(!this.parent)return h.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return 0<e&&(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)},setZIndex:function(e){if(!this.parent)return h.Util.warn("Node has no parent. zIndex parameter is ignored."),!1;var t=this.index;return this.parent.children.splice(t,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this},getAbsoluteOpacity:function(){return this._getCache(u,this._getAbsoluteOpacity)},_getAbsoluteOpacity:function(){var e=this.getOpacity(),t=this.getParent();return t&&!t._isUnderCache&&(e*=this.getParent().getAbsoluteOpacity()),e},moveTo:function(e){return this.getParent()!==e&&((this.__originalRemove||this.remove).call(this),e.add(this)),this},toObject:function(){var e,t,i,n={},r=this.getAttrs();for(e in n.attrs={},r)t=r[e],i=this[e],delete r[e],i=i?i.call(this):null,r[e]=t,i!==t&&(n.attrs[e]=t);return n.className=this.getClassName(),h.Util._prepareToStringify(n)},toJSON:function(){return JSON.stringify(this.toObject())},getParent:function(){return this.parent},findAncestors:function(e,t,i){var n=[];t&&this._isMatch(e)&&n.push(this);for(var r=this.parent;r;){if(r===i)return n;r._isMatch(e)&&n.push(r),r=r.parent}return n},findAncestor:function(e,t,i){return this.findAncestors(e,t,i)[0]},_isMatch:function(e){if(!e)return!1;for(var t,i=e.replace(/ /g,"").split(","),n=i.length,r=0;r<n;r++)if(t=i[r],h.Util.isValidSelector(t)||(h.Util.warn('Selector "'+t+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),h.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),h.Util.warn("Konva is awesome, right?")),"#"===t.charAt(0)){if(this.id()===t.slice(1))return!0}else if("."===t.charAt(0)){if(this.hasName(t.slice(1)))return!0}else if(0!==this._get(t).length)return!0;return!1},getLayer:function(){var e=this.getParent();return e?e.getLayer():null},getStage:function(){return this._getCache("stage",this._getStage)},_getStage:function(){var e=this.getParent();return e?e.getStage():void 0},fire:function(e,t,i){return(t=t||{}).target=t.target||this,i?this._fireAndBubble(e,t):this._fire(e,t),this},getAbsoluteTransform:function(e){return e?this._getAbsoluteTransform(e):this._getCache(i,this._getAbsoluteTransform)},_getAbsoluteTransform:function(e){var t,i,n=new h.Transform;return this._eachAncestorReverse(function(e){t=e.transformsEnabled(),i=e.getTransform(),"all"===t?n.multiply(i):"position"===t&&n.translate(e.x(),e.y())},e),n},getAbsoluteScale:function(e){return e?this._getAbsoluteScale(e):this._getCache(d,this._getAbsoluteScale)},_getAbsoluteScale:function(e){for(var t=this;t;)t._isUnderCache&&(e=t),t=t.getParent();var i=1,n=1;return this._eachAncestorReverse(function(e){i*=e.scaleX(),n*=e.scaleY()},e),{x:i,y:n}},getTransform:function(){return this._getCache(r,this._getTransform)},_getTransform:function(){var e=new h.Transform,t=this.getX(),i=this.getY(),n=h.getAngle(this.getRotation()),r=this.getScaleX(),o=this.getScaleY(),s=this.getSkewX(),a=this.getSkewY(),l=this.getOffsetX(),c=this.getOffsetY();return 0===t&&0===i||e.translate(t,i),0!==n&&e.rotate(n),0===s&&0===a||e.skew(s,a),1===r&&1===o||e.scale(r,o),0===l&&0===c||e.translate(-1*l,-1*c),e},clone:function(e){var t,i,n,r,o,s,a=h.Util.cloneObject(this.attrs);for(s in c)delete a[c[s]];for(t in e)a[t]=e[t];var l=new this.constructor(a);for(t in this.eventListeners)for(n=(i=this.eventListeners[t]).length,r=0;r<n;r++)(o=i[r]).name.indexOf("konva")<0&&(l.eventListeners[t]||(l.eventListeners[t]=[]),l.eventListeners[t].push(o));return l},_toKonvaCanvas:function(e){e=e||{};var t=this.getStage(),i=e.x||0,n=e.y||0,r=e.pixelRatio||1,t=new h.SceneCanvas({width:e.width||this.getWidth()||(t?t.getWidth():0),height:e.height||this.getHeight()||(t?t.getHeight():0),pixelRatio:r}),r=t.getContext();return r.save(),(i||n)&&r.translate(-1*i,-1*n),this.drawScene(t),r.restore(),t},toCanvas:function(e){return this._toKonvaCanvas(e)._canvas},toDataURL:function(e){var t=(e=e||{}).mimeType||null,i=e.quality||null;return this._toKonvaCanvas(e).toDataURL(t,i)},toImage:function(t){if(!t||!t.callback)throw"callback required for toImage method config argument";h.Util._getImage(this.toDataURL(t),function(e){t.callback(e)})},setSize:function(e){return this.setWidth(e.width),this.setHeight(e.height),this},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getWidth:function(){return this.attrs.width||0},getHeight:function(){return this.attrs.height||0},getClassName:function(){return this.className||this.nodeType},getType:function(){return this.nodeType},getDragDistance:function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():h.dragDistance},_get:function(e){return this.className===e||this.nodeType===e?[this]:[]},_off:function(e,t,i){for(var n,r,o=this.eventListeners[e],s=0;s<o.length;s++)if(n=o[s].name,r=o[s].handler,!("konva"===n&&"konva"!==t||t&&n!==t||i&&i!==r)){if(o.splice(s,1),0===o.length){delete this.eventListeners[e];break}s--}},_fireChangeEvent:function(e,t,i){this._fire(e+"Change",{oldVal:t,newVal:i})},setId:function(e){var t=this.getId();return h._removeId(t),h._addId(this,e),this._setAttr("id",e),this},setName:function(e){for(var t,i=(this.getName()||"").split(/\s/g),n=(e||"").split(/\s/g),r=0;r<i.length;r++)t=i[r],-1===n.indexOf(t)&&t&&h._removeName(t,this._id);for(r=0;r<n.length;r++)t=n[r],-1===i.indexOf(t)&&t&&h._addName(this,t);return this._setAttr("name",e),this},addName:function(e){var t;return this.hasName(e)||(e=(t=this.name())?t+" "+e:e,this.setName(e)),this},hasName:function(e){return-1!==(this.name()||"").split(/\s/g).indexOf(e)},removeName:function(e){var t=(this.name()||"").split(/\s/g),e=t.indexOf(e);return-1!==e&&(t.splice(e,1),this.setName(t.join(" "))),this},setAttr:function(e,t){var i=this["set"+h.Util._capitalize(e)];return h.Util._isFunction(i)?i.call(this,t):this._setAttr(e,t),this},_setAttr:function(e,t){var i;(i=this.attrs[e])!==t&&(null==t?delete this.attrs[e]:this.attrs[e]=t,this._fireChangeEvent(e,i,t))},_setComponentAttr:function(e,t,i){var n;void 0!==i&&((n=this.attrs[e])||(this.attrs[e]=this.getAttr(e)),this.attrs[e][t]=i,this._fireChangeEvent(e,n,i))},_fireAndBubble:function(e,t,i){var n=!0;t&&"Shape"===this.nodeType&&(t.target=this),("mouseenter"===e&&i&&(this._id===i._id||this.isAncestorOf&&this.isAncestorOf(i))||"mouseleave"===e&&i&&(this._id===i._id||this.isAncestorOf&&this.isAncestorOf(i)))&&(n=!1),n&&(this._fire(e,t),n=("mouseenter"===e||"mouseleave"===e)&&i&&i.isAncestorOf&&i.isAncestorOf(this)&&!i.isAncestorOf(this.parent),(t&&!t.cancelBubble||!t)&&this.parent&&this.parent.isListening()&&!n&&(i&&i.parent?this._fireAndBubble.call(this.parent,e,t,i.parent):this._fireAndBubble.call(this.parent,e,t)))},_fire:function(e,t){var i,n=this.eventListeners[e];if((t=t||{}).currentTarget=this,t.type=e,n)for(i=0;i<n.length;i++)n[i].handler.call(this,t)},draw:function(){return this.drawScene(),this.drawHit(),this}}),h.Node.create=function(e,t){return h.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,t)},h.Node._createNode=function(e,t){var i,n,r,o=h.Node.prototype.getClassName.call(e),s=e.children;if(t&&(e.attrs.container=t),i=new h[o](e.attrs),s)for(n=s.length,r=0;r<n;r++)i.add(this._createNode(s[r]));return i},h.Factory.addOverloadedGetterSetter(h.Node,"position"),h.Factory.addGetterSetter(h.Node,"x",0),h.Factory.addGetterSetter(h.Node,"y",0),h.Factory.addGetterSetter(h.Node,"globalCompositeOperation","source-over"),h.Factory.addGetterSetter(h.Node,"opacity",1),h.Factory.addGetter(h.Node,"name"),h.Factory.addOverloadedGetterSetter(h.Node,"name"),h.Factory.addGetter(h.Node,"id"),h.Factory.addOverloadedGetterSetter(h.Node,"id"),h.Factory.addGetterSetter(h.Node,"rotation",0),h.Factory.addComponentsGetterSetter(h.Node,"scale",["x","y"]),h.Factory.addGetterSetter(h.Node,"scaleX",1),h.Factory.addGetterSetter(h.Node,"scaleY",1),h.Factory.addComponentsGetterSetter(h.Node,"skew",["x","y"]),h.Factory.addGetterSetter(h.Node,"skewX",0),h.Factory.addGetterSetter(h.Node,"skewY",0),h.Factory.addComponentsGetterSetter(h.Node,"offset",["x","y"]),h.Factory.addGetterSetter(h.Node,"offsetX",0),h.Factory.addGetterSetter(h.Node,"offsetY",0),h.Factory.addSetter(h.Node,"dragDistance"),h.Factory.addOverloadedGetterSetter(h.Node,"dragDistance"),h.Factory.addSetter(h.Node,"width",0),h.Factory.addOverloadedGetterSetter(h.Node,"width"),h.Factory.addSetter(h.Node,"height",0),h.Factory.addOverloadedGetterSetter(h.Node,"height"),h.Factory.addGetterSetter(h.Node,"listening","inherit"),h.Factory.addGetterSetter(h.Node,"preventDefault",!0),h.Factory.addGetterSetter(h.Node,"filters",void 0,function(e){return this._filterUpToDate=!1,e}),h.Factory.addGetterSetter(h.Node,"visible","inherit"),h.Factory.addGetterSetter(h.Node,"transformsEnabled","all"),h.Factory.addOverloadedGetterSetter(h.Node,"size"),h.Factory.backCompat(h.Node,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),h.Collection.mapMethods(h.Node)}(Konva),function(){"use strict";Konva.Filters.Grayscale=function(e){for(var t,i=e.data,n=i.length,r=0;r<n;r+=4)t=.34*i[r]+.5*i[r+1]+.16*i[r+2],i[r]=t,i[r+1]=t,i[r+2]=t}}(),function(e){"use strict";e.Filters.Brighten=function(e){for(var t=255*this.brightness(),i=e.data,n=i.length,r=0;r<n;r+=4)i[r]+=t,i[r+1]+=t,i[r+2]+=t},e.Factory.addGetterSetter(e.Node,"brightness",0,null,e.Factory.afterSetFilter)}(Konva),function(){"use strict";Konva.Filters.Invert=function(e){for(var t=e.data,i=t.length,n=0;n<i;n+=4)t[n]=255-t[n],t[n+1]=255-t[n+1],t[n+2]=255-t[n+2]}}(),function(e){"use strict";function B(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var j=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],H=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];e.Filters.Blur=function(W){var e=Math.round(this.blurRadius());0<e&&function(e){for(var t,i,n,r,o,s,a,l,c,h,u,d,f,p,g,m,v,y,b,w,x,C,S,_=W.data,k=W.width,M=W.height,T=e+e+1,D=k-1,A=M-1,$=e+1,E=$*($+1)/2,L=new B,I=null,N=L,O=null,R=null,P=j[e],F=H[e],z=1;z<T;z++)N=N.next=new B,z===$&&(I=N);for(N.next=L,i=s=o=0;i<M;i++){for(g=m=v=y=a=l=c=h=0,u=$*(b=_[o]),d=$*(w=_[o+1]),f=$*(x=_[o+2]),p=$*(C=_[o+3]),a+=E*b,l+=E*w,c+=E*x,h+=E*C,N=L,z=0;z<$;z++)N.r=b,N.g=w,N.b=x,N.a=C,N=N.next;for(z=1;z<$;z++)n=o+((D<z?D:z)<<2),a+=(N.r=b=_[n])*(S=$-z),l+=(N.g=w=_[n+1])*S,c+=(N.b=x=_[n+2])*S,h+=(N.a=C=_[n+3])*S,g+=b,m+=w,v+=x,y+=C,N=N.next;for(O=L,R=I,t=0;t<k;t++)_[o+3]=C=h*P>>F,0!==C?(C=255/C,_[o]=(a*P>>F)*C,_[o+1]=(l*P>>F)*C,_[o+2]=(c*P>>F)*C):_[o]=_[o+1]=_[o+2]=0,a-=u,l-=d,c-=f,h-=p,u-=O.r,d-=O.g,f-=O.b,p-=O.a,n=s+((n=t+e+1)<D?n:D)<<2,a+=g+=O.r=_[n],l+=m+=O.g=_[n+1],c+=v+=O.b=_[n+2],h+=y+=O.a=_[n+3],O=O.next,u+=b=R.r,d+=w=R.g,f+=x=R.b,p+=C=R.a,g-=b,m-=w,v-=x,y-=C,R=R.next,o+=4;s+=k}for(t=0;t<k;t++){for(m=v=y=g=l=c=h=a=0,u=$*(b=_[o=t<<2]),d=$*(w=_[o+1]),f=$*(x=_[o+2]),p=$*(C=_[o+3]),a+=E*b,l+=E*w,c+=E*x,h+=E*C,N=L,z=0;z<$;z++)N.r=b,N.g=w,N.b=x,N.a=C,N=N.next;for(r=k,z=1;z<=e;z++)o=r+t<<2,a+=(N.r=b=_[o])*(S=$-z),l+=(N.g=w=_[o+1])*S,c+=(N.b=x=_[o+2])*S,h+=(N.a=C=_[o+3])*S,g+=b,m+=w,v+=x,y+=C,N=N.next,z<A&&(r+=k);for(o=t,O=L,R=I,i=0;i<M;i++)_[3+(n=o<<2)]=C=h*P>>F,0<C?(C=255/C,_[n]=(a*P>>F)*C,_[n+1]=(l*P>>F)*C,_[n+2]=(c*P>>F)*C):_[n]=_[n+1]=_[n+2]=0,a-=u,l-=d,c-=f,h-=p,u-=O.r,d-=O.g,f-=O.b,p-=O.a,n=t+((n=i+$)<A?n:A)*k<<2,a+=g+=O.r=_[n],l+=m+=O.g=_[n+1],c+=v+=O.b=_[n+2],h+=y+=O.a=_[n+3],O=O.next,u+=b=R.r,d+=w=R.g,f+=x=R.b,p+=C=R.a,g-=b,m-=w,v-=x,y-=C,R=R.next,o+=k}}(e)},e.Factory.addGetterSetter(e.Node,"blurRadius",0,null,e.Factory.afterSetFilter)}(Konva),function(){"use strict";function u(e,t,i){i=4*(i*e.width+t),t=[];return t.push(e.data[i++],e.data[i++],e.data[i++],e.data[i++]),t}function d(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2))}Konva.Filters.Mask=function(e){var t=function(e,t){var i=u(e,0,0),n=u(e,e.width-1,0),r=u(e,0,e.height-1),o=u(e,e.width-1,e.height-1),s=t||10;if(d(i,n)<s&&d(n,o)<s&&d(o,r)<s&&d(r,i)<s){for(var a=function(e){for(var t=[0,0,0],i=0;i<e.length;i++)t[0]+=e[i][0],t[1]+=e[i][1],t[2]+=e[i][2];return t[0]/=e.length,t[1]/=e.length,t[2]/=e.length,t}([n,i,o,r]),l=[],c=0;c<e.width*e.height;c++){var h=d(a,[e.data[4*c],e.data[4*c+1],e.data[4*c+2]]);l[c]=h<s?0:255}return l}}(e,this.threshold());return t&&function(e,t){for(var i=0;i<e.width*e.height;i++)e.data[4*i+3]=t[i]}(e,function(e,t,i){for(var n=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],r=Math.round(Math.sqrt(n.length)),o=Math.floor(r/2),s=[],a=0;a<i;a++)for(var l=0;l<t;l++){for(var c=a*t+l,h=0,u=0;u<r;u++)for(var d=0;d<r;d++){var f,p=a+u-o,g=l+d-o;0<=p&&p<i&&0<=g&&g<t&&(f=n[u*r+d],h+=e[p*t+g]*f)}s[c]=h}return s}(function(e,t,i){for(var n=[1,1,1,1,1,1,1,1,1],r=Math.round(Math.sqrt(n.length)),o=Math.floor(r/2),s=[],a=0;a<i;a++)for(var l=0;l<t;l++){for(var c=a*t+l,h=0,u=0;u<r;u++)for(var d=0;d<r;d++){var f,p=a+u-o,g=l+d-o;0<=p&&p<i&&0<=g&&g<t&&(f=n[u*r+d],h+=e[p*t+g]*f)}s[c]=1020<=h?255:0}return s}(function(e,t,i){for(var n=[1,1,1,1,0,1,1,1,1],r=Math.round(Math.sqrt(n.length)),o=Math.floor(r/2),s=[],a=0;a<i;a++)for(var l=0;l<t;l++){for(var c=a*t+l,h=0,u=0;u<r;u++)for(var d=0;d<r;d++){var f,p=a+u-o,g=l+d-o;0<=p&&p<i&&0<=g&&g<t&&(f=n[u*r+d],h+=e[p*t+g]*f)}s[c]=2040===h?255:0}return s}(t,e.width,e.height),e.width,e.height),e.width,e.height)),e},Konva.Factory.addGetterSetter(Konva.Node,"threshold",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.RGB=function(e){for(var t,i=e.data,n=i.length,r=this.red(),o=this.green(),s=this.blue(),a=0;a<n;a+=4)t=(.34*i[a]+.5*i[a+1]+.16*i[a+2])/255,i[a]=t*r,i[a+1]=t*o,i[a+2]=t*s,i[a+3]=i[a+3]},Konva.Factory.addGetterSetter(Konva.Node,"red",0,function(e){return this._filterUpToDate=!1,255<e?255:e<0?0:Math.round(e)}),Konva.Factory.addGetterSetter(Konva.Node,"green",0,function(e){return this._filterUpToDate=!1,255<e?255:e<0?0:Math.round(e)}),Konva.Factory.addGetterSetter(Konva.Node,"blue",0,Konva.Validators.RGBComponent,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.RGBA=function(e){for(var t,i=e.data,n=i.length,r=this.red(),o=this.green(),s=this.blue(),a=this.alpha(),l=0;l<n;l+=4)t=1-a,i[l]=r*a+i[l]*t,i[l+1]=o*a+i[l+1]*t,i[l+2]=s*a+i[l+2]*t},Konva.Factory.addGetterSetter(Konva.Node,"red",0,function(e){return this._filterUpToDate=!1,255<e?255:e<0?0:Math.round(e)}),Konva.Factory.addGetterSetter(Konva.Node,"green",0,function(e){return this._filterUpToDate=!1,255<e?255:e<0?0:Math.round(e)}),Konva.Factory.addGetterSetter(Konva.Node,"blue",0,Konva.Validators.RGBComponent,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"alpha",1,function(e){return this._filterUpToDate=!1,1<e?1:e<0?0:e})}(),function(){"use strict";Konva.Filters.HSV=function(e){for(var t,i,n,r,o=e.data,s=o.length,a=Math.pow(2,this.value()),l=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,e=a*l*Math.cos(c*Math.PI/180),c=a*l*Math.sin(c*Math.PI/180),h=.299*a+.701*e+.167*c,u=.587*a-.587*e+.33*c,d=.114*a-.114*e-.497*c,f=.299*a-.299*e-.328*c,p=.587*a+.413*e+.035*c,g=.114*a-.114*e+.293*c,m=.299*a-.3*e+1.25*c,v=.587*a-.586*e-1.05*c,y=.114*a+.886*e-.2*c,b=0;b<s;b+=4)t=o[b+0],i=o[b+1],n=o[b+2],r=o[b+3],o[b+0]=h*t+u*i+d*n,o[b+1]=f*t+p*i+g*n,o[b+2]=m*t+v*i+y*n,o[b+3]=r},Konva.Factory.addGetterSetter(Konva.Node,"hue",0,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"saturation",0,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"value",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Factory.addGetterSetter(Konva.Node,"hue",0,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"saturation",0,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"luminance",0,null,Konva.Factory.afterSetFilter),Konva.Filters.HSL=function(e){for(var t,i,n,r,o=e.data,s=o.length,a=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,c=127*this.luminance(),e=+a*Math.cos(l*Math.PI/180),l=+a*Math.sin(l*Math.PI/180),h=.299+.701*e+.167*l,u=.587-.587*e+.33*l,d=.114-.114*e-.497*l,f=.299-.299*e-.328*l,p=.587+.413*e+.035*l,g=.114-.114*e+.293*l,m=.299-.3*e+1.25*l,v=.587-.586*e-1.05*l,y=.114+.886*e-.2*l,b=0;b<s;b+=4)t=o[b+0],i=o[b+1],n=o[b+2],r=o[b+3],o[b+0]=h*t+u*i+d*n+c,o[b+1]=f*t+p*i+g*n+c,o[b+2]=m*t+v*i+y*n+c,o[b+3]=r}}(),function(){"use strict";Konva.Filters.Emboss=function(e){var t=10*this.embossStrength(),i=255*this.embossWhiteLevel(),n=this.embossDirection(),r=this.embossBlend(),o=0,s=0,a=e.data,l=e.width,c=e.height,h=4*l,u=c;switch(n){case"top-left":s=o=-1;break;case"top":o=-1,s=0;break;case"top-right":o=-1,s=1;break;case"right":o=0,s=1;break;case"bottom-right":s=o=1;break;case"bottom":o=1,s=0;break;case"bottom-left":s=-(o=1);break;case"left":o=0,s=-1;break;default:Konva.Util.error("Unknown emboss direction: "+n)}do{var d=(u-1)*h,f=o;u+f<1&&(f=0),c<u+f&&(f=0);var p=(u-1+f)*l*4,g=l;do{var m=d+4*(g-1),v=s;g+v<1&&(v=0),l<g+v&&(v=0);var y=p+4*(g-1+v),b=a[m]-a[y],w=a[1+m]-a[1+y],v=a[2+m]-a[2+y],y=b,b=0<y?y:-y;b<(0<w?w:-w)&&(y=w),b<(0<v?v:-v)&&(y=v),y*=t,r?(w=a[m]+y,b=a[1+m]+y,v=a[2+m]+y,a[m]=255<w?255:w<0?0:w,a[1+m]=255<b?255:b<0?0:b,a[2+m]=255<v?255:v<0?0:v):((y=i-y)<0?y=0:255<y&&(y=255),a[m]=a[1+m]=a[2+m]=y)}while(--g)}while(--u)},Konva.Factory.addGetterSetter(Konva.Node,"embossStrength",.5,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"embossWhiteLevel",.5,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"embossDirection","top-left",null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"embossBlend",!1,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";function y(e,t,i,n,r){i-=t,r-=n;return 0==i?n+r/2:0==r?n:r*((e-t)/i)+n}Konva.Filters.Enhance=function(e){var t,i,n,r,o,s,a,l,c=e.data,h=c.length,u=c[0],d=u,f=c[1],p=f,g=c[2],m=g,v=this.enhance();if(0!==v){for(i=0;i<h;i+=4)(t=c[i+0])<u?u=t:d<t&&(d=t),(t=c[i+1])<f?f=t:p<t&&(p=t),(t=c[i+2])<g?g=t:m<t&&(m=t);for(d===u&&(d=255,u=0),p===f&&(p=255,f=0),m===g&&(m=255,g=0),l=0<v?(n=d+v*(255-d),r=u-v*+u,o=p+v*(255-p),s=f-v*+f,a=m+v*(255-m),g-v*+g):(n=d+v*(d-(e=.5*(d+u))),r=u+v*(u-e),o=p+v*(p-(e=.5*(p+f))),s=f+v*(f-e),a=m+v*(m-(e=.5*(m+g))),g+v*(g-e)),i=0;i<h;i+=4)c[i+0]=y(c[i+0],u,d,r,n),c[i+1]=y(c[i+1],f,p,s,o),c[i+2]=y(c[i+2],g,m,l,a)}},Konva.Factory.addGetterSetter(Konva.Node,"enhance",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.Posterize=function(e){for(var t=Math.round(254*this.levels())+1,i=e.data,n=i.length,r=255/t,o=0;o<n;o+=1)i[o]=Math.floor(i[o]/r)*r},Konva.Factory.addGetterSetter(Konva.Node,"levels",.5,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.Noise=function(e){for(var t=255*this.noise(),i=e.data,n=i.length,r=t/2,o=0;o<n;o+=4)i[o+0]+=r-2*r*Math.random(),i[o+1]+=r-2*r*Math.random(),i[o+2]+=r-2*r*Math.random()},Konva.Factory.addGetterSetter(Konva.Node,"noise",.2,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.Pixelate=function(e){var t,i,n,r,o,s,a,l,c,h,u,d,f,p,g=Math.ceil(this.pixelSize()),m=e.width,v=e.height,y=Math.ceil(m/g),b=Math.ceil(v/g);if(e=e.data,g<=0)Konva.Util.error("pixelSize value can not be <= 0");else for(d=0;d<y;d+=1)for(f=0;f<b;f+=1){for(c=(l=d*g)+g,u=(h=f*g)+g,p=a=s=o=r=0,t=l;t<c;t+=1)if(!(m<=t))for(i=h;i<u;i+=1)v<=i||(r+=e[0+(n=4*(m*i+t))],o+=e[n+1],s+=e[n+2],a+=e[n+3],p+=1);for(r/=p,o/=p,s/=p,a/=p,t=l;t<c;t+=1)if(!(m<=t))for(i=h;i<u;i+=1)v<=i||(e[0+(n=4*(m*i+t))]=r,e[n+1]=o,e[n+2]=s,e[n+3]=a)}},Konva.Factory.addGetterSetter(Konva.Node,"pixelSize",8,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.Threshold=function(e){for(var t=255*this.threshold(),i=e.data,n=i.length,r=0;r<n;r+=1)i[r]=i[r]<t?0:255},Konva.Factory.addGetterSetter(Konva.Node,"threshold",.5,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";
/**
     * Sepia Filter
     * Based on: Pixastic Lib - Sepia filter - v0.1.0
     * Copyright (c) 2008 Jacob Seidelin, jseidelin@nihilogic.dk, http://blog.nihilogic.dk/
     * @function
     * @name Sepia
     * @memberof Konva.Filters
     * @param {Object} imageData
     * @author Jacob Seidelin <jseidelin@nihilogic.dk>
     * @license MPL v1.1 [http://www.pixastic.com/lib/license.txt]
     * @example
     * node.cache();
     * node.filters([Konva.Filters.Sepia]);
     */Konva.Filters.Sepia=function(e){var t,i,n,r,o,s,a,l,c=e.data,h=e.width,u=e.height,d=4*h;do{for(t=(u-1)*d,i=h;s=.393*(r=c[n=t+4*(i-1)])+.769*(o=c[1+n])+.189*(l=c[2+n]),a=.349*r+.686*o+.168*l,l=.272*r+.534*o+.131*l,c[n]=255<s?255:s,c[1+n]=255<a?255:a,c[2+n]=255<l?255:l,c[3+n]=c[3+n],--i;);}while(--u)}}(),function(){"use strict";Konva.Filters.Solarize=function(e){var t=e.data,i=e.width,n=4*i,r=e.height;do{var o=(r-1)*n,s=i;do{var a=o+4*(s-1),l=t[a],c=t[1+a],h=t[2+a];127<l&&(l=255-l),127<c&&(c=255-c),127<h&&(h=255-h),t[a]=l,t[1+a]=c,t[2+a]=h}while(--s)}while(--r)}}(),function(){"use strict";Konva.Filters.Kaleidoscope=function(C){var e,t,i,n,r,o,s,a,l,c=C.width,h=C.height,u=Math.round(this.kaleidoscopePower()),d=Math.round(this.kaleidoscopeAngle()),f=Math.floor(c*(d%360)/360);if(!(u<1)){d=Konva.Util.createCanvasElement();d.width=c,d.height=h;var S=d.getContext("2d").getImageData(0,0,c,h);!function(e){for(var t,i,n,r,o,s,a,l,c=C.data,h=S.data,u=C.width,d=C.height,f=e.polarCenterX||u/2,p=e.polarCenterY||d/2,g=Math.sqrt(f*f+p*p),m=u-f,v=d-p,g=(e=Math.sqrt(m*m+v*v))>g?e:g,y=d,b=u,w=360/b*Math.PI/180,x=0;x<b;x+=1)for(a=Math.sin(x*w),l=Math.cos(x*w),s=0;s<y;s+=1)m=Math.floor(f+g*s/y*l),i=c[0+(t=4*(Math.floor(p+g*s/y*a)*u+m))],n=c[1+t],r=c[2+t],o=c[3+t],h[0+(t=4*(x+s*u))]=i,h[1+t]=n,h[2+t]=r,h[3+t]=o}({polarCenterX:c/2,polarCenterY:h/2});for(var p=c/Math.pow(2,u);p<=8;)p*=2,--u;var g=p=Math.ceil(p),m=0,v=g,y=1;for(c<f+p&&(m=g,v=0,y=-1),t=0;t<h;t+=1)for(e=m;e!==v;e+=y)a=4*(c*t+Math.round(e+f)%c),n=S.data[a+0],r=S.data[a+1],o=S.data[a+2],s=S.data[a+3],l=4*(c*t+e),S.data[l+0]=n,S.data[l+1]=r,S.data[l+2]=o,S.data[l+3]=s;for(t=0;t<h;t+=1)for(g=Math.floor(p),i=0;i<u;i+=1){for(e=0;e<g+1;e+=1)a=4*(c*t+e),n=S.data[a+0],r=S.data[a+1],o=S.data[a+2],s=S.data[a+3],l=4*(c*t+2*g-e-1),S.data[l+0]=n,S.data[l+1]=r,S.data[l+2]=o,S.data[l+3]=s;g*=2}!function(e){var t,i,n,r,o,s,a,l,c=S.data,h=C.data,u=S.width,d=S.height,f=e.polarCenterX||u/2,p=e.polarCenterY||d/2,g=Math.sqrt(f*f+p*p),m=u-f,v=d-p,g=(i=Math.sqrt(m*m+v*v))>g?i:g,y=d,b=u,w=e.polarRotation||0;for(m=0;m<u;m+=1)for(v=0;v<d;v+=1)l=m-f,t=v-p,a=Math.sqrt(l*l+t*t)*y/g,l=(180*Math.atan2(t,l)/Math.PI+360+w)%360*b/360,l=Math.floor(l),n=c[0+(l=4*(Math.floor(a)*u+l))],r=c[1+l],o=c[2+l],s=c[3+l],h[0+(l=4*(v*u+m))]=n,h[1+l]=r,h[2+l]=o,h[3+l]=s}({polarRotation:0})}},Konva.Factory.addGetterSetter(Konva.Node,"kaleidoscopePower",2,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"kaleidoscopeAngle",0,null,Konva.Factory.afterSetFilter)}(),function(e){"use strict";e.Filters.Contrast=function(e){for(var t=Math.pow((parseInt(this.contrast())+100)/100,2),i=e.data,n=i.length,r=150,o=150,s=150,a=0;a<n;a+=4)r=i[a],o=i[a+1],s=i[a+2],r/=255,r-=.5,r*=t,r+=.5,o/=255,o-=.5,o*=t,o+=.5,s/=255,s-=.5,s*=t,s+=.5,r=(r*=255)<0?0:255<r?255:r,o=(o*=255)<0?0:255<o?255:o,s=(s*=255)<0?0:255<s?255:s,i[a]=r,i[a+1]=o,i[a+2]=s},e.Factory.addGetterSetter(e.Node,"contrast",0,null,e.Factory.afterSetFilter)}(Konva),function(){"use strict";Konva.Container=function(e){this.__init(e)},Konva.Util.addMethods(Konva.Container,{__init:function(e){this.children=new Konva.Collection,Konva.Node.call(this,e)},getChildren:function(t){if(!t)return this.children;var i=new Konva.Collection;return this.children.each(function(e){t(e)&&i.push(e)}),i},hasChildren:function(){return 0<this.getChildren().length},removeChildren:function(){for(var e,t=Konva.Collection.toCollection(this.children),i=0;i<t.length;i++)delete(e=t[i]).parent,e.index=0,e.remove();return t=null,this.children=new Konva.Collection,this},destroyChildren:function(){for(var e,t=Konva.Collection.toCollection(this.children),i=0;i<t.length;i++)delete(e=t[i]).parent,e.index=0,e.destroy();return t=null,this.children=new Konva.Collection,this},add:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}if(e.getParent())return e.moveTo(this),this;var i=this.children;return this._validateAdd(e),e.index=i.length,e.parent=this,i.push(e),this._fire("add",{child:e}),Konva.DD&&e.isDragging()&&Konva.DD.anim.setLayers(e.getLayer()),this},destroy:function(){return this.hasChildren()&&this.destroyChildren(),Konva.Node.prototype.destroy.call(this),this},find:function(e){for(var t,i,n,r,o,s=[],a=e.replace(/ /g,"").split(","),l=a.length,c=0;c<l;c++)if(i=a[c],Konva.Util.isValidSelector(i)||(Konva.Util.warn('Selector "'+i+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Konva.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Konva.Util.warn("Konva is awesome, right?")),"#"===i.charAt(0))(n=this._getNodeById(i.slice(1)))&&s.push(n);else if("."===i.charAt(0))n=this._getNodesByName(i.slice(1)),s=s.concat(n);else for(o=(r=this.getChildren()).length,t=0;t<o;t++)s=s.concat(r[t]._get(i));return Konva.Collection.toCollection(s)},findOne:function(e){return this.find(e)[0]},_getNodeById:function(e){e=Konva.ids[e];return void 0!==e&&this.isAncestorOf(e)?e:null},_getNodesByName:function(e){e=Konva.names[e]||[];return this._getDescendants(e)},_get:function(e){for(var t=Konva.Node.prototype._get.call(this,e),i=this.getChildren(),n=i.length,r=0;r<n;r++)t=t.concat(i[r]._get(e));return t},toObject:function(){var e=Konva.Node.prototype.toObject.call(this);e.children=[];for(var t=this.getChildren(),i=t.length,n=0;n<i;n++){var r=t[n];e.children.push(r.toObject())}return e},_getDescendants:function(e){for(var t=[],i=e.length,n=0;n<i;n++){var r=e[n];this.isAncestorOf(r)&&t.push(r)}return t},isAncestorOf:function(e){for(var t=e.getParent();t;){if(t._id===this._id)return!0;t=t.getParent()}return!1},clone:function(e){var t=Konva.Node.prototype.clone.call(this,e);return this.getChildren().each(function(e){t.add(e.clone())}),t},getAllIntersections:function(t){var i=[];return this.find("Shape").each(function(e){e.isVisible()&&e.intersects(t)&&i.push(e)}),i},_setChildrenIndices:function(){this.children.each(function(e,t){e.index=t})},drawScene:function(e,t,i){var n=this.getLayer(),r=e||n&&n.getCanvas(),o=r&&r.getContext(),e=this._cache.canvas,e=e&&e.scene;return this.isVisible()&&(!i&&e?(o.save(),n._applyTransform(this,o,t),this._drawCachedSceneCanvas(o),o.restore()):this._drawChildren(r,"drawScene",t,!1,i)),this},drawHit:function(e,t,i){var n=this.getLayer(),r=e||n&&n.hitCanvas,o=r&&r.getContext(),e=this._cache.canvas,e=e&&e.hit;return this.shouldDrawHit(r)&&(n&&n.clearHitCache(),!i&&e?(o.save(),n._applyTransform(this,o,t),this._drawCachedHitCanvas(o),o.restore()):this._drawChildren(r,"drawHit",t)),this},_drawChildren:function(t,i,n,r,o){var e,s,a=this.getLayer(),l=t&&t.getContext(),c=this.getClipWidth(),h=this.getClipHeight(),u=this.getClipFunc(),d=c&&h||u;d&&a&&(l.save(),s=(e=this.getAbsoluteTransform(n)).getMatrix(),l.transform(s[0],s[1],s[2],s[3],s[4],s[5]),l.beginPath(),u?u.call(this,l,this):(a=this.getClipX(),u=this.getClipY(),l.rect(a,u,c,h)),l.clip(),s=e.copy().invert().getMatrix(),l.transform(s[0],s[1],s[2],s[3],s[4],s[5])),this.children.each(function(e){e[i](t,n,r,o)}),d&&l.restore()},shouldDrawHit:function(e){var t=this.getLayer(),i=Konva.DD&&Konva.isDragging()&&-1!==Konva.DD.anim.getLayers().indexOf(t);return e&&e.isCache||t&&t.hitGraphEnabled()&&this.isVisible()&&!i},getClientRect:function(e){var t,i,n,r,o=(e=e||{}).skipTransform,s=e.relativeTo,e={x:0,y:0,width:0,height:0},a=this;return this.children.each(function(e){e.isVisible()&&(e=e.getClientRect({relativeTo:a}),r=void 0===t?(t=e.x,i=e.y,n=e.x+e.width,e.y+e.height):(t=Math.min(t,e.x),i=Math.min(i,e.y),n=Math.max(n,e.x+e.width),Math.max(r,e.y+e.height)))}),0!==this.children.length&&(e={x:t,y:i,width:n-t,height:r-i}),o?e:this._transformedRect(e,s)}}),Konva.Util.extend(Konva.Container,Konva.Node),Konva.Container.prototype.get=Konva.Container.prototype.find,Konva.Factory.addComponentsGetterSetter(Konva.Container,"clip",["x","y","width","height"]),Konva.Factory.addGetterSetter(Konva.Container,"clipX"),Konva.Factory.addGetterSetter(Konva.Container,"clipY"),Konva.Factory.addGetterSetter(Konva.Container,"clipWidth"),Konva.Factory.addGetterSetter(Konva.Container,"clipHeight"),Konva.Factory.addGetterSetter(Konva.Container,"clipFunc"),Konva.Collection.mapMethods(Konva.Container)}(),function(d){"use strict";function n(e){e.fill()}function r(e){e.stroke()}function o(e){e.fill()}function s(e){e.stroke()}function a(){this._clearCache("hasShadow")}function l(){this._clearCache(e)}var e="shadowRGBA";d.Shape=function(e){this.__init(e)},d.Util.addMethods(d.Shape,{__init:function(e){this.nodeType="Shape",this._fillFunc=n,this._strokeFunc=r,this._fillFuncHit=o,this._strokeFuncHit=s;for(var t,i=d.shapes;!(t=d.Util.getRandomColor())||t in i;);i[this.colorKey=t]=this,d.Node.call(this,e),this.on("shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",a),this.on("shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",l)},hasChildren:function(){return!1},getChildren:function(){return[]},getContext:function(){return this.getLayer().getContext()},getCanvas:function(){return this.getLayer().getCanvas()},hasShadow:function(){return this._getCache("hasShadow",this._hasShadow)},_hasShadow:function(){return this.getShadowEnabled()&&0!==this.getShadowOpacity()&&!!(this.getShadowColor()||this.getShadowBlur()||this.getShadowOffsetX()||this.getShadowOffsetY())},getShadowRGBA:function(){return this._getCache(e,this._getShadowRGBA)},_getShadowRGBA:function(){if(this.hasShadow()){var e=d.Util.colorToRGBA(this.shadowColor());return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.getShadowOpacity()||1)+")"}},hasFill:function(){return!!(this.getFill()||this.getFillPatternImage()||this.getFillLinearGradientColorStops()||this.getFillRadialGradientColorStops())},hasStroke:function(){return this.strokeEnabled()&&!(!this.stroke()&&!this.getStrokeLinearGradientColorStops())},intersects:function(e){var t=this.getStage().bufferHitCanvas;return t.getContext().clear(),this.drawHit(t),0<t.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]},destroy:function(){return d.Node.prototype.destroy.call(this),delete d.shapes[this.colorKey],this},_useBufferCanvas:function(e){return!e&&this.perfectDrawEnabled()&&1!==this.getAbsoluteOpacity()&&this.hasFill()&&this.hasStroke()&&this.getStage()||this.perfectDrawEnabled()&&this.hasShadow()&&1!==this.getAbsoluteOpacity()&&this.hasFill()&&this.hasStroke()&&this.getStage()},getSelfRect:function(){var e=this.getSize();return{x:this._centroid?Math.round(-e.width/2):0,y:this._centroid?Math.round(-e.height/2):0,width:e.width,height:e.height}},getClientRect:function(e){var t=(e=e||{}).skipTransform,i=e.relativeTo,n=this.getSelfRect(),r=this.hasStroke()&&this.strokeWidth()||0,o=n.width+r,s=n.height+r,a=this.hasShadow()?this.shadowOffsetX():0,l=this.hasShadow()?this.shadowOffsetY():0,c=o+Math.abs(a),e=s+Math.abs(l),o=this.hasShadow()&&this.shadowBlur()||0,s=c+2*o,c=e+2*o,e=0;Math.round(r/2)!==r/2&&(e=1);n={width:s+e,height:c+e,x:-Math.round(r/2+o)+Math.min(a,0)+n.x,y:-Math.round(r/2+o)+Math.min(l,0)+n.y};return t?n:this._transformedRect(n,i)},drawScene:function(e,t,i,n){var r=this.getLayer(),o=e||r.getCanvas(),s=o.getContext(),a=this._cache.canvas,l=this.sceneFunc(),c=this.hasShadow(),h=this.hasStroke();return this.isVisible()&&(a?(s.save(),r._applyTransform(this,s,t),this._drawCachedSceneCanvas(s),s.restore()):l&&(s.save(),this._useBufferCanvas(i)&&!n?((a=(e=this.getStage().bufferCanvas).getContext()).clear(),a.save(),a._applyLineJoin(this),i||(r?r._applyTransform(this,a,t):(n=this.getAbsoluteTransform(t).getMatrix(),s.transform(n[0],n[1],n[2],n[3],n[4],n[5]))),l.call(this,a),a.restore(),a=e.pixelRatio,c&&!o.hitCanvas?(s.save(),s._applyShadow(this),s._applyOpacity(this),s._applyGlobalCompositeOperation(this),s.drawImage(e._canvas,0,0,e.width/a,e.height/a),s.restore()):(s._applyOpacity(this),s._applyGlobalCompositeOperation(this),s.drawImage(e._canvas,0,0,e.width/a,e.height/a))):(s._applyLineJoin(this),i||(r?r._applyTransform(this,s,t):(t=this.getAbsoluteTransform(t).getMatrix(),s.transform(t[0],t[1],t[2],t[3],t[4],t[5]))),c&&h&&!o.hitCanvas?(s.save(),i||(s._applyOpacity(this),s._applyGlobalCompositeOperation(this)),s._applyShadow(this),l.call(this,s),s.restore(),this.hasFill()&&this.getShadowForStrokeEnabled()&&l.call(this,s)):c&&!o.hitCanvas?(s.save(),i||(s._applyOpacity(this),s._applyGlobalCompositeOperation(this)),s._applyShadow(this),l.call(this,s),s.restore()):(i||(s._applyOpacity(this),s._applyGlobalCompositeOperation(this)),l.call(this,s))),s.restore())),this},drawHit:function(e,t,i){var n=this.getLayer(),r=e||n.hitCanvas,o=r.getContext(),s=this.hitFunc()||this.sceneFunc(),e=this._cache.canvas,e=e&&e.hit;return this.shouldDrawHit(r)?(n&&n.clearHitCache(),e?(o.save(),n._applyTransform(this,o,t),this._drawCachedHitCanvas(o),o.restore()):s&&(o.save(),o._applyLineJoin(this),i||(n?n._applyTransform(this,o,t):(t=this.getAbsoluteTransform(t).getMatrix(),o.transform(t[0],t[1],t[2],t[3],t[4],t[5]))),s.call(this,o),o.restore()),this):this},drawHitFromCache:function(e){var t,i,n,r,o,s=e||0,a=this._cache.canvas,l=this._getCachedSceneCanvas(),a=a.hit,c=a.getContext(),h=a.getWidth(),u=a.getHeight();c.clear(),c.drawImage(l._canvas,0,0,h,u);try{for(n=(i=(t=c.getImageData(0,0,h,u)).data).length,r=d.Util._hexToRgb(this.colorKey),o=0;o<n;o+=4)i[o+3]>s?(i[o]=r.r,i[o+1]=r.g,i[o+2]=r.b,i[o+3]=255):i[o+3]=0;c.putImageData(t,0,0)}catch(e){d.Util.error("Unable to draw hit graph from cached scene canvas. "+e.message)}return this}}),d.Util.extend(d.Shape,d.Node),d.Factory.addGetterSetter(d.Shape,"stroke"),d.Factory.addGetterSetter(d.Shape,"strokeWidth",2),d.Factory.addGetterSetter(d.Shape,"strokeHitEnabled",!0),d.Factory.addGetterSetter(d.Shape,"perfectDrawEnabled",!0),d.Factory.addGetterSetter(d.Shape,"shadowForStrokeEnabled",!0),d.Factory.addGetterSetter(d.Shape,"lineJoin"),d.Factory.addGetterSetter(d.Shape,"lineCap"),d.Factory.addGetterSetter(d.Shape,"sceneFunc"),d.Factory.addGetterSetter(d.Shape,"hitFunc"),d.Factory.addGetterSetter(d.Shape,"dash"),d.Factory.addGetterSetter(d.Shape,"dashOffset",0),d.Factory.addGetterSetter(d.Shape,"shadowColor"),d.Factory.addGetterSetter(d.Shape,"shadowBlur"),d.Factory.addGetterSetter(d.Shape,"shadowOpacity"),d.Factory.addComponentsGetterSetter(d.Shape,"shadowOffset",["x","y"]),d.Factory.addGetterSetter(d.Shape,"shadowOffsetX",0),d.Factory.addGetterSetter(d.Shape,"shadowOffsetY",0),d.Factory.addGetterSetter(d.Shape,"fillPatternImage"),d.Factory.addGetterSetter(d.Shape,"fill"),d.Factory.addGetterSetter(d.Shape,"fillPatternX",0),d.Factory.addGetterSetter(d.Shape,"fillPatternY",0),d.Factory.addGetterSetter(d.Shape,"fillLinearGradientColorStops"),d.Factory.addGetterSetter(d.Shape,"strokeLinearGradientColorStops"),d.Factory.addGetterSetter(d.Shape,"fillRadialGradientStartRadius",0),d.Factory.addGetterSetter(d.Shape,"fillRadialGradientEndRadius",0),d.Factory.addGetterSetter(d.Shape,"fillRadialGradientColorStops"),d.Factory.addGetterSetter(d.Shape,"fillPatternRepeat","repeat"),d.Factory.addGetterSetter(d.Shape,"fillEnabled",!0),d.Factory.addGetterSetter(d.Shape,"strokeEnabled",!0),d.Factory.addGetterSetter(d.Shape,"shadowEnabled",!0),d.Factory.addGetterSetter(d.Shape,"dashEnabled",!0),d.Factory.addGetterSetter(d.Shape,"strokeScaleEnabled",!0),d.Factory.addGetterSetter(d.Shape,"fillPriority","color"),d.Factory.addComponentsGetterSetter(d.Shape,"fillPatternOffset",["x","y"]),d.Factory.addGetterSetter(d.Shape,"fillPatternOffsetX",0),d.Factory.addGetterSetter(d.Shape,"fillPatternOffsetY",0),d.Factory.addComponentsGetterSetter(d.Shape,"fillPatternScale",["x","y"]),d.Factory.addGetterSetter(d.Shape,"fillPatternScaleX",1),d.Factory.addGetterSetter(d.Shape,"fillPatternScaleY",1),d.Factory.addComponentsGetterSetter(d.Shape,"fillLinearGradientStartPoint",["x","y"]),d.Factory.addComponentsGetterSetter(d.Shape,"strokeLinearGradientStartPoint",["x","y"]),d.Factory.addGetterSetter(d.Shape,"fillLinearGradientStartPointX",0),d.Factory.addGetterSetter(d.Shape,"strokeLinearGradientStartPointX",0),d.Factory.addGetterSetter(d.Shape,"fillLinearGradientStartPointY",0),d.Factory.addGetterSetter(d.Shape,"strokeLinearGradientStartPointY",0),d.Factory.addComponentsGetterSetter(d.Shape,"fillLinearGradientEndPoint",["x","y"]),d.Factory.addComponentsGetterSetter(d.Shape,"strokeLinearGradientEndPoint",["x","y"]),d.Factory.addGetterSetter(d.Shape,"fillLinearGradientEndPointX",0),d.Factory.addGetterSetter(d.Shape,"strokeLinearGradientEndPointX",0),d.Factory.addGetterSetter(d.Shape,"fillLinearGradientEndPointY",0),d.Factory.addGetterSetter(d.Shape,"strokeLinearGradientEndPointY",0),d.Factory.addComponentsGetterSetter(d.Shape,"fillRadialGradientStartPoint",["x","y"]),d.Factory.addGetterSetter(d.Shape,"fillRadialGradientStartPointX",0),d.Factory.addGetterSetter(d.Shape,"fillRadialGradientStartPointY",0),d.Factory.addComponentsGetterSetter(d.Shape,"fillRadialGradientEndPoint",["x","y"]),d.Factory.addGetterSetter(d.Shape,"fillRadialGradientEndPointX",0),d.Factory.addGetterSetter(d.Shape,"fillRadialGradientEndPointY",0),d.Factory.addGetterSetter(d.Shape,"fillPatternRotation",0),d.Factory.backCompat(d.Shape,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),d.Collection.mapMethods(d.Shape)}(Konva),function(){"use strict";var i="mouseout",n="mouseleave",r="touchstart",o="_",t=["mousedown","mousemove","mouseup",i,r,"touchmove","touchend","mouseover","wheel","contextmenu"],s=t.length;Konva.Stage=function(e){this.___init(e)},Konva.Util.addMethods(Konva.Stage,{___init:function(e){this.nodeType="Stage",Konva.Container.call(this,e),this._id=Konva.idCounter++,this._buildDOM(),this._bindContentEvents(),this._enableNestedTransforms=!1,Konva.stages.push(this)},_validateAdd:function(e){"Layer"!==e.getType()&&Konva.Util.throw("You may only add layers to the stage.")},setContainer:function(e){var t,i;if("string"==typeof e&&!(e="."===e.charAt(0)?(t=e.slice(1),Konva.document.getElementsByClassName(t)[0]):(i="#"!==e.charAt(0)?e:e.slice(1),Konva.document.getElementById(i))))throw"Can not find container in document with id "+i;return this._setAttr("container",e),this},shouldDrawHit:function(){return!0},draw:function(){return Konva.Node.prototype.draw.call(this),this},setHeight:function(e){return Konva.Node.prototype.setHeight.call(this,e),this._resizeDOM(),this},setWidth:function(e){return Konva.Node.prototype.setWidth.call(this,e),this._resizeDOM(),this},clear:function(){for(var e=this.children,t=e.length,i=0;i<t;i++)e[i].clear();return this},clone:function(e){return(e=e||{}).container=Konva.document.createElement("div"),Konva.Container.prototype.clone.call(this,e)},destroy:function(){var e=this.content;Konva.Container.prototype.destroy.call(this),e&&Konva.Util._isInDocument(e)&&this.getContainer().removeChild(e);e=Konva.stages.indexOf(this);return-1<e&&Konva.stages.splice(e,1),this},getPointerPosition:function(){return this.pointerPos},getStage:function(){return this},getContent:function(){return this.content},toDataURL:function(e){var t=(e=e||{}).mimeType||null,i=e.quality||null,n=e.x||0,r=e.y||0,o=new Konva.SceneCanvas({width:e.width||this.getWidth(),height:e.height||this.getHeight(),pixelRatio:e.pixelRatio}),s=o.getContext()._context,a=this.children;(n||r)&&s.translate(-1*n,-1*r),a.each(function(e){var t=e.getCanvas().getWidth(),i=e.getCanvas().getHeight(),n=e.getCanvas().getPixelRatio();s.drawImage(e.getCanvas()._canvas,0,0,t/n,i/n)});i=o.toDataURL(t,i);return e.callback&&e.callback(i),i},toImage:function(e){var t=e.callback;e.callback=function(e){Konva.Util._getImage(e,function(e){t(e)})},this.toDataURL(e)},getIntersection:function(e,t){for(var i,n=this.getChildren(),r=n.length-1;0<=r;r--)if(i=n[r].getIntersection(e,t))return i;return null},_resizeDOM:function(){if(this.content){var e,t,i=this.getWidth(),n=this.getHeight(),r=this.getChildren(),o=r.length;for(this.content.style.width=i+"px",this.content.style.height=n+"px",this.bufferCanvas.setSize(i,n),this.bufferHitCanvas.setSize(i,n),e=0;e<o;e++)(t=r[e]).setSize(i,n),t.draw()}},add:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return Konva.Container.prototype.add.call(this,e),e._setCanvasSize(this.width(),this.height()),e.draw(),Konva.isBrowser&&this.content.appendChild(e.canvas._canvas),this},getParent:function(){return null},getLayer:function(){return null},getLayers:function(){return this.getChildren()},_bindContentEvents:function(){if(Konva.isBrowser)for(var e=0;e<s;e++)!function(t,i){t.content.addEventListener(i,function(e){t[o+i](e)},!1)}(this,t[e])},_mouseover:function(e){Konva.UA.mobile||(this._setPointerPosition(e),this._fire("contentMouseover",{evt:e}))},_mouseout:function(e){var t;Konva.UA.mobile||(this._setPointerPosition(e),(t=this.targetShape)&&!Konva.isDragging()&&(t._fireAndBubble(i,{evt:e}),t._fireAndBubble(n,{evt:e}),this.targetShape=null),this.pointerPos=void 0,this._fire("contentMouseout",{evt:e}))},_mousemove:function(e){return Konva.UA.ieMobile?this._touchmove(e):(void 0!==e.movementX||void 0!==e.movementY)&&0===e.movementY&&0===e.movementX||Konva.UA.mobile?null:(this._setPointerPosition(e),Konva.isDragging()||((t=this.getIntersection(this.getPointerPosition()))&&t.isListening()?Konva.isDragging()||this.targetShape&&this.targetShape._id===t._id?t._fireAndBubble("mousemove",{evt:e}):(this.targetShape&&(this.targetShape._fireAndBubble(i,{evt:e},t),this.targetShape._fireAndBubble(n,{evt:e},t)),t._fireAndBubble("mouseover",{evt:e},this.targetShape),t._fireAndBubble("mouseenter",{evt:e},this.targetShape),this.targetShape=t):(this.targetShape&&!Konva.isDragging()&&(this.targetShape._fireAndBubble(i,{evt:e}),this.targetShape._fireAndBubble(n,{evt:e}),this.targetShape=null),this._fire("mousemove",{evt:e,target:this,currentTarget:this})),this._fire("contentMousemove",{evt:e})),void(e.cancelable&&e.preventDefault()));var t},_mousedown:function(e){if(Konva.UA.ieMobile)return this._touchstart(e);var t;Konva.UA.mobile||(this._setPointerPosition(e),t=this.getIntersection(this.getPointerPosition()),Konva.listenClickTap=!0,t&&t.isListening()?(this.clickStartShape=t)._fireAndBubble("mousedown",{evt:e}):this._fire("mousedown",{evt:e,target:this,currentTarget:this}),this._fire("contentMousedown",{evt:e})),e.cancelable&&e.preventDefault()},_mouseup:function(e){if(Konva.UA.ieMobile)return this._touchend(e);var t,i,n,r,o;Konva.UA.mobile||(this._setPointerPosition(e),t=this.getIntersection(this.getPointerPosition()),i=this.clickStartShape,n=this.clickEndShape,r=!1,o=Konva.DD,Konva.inDblClickWindow?(r=!0,Konva.inDblClickWindow=!1):o&&o.justDragged?o&&(o.justDragged=!1):Konva.inDblClickWindow=!0,setTimeout(function(){Konva.inDblClickWindow=!1},Konva.dblClickWindow),t&&t.isListening()?((this.clickEndShape=t)._fireAndBubble("mouseup",{evt:e}),Konva.listenClickTap&&i&&i._id===t._id&&(t._fireAndBubble("click",{evt:e}),r&&n&&n._id===t._id&&t._fireAndBubble("dblclick",{evt:e}))):(this._fire("mouseup",{evt:e,target:this,currentTarget:this}),this._fire("click",{evt:e,target:this,currentTarget:this}),r&&this._fire("dblclick",{evt:e,target:this,currentTarget:this})),this._fire("contentMouseup",{evt:e}),Konva.listenClickTap&&(this._fire("contentClick",{evt:e}),r&&this._fire("contentDblclick",{evt:e})),Konva.listenClickTap=!1),e.cancelable&&e.preventDefault()},_contextmenu:function(e){this._fire("contentContextmenu",{evt:e})},_touchstart:function(e){this._setPointerPosition(e);var t=this.getIntersection(this.getPointerPosition());Konva.listenClickTap=!0,t&&t.isListening()?((this.tapStartShape=t)._fireAndBubble(r,{evt:e}),t.isListening()&&t.preventDefault()&&e.cancelable&&e.preventDefault()):this._fire(r,{evt:e,target:this,currentTarget:this}),this._fire("contentTouchstart",{evt:e})},_touchend:function(e){this._setPointerPosition(e);var t=this.getIntersection(this.getPointerPosition()),i=!1;Konva.inDblClickWindow?(i=!0,Konva.inDblClickWindow=!1):Konva.inDblClickWindow=!0,setTimeout(function(){Konva.inDblClickWindow=!1},Konva.dblClickWindow),t&&t.isListening()?(t._fireAndBubble("touchend",{evt:e}),Konva.listenClickTap&&this.tapStartShape&&t._id===this.tapStartShape._id&&(t._fireAndBubble("tap",{evt:e}),i&&t._fireAndBubble("dbltap",{evt:e})),t.isListening()&&t.preventDefault()&&e.cancelable&&e.preventDefault()):(this._fire("touchend",{evt:e,target:this,currentTarget:this}),this._fire("tap",{evt:e,target:this,currentTarget:this}),i&&this._fire("dbltap",{evt:e,target:this,currentTarget:this})),this._fire("contentTouchend",{evt:e}),Konva.listenClickTap&&(this._fire("contentTap",{evt:e}),i&&this._fire("contentDbltap",{evt:e})),Konva.listenClickTap=!1},_touchmove:function(e){this._setPointerPosition(e);var t,i=Konva.DD;Konva.isDragging()||((t=this.getIntersection(this.getPointerPosition()))&&t.isListening()?(t._fireAndBubble("touchmove",{evt:e}),t.isListening()&&t.preventDefault()&&e.cancelable&&e.preventDefault()):this._fire("touchmove",{evt:e,target:this,currentTarget:this}),this._fire("contentTouchmove",{evt:e})),i&&Konva.isDragging()&&Konva.DD.node.preventDefault()&&e.cancelable&&e.preventDefault()},_wheel:function(e){this._setPointerPosition(e);var t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble("wheel",{evt:e}):this._fire("wheel",{evt:e,target:this,currentTarget:this}),this._fire("contentWheel",{evt:e})},_setPointerPosition:function(e){var t,i=this._getContentPosition(),n=null,r=null;void 0!==(e=e||window.event).touches?0<e.touches.length&&(n=(t=e.touches[0]).clientX-i.left,r=t.clientY-i.top):(n=e.clientX-i.left,r=e.clientY-i.top),null!==n&&null!==r&&(this.pointerPos={x:n,y:r})},_getContentPosition:function(){var e=this.content.getBoundingClientRect?this.content.getBoundingClientRect():{top:0,left:0};return{top:e.top,left:e.left}},_buildDOM:function(){if(this.bufferCanvas=new Konva.SceneCanvas,this.bufferHitCanvas=new Konva.HitCanvas({pixelRatio:1}),Konva.isBrowser){var e=this.getContainer();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=Konva.document.createElement("div"),this.content.style.position="relative",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}},_onContent:function(e,t){for(var i,n=e.split(" "),r=n.length,o=0;o<r;o++)i=n[o],this.content.addEventListener(i,t,!1)},cache:function(){Konva.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes.")},clearCache:function(){}}),Konva.Util.extend(Konva.Stage,Konva.Container),Konva.Factory.addGetter(Konva.Stage,"container"),Konva.Factory.addOverloadedGetterSetter(Konva.Stage,"container")}(),function(i){"use strict";i.BaseLayer=function(e){this.___init(e)},i.Util.addMethods(i.BaseLayer,{___init:function(e){this.nodeType="Layer",i.Container.call(this,e)},createPNGStream:function(){return this.canvas._canvas.createPNGStream()},getCanvas:function(){return this.canvas},getHitCanvas:function(){return this.hitCanvas},getContext:function(){return this.getCanvas().getContext()},clear:function(e){return this.getContext().clear(e),this},clearHitCache:function(){this._hitImageData=void 0},setZIndex:function(e){i.Node.prototype.setZIndex.call(this,e);var t=this.getStage();return t&&(t.content.removeChild(this.getCanvas()._canvas),e<t.getChildren().length-1?t.content.insertBefore(this.getCanvas()._canvas,t.getChildren()[e+1].getCanvas()._canvas):t.content.appendChild(this.getCanvas()._canvas)),this},moveToTop:function(){i.Node.prototype.moveToTop.call(this);var e=this.getStage();return e&&(e.content.removeChild(this.getCanvas()._canvas),e.content.appendChild(this.getCanvas()._canvas)),this},moveUp:function(){if(!i.Node.prototype.moveUp.call(this))return this;var e=this.getStage();return e&&(e.content.removeChild(this.getCanvas()._canvas),this.index<e.getChildren().length-1?e.content.insertBefore(this.getCanvas()._canvas,e.getChildren()[this.index+1].getCanvas()._canvas):e.content.appendChild(this.getCanvas()._canvas)),this},moveDown:function(){var e,t;return!i.Node.prototype.moveDown.call(this)||(e=this.getStage())&&(t=e.getChildren(),e.content.removeChild(this.getCanvas()._canvas),e.content.insertBefore(this.getCanvas()._canvas,t[this.index+1].getCanvas()._canvas)),this},moveToBottom:function(){var e,t;return!i.Node.prototype.moveToBottom.call(this)||(e=this.getStage())&&(t=e.getChildren(),e.content.removeChild(this.getCanvas()._canvas),e.content.insertBefore(this.getCanvas()._canvas,t[1].getCanvas()._canvas)),this},getLayer:function(){return this},remove:function(){var e=this.getCanvas()._canvas;return i.Node.prototype.remove.call(this),e&&e.parentNode&&i.Util._isInDocument(e)&&e.parentNode.removeChild(e),this},getStage:function(){return this.parent},setSize:function(e,t){return this.canvas.setSize(e,t),this},getWidth:function(){if(this.parent)return this.parent.getWidth()},setWidth:function(){i.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')},getHeight:function(){if(this.parent)return this.parent.getHeight()},setHeight:function(){i.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')},_applyTransform:function(e,t,i){i=e.getAbsoluteTransform(i).getMatrix();t.transform(i[0],i[1],i[2],i[3],i[4],i[5])}}),i.Util.extend(i.BaseLayer,i.Container),i.Factory.addGetterSetter(i.BaseLayer,"clearBeforeDraw",!0),i.Collection.mapMethods(i.BaseLayer)}(Konva),function(){"use strict";var a=[{x:0,y:0},{x:-1,y:0},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:0,y:1},{x:-1,y:1}],l=a.length;Konva.Layer=function(e){this.____init(e)},Konva.Util.addMethods(Konva.Layer,{____init:function(e){this.nodeType="Layer",this.canvas=new Konva.SceneCanvas,this.hitCanvas=new Konva.HitCanvas({pixelRatio:1}),Konva.BaseLayer.call(this,e)},_setCanvasSize:function(e,t){this.canvas.setSize(e,t),this.hitCanvas.setSize(e,t)},_validateAdd:function(e){e=e.getType();"Group"!==e&&"Shape"!==e&&Konva.Util.throw("You may only add groups and shapes to a layer.")},getIntersection:function(e,t){var i,n,r;if(!this.hitGraphEnabled()||!this.isVisible())return null;for(var o=1,s=!1;;){for(n=0;n<l;n++){if(r=a[n],(r=(i=this._getIntersection({x:e.x+r.x*o,y:e.y+r.y*o})).shape)&&t)return r.findAncestor(t,!0);if(r)return r;if(s=!!i.antialiased,!i.antialiased)break}if(!s)return null;o+=1}},_getImageData:function(e,t){var i=this.hitCanvas.width||1,n=this.hitCanvas.height||1,e=Math.round(t)*i+Math.round(e);return this._hitImageData||(this._hitImageData=this.hitCanvas.context.getImageData(0,0,i,n)),[this._hitImageData.data[4*e+0],this._hitImageData.data[4*e+1],this._hitImageData.data[4*e+2],this._hitImageData.data[4*e+3]]},_getIntersection:function(e){var t=this.hitCanvas.pixelRatio,e=this.hitCanvas.context.getImageData(Math.round(e.x*t),Math.round(e.y*t),1,1).data,t=e[3];return 255===t?(e=Konva.Util._rgbToHex(e[0],e[1],e[2]),(e=Konva.shapes["#"+e])?{shape:e}:{antialiased:!0}):0<t?{antialiased:!0}:{}},drawScene:function(e,t){var i=this.getLayer(),i=e||i&&i.getCanvas();return this._fire("beforeDraw",{node:this}),this.getClearBeforeDraw()&&i.getContext().clear(),Konva.Container.prototype.drawScene.call(this,i,t),this._fire("draw",{node:this}),this},drawHit:function(e,t){var i=this.getLayer(),e=e||i&&i.hitCanvas;return i&&i.getClearBeforeDraw()&&i.getHitCanvas().getContext().clear(),Konva.Container.prototype.drawHit.call(this,e,t),this.imageData=null,this},clear:function(e){return Konva.BaseLayer.prototype.clear.call(this,e),this.getHitCanvas().getContext().clear(e),this.imageData=null,this},setVisible:function(e){return Konva.Node.prototype.setVisible.call(this,e),e?(this.getCanvas()._canvas.style.display="block",this.hitCanvas._canvas.style.display="block"):(this.getCanvas()._canvas.style.display="none",this.hitCanvas._canvas.style.display="none"),this},enableHitGraph:function(){return this.setHitGraphEnabled(!0),this},disableHitGraph:function(){return this.setHitGraphEnabled(!1),this},setSize:function(e,t){return Konva.BaseLayer.prototype.setSize.call(this,e,t),this.hitCanvas.setSize(e,t),this}}),Konva.Util.extend(Konva.Layer,Konva.BaseLayer),Konva.Factory.addGetterSetter(Konva.Layer,"hitGraphEnabled",!0),Konva.Collection.mapMethods(Konva.Layer)}(),function(){"use strict";Konva.FastLayer=function(e){this.____init(e)},Konva.Util.addMethods(Konva.FastLayer,{____init:function(e){this.nodeType="Layer",this.canvas=new Konva.SceneCanvas,Konva.BaseLayer.call(this,e)},_validateAdd:function(e){"Shape"!==e.getType()&&Konva.Util.throw("You may only add shapes to a fast layer.")},_setCanvasSize:function(e,t){this.canvas.setSize(e,t)},hitGraphEnabled:function(){return!1},getIntersection:function(){return null},drawScene:function(e){var t=this.getLayer(),t=e||t&&t.getCanvas();return this.getClearBeforeDraw()&&t.getContext().clear(),Konva.Container.prototype.drawScene.call(this,t),this},draw:function(){return this.drawScene(),this},setVisible:function(e){return Konva.Node.prototype.setVisible.call(this,e),this.getCanvas()._canvas.style.display=e?"block":"none",this}}),Konva.Util.extend(Konva.FastLayer,Konva.BaseLayer),Konva.Collection.mapMethods(Konva.FastLayer)}(),function(){"use strict";Konva.Group=function(e){this.___init(e)},Konva.Util.addMethods(Konva.Group,{___init:function(e){this.nodeType="Group",Konva.Container.call(this,e)},_validateAdd:function(e){e=e.getType();"Group"!==e&&"Shape"!==e&&Konva.Util.throw("You may only add groups and shapes to groups.")}}),Konva.Util.extend(Konva.Group,Konva.Container),Konva.Collection.mapMethods(Konva.Group)}(),function(n){"use strict";function t(){return e.apply(n.global,arguments)}var h=n.global.performance&&n.global.performance.now?function(){return n.global.performance.now()}:function(){return(new Date).getTime()},e=n.global.requestAnimationFrame||n.global.webkitRequestAnimationFrame||n.global.mozRequestAnimationFrame||n.global.oRequestAnimationFrame||n.global.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)};n.Animation=function(e,t){var i=n.Animation;this.func=e,this.setLayers(t),this.id=i.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:h()}},n.Animation.prototype={setLayers:function(e){var t=e?0<e.length?e:[e]:[];return this.layers=t,this},getLayers:function(){return this.layers},addLayer:function(e){for(var t=this.layers,i=t.length,n=0;n<i;n++)if(t[n]._id===e._id)return!1;return this.layers.push(e),!0},isRunning:function(){for(var e=n.Animation.animations,t=e.length,i=0;i<t;i++)if(e[i].id===this.id)return!0;return!1},start:function(){var e=n.Animation;return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=h(),e._addAnimation(this),this},stop:function(){return n.Animation._removeAnimation(this),this},_updateFrameObject:function(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}},n.Animation.animations=[],n.Animation.animIdCounter=0,n.Animation.animRunning=!1,n.Animation._addAnimation=function(e){this.animations.push(e),this._handleAnimation()},n.Animation._removeAnimation=function(e){for(var t=e.id,i=this.animations,n=i.length,r=0;r<n;r++)if(i[r].id===t){this.animations.splice(r,1);break}},n.Animation._runFrames=function(){for(var e,t,i,n,r,o,s,a={},l=this.animations,c=0;c<l.length;c++)if(t=(e=l[c]).layers,i=e.func,e._updateFrameObject(h()),r=t.length,!i||!1!==i.call(e,e.frame))for(n=0;n<r;n++)void 0!==(o=t[n])._id&&(a[o._id]=o);for(s in a)a.hasOwnProperty(s)&&a[s].draw()},n.Animation._animationLoop=function(){var e=n.Animation;e.animations.length?(e._runFrames(),t(e._animationLoop)):e.animRunning=!1},n.Animation._handleAnimation=function(){this.animRunning||(this.animRunning=!0,t(this._animationLoop))},n.BaseLayer.prototype.batchDraw=function(){var e=this,t=n.Animation;return this.batchAnim||(this.batchAnim=new t(function(){e.batchAnim.stop()},this)),this.batchAnim.isRunning()||this.batchAnim.start(),this},n.Stage.prototype.batchDraw=function(){return this.getChildren().each(function(e){e.batchDraw()}),this}}(Konva),function(){"use strict";function l(e,t,i,n,r,o,s){this.prop=e,this.propFunc=t,this.begin=n,this._pos=n,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=s,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=i,this._change=r-this.begin,this.pause()}var c={node:1,duration:1,easing:1,onFinish:1,yoyo:1},h=0,u=["fill","stroke","shadowColor"];l.prototype={fire:function(e){e=this[e];e&&e()},setTime:function(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())},getTime:function(){return this._time},setPosition:function(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e},getPosition:function(e){return void 0===e&&(e=this._time),this.func(e,this.begin,this._change,this.duration)},play:function(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},reverse:function(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},seek:function(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")},reset:function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},finish:function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},update:function(){this.setPosition(this.getPosition(this._time))},onEnterFrame:function(){var e=this.getTimer()-this._startTime;2===this.state?this.setTime(e):3===this.state&&this.setTime(this.duration-e)},pause:function(){this.state=1,this.fire("onPause")},getTimer:function(){return(new Date).getTime()}},Konva.Tween=function(e){var t,i=this,n=e.node,r=n._id,o=e.easing||Konva.Easings.Linear,s=!!e.yoyo,a=void 0===e.duration?1:0===e.duration?.001:e.duration;this.node=n,this._id=h++;n=n.getLayer()||(n instanceof Konva.Stage?n.getLayers():null);for(t in n||Konva.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Konva.Animation(function(){i.tween.onEnterFrame()},n),this.tween=new l(t,function(e){i._tweenFunc(e)},o,0,1,1e3*a,s),this._addListeners(),Konva.Tween.attrs[r]||(Konva.Tween.attrs[r]={}),Konva.Tween.attrs[r][this._id]||(Konva.Tween.attrs[r][this._id]={}),Konva.Tween.tweens[r]||(Konva.Tween.tweens[r]={}),e)void 0===c[t]&&this._addAttr(t,e[t]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset},Konva.Tween.attrs={},Konva.Tween.tweens={},Konva.Tween.prototype={_addAttr:function(e,t){var i,n,r,o,s,a,l,c=this.node,h=c._id;if((n=Konva.Tween.tweens[h][e])&&delete Konva.Tween.attrs[h][n][e],i=c.getAttr(e),Konva.Util._isArray(t))for(l=[],o=Math.max(t.length,i.length),"points"===e&&t.length!==i.length&&(t.length>i.length?(a=i,i=Konva.Util._prepareArrayForTween(i,t,c.closed())):(s=t,t=Konva.Util._prepareArrayForTween(t,i,c.closed()))),r=0;r<o;r++)l.push(t[r]-i[r]);else l=-1!==u.indexOf(e)?(i=Konva.Util.colorToRGBA(i),{r:(c=Konva.Util.colorToRGBA(t)).r-i.r,g:c.g-i.g,b:c.b-i.b,a:c.a-i.a}):t-i;Konva.Tween.attrs[h][this._id][e]={start:i,diff:l,end:t,trueEnd:s,trueStart:a},Konva.Tween.tweens[h][e]=this._id},_tweenFunc:function(e){var t,i,n,r,o,s,a,l=this.node,c=Konva.Tween.attrs[l._id][this._id];for(t in c){if(i=(a=c[t]).start,n=a.diff,a=a.end,Konva.Util._isArray(i))for(r=[],s=Math.max(i.length,a.length),o=0;o<s;o++)r.push((i[o]||0)+n[o]*e);else r=-1!==u.indexOf(t)?"rgba("+Math.round(i.r+n.r*e)+","+Math.round(i.g+n.g*e)+","+Math.round(i.b+n.b*e)+","+(i.a+n.a*e)+")":i+n*e;l.setAttr(t,r)}},_addListeners:function(){var i=this;this.tween.onPlay=function(){i.anim.start()},this.tween.onReverse=function(){i.anim.start()},this.tween.onPause=function(){i.anim.stop()},this.tween.onFinish=function(){var e=i.node,t=Konva.Tween.attrs[e._id][i._id];t.points&&t.points.trueEnd&&e.points(t.points.trueEnd),i.onFinish&&i.onFinish.call(i)},this.tween.onReset=function(){var e=i.node,t=Konva.Tween.attrs[e._id][i._id];t.points&&t.points.trueStart&&e.points(t.points.trueStart),i.onReset&&i.onReset()}},play:function(){return this.tween.play(),this},reverse:function(){return this.tween.reverse(),this},reset:function(){return this.tween.reset(),this},seek:function(e){return this.tween.seek(1e3*e),this},pause:function(){return this.tween.pause(),this},finish:function(){return this.tween.finish(),this},destroy:function(){var e,t=this.node._id,i=this._id,n=Konva.Tween.tweens[t];for(e in this.pause(),n)delete Konva.Tween.tweens[t][e];delete Konva.Tween.attrs[t][i]}},Konva.Node.prototype.to=function(e){var t=e.onFinish;e.node=this,e.onFinish=function(){this.destroy(),t&&t()},new Konva.Tween(e).play()},Konva.Easings={BackEaseIn:function(e,t,i,n){return i*(e/=n)*e*(2.70158*e-1.70158)+t},BackEaseOut:function(e,t,i,n){return i*((e=e/n-1)*e*(2.70158*e+1.70158)+1)+t},BackEaseInOut:function(e,t,i,n){var r=1.70158;return(e/=n/2)<1?i/2*(e*e*((1+(r*=1.525))*e-r))+t:i/2*((e-=2)*e*((1+(r*=1.525))*e+r)+2)+t},ElasticEaseIn:function(e,t,i,n,r,o){var s=0;return 0===e?t:1==(e/=n)?t+i:(o=o||.3*n,s=!r||r<Math.abs(i)?(r=i,o/4):o/(2*Math.PI)*Math.asin(i/r),-r*Math.pow(2,10*--e)*Math.sin((e*n-s)*(2*Math.PI)/o)+t)},ElasticEaseOut:function(e,t,i,n,r,o){var s=0;return 0===e?t:1==(e/=n)?t+i:(o=o||.3*n,s=!r||r<Math.abs(i)?(r=i,o/4):o/(2*Math.PI)*Math.asin(i/r),r*Math.pow(2,-10*e)*Math.sin((e*n-s)*(2*Math.PI)/o)+i+t)},ElasticEaseInOut:function(e,t,i,n,r,o){var s=0;return 0===e?t:2==(e/=n/2)?t+i:(o=o||n*(.3*1.5),s=!r||r<Math.abs(i)?(r=i,o/4):o/(2*Math.PI)*Math.asin(i/r),e<1?r*Math.pow(2,10*--e)*Math.sin((e*n-s)*(2*Math.PI)/o)*-.5+t:r*Math.pow(2,-10*--e)*Math.sin((e*n-s)*(2*Math.PI)/o)*.5+i+t)},BounceEaseOut:function(e,t,i,n){return(e/=n)<1/2.75?i*(7.5625*e*e)+t:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+t:i*(7.5625*(e-=2.625/2.75)*e+.984375)+t},BounceEaseIn:function(e,t,i,n){return i-Konva.Easings.BounceEaseOut(n-e,0,i,n)+t},BounceEaseInOut:function(e,t,i,n){return e<n/2?.5*Konva.Easings.BounceEaseIn(2*e,0,i,n)+t:.5*Konva.Easings.BounceEaseOut(2*e-n,0,i,n)+.5*i+t},EaseIn:function(e,t,i,n){return i*(e/=n)*e+t},EaseOut:function(e,t,i,n){return-i*(e/=n)*(e-2)+t},EaseInOut:function(e,t,i,n){return(e/=n/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t},StrongEaseIn:function(e,t,i,n){return i*(e/=n)*e*e*e*e+t},StrongEaseOut:function(e,t,i,n){return i*((e=e/n-1)*e*e*e*e+1)+t},StrongEaseInOut:function(e,t,i,n){return(e/=n/2)<1?i/2*e*e*e*e*e+t:i/2*((e-=2)*e*e*e*e+2)+t},Linear:function(e,t,i,n){return i*e/n+t}}}(),function(){"use strict";Konva.DD={anim:new Konva.Animation(function(){var e=this.dirty;return this.dirty=!1,e}),isDragging:!1,justDragged:!1,offset:{x:0,y:0},node:null,_drag:function(e){var t=Konva.DD,i=t.node;if(i){if(!t.isDragging){var n=i.getStage().getPointerPosition();n||(i.getStage()._setPointerPosition(e),n=i.getStage().getPointerPosition());var r=i.dragDistance();if(Math.max(Math.abs(n.x-t.startPointerPos.x),Math.abs(n.y-t.startPointerPos.y))<r)return}i.getStage()._setPointerPosition(e),i._setDragPosition(e),t.isDragging||(t.isDragging=!0,i.fire("dragstart",{type:"dragstart",target:i,evt:e},!0)),i.fire("dragmove",{type:"dragmove",target:i,evt:e},!0)}},_endDragBefore:function(e){var t,i=Konva.DD,n=i.node;n&&(t=n.getLayer(),i.anim.stop(),i.isDragging&&(i.isDragging=!1,i.justDragged=!0,Konva.listenClickTap=!1,e&&(e.dragEndNode=n)),delete i.node,(n.getLayer()||t||n instanceof Konva.Stage)&&(t||n).draw())},_endDragAfter:function(e){var t=(e=e||{}).dragEndNode;e&&t&&t.fire("dragend",{type:"dragend",target:t,evt:e},!0)}},Konva.Node.prototype.startDrag=function(){var e=Konva.DD,t=this.getStage(),i=this.getLayer(),n=t.getPointerPosition(),t=this.getAbsolutePosition();n&&(e.node&&e.node.stopDrag(),e.node=this,e.startPointerPos=n,e.offset.x=n.x-t.x,e.offset.y=n.y-t.y,e.anim.setLayers(i||this.getLayers()),e.anim.start(),this._setDragPosition())},Konva.Node.prototype._setDragPosition=function(e){var t=Konva.DD,i=this.getStage().getPointerPosition(),n=this.getDragBoundFunc();i&&(i={x:i.x-t.offset.x,y:i.y-t.offset.y},void 0!==n&&(i=n.call(this,i,e)),this.setAbsolutePosition(i),this._lastPos&&this._lastPos.x===i.x&&this._lastPos.y===i.y||(t.anim.dirty=!0),this._lastPos=i)},Konva.Node.prototype.stopDrag=function(){var e=Konva.DD,t={};e._endDragBefore(t),e._endDragAfter(t)},Konva.Node.prototype.setDraggable=function(e){this._setAttr("draggable",e),this._dragChange()};var e,t=Konva.Node.prototype.remove;Konva.Node.prototype.__originalRemove=t,Konva.Node.prototype.remove=function(){var e=Konva.DD;e.node&&e.node._id===this._id&&this.stopDrag(),t.call(this)},Konva.Node.prototype.isDragging=function(){var e=Konva.DD;return!(!e.node||e.node._id!==this._id||!e.isDragging)},Konva.Node.prototype._listenDrag=function(){var t=this;this._dragCleanup(),"Stage"===this.getClassName()?this.on("contentMousedown.konva contentTouchstart.konva",function(e){Konva.DD.node||t.startDrag(e)}):this.on("mousedown.konva touchstart.konva",function(e){1!==e.evt.button&&2!==e.evt.button&&(Konva.DD.node||t.startDrag(e))})},Konva.Node.prototype._dragChange=function(){var e,t;this.attrs.draggable?this._listenDrag():(this._dragCleanup(),e=this.getStage(),t=Konva.DD,e&&t.node&&t.node._id===this._id&&t.node.stopDrag())},Konva.Node.prototype._dragCleanup=function(){"Stage"===this.getClassName()?(this.off("contentMousedown.konva"),this.off("contentTouchstart.konva")):(this.off("mousedown.konva"),this.off("touchstart.konva"))},Konva.Factory.addGetterSetter(Konva.Node,"dragBoundFunc"),Konva.Factory.addGetter(Konva.Node,"draggable",!1),Konva.Factory.addOverloadedGetterSetter(Konva.Node,"draggable"),Konva.isBrowser&&((e=Konva.document.documentElement).addEventListener("mouseup",Konva.DD._endDragBefore,!0),e.addEventListener("touchend",Konva.DD._endDragBefore,!0),e.addEventListener("mousemove",Konva.DD._drag),e.addEventListener("touchmove",Konva.DD._drag),e.addEventListener("mouseup",Konva.DD._endDragAfter,!1),e.addEventListener("touchend",Konva.DD._endDragAfter,!1))}(),function(){"use strict";Konva.Rect=function(e){this.___init(e)},Konva.Rect.prototype={___init:function(e){Konva.Shape.call(this,e),this.className="Rect",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var t=this.getCornerRadius(),i=this.getWidth(),n=this.getHeight();e.beginPath(),t?(t=Math.min(t,i/2,n/2),e.moveTo(t,0),e.lineTo(i-t,0),e.arc(i-t,t,t,3*Math.PI/2,0,!1),e.lineTo(i,n-t),e.arc(i-t,n-t,t,0,Math.PI/2,!1),e.lineTo(t,n),e.arc(t,n-t,t,Math.PI/2,Math.PI,!1),e.lineTo(0,t),e.arc(t,t,t,Math.PI,3*Math.PI/2,!1)):e.rect(0,0,i,n),e.closePath(),e.fillStrokeShape(this)}},Konva.Util.extend(Konva.Rect,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Rect,"cornerRadius",0),Konva.Collection.mapMethods(Konva.Rect)}(),function(t){"use strict";var i=2*Math.PI-1e-4;t.Circle=function(e){this.___init(e)},t.Circle.prototype={_centroid:!0,___init:function(e){t.Shape.call(this,e),this.className="Circle",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){e.beginPath(),e.arc(0,0,this.getRadius(),0,i,!1),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(e){t.Node.prototype.setWidth.call(this,e),this.radius()!==e/2&&this.setRadius(e/2)},setHeight:function(e){t.Node.prototype.setHeight.call(this,e),this.radius()!==e/2&&this.setRadius(e/2)}},t.Util.extend(t.Circle,t.Shape),t.Factory.addGetterSetter(t.Circle,"radius",0),t.Factory.addOverloadedGetterSetter(t.Circle,"radius"),t.Collection.mapMethods(t.Circle)}(Konva),function(){"use strict";var n=2*Math.PI-1e-4;Konva.Ellipse=function(e){this.___init(e)},Konva.Ellipse.prototype={_centroid:!0,___init:function(e){Konva.Shape.call(this,e),this.className="Ellipse",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var t=this.getRadiusX(),i=this.getRadiusY();e.beginPath(),e.save(),t!==i&&e.scale(1,i/t),e.arc(0,0,t,0,n,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadiusX()},getHeight:function(){return 2*this.getRadiusY()},setWidth:function(e){Konva.Node.prototype.setWidth.call(this,e),this.setRadius({x:e/2})},setHeight:function(e){Konva.Node.prototype.setHeight.call(this,e),this.setRadius({y:e/2})}},Konva.Util.extend(Konva.Ellipse,Konva.Shape),Konva.Factory.addComponentsGetterSetter(Konva.Ellipse,"radius",["x","y"]),Konva.Factory.addGetterSetter(Konva.Ellipse,"radiusX",0),Konva.Factory.addGetterSetter(Konva.Ellipse,"radiusY",0),Konva.Collection.mapMethods(Konva.Ellipse)}(),function(){"use strict";var t=2*Math.PI-1e-4;Konva.Ring=function(e){this.___init(e)},Konva.Ring.prototype={_centroid:!0,___init:function(e){Konva.Shape.call(this,e),this.className="Ring",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){e.beginPath(),e.arc(0,0,this.getInnerRadius(),0,t,!1),e.moveTo(this.getOuterRadius(),0),e.arc(0,0,this.getOuterRadius(),t,0,!0),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getOuterRadius()},getHeight:function(){return 2*this.getOuterRadius()},setWidth:function(e){Konva.Node.prototype.setWidth.call(this,e),this.outerRadius()!==e/2&&this.setOuterRadius(e/2)},setHeight:function(e){Konva.Node.prototype.setHeight.call(this,e),this.outerRadius()!==e/2&&this.setOuterRadius(e/2)},setOuterRadius:function(e){this._setAttr("outerRadius",e),this.setWidth(2*e),this.setHeight(2*e)}},Konva.Util.extend(Konva.Ring,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Ring,"innerRadius",0),Konva.Factory.addGetter(Konva.Ring,"outerRadius",0),Konva.Factory.addOverloadedGetterSetter(Konva.Ring,"outerRadius"),Konva.Collection.mapMethods(Konva.Ring)}(),function(){"use strict";Konva.Wedge=function(e){this.___init(e)},Konva.Wedge.prototype={_centroid:!0,___init:function(e){Konva.Shape.call(this,e),this.className="Wedge",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){e.beginPath(),e.arc(0,0,this.getRadius(),0,Konva.getAngle(this.getAngle()),this.getClockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(e){Konva.Node.prototype.setWidth.call(this,e),this.radius()!==e/2&&this.setRadius(e/2)},setHeight:function(e){Konva.Node.prototype.setHeight.call(this,e),this.radius()!==e/2&&this.setRadius(e/2)}},Konva.Util.extend(Konva.Wedge,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Wedge,"radius",0),Konva.Factory.addGetterSetter(Konva.Wedge,"angle",0),Konva.Factory.addGetterSetter(Konva.Wedge,"clockwise",!1),Konva.Factory.backCompat(Konva.Wedge,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Konva.Collection.mapMethods(Konva.Wedge)}(),function(n){"use strict";n.Arc=function(e){this.___init(e)},n.Arc.prototype={_centroid:!0,___init:function(e){n.Shape.call(this,e),this.className="Arc",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var t=n.getAngle(this.angle()),i=this.clockwise();e.beginPath(),e.arc(0,0,this.getOuterRadius(),0,t,i),e.arc(0,0,this.getInnerRadius(),t,0,!i),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getOuterRadius()},getHeight:function(){return 2*this.getOuterRadius()},setWidth:function(e){n.Node.prototype.setWidth.call(this,e),this.getOuterRadius()!==e/2&&this.setOuterRadius(e/2)},setHeight:function(e){n.Node.prototype.setHeight.call(this,e),this.getOuterRadius()!==e/2&&this.setOuterRadius(e/2)}},n.Util.extend(n.Arc,n.Shape),n.Factory.addGetterSetter(n.Arc,"innerRadius",0),n.Factory.addGetterSetter(n.Arc,"outerRadius",0),n.Factory.addGetterSetter(n.Arc,"angle",0),n.Factory.addGetterSetter(n.Arc,"clockwise",!1),n.Collection.mapMethods(n.Arc)}(Konva),function(){"use strict";Konva.Image=function(e){this.___init(e)},Konva.Image.prototype={___init:function(e){Konva.Shape.call(this,e),this.className="Image",this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()&&this.getStage()},_sceneFunc:function(e){var t,i,n=this.getWidth(),r=this.getHeight(),o=this.getImage();o&&(t=this.getCropWidth(),i=this.getCropHeight(),i=t&&i?[o,this.getCropX(),this.getCropY(),t,i,0,0,n,r]:[o,0,0,n,r]),(this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)),o&&e.drawImage.apply(e,i)},_hitFunc:function(e){var t=this.getWidth(),i=this.getHeight();e.beginPath(),e.rect(0,0,t,i),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){var e=this.getImage();return this.attrs.width||(e?e.width:0)},getHeight:function(){var e=this.getImage();return this.attrs.height||(e?e.height:0)}},Konva.Util.extend(Konva.Image,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Image,"image"),Konva.Factory.addComponentsGetterSetter(Konva.Image,"crop",["x","y","width","height"]),Konva.Factory.addGetterSetter(Konva.Image,"cropX",0),Konva.Factory.addGetterSetter(Konva.Image,"cropY",0),Konva.Factory.addGetterSetter(Konva.Image,"cropWidth",0),Konva.Factory.addGetterSetter(Konva.Image,"cropHeight",0),Konva.Collection.mapMethods(Konva.Image),Konva.Image.fromURL=function(e,t){var i=new Image;i.onload=function(){var e=new Konva.Image({image:i});t(e)},i.src=e}}(),function(){"use strict";function D(){return e=e||Konva.Util.createCanvasElement().getContext("2d")}function i(e){e.fillText(this.partialText,0,0)}function n(e){e.strokeText(this.partialText,0,0)}var e,r=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],o=r.length;Konva.Text=function(e){this.___init(e)},Konva.Text.prototype={___init:function(e){(e=e||{}).fillLinearGradientColorStops||e.fillRadialGradientColorStops||(e.fill=e.fill||"black"),Konva.Shape.call(this,e),this._fillFunc=i,this._strokeFunc=n,this.className="Text";for(var t=0;t<o;t++)this.on(r[t]+"Change.konva",this._setTextData);this._setTextData(),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(e){var t,i=this.getPadding(),n=this.getTextHeight(),r=this.getLineHeight()*n,o=this.textArr,s=o.length,a=this.getAlign(),l=this.getWidth(),c=this.getLetterSpacing(),h=this.textDecoration(),u=this.fill(),d=this.fontSize();for(e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline","middle"),e.setAttr("textAlign","left"),e.save(),i?(e.translate(i,0),e.translate(0,i+n/2)):e.translate(0,n/2),t=0;t<s;t++){var f=o[t],p=f.text,g=f.width;if(e.save(),"right"===a?e.translate(l-g-2*i,0):"center"===a&&e.translate((l-g-2*i)/2,0),-1!==h.indexOf("underline")&&(e.save(),e.beginPath(),e.moveTo(0,Math.round(r/2)),e.lineTo(Math.round(g),Math.round(r/2)),e.lineWidth=d/15,e.strokeStyle=u,e.stroke(),e.restore()),-1!==h.indexOf("line-through")&&(e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(Math.round(g),0),e.lineWidth=d/15,e.strokeStyle=u,e.stroke(),e.restore()),0!==c||"justify"===a)for(var m=p.split(" ").length-1,v=0;v<p.length;v++){var y=p[v];" "===y&&t!==s-1&&"justify"===a&&e.translate(Math.floor((l-g)/m),0),this.partialText=y,e.fillStrokeShape(this),e.translate(Math.round(this._getTextSize(y).width)+c,0)}else this.partialText=p,e.fillStrokeShape(this);e.restore(),e.translate(0,r)}e.restore()},_hitFunc:function(e){var t=this.getWidth(),i=this.getHeight();e.beginPath(),e.rect(0,0,t,i),e.closePath(),e.fillStrokeShape(this)},setText:function(e){e=Konva.Util._isString(e)?e:(e||"").toString();return this._setAttr("text",e),this},getWidth:function(){return"auto"===this.attrs.width||void 0===this.attrs.width?this.getTextWidth()+2*this.getPadding():this.attrs.width},getHeight:function(){return"auto"===this.attrs.height||void 0===this.attrs.height?this.getTextHeight()*this.textArr.length*this.getLineHeight()+2*this.getPadding():this.attrs.height},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},_getTextSize:function(e){var t=D(),i=this.getFontSize();return t.save(),t.font=this._getContextFont(),e=t.measureText(e),t.restore(),{width:e.width,height:parseInt(i,10)}},_getContextFont:function(){return Konva.UA.isIE?this.getFontStyle()+" "+this.getFontSize()+"px "+this.getFontFamily():this.getFontStyle()+" "+this.getFontVariant()+" "+this.getFontSize()+"px "+this.getFontFamily()},_addTextLine:function(e){"justify"===this.align()&&(e=e.trim());var t=this._getTextWidth(e);return this.textArr.push({text:e,width:t})},_getTextWidth:function(e){var t=this.getLetterSpacing(),i=e.length;return D().measureText(e).width+(i?t*(i-1):0)},_setTextData:function(){var e=this.getText().split("\n"),t=+this.getFontSize(),i=0,n=this.getLineHeight()*t,r=this.attrs.width,o=this.attrs.height,s="auto"!==r,a="auto"!==o,l=this.getPadding(),c=r-2*l,h=o-2*l,u=0,l=this.getWrap(),d="none"!==l,f="char"!==l&&d,p=this.getEllipsis()&&!d;this.textArr=[],D().save(),D().font=this._getContextFont();for(var g=0,m=e.length;g<m;++g){var v=e[g],y=p?this._getTextWidth("…"):0,b=this._getTextWidth(v);if(s&&c<b)for(;0<v.length;){for(var w,x=0,C=v.length,S="",_=0;x<C;){var k=x+C>>>1,M=v.slice(0,1+k),T=this._getTextWidth(M)+y;T<=c?(x=1+k,S=M+(p?"…":""),_=T):C=k}if(!S)break;if(!f||0<(w=Math.max(S.lastIndexOf(" "),S.lastIndexOf("-"))+1)&&(x=w,S=S.slice(0,x),_=this._getTextWidth(S)),this._addTextLine(S),i=Math.max(i,_),u+=n,!d||a&&h<u+n)break;if(0<(v=v.slice(x)).length&&(b=this._getTextWidth(v))<=c){this._addTextLine(v),u+=n,i=Math.max(i,b);break}}else this._addTextLine(v),u+=n,i=Math.max(i,b);if(a&&h<u+n)break}D().restore(),this.textHeight=t,this.textWidth=i}},Konva.Util.extend(Konva.Text,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Text,"fontFamily","Arial"),Konva.Factory.addGetterSetter(Konva.Text,"fontSize",12),Konva.Factory.addGetterSetter(Konva.Text,"fontStyle","normal"),Konva.Factory.addGetterSetter(Konva.Text,"fontVariant","normal"),Konva.Factory.addGetterSetter(Konva.Text,"padding",0),Konva.Factory.addGetterSetter(Konva.Text,"align","left"),Konva.Factory.addGetterSetter(Konva.Text,"lineHeight",1),Konva.Factory.addGetterSetter(Konva.Text,"wrap","word"),Konva.Factory.addGetterSetter(Konva.Text,"ellipsis",!1),Konva.Factory.addGetterSetter(Konva.Text,"letterSpacing",0),Konva.Factory.addGetter(Konva.Text,"text",""),Konva.Factory.addOverloadedGetterSetter(Konva.Text,"text"),Konva.Factory.addGetterSetter(Konva.Text,"textDecoration",""),Konva.Collection.mapMethods(Konva.Text)}(),function(){"use strict";Konva.Line=function(e){this.___init(e)},Konva.Line.prototype={___init:function(e){Konva.Shape.call(this,e),this.className="Line",this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")}),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var t,i,n,r=this.getPoints(),o=r.length,s=this.getTension(),a=this.getClosed(),l=this.getBezier();if(o){if(e.beginPath(),e.moveTo(r[0],r[1]),0!==s&&4<o){for(i=(t=this.getTensionPoints()).length,n=a?0:4,a||e.quadraticCurveTo(t[0],t[1],t[2],t[3]);n<i-2;)e.bezierCurveTo(t[n++],t[n++],t[n++],t[n++],t[n++],t[n++]);a||e.quadraticCurveTo(t[i-2],t[i-1],r[o-2],r[o-1])}else if(l)for(n=2;n<o;)e.bezierCurveTo(r[n++],r[n++],r[n++],r[n++],r[n++],r[n++]);else for(n=2;n<o;n+=2)e.lineTo(r[n],r[n+1]);a?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}},getTensionPoints:function(){return this._getCache("tensionPoints",this._getTensionPoints)},_getTensionPoints:function(){return this.getClosed()?this._getTensionPointsClosed():Konva.Util._expandPoints(this.getPoints(),this.getTension())},_getTensionPointsClosed:function(){var e=this.getPoints(),t=e.length,i=this.getTension(),n=Konva.Util,r=n._getControlPoints(e[t-2],e[t-1],e[0],e[1],e[2],e[3],i),n=n._getControlPoints(e[t-4],e[t-3],e[t-2],e[t-1],e[0],e[1],i),i=Konva.Util._expandPoints(e,i);return[r[2],r[3]].concat(i).concat([n[0],n[1],e[t-2],e[t-1],n[2],n[3],r[0],r[1],e[0],e[1]])},getWidth:function(){return this.getSelfRect().width},getHeight:function(){return this.getSelfRect().height},getSelfRect:function(){for(var e,t,i,n=(e=0!==this.getTension()?this._getTensionPoints():this.getPoints())[0],r=e[0],o=e[1],s=e[1],a=0;a<e.length/2;a++)t=e[2*a],i=e[2*a+1],n=Math.min(n,t),r=Math.max(r,t),o=Math.min(o,i),s=Math.max(s,i);return{x:Math.round(n),y:Math.round(o),width:Math.round(r-n),height:Math.round(s-o)}}},Konva.Util.extend(Konva.Line,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Line,"closed",!1),Konva.Factory.addGetterSetter(Konva.Line,"bezier",!1),Konva.Factory.addGetterSetter(Konva.Line,"tension",0),Konva.Factory.addGetterSetter(Konva.Line,"points",[]),Konva.Collection.mapMethods(Konva.Line)}(),function(){"use strict";Konva.Sprite=function(e){this.___init(e)},Konva.Sprite.prototype={___init:function(e){Konva.Shape.call(this,e),this.className="Sprite",this._updated=!0;var t=this;this.anim=new Konva.Animation(function(){var e=t._updated;return t._updated=!1,e}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(e){var t=this.getAnimation(),i=this.frameIndex(),n=4*i,r=this.getAnimations()[t],o=this.frameOffsets(),s=r[0+n],a=r[1+n],l=r[2+n],r=r[3+n],n=this.getImage();(this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,l,r),e.closePath(),e.fillStrokeShape(this)),n&&(o?(t=o[t],i=2*i,e.drawImage(n,s,a,l,r,t[0+i],t[1+i],l,r)):e.drawImage(n,s,a,l,r,0,0,l,r))},_hitFunc:function(e){var t=this.getAnimation(),i=this.frameIndex(),n=4*i,r=this.getAnimations()[t],o=this.frameOffsets(),s=r[2+n],n=r[3+n];e.beginPath(),o?(t=o[t],i=2*i,e.rect(t[0+i],t[1+i],s,n)):e.rect(0,0,s,n),e.closePath(),e.fillShape(this)},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()},_setInterval:function(){var e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.getFrameRate())},start:function(){var e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()},stop:function(){this.anim.stop(),clearInterval(this.interval)},isRunning:function(){return this.anim.isRunning()},_updateIndex:function(){var e=this.frameIndex(),t=this.getAnimation();e<this.getAnimations()[t].length/4-1?this.frameIndex(e+1):this.frameIndex(0)}},Konva.Util.extend(Konva.Sprite,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Sprite,"animation"),Konva.Factory.addGetterSetter(Konva.Sprite,"animations"),Konva.Factory.addGetterSetter(Konva.Sprite,"frameOffsets"),Konva.Factory.addGetterSetter(Konva.Sprite,"image"),Konva.Factory.addGetterSetter(Konva.Sprite,"frameIndex",0),Konva.Factory.addGetterSetter(Konva.Sprite,"frameRate",17),Konva.Factory.backCompat(Konva.Sprite,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Konva.Collection.mapMethods(Konva.Sprite)}(),function(){"use strict";Konva.Path=function(e){this.___init(e)},Konva.Path.prototype={___init:function(e){this.dataArray=[];var t=this;Konva.Shape.call(this,e),this.className="Path",this.dataArray=Konva.Path.parsePathData(this.getData()),this.on("dataChange.konva",function(){t.dataArray=Konva.Path.parsePathData(this.getData())}),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var t=this.dataArray;e.beginPath();for(var i=0;i<t.length;i++){var n=t[i].command,r=t[i].points;switch(n){case"L":e.lineTo(r[0],r[1]);break;case"M":e.moveTo(r[0],r[1]);break;case"C":e.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);break;case"Q":e.quadraticCurveTo(r[0],r[1],r[2],r[3]);break;case"A":var o=r[0],s=r[1],a=r[2],l=r[3],c=r[4],h=r[5],u=r[6],d=r[7],n=l<a?a:l,r=l<a?1:a/l,a=l<a?l/a:1;e.translate(o,s),e.rotate(u),e.scale(r,a),e.arc(0,0,n,c,c+h,1-d),e.scale(1/r,1/a),e.rotate(-u),e.translate(-o,-s);break;case"z":e.closePath()}}e.fillStrokeShape(this)},getSelfRect:function(){var t=[];this.dataArray.forEach(function(e){t=t.concat(e.points)});for(var e,i,n=t[0],r=t[0],o=t[1],s=t[1],a=0;a<t.length/2;a++)e=t[2*a],i=t[2*a+1],n=Math.min(n,e),r=Math.max(r,e),o=Math.min(o,i),s=Math.max(s,i);return{x:Math.round(n),y:Math.round(o),width:Math.round(r-n),height:Math.round(s-o)}}},Konva.Util.extend(Konva.Path,Konva.Shape),Konva.Path.getLineLength=function(e,t,i,n){return Math.sqrt((i-e)*(i-e)+(n-t)*(n-t))},Konva.Path.getPointOnLine=function(e,t,i,n,r,o,s){void 0===o&&(o=t),void 0===s&&(s=i);var a=(r-i)/(n-t+1e-8),l=Math.sqrt(e*e/(1+a*a));n<t&&(l*=-1);var c,h=a*l;if(n===t)c={x:o,y:s+h};else if((s-i)/(o-t+1e-8)==a)c={x:o+l,y:s+h};else{var u=this.getLineLength(t,i,n,r);if(u<1e-8)return;var d=(o-t)*(n-t)+(s-i)*(r-i),u=t+(d/=u*u)*(n-t),i=i+d*(r-i),s=this.getLineLength(o,s,u,i),s=Math.sqrt(e*e-s*s),l=Math.sqrt(s*s/(1+a*a));n<t&&(l*=-1),c={x:u+l,y:i+(h=a*l)}}return c},Konva.Path.getPointOnCubicBezier=function(e,t,i,n,r,o,s,a,l){function c(e){return e*e*e}function h(e){return 3*e*e*(1-e)}function u(e){return 3*e*(1-e)*(1-e)}function d(e){return(1-e)*(1-e)*(1-e)}return{x:a*c(e)+o*h(e)+n*u(e)+t*d(e),y:l*c(e)+s*h(e)+r*u(e)+i*d(e)}},Konva.Path.getPointOnQuadraticBezier=function(e,t,i,n,r,o,s){function a(e){return e*e}function l(e){return 2*e*(1-e)}function c(e){return(1-e)*(1-e)}return{x:o*a(e)+n*l(e)+t*c(e),y:s*a(e)+r*l(e)+i*c(e)}},Konva.Path.getPointOnEllipticalArc=function(e,t,i,n,r,o){var s=Math.cos(o),o=Math.sin(o),i=i*Math.cos(r),r=n*Math.sin(r);return{x:e+(i*s-r*o),y:t+(i*o+r*s)}},Konva.Path.parsePathData=function(e){if(!e)return[];for(var t=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],i=(i=e).replace(new RegExp(" ","g"),","),n=0;n<t.length;n++)i=i.replace(new RegExp(t[n],"g"),"|"+t[n]);for(var r,o=i.split("|"),s=[],a=[],l=0,c=0,h=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,n=1;n<o.length;n++){var u=(d=o[n]).charAt(0),d=d.slice(1);for(a.length=0;r=h.exec(d);)a.push(r[0]);for(var f=[],p=0,g=a.length;p<g;p++){var m=parseFloat(a[p]);isNaN(m)||f.push(m)}for(;0<f.length&&!isNaN(f[0]);){var v,y,b,w,x,C,S,_,k,M,T=null,D=[],A=l,$=c;switch(u){case"l":l+=f.shift(),c+=f.shift(),T="L",D.push(l,c);break;case"L":l=f.shift(),c=f.shift(),D.push(l,c);break;case"m":var E=f.shift(),L=f.shift();if(l+=E,c+=L,T="M",2<s.length&&"z"===s[s.length-1].command)for(var I=s.length-2;0<=I;I--)if("M"===s[I].command){l=s[I].points[0]+E,c=s[I].points[1]+L;break}D.push(l,c),u="l";break;case"M":l=f.shift(),c=f.shift(),T="M",D.push(l,c),u="L";break;case"h":l+=f.shift(),T="L",D.push(l,c);break;case"H":l=f.shift(),T="L",D.push(l,c);break;case"v":c+=f.shift(),T="L",D.push(l,c);break;case"V":c=f.shift(),T="L",D.push(l,c);break;case"C":D.push(f.shift(),f.shift(),f.shift(),f.shift()),l=f.shift(),c=f.shift(),D.push(l,c);break;case"c":D.push(l+f.shift(),c+f.shift(),l+f.shift(),c+f.shift()),l+=f.shift(),c+=f.shift(),T="C",D.push(l,c);break;case"S":y=l,b=c,"C"===(v=s[s.length-1]).command&&(y=l+(l-v.points[2]),b=c+(c-v.points[3])),D.push(y,b,f.shift(),f.shift()),l=f.shift(),c=f.shift(),T="C",D.push(l,c);break;case"s":y=l,b=c,"C"===(v=s[s.length-1]).command&&(y=l+(l-v.points[2]),b=c+(c-v.points[3])),D.push(y,b,l+f.shift(),c+f.shift()),l+=f.shift(),c+=f.shift(),T="C",D.push(l,c);break;case"Q":D.push(f.shift(),f.shift()),l=f.shift(),c=f.shift(),D.push(l,c);break;case"q":D.push(l+f.shift(),c+f.shift()),l+=f.shift(),c+=f.shift(),T="Q",D.push(l,c);break;case"T":y=l,b=c,"Q"===(v=s[s.length-1]).command&&(y=l+(l-v.points[0]),b=c+(c-v.points[1])),l=f.shift(),c=f.shift(),T="Q",D.push(y,b,l,c);break;case"t":y=l,b=c,"Q"===(v=s[s.length-1]).command&&(y=l+(l-v.points[0]),b=c+(c-v.points[1])),l+=f.shift(),c+=f.shift(),T="Q",D.push(y,b,l,c);break;case"A":w=f.shift(),x=f.shift(),C=f.shift(),S=f.shift(),_=f.shift(),k=l,M=c,l=f.shift(),c=f.shift(),T="A",D=this.convertEndpointToCenterParameterization(k,M,l,c,S,_,w,x,C);break;case"a":w=f.shift(),x=f.shift(),C=f.shift(),S=f.shift(),_=f.shift(),k=l,M=c,l+=f.shift(),c+=f.shift(),T="A",D=this.convertEndpointToCenterParameterization(k,M,l,c,S,_,w,x,C)}s.push({command:T||u,points:D,start:{x:A,y:$},pathLength:this.calcLength(A,$,T||u,D)})}"z"!==u&&"Z"!==u||s.push({command:"z",points:[],start:void 0,pathLength:0})}return s},Konva.Path.calcLength=function(e,t,i,n){var r,o,s,a,l=Konva.Path;switch(i){case"L":return l.getLineLength(e,t,n[0],n[1]);case"C":for(r=0,o=l.getPointOnCubicBezier(0,e,t,n[0],n[1],n[2],n[3],n[4],n[5]),a=.01;a<=1;a+=.01)s=l.getPointOnCubicBezier(a,e,t,n[0],n[1],n[2],n[3],n[4],n[5]),r+=l.getLineLength(o.x,o.y,s.x,s.y),o=s;return r;case"Q":for(r=0,o=l.getPointOnQuadraticBezier(0,e,t,n[0],n[1],n[2],n[3]),a=.01;a<=1;a+=.01)s=l.getPointOnQuadraticBezier(a,e,t,n[0],n[1],n[2],n[3]),r+=l.getLineLength(o.x,o.y,s.x,s.y),o=s;return r;case"A":r=0;var c=n[4],i=n[5],h=n[4]+i,u=Math.PI/180;if(Math.abs(c-h)<u&&(u=Math.abs(c-h)),o=l.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],c,0),i<0)for(a=c-u;h<a;a-=u)s=l.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],a,0),r+=l.getLineLength(o.x,o.y,s.x,s.y),o=s;else for(a=c+u;a<h;a+=u)s=l.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],a,0),r+=l.getLineLength(o.x,o.y,s.x,s.y),o=s;return s=l.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],h,0),r+l.getLineLength(o.x,o.y,s.x,s.y)}return 0},Konva.Path.convertEndpointToCenterParameterization=function(e,t,i,n,r,o,s,a,l){var c=l*(Math.PI/180),h=Math.cos(c)*(e-i)/2+Math.sin(c)*(t-n)/2,u=-1*Math.sin(c)*(e-i)/2+Math.cos(c)*(t-n)/2,d=h*h/(s*s)+u*u/(a*a);1<d&&(s*=Math.sqrt(d),a*=Math.sqrt(d));l=Math.sqrt((s*s*(a*a)-s*s*(u*u)-a*a*(h*h))/(s*s*(u*u)+a*a*(h*h)));r===o&&(l*=-1),isNaN(l)&&(l=0);function f(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function p(e,t){return(e[0]*t[0]+e[1]*t[1])/(f(e)*f(t))}d=l*s*u/a,r=l*-a*h/s,l=(e+i)/2+Math.cos(c)*d-Math.sin(c)*r,e=(t+n)/2+Math.sin(c)*d+Math.cos(c)*r,i=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(p(e,t))},t=i([1,0],[(h-d)/s,(u-r)/a]),n=[(h-d)/s,(u-r)/a],r=[(-1*h-d)/s,(-1*u-r)/a],i=i(n,r);return p(n,r)<=-1&&(i=Math.PI),1<=p(n,r)&&(i=0),0===o&&0<i&&(i-=2*Math.PI),1===o&&i<0&&(i+=2*Math.PI),[l,e,s,a,t,i,c,o]},Konva.Factory.addGetterSetter(Konva.Path,"data"),Konva.Collection.mapMethods(Konva.Path)}(),function(){"use strict";function i(e){e.fillText(this.partialText,0,0)}function n(e){e.strokeText(this.partialText,0,0)}Konva.TextPath=function(e){this.___init(e)},Konva.TextPath.prototype={___init:function(e){var t=this;this.dummyCanvas=Konva.Util.createCanvasElement(),this.dataArray=[],this.getKerning=e&&e.getKerning,Konva.Shape.call(this,e),this._fillFunc=i,this._strokeFunc=n,this._fillFuncHit=i,this._strokeFuncHit=n,this.className="TextPath",this.dataArray=Konva.Path.parsePathData(this.attrs.data),this.on("dataChange.konva",function(){t.dataArray=Konva.Path.parsePathData(this.attrs.data),t._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva",t._setTextData),t._setTextData(),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.getTextBaseline()),e.setAttr("textAlign","left"),e.save();var t=this.textDecoration(),i=this.fill(),n=this.fontSize(),r=this.glyphInfo;"underline"===t&&e.beginPath();for(var o=0;o<r.length;o++){e.save();var s=r[o].p0;e.translate(s.x,s.y),e.rotate(r[o].rotation),this.partialText=r[o].text,e.fillStrokeShape(this),"underline"===t&&(0===o&&e.moveTo(0,n/2+1),e.lineTo(n,n/2+1)),e.restore()}"underline"===t&&(e.strokeStyle=i,e.lineWidth=n/20,e.stroke()),e.restore()},_hitFunc:function(e){e.beginPath();var t,i=this.glyphInfo;1<=i.length&&(t=i[0].p0,e.moveTo(t.x,t.y));for(var n=0;n<i.length;n++){var r=i[n].p1;e.lineTo(r.x,r.y)}e.setAttr("lineWidth",this.getFontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},setText:function(e){Konva.Text.prototype.setText.call(this,e)},_getTextSize:function(e){var t=this.dummyCanvas.getContext("2d");t.save(),t.font=this._getContextFont();e=t.measureText(e);return t.restore(),{width:e.width,height:parseInt(this.attrs.fontSize,10)}},_setTextData:function(){var c=this,e=this._getTextSize(this.attrs.text),h=this.getLetterSpacing(),u=this.align();this.textWidth=e.width,this.textHeight=e.height;var d=Math.max(this.textWidth+((this.attrs.text||"").length-1)*h,0);this.glyphInfo=[];for(var f=0,t=0;t<c.dataArray.length;t++)0<c.dataArray[t].pathLength&&(f+=c.dataArray[t].pathLength);var i=0;"center"===u&&(i=Math.max(0,f/2-d/2)),"right"===u&&(i=Math.max(0,f-d));for(var p,g,m,n=this.getText().split(""),v=this.getText().split(" ").length-1,y=-1,b=0,r=function(e){var t=c._getTextSize(e).width+h;" "===e&&"justify"===u&&(t+=(f-d)/v);var i=0,n=0;for(g=void 0;.01<Math.abs(t-i)/t&&n<25;){n++;for(var r=i;void 0===m;)(m=function(){b=0;for(var e=c.dataArray,t=y+1;t<e.length;t++){if(0<e[t].pathLength)return e[y=t];"M"===e[t].command&&(p={x:e[t].points[0],y:e[t].points[1]})}return{}}())&&r+m.pathLength<t&&(r+=m.pathLength,m=void 0);if(m==={}||void 0===p)return;var o=!1;switch(m.command){case"L":Konva.Path.getLineLength(p.x,p.y,m.points[0],m.points[1])>t?g=Konva.Path.getPointOnLine(t,p.x,p.y,m.points[0],m.points[1],p.x,p.y):m=void 0;break;case"A":var s=m.points[4],a=m.points[5],l=m.points[4]+a;0===b?b=s+1e-8:i<t?b+=Math.PI/180*a/Math.abs(a):b-=Math.PI/360*a/Math.abs(a),(a<0&&b<l||0<=a&&l<b)&&(b=l,o=!0),g=Konva.Path.getPointOnEllipticalArc(m.points[0],m.points[1],m.points[2],m.points[3],b,m.points[6]);break;case"C":0===b?b=t>m.pathLength?1e-8:t/m.pathLength:i<t?b+=(t-i)/m.pathLength:b-=(i-t)/m.pathLength,1<b&&(b=1,o=!0),g=Konva.Path.getPointOnCubicBezier(b,m.start.x,m.start.y,m.points[0],m.points[1],m.points[2],m.points[3],m.points[4],m.points[5]);break;case"Q":0===b?b=t/m.pathLength:i<t?b+=(t-i)/m.pathLength:b-=(i-t)/m.pathLength,1<b&&(b=1,o=!0),g=Konva.Path.getPointOnQuadraticBezier(b,m.start.x,m.start.y,m.points[0],m.points[1],m.points[2],m.points[3])}void 0!==g&&(i=Konva.Path.getLineLength(p.x,p.y,g.x,g.y)),o&&(o=!1,m=void 0)}},o=c._getTextSize("C").width+h,s=0;s<i/o&&(r("C"),void 0!==p&&void 0!==g);s++)p=g;for(var a=0;a<n.length&&(r(n[a]),void 0!==p&&void 0!==g);a++){var l=Konva.Path.getLineLength(p.x,p.y,g.x,g.y),w=0;if(this.getKerning)try{w=this.getKerning(n[a-1],n[a])*this.fontSize()}catch(c){w=0}p.x+=w,g.x+=w,this.textWidth+=w;var x=Konva.Path.getPointOnLine(w+l/2,p.x,p.y,g.x,g.y),l=Math.atan2(g.y-p.y,g.x-p.x);this.glyphInfo.push({transposeX:x.x,transposeY:x.y,text:n[a],rotation:l,p0:p,p1:g}),p=g}},getSelfRect:function(){var t=[];this.glyphInfo.forEach(function(e){t.push(e.p0.x),t.push(e.p0.y),t.push(e.p1.x),t.push(e.p1.y)});for(var e,i,n=t[0],r=t[0],o=t[0],s=t[0],a=0;a<t.length/2;a++)e=t[2*a],i=t[2*a+1],n=Math.min(n,e),r=Math.max(r,e),o=Math.min(o,i),s=Math.max(s,i);var l=this.fontSize();return{x:Math.round(n)-l/2,y:Math.round(o)-l/2,width:Math.round(r-n)+l,height:Math.round(s-o)+l}}},Konva.TextPath.prototype._getContextFont=Konva.Text.prototype._getContextFont,Konva.Util.extend(Konva.TextPath,Konva.Shape),Konva.Factory.addGetterSetter(Konva.TextPath,"fontFamily","Arial"),Konva.Factory.addGetterSetter(Konva.TextPath,"fontSize",12),Konva.Factory.addGetterSetter(Konva.TextPath,"fontStyle","normal"),Konva.Factory.addGetterSetter(Konva.TextPath,"align","left"),Konva.Factory.addGetterSetter(Konva.TextPath,"letterSpacing",0),Konva.Factory.addGetterSetter(Konva.TextPath,"textBaseline","middle"),Konva.Factory.addGetterSetter(Konva.TextPath,"fontVariant","normal"),Konva.Factory.addGetter(Konva.TextPath,"text",""),Konva.Factory.addGetterSetter(Konva.TextPath,"textDecoration",null),Konva.Collection.mapMethods(Konva.TextPath)}(),function(){"use strict";Konva.RegularPolygon=function(e){this.___init(e)},Konva.RegularPolygon.prototype={_centroid:!0,___init:function(e){Konva.Shape.call(this,e),this.className="RegularPolygon",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var t,i,n,r=this.attrs.sides,o=this.attrs.radius;for(e.beginPath(),e.moveTo(0,0-o),t=1;t<r;t++)i=o*Math.sin(2*t*Math.PI/r),n=-1*o*Math.cos(2*t*Math.PI/r),e.lineTo(i,n);e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(e){Konva.Node.prototype.setWidth.call(this,e),this.radius()!==e/2&&this.setRadius(e/2)},setHeight:function(e){Konva.Node.prototype.setHeight.call(this,e),this.radius()!==e/2&&this.setRadius(e/2)}},Konva.Util.extend(Konva.RegularPolygon,Konva.Shape),Konva.Factory.addGetterSetter(Konva.RegularPolygon,"radius",0),Konva.Factory.addGetterSetter(Konva.RegularPolygon,"sides",0),Konva.Collection.mapMethods(Konva.RegularPolygon)}(),function(){"use strict";Konva.Star=function(e){this.___init(e)},Konva.Star.prototype={_centroid:!0,___init:function(e){Konva.Shape.call(this,e),this.className="Star",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var t=this.innerRadius(),i=this.outerRadius(),n=this.numPoints();e.beginPath(),e.moveTo(0,0-i);for(var r=1;r<2*n;r++){var o=r%2==0?i:t,s=o*Math.sin(r*Math.PI/n),o=-1*o*Math.cos(r*Math.PI/n);e.lineTo(s,o)}e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getOuterRadius()},getHeight:function(){return 2*this.getOuterRadius()},setWidth:function(e){Konva.Node.prototype.setWidth.call(this,e),this.outerRadius()!==e/2&&this.setOuterRadius(e/2)},setHeight:function(e){Konva.Node.prototype.setHeight.call(this,e),this.outerRadius()!==e/2&&this.setOuterRadius(e/2)}},Konva.Util.extend(Konva.Star,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Star,"numPoints",5),Konva.Factory.addGetterSetter(Konva.Star,"innerRadius",0),Konva.Factory.addGetterSetter(Konva.Star,"outerRadius",0),Konva.Collection.mapMethods(Konva.Star)}(),function(){"use strict";var r=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width"],o=r.length;Konva.Label=function(e){this.____init(e)},Konva.Label.prototype={____init:function(e){var t=this;Konva.Group.call(this,e),this.className="Label",this.on("add.konva",function(e){t._addListeners(e.child),t._sync()})},getText:function(){return this.find("Text")[0]},getTag:function(){return this.find("Tag")[0]},_addListeners:function(e){for(var t=this,i=function(){t._sync()},n=0;n<o;n++)e.on(r[n]+"Change.konva",i)},getWidth:function(){return this.getText().getWidth()},getHeight:function(){return this.getText().getHeight()},_sync:function(){var e,t,i,n,r,o,s,a=this.getText(),l=this.getTag();if(a&&l){switch(e=a.getWidth(),t=a.getHeight(),i=l.getPointerDirection(),n=l.getPointerWidth(),s=l.getPointerHeight(),o=r=0,i){case"up":r=e/2,o=-1*s;break;case"right":r=e+n,o=t/2;break;case"down":r=e/2,o=t+s;break;case"left":r=-1*n,o=t/2}l.setAttrs({x:-1*r,y:-1*o,width:e,height:t}),a.setAttrs({x:-1*r,y:-1*o})}}},Konva.Util.extend(Konva.Label,Konva.Group),Konva.Collection.mapMethods(Konva.Label),Konva.Tag=function(e){this.___init(e)},Konva.Tag.prototype={___init:function(e){Konva.Shape.call(this,e),this.className="Tag",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var t=this.getWidth(),i=this.getHeight(),n=this.getPointerDirection(),r=this.getPointerWidth(),o=this.getPointerHeight(),s=Math.min(this.getCornerRadius(),t/2,i/2);e.beginPath(),s?e.moveTo(s,0):e.moveTo(0,0),"up"===n&&(e.lineTo((t-r)/2,0),e.lineTo(t/2,-1*o),e.lineTo((t+r)/2,0)),s?(e.lineTo(t-s,0),e.arc(t-s,s,s,3*Math.PI/2,0,!1)):e.lineTo(t,0),"right"===n&&(e.lineTo(t,(i-o)/2),e.lineTo(t+r,i/2),e.lineTo(t,(i+o)/2)),s?(e.lineTo(t,i-s),e.arc(t-s,i-s,s,0,Math.PI/2,!1)):e.lineTo(t,i),"down"===n&&(e.lineTo((t+r)/2,i),e.lineTo(t/2,i+o),e.lineTo((t-r)/2,i)),s?(e.lineTo(s,i),e.arc(s,i-s,s,Math.PI/2,Math.PI,!1)):e.lineTo(0,i),"left"===n&&(e.lineTo(0,(i+o)/2),e.lineTo(-1*r,i/2),e.lineTo(0,(i-o)/2)),s&&(e.lineTo(0,s),e.arc(s,s,s,Math.PI,3*Math.PI/2,!1)),e.closePath(),e.fillStrokeShape(this)},getSelfRect:function(){var e=0,t=0,i=this.getPointerWidth(),n=this.getPointerHeight(),r=this.pointerDirection(),o=this.getWidth(),s=this.getHeight();return"up"===r?(t-=n,s+=n):"down"===r?s+=n:"left"===r?(e-=1.5*i,o+=i):"right"===r&&(o+=1.5*i),{x:e,y:t,width:o,height:s}}},Konva.Util.extend(Konva.Tag,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Tag,"pointerDirection","none"),Konva.Factory.addGetterSetter(Konva.Tag,"pointerWidth",0),Konva.Factory.addGetterSetter(Konva.Tag,"pointerHeight",0),Konva.Factory.addGetterSetter(Konva.Tag,"cornerRadius",0),Konva.Collection.mapMethods(Konva.Tag)}(),function(c){"use strict";c.Arrow=function(e){this.____init(e)},c.Arrow.prototype={____init:function(e){c.Line.call(this,e),this.className="Arrow"},_sceneFunc:function(e){c.Line.prototype._sceneFunc.apply(this,arguments);var t=2*Math.PI,i=this.points(),n=i.length,r=i[n-2]-i[n-4],o=i[n-1]-i[n-3],s=(Math.atan2(o,r)+t)%t,a=this.pointerLength(),l=this.pointerWidth();e.save(),e.beginPath(),e.translate(i[n-2],i[n-1]),e.rotate(s),e.moveTo(0,0),e.lineTo(-a,l/2),e.lineTo(-a,-l/2),e.closePath(),e.restore(),this.pointerAtBeginning()&&(e.save(),e.translate(i[0],i[1]),r=i[2]-i[0],o=i[3]-i[1],e.rotate((Math.atan2(-o,-r)+t)%t),e.moveTo(0,0),e.lineTo(-a,l/2),e.lineTo(-a,-l/2),e.closePath(),e.restore()),e.fillStrokeShape(this)}},c.Util.extend(c.Arrow,c.Line),c.Factory.addGetterSetter(c.Arrow,"pointerLength",10),c.Factory.addGetterSetter(c.Arrow,"pointerWidth",10),c.Factory.addGetterSetter(c.Arrow,"pointerAtBeginning",!1),c.Collection.mapMethods(c.Arrow)}(Konva),function(g){"use strict";var t=["resizeEnabledChange","rotateHandlerOffsetChange"].join(" "),i="nodeRect",n=["xChange.resizer","yChange.resizer","widthChange.resizer","heightChange.resizer","scaleXChange.resizer","scaleYChange.resizer","skewXChange.resizer","skewYChange.resizer","rotationChange.resizer","offsetXChange.resizer","offsetYChange.resizer","transformsEnabledChange.resizer"].join(" ");g.Transformer=function(e){this.____init(e)};var r=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],o=!1;g.Transformer.prototype={_centroid:!1,____init:function(e){g.Group.call(this,e),this.className="Transformer",this._createElements(),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(t,this.update),o||(g.Util.warn("Konva.Transformer is currently experimental and may have bugs. Please report any issues to GitHub repo."),o=!0),this.getNode()&&this.update()},attachTo:function(e){this.setNode(e)},setNode:function(e){this._node&&this.detach(),this._node=e,this._clearCache(i),e.on(n,function(){this._clearCache(i)}.bind(this)),e.on(n,this.requestUpdate.bind(this)),e.on("dragmove.resizer",this.requestUpdate.bind(this)),this.findOne(".top-left")&&this.update()},getNode:function(){return this._node},detach:function(){this.getNode()&&this.getNode().off(".resizer")},_getNodeRect:function(){return this._getCache(i,this.__getNodeRect)},__getNodeRect:function(){var e=this.getNode();if(!e)return{x:-Number.MAX_SAFE_INTEGER,y:-Number.MAX_SAFE_INTEGER,width:0,height:0,rotation:0};var t=e.getClientRect({skipTransform:!0}),i=g.getAngle(e.rotation()),n=t.x*e.scaleX()-e.offsetX(),r=t.y*e.scaleY()-e.offsetY();return{x:e.x()+n*Math.cos(i)+r*Math.sin(-i),y:e.y()+r*Math.cos(i)+n*Math.sin(i),width:t.width*e.scaleX(),height:t.height*e.scaleY(),rotation:e.rotation()}},getX:function(){return this._getNodeRect().x},getY:function(){return this._getNodeRect().y},getRotation:function(){return this._getNodeRect().rotation},getWidth:function(){return this._getNodeRect().width},getHeight:function(){return this._getNodeRect().height},_createElements:function(){this._createBack(),r.forEach(function(e){this._createAnchor(e)}.bind(this)),this._createAnchor("rotater")},_createAnchor:function(n){var r=new g.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:n,width:10,height:10,offsetX:5,offsetY:5,draggable:!0,dragDistance:0}),t=this;r.on("mousedown touchstart",function(e){t.handleResizerMouseDown(e)}),r.on("mouseenter",function(){var e,t=this.getLayer(),i=g.getAngle(this.getParent().rotation()),e="rotater"===n?"crosshair":(e=(("top-left"===n||"bottom-right"===n?-45:"top-right"===n||"bottom-left"===n?45:"top-center"!==n&&"bottom-center"!==n&&("middle-left"===n||"middle-right"===n)?90:0)+g.Util._radToDeg(i)+360)%360,g.Util._inRange(e,337.5,360)||g.Util._inRange(e,0,22.5)?"ns-resize":g.Util._inRange(e,22.5,67.5)?"nesw-resize":g.Util._inRange(e,67.5,112.5)?"ew-resize":g.Util._inRange(e,112.5,157.5)?"nwse-resize":g.Util._inRange(e,157.5,202.5)?"ns-resize":g.Util._inRange(e,202.5,247.5)?"nesw-resize":g.Util._inRange(e,247.5,292.5)?"ew-resize":g.Util._inRange(e,292.5,337.5)?"nwse-resize":"pointer");r.getStage().getContainer().style.cursor=e,this.fill("lightgrey"),t.batchDraw()}),r.on("mouseout",function(){var e=this.getLayer();e&&(r.getStage().getContainer().style.cursor="",this.fill("white"),e.batchDraw())}),this.add(r)},_createBack:function(){var e=new g.Shape({stroke:"rgb(0, 161, 255)",name:"back",width:0,height:0,listening:!1,sceneFunc:function(e){var t=this.getParent(),i=t.getPadding();e.beginPath(),e.rect(-i,-i,this.width()+2*i,this.height()+2*i),e.moveTo(this.width()/2,-i),t.rotateEnabled()&&e.lineTo(this.width()/2,-t.rotateHandlerOffset()),e.fillStrokeShape(this)}});this.add(e)},handleResizerMouseDown:function(e){this.movingResizer=e.target.name();var t=this._getNodeRect(),i=t.width,e=t.height,t=Math.sqrt(Math.pow(i,2)+Math.pow(e,2));this.sin=e/t,this.cos=i/t,window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("touchmove",this.handleMouseMove),window.addEventListener("mouseup",this.handleMouseUp),window.addEventListener("touchend",this.handleMouseUp),this._transforming=!0,this.fire("transformstart"),this.getNode().fire("transformstart")},handleMouseMove:function(e){var t=this.findOne("."+this.movingResizer),i=t.getStage().getContent().getBoundingClientRect(),n=i.left,i=i.top,i={x:(void 0!==e.clientX?e:e.touches[0]).clientX-n,y:(void 0!==e.clientX?e:e.touches[0]).clientY-i};t.setAbsolutePosition(i);e=this.keepRatio()||e.shiftKey;if("top-left"===this.movingResizer)e&&(a=(h=Math.sqrt(Math.pow(this.findOne(".bottom-right").x()-t.x(),2)+Math.pow(this.findOne(".bottom-right").y()-t.y(),2)))*this.cos,l=h*this.sin,this.findOne(".top-left").x(this.findOne(".bottom-right").x()-a),this.findOne(".top-left").y(this.findOne(".bottom-right").y()-l));else if("top-center"===this.movingResizer)this.findOne(".top-left").y(t.y());else if("top-right"===this.movingResizer){e&&(a=(h=Math.sqrt(Math.pow(this.findOne(".bottom-left").x()-t.x(),2)+Math.pow(this.findOne(".bottom-left").y()-t.y(),2)))*this.cos,l=h*this.sin,this.findOne(".top-right").x(a),this.findOne(".top-right").y(this.findOne(".bottom-left").y()-l));var r=t.position();this.findOne(".top-left").y(r.y),this.findOne(".bottom-right").x(r.x)}else if("middle-left"===this.movingResizer)this.findOne(".top-left").x(t.x());else if("middle-right"===this.movingResizer)this.findOne(".bottom-right").x(t.x());else if("bottom-left"===this.movingResizer)e&&(a=(h=Math.sqrt(Math.pow(this.findOne(".top-right").x()-t.x(),2)+Math.pow(this.findOne(".top-right").y()-t.y(),2)))*this.cos,l=h*this.sin,this.findOne(".bottom-left").x(this.findOne(".top-right").x()-a),this.findOne(".bottom-left").y(l)),r=t.position(),this.findOne(".top-left").x(r.x),this.findOne(".bottom-right").y(r.y);else if("bottom-center"===this.movingResizer)this.findOne(".bottom-right").y(t.y());else if("bottom-right"===this.movingResizer)e&&(a=(h=Math.sqrt(Math.pow(this.findOne(".bottom-right").x(),2)+Math.pow(this.findOne(".bottom-right").y(),2)))*this.cos,l=h*this.sin,this.findOne(".bottom-right").x(a),this.findOne(".bottom-right").y(l));else if("rotater"===this.movingResizer){for(var o=this.getPadding(),s=this._getNodeRect(),a=t.x()-s.width/2,l=-t.y()+s.height/2,r=Math.atan2(-l,a)+Math.PI/2,e=g.getAngle(this.rotation()),c=g.Util._radToDeg(e)+g.Util._radToDeg(r),h=g.getAngle(this.getNode().rotation()),u=g.Util._degToRad(c),d=this.rotationSnaps(),f=0;f<d.length;f++){var p=g.getAngle(d[f]);Math.abs(p-g.Util._degToRad(c))%(2*Math.PI)<.1&&(c=g.Util._radToDeg(p),u=g.Util._degToRad(c))}t=o,r=o;this._fitNodeInto(Object.assign(s,{rotation:g.angleDeg?c:g.Util._degToRad(c),x:s.x+(s.width/2+o)*(Math.cos(h)-Math.cos(u))+(s.height/2+o)*(Math.sin(-h)-Math.sin(-u))-(t*Math.cos(e)+r*Math.sin(-e)),y:s.y+(s.height/2+o)*(Math.cos(h)-Math.cos(u))+(s.width/2+o)*(Math.sin(h)-Math.sin(u))-(r*Math.cos(e)+t*Math.sin(e)),width:s.width+2*o,height:s.height+2*o}))}else console.error(new Error("Wrong position argument of selection resizer: ",this.movingResizer));"rotater"!==this.movingResizer&&(a=(s=this.findOne(".top-left").getAbsolutePosition(this.getParent())).x,l=s.y,o=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),s=this.findOne(".bottom-right").y()-this.findOne(".top-left").y(),this._fitNodeInto({x:a+this.offsetX(),y:l+this.offsetY(),width:o,height:s}))},handleMouseUp:function(){this._removeEvents()},_removeEvents:function(){this._transforming&&(this._transforming=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("touchmove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp),window.removeEventListener("touchend",this.handleMouseUp),this.fire("transformend"),this.getNode().fire("transformend"))},_fitNodeInto:function(e){this._settings=!0;var t=this.getNode();void 0!==e.rotation&&this.getNode().rotation(e.rotation);var i=t.getClientRect({skipTransform:!0}),n=this.getPadding(),r=(e.width-2*n)/i.width,o=(e.height-2*n)/i.height,s=g.getAngle(t.getRotation()),t=i.x*r-n,n=i.y*o-n;this.getNode().setAttrs({scaleX:r,scaleY:o,x:e.x-(t*Math.cos(s)+n*Math.sin(-s)),y:e.y-(n*Math.cos(s)+t*Math.sin(s))}),this._settings=!1,this.fire("transform"),this.getNode().fire("transform"),this.update(),this.getLayer().batchDraw()},requestUpdate:function(){this.timeout||(this.timeout=setTimeout(function(){this.timeout=null,this.update()}.bind(this)))},forceUpdate:function(){this._clearCache(i),this.update()},update:function(){var e=this._getNodeRect(),t=e.x,i=e.y,n=e.width,r=e.height;this.x(t),this.y(i),this.rotation(e.rotation);t=this.enabledHandlers(),i=this.resizeEnabled(),e=this.getPadding();this.findOne(".top-left").setAttrs({x:-e,y:-e,visible:i&&0<=t.indexOf("top-left")}),this.findOne(".top-center").setAttrs({x:n/2,y:-e,visible:i&&0<=t.indexOf("top-center")}),this.findOne(".top-right").setAttrs({x:n+e,y:-e,visible:i&&0<=t.indexOf("top-right")}),this.findOne(".middle-left").setAttrs({x:-e,y:r/2,visible:i&&0<=t.indexOf("middle-left")}),this.findOne(".middle-right").setAttrs({x:n+e,y:r/2,visible:i&&0<=t.indexOf("middle-right")}),this.findOne(".bottom-left").setAttrs({x:-e,y:r+e,visible:i&&0<=t.indexOf("bottom-left")}),this.findOne(".bottom-center").setAttrs({x:n/2,y:r+e,visible:i&&0<=t.indexOf("bottom-center")}),this.findOne(".bottom-right").setAttrs({x:n+e,y:r+e,visible:i&&0<=t.indexOf("bottom-right")}),this.findOne(".rotater").setAttrs({x:n/2,y:-this.rotateHandlerOffset(),visible:this.rotateEnabled()}),this.findOne(".back").setAttrs({width:n,height:r,visible:this.lineEnabled()})},destroy:function(){g.Group.prototype.destroy.call(this),this.detach(),this._removeEvents()},toObject:function(){return g.Node.prototype.toObject.call(this)}},g.Util.extend(g.Transformer,g.Group),g.Factory.addGetterSetter(g.Transformer,"enabledHandlers",r,function(e){return e instanceof Array||g.Util.warn("enabledHandlers value should be an array"),e instanceof Array&&e.forEach(function(e){-1===r.indexOf(e)&&g.Util.warn("Unknown resizer name: "+e+". Available names are: "+r.join(", "))}),e||[]}),g.Factory.addGetterSetter(g.Transformer,"resizeEnabled",!0),g.Factory.addGetterSetter(g.Transformer,"rotateEnabled",!0),g.Factory.addGetterSetter(g.Transformer,"rotationSnaps",[]),g.Factory.addGetterSetter(g.Transformer,"rotateHandlerOffset",50),g.Factory.addGetterSetter(g.Transformer,"lineEnabled",!0),g.Factory.addGetterSetter(g.Transformer,"keepRatio",!0),g.Factory.addGetterSetter(g.Transformer,"padding",0),g.Factory.addOverloadedGetterSetter(g.Transformer,"node"),g.Collection.mapMethods(g.Transformer)}(Konva);